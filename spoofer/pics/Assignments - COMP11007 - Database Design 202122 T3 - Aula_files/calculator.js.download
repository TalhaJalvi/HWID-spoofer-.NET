(window.LearnosityAmd=window.LearnosityAmd||[]).push([[48],{131:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return hasBlockElement}));var r=n(1),o=n.n(r),a=n(0),s=n.n(a),c=n(7),l=n.n(c),u=n(3),f=["h1","h2","h3","h4","h5","h6","p","pre","div","blockquote","section","article","table"],p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,d=new function(){var e=/Mac|iPad|iPhone|iPod/.test(navigator.platform),t=s.a.uniqueId("lrn_capslock_listener_"),n=this,r=[];function setStatus(e){n.status!==e&&(s.a.each(r,(function(t){t(e)})),n.status=e)}this.status=!1,this.observe=function(a,c){return c&&(a=s.a.bind(a,c)),r.push(a),1===r.length&&function startListening(){var r=!1;o()(window).on("focus."+t,(function(){o()(window).one("keypress."+t,n.correctStatus)})),e?(o()(window).on("keydown."+t,(function(e){20===(e||window.event).keyCode&&setStatus(!n.status)})),o()(window).on("keyup."+t,(function(e){20===(e||window.event).keyCode&&setStatus(!1)}))):(o()(window).on("keydown."+t,(function(e){var t=e||window.event;r||20!==t.keyCode||(setStatus(!n.status),r=!0)})),o()(window).on("keyup."+t,(function(e){var t=e||window.event;r&&20===t.keyCode&&(r=!1)})))}(),a},this.unobserve=function(e){(r=s.a.without(r,e)).length||function stopListening(){o()(window).off("."+t)}()},this.correctStatus=function(t){var n=t||window.event,r=n.charCode||n.keyCode,o=n.shiftKey;r<123&&r>96?setStatus(o):!(r<91&&r>64)||e&&o||setStatus(!o)}},h=new function(){var e=s.a.uniqueId("lrn_fullscreen_listener_"),t=this,n=[],r={generic:{change:"fullscreenchange",element:"fullscreenElement"},webkit:{change:"webkitfullscreenchange",element:"webkitFullscreenElement"},ms:{change:"MSFullscreenChange",element:"msFullscreenElement"},moz:{change:"mozfullscreenchange",element:"mozFullScreenElement"}},a="ie"===l.a.browser&&11===l.a.version,c=s.a.find(r,(function(e){if("on".concat(e.change)in document.documentElement)return e}));!c&&a&&(c=r.ms);var u=!1;function setElement(){var e=document[c.element];t.element!==e&&(s.a.each(n,(function(t){t(e)})),t.element=e)}function updateElementAfterNextRender(){u||(u=!0,requestAnimationFrame((function(){requestAnimationFrame((function(){u=!1,setElement()}))})))}this.element=null,this.observe=function(t,r){return r&&(t=s.a.bind(t,r)),c&&(n.push(t),1===n.length&&function startListening(){o()(document).on(c.change+"."+e,updateElementAfterNextRender),u||setElement()}()),t},this.unobserve=function(t){(n=s.a.without(n,t)).length||function stopListening(){o()(document).off("."+e)}()}};function isEventSupported(e){var t=document.createElement("p"),n=!1;if(t.addEventListener)t.addEventListener(e,(function(){n=!0}),!1);else{if(!t.attachEvent)return!1;t.attachEvent("on"+e,(function(){n=!0}))}return t.setAttribute("id","target"),n}function hasBlockElement(e){return s.a.some(f,(function(t){return new RegExp("<".concat(t,"[^>]*>(.*?)<\\/").concat(t,">")).test(e)}))}t.b={capsLock:d,fullScreen:h,getViewportOffset:function getViewportOffset(){var e=o()(window),t={top:e.scrollTop(),left:e.scrollLeft()};return t.right=t.left+e.width(),t.bottom=t.top+e.height(),t},getVisibleViewportDimensions:function getVisibleViewportDimensions(){var e,t=window.innerWidth,n=window.innerHeight;return s.a.contains(["firefox","opera"],l.a.browser)&&(t=(e=o()('<div style="position:fixed;right:0;bottom:0;"></div>').appendTo(o()("body"))).get(0).getBoundingClientRect().left,n=e.get(0).getBoundingClientRect().top,e.remove()),{width:t,height:n}},sidesOnScreen:function sidesOnScreen(e){var t=o()(e),n=t.offset(),r=this.getViewportOffset();return n.right=n.left+t.outerWidth(),n.bottom=n.top+t.outerHeight(),{top:r.top<n.top&&n.top<r.bottom,right:r.right>n.right&&n.right>r.left,bottom:r.bottom>n.bottom&&n.bottom>r.top,left:r.left<n.left&&n.left<r.right}},observeMutation:function observeMutation(e,t,n){t=t||{};var r,a=o()(e),c=s.a.uniqueId("lrn.mutation."),l={childList:t.childList||!1,characterData:t.characterData||!1,attributeOldValue:t.attributeOldValue||!1,charactedDataOldValue:t.charactedDataOldValue||!1,subtree:t.subtree||!1,attributes:t.attributes||!1};if(t.attributeFilter instanceof Array&&(l.attributeFilter=t.attributeFilter),p){if(!(l.childList||l.attributes||l.characterData))return console.log('NOTE: At the very least, childList, attributes, or characterData must be set to true. Otherwise, "An invalid or illegal string was specified" error is thrown.'),!1;r=new p((function(e){e.forEach(n)})),a.each((function(){try{r.observe(e,l)}catch(t){console.log(t,e,l)}}))}else a.data("lrn-mutation-ns",c),l.attributes&&(isEventSupported("DOMAttrModified")?a.on("DOMAttrModified."+c,n):"onpropertychange"in document.body&&e.attachEvent("propertychange",n)),l.childList&&(isEventSupported("DOMSubtreeModified")?a.on("DOMSubtreeModified."+c+" DOMCharacterDataModified."+c+" DOMAttributeNameChanged."+c,n):"onpropertychange"in document.body&&a.find("*").each((function(){this.attachEvent&&this.attachEvent("onpropertychange",n)})));return r},unobserveMutation:function unobserveMutation(e,t,n){if(e)e.disconnect();else{var r=o()(t),a=r.data("lrn-mutation-ns");r.removeData("lrn-mutation-ns").off("."+a),n&&!isEventSupported("DOMSubtreeModified")&&"onpropertychange"in document.body&&(t.detachEvent("onpropertychange",n),r.find("*").each((function(){this.detachEvent&&this.detachEvent("onpropertychange",n)})))}},recomputeOpacityOn:function recomputeOpacityOn(e){if(window.getComputedStyle)return window.getComputedStyle(e).opacity},updateButtonMap:function updateButtonMap(e){var t=function getButtonMap(e){return e.map((function(){var e=o()(this),t=e.offset(),n=t.left+parseInt(e.css("margin-left"),10),r=t.top+parseInt(e.css("margin-top"),10);return{top:r,right:n+e.width(),bottom:r+e.height(),left:n,el:this,links:{}}})).get()}(e);function isBetween(e,t,n){return s.a.min([t,n])<=e&&s.a.max([t,n])>=e}function closest(e,t){var n=(t.left+t.right)/2,r=(t.top+t.bottom)/2;return s.a.first(s.a.sortBy(e,(function(e){var t=(e.left+e.right)/2,o=(e.top+e.bottom)/2,a=Math.abs(t-n),s=Math.abs(o-r);return Math.sqrt(a*a+s*s)})))}function areAligned(e,t,n,r){return isBetween(n,e,t)||isBetween(r,e,t)||isBetween(e,n,r)&&isBetween(t,n,r)}return s.a.each(t,(function(e){var n,r,o,a,s=[],c=[];for(a=0;a<t.length;a++)(o=t[a])!==e&&(areAligned(e.top,e.bottom,o.top,o.bottom)&&o.left>=e.right&&s.push(o),areAligned(e.left,e.right,o.left,o.right)&&o.top>=e.bottom&&c.push(o));n=closest(s,e),r=closest(c,e),n&&(e.links.RIGHT=n,n.links.LEFT=e),r&&(e.links.DOWN=r,r.links.UP=e)})),t},toggleBackgroundClickable:function toggleBackgroundClickable(e){var t=o()("html"),n=t.map((function(){return o()(this).css("cursor")})).get();e&&!s.a.isEqual(n,["pointer"])&&(this.cachedHtmlCursorStyle=n,t.css("cursor","pointer")),!e&&this.cachedHtmlCursorStyle&&s.a.each(this.cachedHtmlCursorStyle,(function(e,n){t.eq(n).css("cursor","auto"===e?"":e)}))},isElementVisible:function isElementVisible(e){return!!e.offsetParent&&"hidden"!==getComputedStyle(e).getPropertyValue("visibility")},focusable:function focusable(e,t){var n,r,a,s=e.nodeName.toLowerCase();return"area"===s?(r=(n=e.parentNode).name,!(!e.href||!r||"map"!==n.nodeName.toLowerCase())&&(!!(a=o()('img[usemap="#'+r+'"]')[0])&&this.isElementVisible(a))):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s&&e.href||t)&&this.isElementVisible(e)},getNextTab:function getNextTab(e,t){var n,r,a,c,l,u=!1,f=!1,p=this,d=!0;return o()(document).find("*").each((function(h,_){return r=o()(_),a=r.attr("tabindex"),c=isNaN(a),n=(c||a>=0)&&p.focusable(_,!c),l=!1,s.a.isArray(t)&&s.a.each(t,(function(e){r.hasClass(e)&&(l=!0)})),!!l||(!f&&n&&(f=r),u&&n?(d=!1,f=r,!1):void(n&&_===e&&(u=!0)))})),!!f&&{nextTabElement:f,isFirstElement:d}},detectRenderEnd:function detectRenderEnd(e,t){var n=this,r={childList:!0,subtree:!0,attributes:!0};return new u.default((function(o){var a,s;function resolveSoon(){clearTimeout(a),a=setTimeout((function(){n.unobserveMutation(s,e,resolveSoon),o()}),t)}s=n.observeMutation(e,r,resolveSoon),resolveSoon()}))}}},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return i18nTemplate}));var r=n(0),o=n.n(r);function i18nTemplate(e,t){return o.a.isEmpty(e)?"":(o()(t).forEach((function(t,n){var r="{{".concat(n,"}}");e=e.replace(r,t)})),e)}},134:function(e,t,n){"use strict";n.d(t,"b",(function(){return isArrowKey})),n.d(t,"c",(function(){return isEnterOrSpace}));var r=n(0),o=n.n(r);function isArrowKey(e){return o.a.contains([37,38,39,40],e)}function isEnterOrSpace(e){return 32===e||13===e}t.a={PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,ESCAPE:27,ENTER:13,TAB:9,SHIFT:16,SPACE:32,DELETE:46,ADD_EQUAL:187,FF_ADD_EQUAL:61,NUM_PAD_ADD:107,MINUS:189,FF_MINUS:173,NUM_PAD_MINUS:109,NUM_PAD_MULTIPLY:106,DIVIDE:191,NUM_PAD_DIVIDE:111,DECIMAL:190,NUM_PAD_DECIMAL:110,NUMBER_0:48,NUMBER_1:49,NUMBER_2:50,NUMBER_3:51,NUMBER_4:52,NUMBER_5:53,NUMBER_6:54,NUMBER_7:55,NUMBER_8:56,NUMBER_9:57,NUM_PAD_0:96,NUM_PAD_1:97,NUM_PAD_2:98,NUM_PAD_3:99,NUM_PAD_4:100,NUM_PAD_5:101,NUM_PAD_6:102,NUM_PAD_7:103,NUM_PAD_8:104,NUM_PAD_9:105}},140:function(e,t,n){"use strict";n.d(t,"c",(function(){return getViewportDimensions})),n.d(t,"b",(function(){return getElementDocumentBounding}));var r=n(0),o=n.n(r),a=document.documentElement;function getViewportScroll(){return{left:window.pageXOffset||a.scrollLeft,top:window.pageYOffset||a.scrollTop}}function getViewportDimensions(){var e=getViewportScroll();return{top:e.top,left:e.left,width:document.documentElement.clientWidth||document.body.clientWidth,height:document.documentElement.clientHeight||document.body.clientHeight}}function getDocumentDimensions(){var e=document.body,t=document.documentElement;return{width:Math.max(e.scrollWidth,e.offsetWidth,t.clientWidth,t.scrollWidth,t.offsetWidth),height:Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)}}function getElementDocumentBounding(e){var t=e.getBoundingClientRect(),n=getViewportScroll();return{top:t.top+n.top,left:t.left+n.left,width:t.width,height:t.height}}t.a={relativeToElement:function relativeToElement(e,t,n){var r=o.a.extend({gap:0,viewportGap:5,centerAlign:!0},n),a=r.gap,s=getElementDocumentBounding(t),c=r.centerAlign?s.width/2:0,l=getElementDocumentBounding(e),u=r.centerAlign?l.width/2:0,f=r.viewportGap,p=getViewportDimensions(),d=getDocumentDimensions(),h=l.top+l.height+a,_=d.height-h,m=l.top-p.top<p.height+p.top-h&&_>s.height||h<s.height,g=l.left+u-c,y=h,v="bottom";return s.width>=p.width?g=0:g+s.width>p.width?g=p.width-s.width-f:g<0&&(g=f),y+s.height>p.top+p.height&&(y=l.top-s.height-a,v="top"),(y<0||m)&&(y=h,v="bottom"),{left:g,top:y,position:v}},getViewportScroll:getViewportScroll,getViewportDimensions:getViewportDimensions,getViewportCenter:function getViewportCenter(){var e=getViewportDimensions();return{x:e.left+e.width/2,y:e.top+e.height/2}},getDocumentDimensions:getDocumentDimensions,getElementDocumentBounding:getElementDocumentBounding,getPositionRelativeToParent:function getPositionRelativeToParent(e,t){var n=getElementDocumentBounding(e),r=getElementDocumentBounding(t);return{top:n.top-r.top,left:n.left-r.left}}}},146:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(31),s=function filterUnfocusableElements(e){return o.a.filter(e,(function(e){return!o.a.isNull(e)&&!e.disabled&&e.offsetWidth>0&&e.offsetHeight>0}))},c={left:function left(e){if(e){e=s(e);var t=this.getFocusedElement(e).index,n=a.a.getPreviousIndex(t,e);n>=0&&e[n].focus()}},top:function top(e){e=s(e);var t=this.getFocusedElement(e).element;if(t){var n=t.getBoundingClientRect(),r=o.a.findLastIndex(e,(function(e){var t=e.getBoundingClientRect();if(t.top<n.top&&t.right===n.right&&t.left===n.left)return!0}));r>=0&&e[r].focus()}},right:function right(e){e=s(e);var t=this.getFocusedElement(e).index;if(e&&!1!==t){var n=a.a.getNextIndex(t,e);n>=0&&e[n].focus()}},bottom:function bottom(e){e=s(e);var t=this.getFocusedElement(e).element;if(t){var n=t.getBoundingClientRect(),r=o.a.findIndex(e,(function(e){var t=e.getBoundingClientRect();if(t.top>n.top&&t.right===n.right&&t.left===n.left)return!0}));r>=0&&e[r].focus()}},getFocusedElement:function getFocusedElement(e){var t=document.activeElement,n=e.indexOf(t);return n<0?{}:{element:t,index:n}}};t.a=c},149:function(e,t,n){"use strict";var r=n(1),o=n.n(r),a=n(0),s=n.n(a),c=(n(54),document),l=o()("body");function unwatch(e){c.unbindLeave&&c.unbindLeave(e)}t.a={watch:function watch(e,t){l.find(e).length&&c.leave&&c.leave(e,s.a.debounce((function(){l.find(e).length||(t(),unwatch(e))}),10))},unwatch:unwatch}},150:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(126);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var o=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Wrapper,e);var t=_createSuper(Wrapper);function Wrapper(){return _classCallCheck(this,Wrapper),t.apply(this,arguments)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Wrapper,[{key:"render",value:function render(){return this.props.children}}]),Wrapper}(n.n(r).a.PureComponent)},155:function(e,t,n){"use strict";var r;r=function composeWithDevTools(e){return e},t.a=r},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return getTabbableDescendants}));var r=n(0),o=n(131);function isFocusable(e){var t=e.nodeName.toLowerCase(),n=!e.disabled,a=Object(r.contains)(["a","button","input","select","textarea","object"],t)&&n,s=e.getAttribute("tabindex"),c=Object(r.isNumber)(s)&&s>=0;return o.b.isElementVisible(e)&&(a||c)}function getTabbableDescendants(e){return[].slice.call(e.querySelectorAll("*"),0).filter(isFocusable)}},177:function(e,t,n){"use strict";var r={FEATURE_SET_DISABLED:"feature:toggleDisabled",FEATURE_TOGGLE:"feature:toggle",FEATURE_RENDER_MATH_IF_REQUIRED:"feature:renderMathIfRequired"};t.a={actionTypes:r,setDisabled:function setDisabled(e){return{type:r.FEATURE_SET_DISABLED,payload:{disabled:e}}},toggle:function toggle(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document.activeElement;return{type:r.FEATURE_TOGGLE,payload:{visible:e,triggeringElement:t}}},renderMathIfRequired:function renderMathIfRequired(e){return function(t,n,o){o.mathService.renderIfRequired(e),t({type:r.FEATURE_RENDER_MATH_IF_REQUIRED})}},triggerEvent:function triggerEvent(e,t){return function(n,r,o){o.dataService.triggerFeatureFacadeEvent(e,t)}}}},193:function(e,t,n){"use strict";n.d(t,"a",(function(){return scopeTab}));var r=n(163);function scopeTab(e,t){var n=Object(r.a)(e);if(n.length){var o=t.shiftKey,a=n[0],s=n[n.length-1],c=a===document.activeElement&&o,l=s===document.activeElement&&!o;if(c||l||e===document.activeElement)t.preventDefault(),(o?s:a).focus()}else t.preventDefault()}},196:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(126),o=n.n(r),a=n(131);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=function withFullscreenObserver(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fullscreenElement";return function(n){_inherits(FullScreen,n);var r=_createSuper(FullScreen);function FullScreen(){var e;_classCallCheck(this,FullScreen);for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return _defineProperty(_assertThisInitialized(e=r.call.apply(r,[this].concat(n))),"state",{el:null}),_defineProperty(_assertThisInitialized(e),"onFullscreen",(function(t){return e.setState({el:t})})),e}return _createClass(FullScreen,[{key:"render",value:function render(){var n=_defineProperty({},t,this.state.el);return(o.a.createElement(e,_extends({},this.props,n)))}},{key:"componentDidMount",value:function componentDidMount(){this.fullscreenObserver=a.b.fullScreen.observe(this.onFullscreen)}},{key:"componentWillUnmount",value:function componentWillUnmount(){a.b.fullScreen.unobserve(this.fullscreenObserver)}}]),FullScreen}(o.a.Component)}},241:function(e,t,n){"use strict";function isTouchEvent(e){return!!e.targetTouches}function getEventPosition(e){var t=e.nativeEvent||e,n=isTouchEvent(t)?t.targetTouches[0]:t;return{x:n.pageX,y:n.pageY}}n.d(t,"b",(function(){return isTouchEvent})),n.d(t,"a",(function(){return getEventPosition}))},264:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n(126),o=n.n(r),a=n(128),s=n(127),c=n.n(s),l=n(7),u=n.n(l);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=function(e){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(BaseFeature,e);var t=_createSuper(BaseFeature);function BaseFeature(){return _classCallCheck(this,BaseFeature),t.apply(this,arguments)}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseFeature,[{key:"render",value:function render(){var e=this.classNames,t=this.props.base.featureId;return o.a.createElement("div",{id:t,className:e},this.props.children)}},{key:"classNames",get:function get(){var e,t=this.props,n=t.base,r=t.customClassNames,o=n.featureType,a=n.fontSizeClass;return c()("lrn lrn_widget lrn_feature lrn_".concat(o),(_defineProperty(e={},r,r),_defineProperty(e,"lrn-ie","ie"===u.a.browser),_defineProperty(e,"lrn-ios",u.a.isIOS),_defineProperty(e,a,a),e))}}]),BaseFeature}(o.a.Component);t.b=a.b((function(e){return{base:e.base}}),null)(f)},265:function(e,t,n){"use strict";var r=n(0),o=n.n(r);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function BaseDataService(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseDataService),this.model=e,this.activity=e.activity,this.featureFacade=t,this.feature=e.getFeatureJsonForClient()}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(BaseDataService,[{key:"getInitialState",value:function getInitialState(){var e=this.activity,t=this.model,n=this.feature;return{base:{featureId:this.featureId,disabled:!1,featureType:n.type,fontSizeClass:t.getFontClass(),i18n:e.get("i18n"),customClassNames:[]}}}},{key:"getFacade",value:function getFacade(){var e=this;return this._facade||(this._facade={},this.EXPOSED_METHODS.forEach((function(t){e._facade[t]=e[t].bind(e)}))),this._facade}},{key:"triggerFeatureFacadeEvent",value:function triggerFeatureFacadeEvent(){var e=this.featureFacade;e&&o.a.isFunction(e.trigger)&&e.trigger.apply(e,arguments)}},{key:"featureId",get:function get(){var e=this.feature;return o.a.isUndefined(e.feature_id)?e.simplefeature_id:e.feature_id}}]),BaseDataService}();a.prototype.EXPOSED_METHODS=["triggerFeatureFacadeEvent"],t.a=a},266:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(5),s=n.n(a);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function FeatureFacade(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FeatureFacade);var t=e.model;this.view=e,this.model=t,e.simpleFeatureFacades=e.simpleFeatureFacades||{}}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(FeatureFacade,[{key:"facade",get:function get(){if(this._facade)return this._facade;var e=this.view,t=this.model;return this._facade={on:s.a.Events.on,off:s.a.Events.off,once:s.a.Events.once,trigger:s.a.Events.trigger,begin:function begin(){return e.begin()},pause:function pause(){return e.pause()},stop:function stop(){return e.stop()},toggle:function toggle(t,n){return e.toggle(t,n)},disable:function disable(){return e.setDisabled(!0)},enable:function enable(){return e.setDisabled(!1)},startMirror:function startMirror(){return e.startMirror()},stopMirror:function stopMirror(){return e.stopMirror()},checkImages:function checkImages(){if(e.imageLoader)return e.imageLoader.checkImages()},retryLoadImages:function retryLoadImages(){e.imageLoader&&e.imageLoader.loadImages()},simpleFeatures:function simpleFeatures(){return o.a.clone(e.simpleFeatureFacades)},simpleFeature:function simpleFeature(t){return e.simpleFeatureFacades[t]},destroy:function destroy(){var n=this;e.remove(),t.destroy(),o.a.each(n,(function(e,t){delete n[t]}))}},this._facade}}]),FeatureFacade}(),l=n(39),u=n(126),f=n.n(u),p=n(129),d=n.n(p),h=n(130),_=n(128),m=n(198),g=n(177),y=n(25);var v=function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},g.a.actionTypes.FEATURE_SET_DISABLED,(function(e,t){return{disabled:t.disabled}})),b=Object(y.a)(v,{disabled:!1}),E=n(149),C=n(38),S=n(32),O=n(155),w=n(334),P=n(150);function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}(e)||function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function _unsupportedIterableToArray(e,t){if(!e)return;if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(e,t)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a=s.a.View.extend({initialize:function initialize(){var e=this.model,t=this.options,n=t.activity,r=t.i18n;this.activity=n,e.activity||(n||(n=new s.a.Model({i18n:r})),e.activity=n),this.remove=this.remove.bind(this),this.initialisationCompleted=this.initialisationCompleted.bind(this),this._featureId=this.getDataService().featureId,this.render(),this.initialisationCompleted(),this.applyRemovalDetector()},applyRemovalDetector:function applyRemovalDetector(){E.a.watch('[id="'.concat(this._featureId,'"]'),this.remove)},getDataService:function getDataService(){if(!this._dataService){var e=this.DataService;this._dataService=new e(this.model,this.getFacade())}return this._dataService},getStore:function getStore(){if(!this._store){var e=this.getDataService(),t=this.getReducers(),n=this.getMiddleware();this._store=Object(h.d)(Object(h.c)(t),e.getInitialState(),Object(O.a)(h.a.apply(void 0,_toConsumableArray(n))))}return this._store},getMiddleware:function getMiddleware(){var e=this.getDataService().getFacade(),t=this.getMathService();return[m.a.withExtraArgument({dataService:e,mathService:t})]},getReducers:function getReducers(){return{base:b}},render:function render(){var e=this,t=this.getStore(),n=this.ViewComponent,r=document.createElement("div");return this.$el.replaceWith(r),this.setElement(r),this._attachWidgetInfo(r),d.a.render(f.a.createElement(P.a,{ref:function ref(t){return e.component=t}},f.a.createElement(_.a,{store:t},f.a.createElement(n,null))),this.el),this},remove:function remove(){if(!this._removed){this.visibilityChangeObserver&&this.visibilityChangeObserver.stop();try{var e=d.a.findDOMNode(this.component);e&&!this.$el.find(e).length&&this.$el.append(e),this.el&&(this._unmounted=d.a.unmountComponentAtNode(this.el))}catch(e){}s.a.View.prototype.remove.call(this),E.a.unwatch('[id="'.concat(this._featureId,'"]')),this._removed=!0}},initialisationCompleted:function initialisationCompleted(){var e=this.activity,t=e&&e.hooks;this.el&&(o.a.isFunction(this.applyComputedVisibility)&&(this.visibilityChangeObserver=new w.a(this.el,this.applyComputedVisibility.bind(this)),o.a.getNested(e,"attributes.mirror_visibility")&&this.visibilityChangeObserver.start()),this.imageLoader=new l.a({element:this.el}),this.imageLoader.loadImages()),t&&t.reset.push(this.reset.bind(this)),this.options.initialisationCallback&&o.a.defer(this.options.initialisationCallback)},getFacade:function getFacade(){if(o.a.isUndefined(this.featureFacade)){var e=new c(this).facade;this.featureFacade=e,this.addFacadeMethods(e)}return this.featureFacade},addFacadeMethods:function addFacadeMethods(e){},getMathService:function getMathService(){return o.a.isUndefined(this._mathService)&&(this._mathService=new S.a(this,"feature")),this._mathService},begin:function begin(){this.getFacade().trigger("complete")},pause:function pause(){},stop:function stop(){},toggle:function toggle(e,t){this.getStore().getState().base.disabled||(this.hiddenByComputedVisibilityChange=!1,this.getStore().dispatch(g.a.toggle(e,t)))},startMirror:function startMirror(){this.visibilityChangeObserver&&this.visibilityChangeObserver.start()},stopMirror:function stopMirror(){this.visibilityChangeObserver&&this.visibilityChangeObserver.stop()},setDisabled:function setDisabled(e){e?this.undelegateEvents():this.delegateEvents(),this.getStore().dispatch(g.a.setDisabled(e))},renderSimpleFeatures:function renderSimpleFeatures(e){return C.a.renderSimpleFeatures.call(this,this.$el,this.activity,e)},reset:function reset(){this.getFacade().trigger("reset")},_attachWidgetInfo:function _attachWidgetInfo(e){e&&(e.setAttribute("data-lrn-widget-container",this._featureId),e.setAttribute("data-lrn-widget-type","feature"))}})},273:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(126),s=n.n(a),c=n(241),l=n(140);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u={moved:["mousemove","touchmove"],moveEnd:["mouseup","touchend","touchcancel"]};t.a=function(e){return function(t){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Movable,t);var n=_createSuper(Movable);function Movable(e){var t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Movable),_defineProperty(_assertThisInitialized(t=n.call(this,e)),"moveStart",(function(e){t.setState({moving:!0}),t.addDocumentListeners(),t.updateBounds(),t.startMovePos=Object(c.a)(e),t.originalPos=t.state.position,e.preventDefault(),e.stopPropagation()})),_defineProperty(_assertThisInitialized(t),"moved",(function(e){t.state.moving&&t.startMovePos&&t.setState({position:t.calculateNewPosition(e)})})),_defineProperty(_assertThisInitialized(t),"moveEnd",(function(){t.setState({moving:!1}),t.removeDocumentListeners(),t.startMovePos=void 0})),_defineProperty(_assertThisInitialized(t),"setContentDimensions",(function(e){e&&t.setState({contentDimensions:e},t.updateBounds)})),_defineProperty(_assertThisInitialized(t),"forceUpdateBounds",(function(){var e=t.state,n=e.contentDimensions,r=e.boundsFactor,o=t.getContainerDimensions(),a=n.height*r,s=n.width*r;t.bounds={top:0-a,left:0-s,bottom:o.height-n.height+a,right:o.width-n.width+s}})),_defineProperty(_assertThisInitialized(t),"updateBounds",o.a.debounce(t.forceUpdateBounds,100));var r=t.props.position;return t.state={boundsFactor:o.a.isNumber(t.props.boundsFactor)?t.props.boundsFactor:.5,contentDimensions:{width:0,height:0},moving:!1,position:o.a.extend({x:null,y:null},r)},t}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(Movable,[{key:"render",value:function render(){var t=o.a.extend({},this.props,{contentDimensions:this.state.contentDimensions,moveListeners:{mousedown:this.moveStart,touchstart:this.moveStart},position:this.state.position,setContentDimensions:this.setContentDimensions});return(s.a.createElement(e,t))}},{key:"componentDidMount",value:function componentDidMount(){this.updateBounds(),window.addEventListener("resize",this.updateBounds)}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){o.a.isEqual(e.position,this.props.position)||(this.forceUpdateBounds(),this.updatePosition(e.position))}},{key:"componentDidUpdate",value:function componentDidUpdate(e,t){o.a.isEqual(t.contentDimensions,this.state.contentDimensions)||this.updateBounds()}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.updateBounds),this.removeDocumentListeners()}},{key:"getContainerDimensions",value:function getContainerDimensions(){var e=this.props.getContainerElement&&this.props.getContainerElement();return e?e.getBoundingClientRect():this.props.isFixedPosition?l.a.getViewportDimensions():l.a.getDocumentDimensions()}},{key:"updatePosition",value:function updatePosition(e){var t=this.getBoundedPosition(o.a.extend({},this.state.position,e));if(this.isFixedPosition){var n=l.a.getViewportScroll();t.x-=n.x,t.y-=n.y}this.setState({position:t})}},{key:"getBoundedPosition",value:function getBoundedPosition(e){return this.bounds?{x:Math.max(Math.min(e.x,this.bounds.right),this.bounds.left),y:Math.max(Math.min(e.y,this.bounds.bottom),this.bounds.top)}:e}},{key:"calculateNewPosition",value:function calculateNewPosition(e){var t=Object(c.a)(e),n=t.x-this.startMovePos.x,r=t.y-this.startMovePos.y;return this.getBoundedPosition({x:this.originalPos.x+n,y:this.originalPos.y+r})}},{key:"addDocumentListeners",value:function addDocumentListeners(){var e=this;o.a.each(u,(function(t,n){o.a.each(t,(function(t){document.addEventListener(t,e[n],!1)}))}))}},{key:"removeDocumentListeners",value:function removeDocumentListeners(){var e=this;o.a.each(u,(function(t,n){o.a.each(t,(function(t){document.removeEventListener(t,e[n])}))}))}}]),Movable}(s.a.Component)}},334:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(131);function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=[],a=new MutationObserver((function onMutation(){c||(c=!0,requestAnimationFrame((function(){c=!1,o.forEach((function(e){return e.checkVisibility()}))})))})),s=new Set,c=!1,l=function(){function VisibilityChangeObserver(e,t){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VisibilityChangeObserver),this.isActive=!1,this.isVisible=!1,this.element=e,this.onVisibilityChange=t}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(VisibilityChangeObserver,[{key:"start",value:function start(){this.isActive||(this.isActive=!0,this.isVisible=r.b.isElementVisible(this.element),o.push(this),observeElementAndAncestors(this.element))}},{key:"stop",value:function stop(){this.isActive&&(this.isActive=!1,o.splice(o.indexOf(this),1),function resetMutationObserver(){a.disconnect(),s.clear(),o.forEach((function(e){return observeElementAndAncestors(e.element)})),s.forEach((function(e){return observeElement(e)}))}())}},{key:"checkVisibility",value:function checkVisibility(){if(this.isActive){var e=r.b.isElementVisible(this.element);this.isVisible!==e&&(this.isVisible=e,this.onVisibilityChange(e))}}}]),VisibilityChangeObserver}();function observeElementAndAncestors(e){for(;e&&!s.has(e);)observeElement(e),s.add(e),e=e.parentElement}function observeElement(e){a.observe(e,{attributes:!0,attributeFilter:["id","style","class"]})}},335:function(e,t,n){"use strict";var r=n(0),o=n.n(r),a=n(127),s=n.n(a),c=n(126),l=n.n(c),u=n(129),f=n.n(u),p=n(196);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.a=function(e){var t=function(t){!function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(FloatingElement,t);var n=_createSuper(FloatingElement);function FloatingElement(e){var t;return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FloatingElement),_defineProperty(_assertThisInitialized(t=n.call(this,e)),"CONTAINER_CLASSNAMES","lrn lrn_float_element_container"),_defineProperty(_assertThisInitialized(t),"ELEMENT_CLASSNAMES","lrn-float-element"),t.node=document.createElement("div"),t.node.className=t.CONTAINER_CLASSNAMES,t.parentNode=null,t}return function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(FloatingElement,[{key:"render",value:function render(){var t=this.props,n=t.floatElementClasses,r=t.floatElementId,a=t.position,c=t.visible,u=s()(this.ELEMENT_CLASSNAMES,n),p={top:"".concat(a.y,"px"),left:"".concat(a.x,"px"),display:c?"block":"none"},d=o.a.omit(this.props,["floatElementClasses","floatElementId"]);return f.a.createPortal(l.a.createElement("div",{className:u,"data-lrn-float":r,style:p},l.a.createElement(e,d)),this.node)}},{key:"componentDidMount",value:function componentDidMount(){this.appendDOMNodeTo(this.props.parentNode)}},{key:"UNSAFE_componentWillReceiveProps",value:function UNSAFE_componentWillReceiveProps(e){this.appendDOMNodeTo(e.parentNode)}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.removeDOMNode()}},{key:"appendDOMNodeTo",value:function appendDOMNodeTo(e){if((e=e||document.body)!==this.parentNode){this.parentNode=e,e.appendChild(this.node);var t=this.props.onParentNodeChange;o.a.isFunction(t)&&t(this.parentNode)}}},{key:"removeDOMNode",value:function removeDOMNode(){this.node.parentNode&&(this.node.parentNode.removeChild(this.node),this.parentNode=null)}}]),FloatingElement}(l.a.Component);return Object(p.a)(t,"parentNode")}},422:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"h",(function(){return operators})),__webpack_require__.d(__webpack_exports__,"e",(function(){return characters})),__webpack_require__.d(__webpack_exports__,"f",(function(){return constants})),__webpack_require__.d(__webpack_exports__,"b",(function(){return MODE})),__webpack_require__.d(__webpack_exports__,"c",(function(){return UNIT})),__webpack_require__.d(__webpack_exports__,"d",(function(){return UNIT_LABELS})),__webpack_require__.d(__webpack_exports__,"a",(function(){return ERROR_MESSAGE})),__webpack_require__.d(__webpack_exports__,"g",(function(){return CalculatorProcessor}));var vendor_underscore__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(vendor_underscore__WEBPACK_IMPORTED_MODULE_0__),decimal_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(565),decimal_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(decimal_js__WEBPACK_IMPORTED_MODULE_1__),mathjs_core__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(221),mathjs_core__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(mathjs_core__WEBPACK_IMPORTED_MODULE_2__),mathjs_lib_function_probability_gamma__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(566),mathjs_lib_function_probability_gamma__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(mathjs_lib_function_probability_gamma__WEBPACK_IMPORTED_MODULE_3__);function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var mathJs=mathjs_core__WEBPACK_IMPORTED_MODULE_2___default.a.create();mathJs.import(mathjs_lib_function_probability_gamma__WEBPACK_IMPORTED_MODULE_3___default.a);var commandTypes={CLEAR_ALL:"clear",CLEAR_EACH:"ce",NUMBER:"num",DECIMAL:"deci",OPERATOR:"op",ADVANCED_OPERATOR:"adv-op",POST_ARG_OPERATOR:"post-arg-op",BRACKET:"bracket",CONSTANT:"constant",UNIT:"unit",SECOND_FUNCTION:"second-function",PLUS_MINUS:"plus-minus",MEMORY:"memory",EVALUATE:"eval"},operators={PLUS:"+",MINUS:"−",MULTIPLICATION:"×",DIVISION:"÷",POW:"^",POW2:"^2",SIN:"sin",COS:"cos",TAN:"tan",SINH:"sinh",COSH:"cosh",TANH:"tanh",LOG:"log",LN:"ln",ARCSIN:"asin",ARCCOS:"acos",ARCTAN:"atan",ARCSINH:"asinh",ARCCOSH:"acosh",ARCTANH:"atanh",FAC:"fac",SQRT:"sqrt",CUBEROOT:"thirdroot",NTHROOT:"nthroot",NPR:"nPr",NCR:"nCr",RAND:"random",TODEG:"toDg",TORAD:"toRad"},operatorsWithExpressions=["sin","cos","tan","sinh","cosh","tanh","log","ln","asin","acos","atan","asinh","acosh","atanh","fac","sqrt","thirdroot","nthroot","nPr","nCr","random","toDg","toRad"],characters={DECIMAL:".",COMMA:",",BRACKET_OPEN:"(",BRACKET_CLOSE:")",NEGATIVE:":"},constants={PERCENTAGE:"%",PI:"π",E:"e"},memoryCharacters={MC:"mc",MR:"mr",M_PLUS:"m+",M_MINUS:"m-"},STATUSCODE={NEW:0,WIP:1,CALCED:2},PRECISIONS={internal:15,display:10},MODE={BASIC:"basic",SCIENTIFIC:"scientific"},UNIT={RADIAN:"radian",DEGREE:"degree"},UNIT_LABELS={RADIAN:"radians",DEGREE:"degrees"},ERROR_MESSAGE="Error",CalculatorProcessor=function(){function CalculatorProcessor(e){_classCallCheck(this,CalculatorProcessor),_defineProperty(this,"bracket",0),_defineProperty(this,"entryStack",[]),_defineProperty(this,"status",STATUSCODE.WIP),_defineProperty(this,"memorizedValue",0),this.unit=e.unit||UNIT.RADIAN,this.mode=e.mode||MODE.BASIC,this.extended=!!e.extended}return _createClass(CalculatorProcessor,[{key:"dispatchCommand",value:function dispatchCommand(e,t){switch(e){case"clear":this.reset();break;case"ce":this.ce();break;case"num":this.appendNumber(t);break;case"deci":this.appendDecimal();break;case"op":this.appendOperator(t);break;case"adv-op":this.appendAdvancedOperator(t);break;case"post-arg-op":this.appendPostArgOperator(t);break;case"bracket":this.appendBracket(t);break;case"constant":this.appendConstant(t);break;case"unit":this.swapUnit();break;case"eval":this.calculate();break;case"plus-minus":this.toggleSign();break;case"memory":this.memoryFunction(t)}return this.get()}},{key:"swapUnit",value:function swapUnit(){this.unit=this.unit===UNIT.RADIAN?UNIT.DEGREE:UNIT.RADIAN}},{key:"getEquation",value:function getEquation(){return this.entryStack.join("")}},{key:"reset",value:function reset(){return this.set(""),this.bracket=0,this.entryStack=[],this.status=STATUSCODE.WIP,delete this.resultForCalculation,this}},{key:"ce",value:function ce(){if(this.entryStack.length>0&&this.status===STATUSCODE.WIP){var e,t=this.entryStack.pop(),n=this.getLast(),r=this.getLast(2);t===characters.BRACKET_OPEN&&vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains([operators.SIN,operators.COS,operators.TAN,operators.LOG,operators.LN,operators.ARCSIN,operators.ARCCOS,operators.ARCTAN,operators.SINH,operators.COSH,operators.TANH,operators.ARCSINH,operators.ARCCOSH,operators.ARCTANH,operators.FAC,operators.SQRT,operators.CUBEROOT],n)&&(this.entryStack.pop(),this.bracket--),t===characters.BRACKET_CLOSE&&n===characters.BRACKET_OPEN&&r===operators.RAND&&(this.entryStack.pop(),this.entryStack.pop()),t===characters.COMMA&&-1!==(e=this.findTwoArgOperatorPosition(t))&&(this.entryStack.splice(e,this.entryStack.length),this.bracket--),this.set(this.getEquation())}return this}},{key:"append",value:function append(e){switch(this.status){case STATUSCODE.NEW:if(this.reset(),e===characters.BRACKET_OPEN)return this.appendBracket(e),this;this.append(e);break;case STATUSCODE.WIP:this.entryStack.push(e),this.set(this.getEquation());break;case STATUSCODE.CALCED:if(e===characters.BRACKET_OPEN)return this.reset(),this.status=STATUSCODE.WIP,this.appendBracket(e),this;vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains([operators.POW,operators.PLUS,operators.MINUS,operators.MULTIPLICATION,operators.DIVISION],e)?this.status=STATUSCODE.WIP:this.status=STATUSCODE.NEW,this.append(e)}return this}},{key:"appendNumber",value:function appendNumber(e){var t=this.getLast();return vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains([constants.PI,constants.E,characters.BRACKET_CLOSE],t)&&this.appendOperator(operators.MULTIPLICATION),this.append(e)}},{key:"appendDecimal",value:function appendDecimal(){return this.canAppendDecimal()&&this.append(characters.DECIMAL),this}},{key:"canAppendDecimal",value:function canAppendDecimal(){return!this.getEquation().match(/(\d*\.\d*)$/g)}},{key:"appendOperator",value:function appendOperator(e){var t=this.getLast(),n=this.getLast(2),r=[void 0,characters.BRACKET_OPEN],o=vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(r,t),a=vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.values(operators),t);return o&&e!==operators.MINUS||t===operators.MINUS&&vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(r,n)?this:(a&&this.entryStack.pop(),e===operators.POW2?(this.append(operators.POW),this.appendNumber(2),this):this.append(e))}},{key:"appendAdvancedOperator",value:function appendAdvancedOperator(e){return(this.getLast()===characters.BRACKET_CLOSE||this.isNumber(this.entryStack.length-1))&&this.appendOperator(operators.MULTIPLICATION),this.append(e).appendBracket(characters.BRACKET_OPEN),e===operators.RAND&&this.appendBracket(characters.BRACKET_CLOSE),this}},{key:"appendPostArgOperator",value:function appendPostArgOperator(e){var t,n,r=this,o=this.getLast(),a=this.entryStack.length;if(o!==characters.BRACKET_CLOSE&&!this.isNumber(a-1))return this;if(o===characters.BRACKET_CLOSE){if(-1===(t=this.findMatchingBracketPosition(a-2,!0)))return this;t>0&&vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(operatorsWithExpressions,this.entryStack[t-1])&&t--}else t=this.findNumberPosition(a-1,!0);return n=this.entryStack.splice(t,a),this.append(e).appendBracket(characters.BRACKET_OPEN),vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(n,(function(e){r.append(e)})),e===operators.FAC?this.appendBracket(characters.BRACKET_CLOSE):this.append(characters.COMMA),this}},{key:"appendBracket",value:function appendBracket(e){var t=this.getLast();return e===characters.BRACKET_OPEN?(this.bracket++,(this.isNumber(this.entryStack.length-1)||t===characters.BRACKET_CLOSE)&&this.appendOperator(operators.MULTIPLICATION),this.append(e)):e===characters.BRACKET_CLOSE&&this.bracket>0&&(this.bracket--,this.append(e)),this}},{key:"appendConstant",value:function appendConstant(e){var t=[constants.PI,constants.E,constants.PERCENTAGE,characters.BRACKET_CLOSE];switch(e){case constants.PI:case constants.E:var n=this.getLast();(this.isNumber(this.entryStack.length-1)||vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(t,n))&&this.appendOperator(operators.MULTIPLICATION)}return this.append(e)}},{key:"toggleSign",value:function toggleSign(){var e,t=this.entryStack.length-1,n=this.entryStack[t];return 0===this.entryStack.length?(this.entryStack.push(operators.MINUS),this.set(this.getEquation()),this):1===this.entryStack.length&&(e=parseFloat(this.entryStack[0]),!isNaN(e)&&e<0)?(this.entryStack[0]=Math.abs(e),this.set(this.getEquation()),this):n===operators.PLUS||n===operators.MINUS?(this.togglePlusMinusAt(t),this.set(this.getEquation()),this):this.isNumber(t)?0===(t=this.findNumberPosition(t,!0,!0))?(this.entryStack.splice(0,0,operators.MINUS),this.set(this.getEquation()),this):(n=this.entryStack[t-1])===operators.PLUS||n===operators.MINUS?(this.togglePlusMinusAt(t-1),this.set(this.getEquation()),this):(this.entryStack.splice(t,0,operators.MINUS),this.set(this.getEquation()),this):(this.entryStack.push(operators.MINUS),this.set(this.getEquation()),this)}},{key:"togglePlusMinusAt",value:function togglePlusMinusAt(e){var t=this.entryStack[e];t===operators.PLUS&&(this.entryStack[e]=operators.MINUS),t===operators.MINUS&&(this.isNegativeSign(e)?this.entryStack.splice(e,1):this.entryStack[e]=operators.PLUS)}},{key:"calculate",value:function calculate(){for(var i=this.bracket;i>0;i--)this.appendBracket(characters.BRACKET_CLOSE);try{this.transformation()}catch(e){return this.set(ERROR_MESSAGE),this.status=STATUSCODE.NEW,this}var equation=this.getEquation();if(equation=equation.replace(new RegExp(constants.E,"g"),"Math.E"),equation=equation.replace(new RegExp(characters.NEGATIVE,"g"),"-"),equation=equation.replace(new RegExp("\\"+operators.PLUS,"g"),"this.add"),equation=equation.replace(new RegExp(operators.MINUS,"g"),"this.subtract"),equation=equation.replace(new RegExp("\\"+operators.POW,"g"),"this.pow"),equation=equation.replace(new RegExp(operators.MULTIPLICATION,"g"),"this.multiply"),equation=equation.replace(new RegExp(operators.DIVISION,"g"),"this.divide"),equation=equation.replace(new RegExp(operators.LOG,"g"),"this.log10"),equation=equation.replace(new RegExp(operators.LN,"g"),"this.log"),equation=equation.replace(new RegExp("("+operators.ARCSINH+"|"+operators.ARCCOSH+"|"+operators.ARCTANH+"|"+operators.ARCSIN+"|"+operators.ARCCOS+"|"+operators.ARCTAN+")","g"),"Math.$1"),equation=equation.replace(new RegExp("([^a]|^)("+operators.SINH+"|"+operators.COSH+"|"+operators.TANH+"|"+operators.SIN+"|"+operators.COS+"|"+operators.TAN+")","g"),"$1Math.$2"),equation=equation.replace(new RegExp(constants.PI,"g"),"Math.PI"),equation=equation.replace(new RegExp("("+operators.SQRT+"\\()","g"),"this.sqrt("),equation=equation.replace(new RegExp(operators.CUBEROOT,"g"),"this.cubeRoot"),equation=equation.replace(new RegExp(operators.NTHROOT,"g"),"this.nthRoot"),equation=equation.replace(new RegExp(operators.NPR,"g"),"this.npr"),equation=equation.replace(new RegExp(operators.NCR,"g"),"this.ncr"),equation=equation.replace(new RegExp(operators.FAC,"g"),"this.factorial"),equation=equation.replace(new RegExp(operators.TODEG,"g"),"this.toDeg"),equation=equation.replace(new RegExp(operators.TORAD,"g"),"this.toRad"),equation=equation.replace(new RegExp(operators.RAND,"g"),"Math.random"),equation=equation.replace(new RegExp(constants.PERCENTAGE,"g"),"this.percentage"),this.resultForCalculation&&(equation=equation.replace(this.resultForCalculation.displayResult,this.resultForCalculation.internalResult)),void 0!==equation&&equation!==ERROR_MESSAGE&&""!==equation)try{var displayResult=eval(equation).toFixed(PRECISIONS.display).replace(/\.?0+$/g,""),internalResult=eval(equation).toFixed(PRECISIONS.internal).replace(/\.?0+$/g,"");this.setResult(displayResult),displayResult!==internalResult&&(this.resultForCalculation={displayResult:displayResult,internalResult:internalResult})}catch(e){this.setError()}return this}},{key:"set",value:function set(e){this._value=""+e}},{key:"get",value:function get(){return this._value||""}},{key:"setError",value:function setError(e){this.set(e||ERROR_MESSAGE),this.status=STATUSCODE.NEW}},{key:"setResult",value:function setResult(e){this.set(e),this.entryStack=[e],this.status=STATUSCODE.CALCED}},{key:"memoryFunction",value:function memoryFunction(e){var t;if(e===memoryCharacters.MC)this.memorizedValue="";else if(e===memoryCharacters.MR)this.mode===MODE.BASIC&&this.reset(),""!==this.memorizedValue&&this.appendNumber(this.memorizedValue);else{if((t=this.calculate().get())===ERROR_MESSAGE||!t.length)return this;""===this.memorizedValue&&(this.memorizedValue=0),t=parseFloat(t),isNaN(t)||(e===memoryCharacters.M_PLUS?this.memorizedValue+=t:e===memoryCharacters.M_MINUS&&(this.memorizedValue-=t))}return this}},{key:"transformation",value:function transformation(){var e,t,n=[operators.SIN,operators.COS,operators.TAN,operators.SINH,operators.COSH,operators.TANH],r=[operators.ARCSIN,operators.ARCCOS,operators.ARCTAN,operators.ARCSINH,operators.ARCCOSH,operators.ARCTANH],o=[],a=0;this.trimLeadingZeros(),this.setNegative(),this.unit===UNIT.DEGREE&&(o=o.concat(n,r));var s=this.entryStack;for(a=0;a<this.entryStack.length;a++){var c=this.entryStack[a];if(vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(o,c)&&s[a+1]===characters.BRACKET_OPEN&&(e=a+1,-1!==(t=this.findMatchingBracketPosition(e+1))))switch(c){case operators.SIN:case operators.COS:case operators.TAN:case operators.SINH:case operators.COSH:case operators.TANH:this.transformToRad(e,t),a+=2;break;case operators.ARCSIN:case operators.ARCCOS:case operators.ARCTAN:case operators.ARCSINH:case operators.ARCCOSH:case operators.ARCTANH:this.transformResultToDeg(e,t),a+=2}}this.transformPercentage(),this.transformFunctions([operators.POW]),this.transformFunctions([operators.MULTIPLICATION,operators.DIVISION]),this.transformFunctions([operators.PLUS,operators.MINUS])}},{key:"transformToRad",value:function transformToRad(e,t){this.entryStack.splice(e+1,0,operators.TORAD,characters.BRACKET_OPEN),this.entryStack.splice(t+2,0,characters.BRACKET_CLOSE)}},{key:"transformResultToDeg",value:function transformResultToDeg(e,t){this.entryStack.splice(e-1,0,operators.TODEG,characters.BRACKET_OPEN),this.entryStack.splice(t+2,0,characters.BRACKET_CLOSE)}},{key:"toDeg",value:function toDeg(e){return 180*e/Math.PI}},{key:"toRad",value:function toRad(e){return e*Math.PI/180}},{key:"transformPercentage",value:function transformPercentage(){var e=this;vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.entryStack,(function(t,n){if(t===constants.PERCENTAGE){var r=e.findStartOfArgument(n),o=e.entryStack.splice(r,n-r),a=e.entryStack.splice(r+1,e.entryStack.length);e.entryStack.pop(),e.append(characters.BRACKET_OPEN),e.append(t),e.append(characters.BRACKET_OPEN),vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(o,(function(t){e.append(t)})),e.append(characters.BRACKET_CLOSE).append(characters.BRACKET_CLOSE),vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(a,(function(t){e.append(t)}))}}))}},{key:"transformFunctions",value:function transformFunctions(e){for(var t,n,r,o,a,s=this,c=0;c<this.entryStack.length;c++){var l=this.entryStack[c];vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(e,l)&&(t=this.findStartOfArgument(c),r=this.entryStack.splice(t,c-t),n=this.findEndOfArgument(t),o=this.entryStack.splice(t+1,n-t),a=this.entryStack.splice(t+1,this.entryStack.length),this.entryStack.pop(),this.append(characters.BRACKET_OPEN),this.append(l),this.append(characters.BRACKET_OPEN),vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(r,(function(e){s.append(e)})),this.append(characters.COMMA),vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(o,(function(e){s.append(e)})),this.append(characters.BRACKET_CLOSE).append(characters.BRACKET_CLOSE),vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(a,(function(e){s.append(e)})))}vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.each(this.entryStack,(function(e,t){}))}},{key:"findStartOfArgument",value:function findStartOfArgument(e){var t,n=this.entryStack[e-1];if(n!==characters.BRACKET_CLOSE&&!this.isNumber(e-1))throw new Error("First argument of a function needs to be a number or an expression");if(n===characters.BRACKET_CLOSE){if(-1===(t=this.findMatchingBracketPosition(e-2,!0)))throw new Error("Could not find a valid expression as first argument of function");t>0&&vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(operatorsWithExpressions,this.entryStack[t-1])&&t--}else t=this.findNumberPosition(e-1,!0);return t}},{key:"findEndOfArgument",value:function findEndOfArgument(e){var t,n=this.entryStack[e+1];if(n!==characters.BRACKET_OPEN&&!this.isNumber(e+1)&&!vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(operatorsWithExpressions,n))throw new Error("Second argument of function needs to be a number or an expression");if(vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(operatorsWithExpressions,n)){if(-1===(t=this.findMatchingBracketPosition(e+3)))throw new Error("Could not find a valid expression as second argument of function")}else if(n===characters.BRACKET_OPEN){if(-1===(t=this.findMatchingBracketPosition(e+2)))throw new Error("Could not find a valid expression as second argument of function")}else t=this.findNumberPosition(e+1);return t}},{key:"setNegative",value:function setNegative(){var e=this;this.entryStack=vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.map(this.entryStack,(function(t,n){return t===operators.MINUS&&e.isNegativeSign(n)?characters.NEGATIVE:t}))}},{key:"getLast",value:function getLast(e){return this.entryStack[this.entryStack.length-(e||1)]}},{key:"findMatchingBracketPosition",value:function findMatchingBracketPosition(e,t){var n,r,o,a,s;if(t)for(o=0,n=e;n>=0;n--)if((s=this.entryStack[n])===characters.BRACKET_OPEN){if(0===o)return n;o--}else s===characters.BRACKET_CLOSE&&o++;else for(a=0,n=e,r=this.entryStack.length;n<r;n++)if((s=this.entryStack[n])===characters.BRACKET_CLOSE){if(0===a)return n;a--}else s===characters.BRACKET_OPEN&&a++;return-1}},{key:"findNumberPosition",value:function findNumberPosition(e,t,n){var r,o;if(t){for(r=e;r>=0;r--)if(!this.isNumber(r,n))return r+1;return 0}for(r=e,o=this.entryStack.length;r<o;r++)if(!this.isNumber(r,n))return r-1;return this.entryStack.length-1}},{key:"isNumber",value:function isNumber(e,t){var n=this.entryStack[e],r=[constants.PI,constants.E,characters.DECIMAL,characters.NEGATIVE,constants.PERCENTAGE];return!!vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(r,n)||(!(t||!this.isNegativeSign(e))||!isNaN(parseInt(n,10))&&!isNaN(n))}},{key:"findTwoArgOperatorPosition",value:function findTwoArgOperatorPosition(e){var t,n,r=0,o=[operators.NTHROOT,operators.NPR,operators.NCR];if(e!==characters.COMMA)return-1;for(n=this.entryStack.length-1;n>=0;n--)if((t=this.entryStack[n])===characters.COMMA&&r++,-1!==vendor_underscore__WEBPACK_IMPORTED_MODULE_0___default.a.contains(o,t)){if(0===r)return n;r--}return-1}},{key:"add",value:function add(e,t){var n=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString());return parseFloat(n.plus(t.toString()).toFixed(PRECISIONS.internal))}},{key:"subtract",value:function subtract(e,t){var n=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString());return parseFloat(n.minus(t.toString()).toFixed(PRECISIONS.internal))}},{key:"multiply",value:function multiply(e,t){var n=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString());return parseFloat(n.times(t.toString()).toFixed(PRECISIONS.internal))}},{key:"divide",value:function divide(e,t){var n=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString());return parseFloat(n.dividedBy(t.toString()).toFixed(PRECISIONS.internal))}},{key:"pow",value:function pow(e,t){var n=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString());return parseFloat(n.toPower(t.toString()).toFixed(PRECISIONS.internal))}},{key:"sqrt",value:function sqrt(e){return new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString()).squareRoot()}},{key:"nthRoot",value:function nthRoot(e,t){var n=1/e,r=1;return e%2!=0&&t<0&&(t=Math.abs(t),r=-1),r*this.pow(t,n)}},{key:"cubeRoot",value:function cubeRoot(e){return new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString()).cubeRoot()}},{key:"percentage",value:function percentage(e){return this.divide(e,100)}},{key:"gamma",value:function gamma(e){return mathJs.gamma(e)}},{key:"factorial",value:function factorial(e){if(Math.floor(e)!==e)return this.gamma(e+1);var t=1;if(!(isNaN(parseInt(e,10))||e<0)){for(;e>1;)t*=e,e--;return t}}},{key:"npr",value:function npr(e,t){var n=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString()),r=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(t.toString());if(!n.isInteger()||!r.isInteger())throw"n and r should be integers";if(r.greaterThan(n))throw"n should be larger than r";return this.divide(this.factorial(e),this.factorial(this.subtract(e,t)))}},{key:"ncr",value:function ncr(e,t){var n=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString()),r=new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(t.toString());if(!n.isInteger()||!r.isInteger())throw"n and r should be integers";if(r.greaterThan(n))throw"n should be larger than r";return this.divide(this.npr(e,t),this.factorial(t))}},{key:"log",value:function log(e){return new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString()).naturalLogarithm()}},{key:"log10",value:function log10(e){return new decimal_js__WEBPACK_IMPORTED_MODULE_1___default.a(e.toString()).logarithm()}},{key:"isNegativeSign",value:function isNegativeSign(e){var t=this.entryStack[e];return t===operators.MINUS&&(0===e||(t=this.entryStack[e-1],!this.isNumber(e-1)&&t!==characters.BRACKET_CLOSE))}},{key:"trimLeadingZeros",value:function trimLeadingZeros(){var e,t=0,n=this.entryStack.length;if(n&&"0"===(e=this.entryStack[0].toString())){for(;t<n&&"0"===(e=this.entryStack[t].toString());t++);/[1-9]/.test(e.toString())?this.entryStack.splice(0,t):this.entryStack.splice(1,t-1)}}}]),CalculatorProcessor}()},565:function(e,t,n){var r;!function(o){"use strict";var a,s,c,l="0123456789abcdef",u="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",f="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",p={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-9e15,maxE:9e15,crypto:!1},d=!0,h="[DecimalError] Invalid argument: ",_=Math.floor,m=Math.pow,g=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,y=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,v=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,b=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,E=u.length-1,C=f.length-1,S={name:"[object Decimal]"};function digitsToString(e){var t,n,r,o=e.length-1,a="",s=e[0];if(o>0){for(a+=s,t=1;t<o;t++)(n=7-(r=e[t]+"").length)&&(a+=getZeroString(n)),a+=r;(n=7-(r=(s=e[t])+"").length)&&(a+=getZeroString(n))}else if(0===s)return"0";for(;s%10==0;)s/=10;return a+s}function checkInt32(e,t,n){if(e!==~~e||e<t||e>n)throw Error(h+e)}function checkRoundingDigits(e,t,n,r){var o,a,s,c;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=7,o=0):(o=Math.ceil((t+1)/7),t%=7),a=m(10,7-t),c=e[o]%a|0,null==r?t<3?(0==t?c=c/100|0:1==t&&(c=c/10|0),s=n<4&&99999==c||n>3&&49999==c||5e4==c||0==c):s=(n<4&&c+1==a||n>3&&c+1==a/2)&&(e[o+1]/a/100|0)==m(10,t-2)-1||(c==a/2||0==c)&&0==(e[o+1]/a/100|0):t<4?(0==t?c=c/1e3|0:1==t?c=c/100|0:2==t&&(c=c/10|0),s=(r||n<4)&&9999==c||!r&&n>3&&4999==c):s=((r||n<4)&&c+1==a||!r&&n>3&&c+1==a/2)&&(e[o+1]/a/1e3|0)==m(10,t-3)-1,s}function convertBase(e,t,n){for(var r,o,a=[0],s=0,c=e.length;s<c;){for(o=a.length;o--;)a[o]*=t;for(a[0]+=l.indexOf(e.charAt(s++)),r=0;r<a.length;r++)a[r]>n-1&&(void 0===a[r+1]&&(a[r+1]=0),a[r+1]+=a[r]/n|0,a[r]%=n)}return a.reverse()}S.absoluteValue=S.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),finalise(e)},S.ceil=function(){return finalise(new this.constructor(this),this.e+1,2)},S.comparedTo=S.cmp=function(e){var t,n,r,o,a=this,s=a.d,c=(e=new a.constructor(e)).d,l=a.s,u=e.s;if(!s||!c)return l&&u?l!==u?l:s===c?0:!s^l<0?1:-1:NaN;if(!s[0]||!c[0])return s[0]?l:c[0]?-u:0;if(l!==u)return l;if(a.e!==e.e)return a.e>e.e^l<0?1:-1;for(t=0,n=(r=s.length)<(o=c.length)?r:o;t<n;++t)if(s[t]!==c[t])return s[t]>c[t]^l<0?1:-1;return r===o?0:r>o^l<0?1:-1},S.cosine=S.cos=function(){var e,t,n=this,r=n.constructor;return n.d?n.d[0]?(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function cosine(e,t){var n,r,o=t.d.length;o<32?(n=Math.ceil(o/3),r=(1/tinyPow(4,n)).toString()):(n=16,r="2.3283064365386962890625e-10");e.precision+=n,t=taylorSeries(e,1,t.times(r),new e(1));for(var a=n;a--;){var s=t.times(t);t=s.times(s).minus(s).times(8).plus(1)}return e.precision-=n,t}(r,toLessThanHalfPi(r,n)),r.precision=e,r.rounding=t,finalise(2==c||3==c?n.neg():n,e,t,!0)):new r(1):new r(NaN)},S.cubeRoot=S.cbrt=function(){var e,t,n,r,o,a,s,c,l,u,f=this,p=f.constructor;if(!f.isFinite()||f.isZero())return new p(f);for(d=!1,(a=f.s*m(f.s*f,1/3))&&Math.abs(a)!=1/0?r=new p(a.toString()):(n=digitsToString(f.d),(a=((e=f.e)-n.length+1)%3)&&(n+=1==a||-2==a?"0":"00"),a=m(n,1/3),e=_((e+1)/3)-(e%3==(e<0?-1:2)),(r=new p(n=a==1/0?"5e"+e:(n=a.toExponential()).slice(0,n.indexOf("e")+1)+e)).s=f.s),s=(e=p.precision)+3;;)if(u=(l=(c=r).times(c).times(c)).plus(f),r=O(u.plus(f).times(c),u.plus(l),s+2,1),digitsToString(c.d).slice(0,s)===(n=digitsToString(r.d)).slice(0,s)){if("9999"!=(n=n.slice(s-3,s+1))&&(o||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(finalise(r,e+1,1),t=!r.times(r).times(r).eq(f));break}if(!o&&(finalise(c,e+1,0),c.times(c).times(c).eq(f))){r=c;break}s+=4,o=1}return d=!0,finalise(r,e,p.rounding,t)},S.decimalPlaces=S.dp=function(){var e,t=this.d,n=NaN;if(t){if(n=7*((e=t.length-1)-_(this.e/7)),e=t[e])for(;e%10==0;e/=10)n--;n<0&&(n=0)}return n},S.dividedBy=S.div=function(e){return O(this,new this.constructor(e))},S.dividedToIntegerBy=S.divToInt=function(e){var t=this.constructor;return finalise(O(this,new t(e),0,1,1),t.precision,t.rounding)},S.equals=S.eq=function(e){return 0===this.cmp(e)},S.floor=function(){return finalise(new this.constructor(this),this.e+1,3)},S.greaterThan=S.gt=function(e){return this.cmp(e)>0},S.greaterThanOrEqualTo=S.gte=function(e){var t=this.cmp(e);return 1==t||0===t},S.hyperbolicCosine=S.cosh=function(){var e,t,n,r,o,a=this,s=a.constructor,c=new s(1);if(!a.isFinite())return new s(a.s?1/0:NaN);if(a.isZero())return c;n=s.precision,r=s.rounding,s.precision=n+Math.max(a.e,a.sd())+4,s.rounding=1,(o=a.d.length)<32?t=(1/tinyPow(4,e=Math.ceil(o/3))).toString():(e=16,t="2.3283064365386962890625e-10"),a=taylorSeries(s,1,a.times(t),new s(1),!0);for(var l,u=e,f=new s(8);u--;)l=a.times(a),a=c.minus(l.times(f.minus(l.times(f))));return finalise(a,s.precision=n,s.rounding=r,!0)},S.hyperbolicSine=S.sinh=function(){var e,t,n,r,o=this,a=o.constructor;if(!o.isFinite()||o.isZero())return new a(o);if(t=a.precision,n=a.rounding,a.precision=t+Math.max(o.e,o.sd())+4,a.rounding=1,(r=o.d.length)<3)o=taylorSeries(a,2,o,o,!0);else{e=(e=1.4*Math.sqrt(r))>16?16:0|e,o=taylorSeries(a,2,o=o.times(1/tinyPow(5,e)),o,!0);for(var s,c=new a(5),l=new a(16),u=new a(20);e--;)s=o.times(o),o=o.times(c.plus(s.times(l.times(s).plus(u))))}return a.precision=t,a.rounding=n,finalise(o,t,n,!0)},S.hyperbolicTangent=S.tanh=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+7,r.rounding=1,O(n.sinh(),n.cosh(),r.precision=e,r.rounding=t)):new r(n.s)},S.inverseCosine=S.acos=function(){var e,t=this,n=t.constructor,r=t.abs().cmp(1),o=n.precision,a=n.rounding;return-1!==r?0===r?t.isNeg()?getPi(n,o,a):new n(0):new n(NaN):t.isZero()?getPi(n,o+4,a).times(.5):(n.precision=o+6,n.rounding=1,t=t.asin(),e=getPi(n,o+4,a).times(.5),n.precision=o,n.rounding=a,e.minus(t))},S.inverseHyperbolicCosine=S.acosh=function(){var e,t,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(e=r.precision,t=r.rounding,r.precision=e+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,d=!1,n=n.times(n).minus(1).sqrt().plus(n),d=!0,r.precision=e,r.rounding=t,n.ln()):new r(n)},S.inverseHyperbolicSine=S.asinh=function(){var e,t,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,d=!1,n=n.times(n).plus(1).sqrt().plus(n),d=!0,r.precision=e,r.rounding=t,n.ln())},S.inverseHyperbolicTangent=S.atanh=function(){var e,t,n,r,o=this,a=o.constructor;return o.isFinite()?o.e>=0?new a(o.abs().eq(1)?o.s/0:o.isZero()?o:NaN):(e=a.precision,t=a.rounding,r=o.sd(),Math.max(r,e)<2*-o.e-1?finalise(new a(o),e,t,!0):(a.precision=n=r-o.e,o=O(o.plus(1),new a(1).minus(o),n+e,1),a.precision=e+4,a.rounding=1,o=o.ln(),a.precision=e,a.rounding=t,o.times(.5))):new a(NaN)},S.inverseSine=S.asin=function(){var e,t,n,r,o=this,a=o.constructor;return o.isZero()?new a(o):(t=o.abs().cmp(1),n=a.precision,r=a.rounding,-1!==t?0===t?((e=getPi(a,n+4,r).times(.5)).s=o.s,e):new a(NaN):(a.precision=n+6,a.rounding=1,o=o.div(new a(1).minus(o.times(o)).sqrt().plus(1)).atan(),a.precision=n,a.rounding=r,o.times(2)))},S.inverseTangent=S.atan=function(){var e,t,n,r,o,a,s,c,l,u=this,f=u.constructor,p=f.precision,h=f.rounding;if(u.isFinite()){if(u.isZero())return new f(u);if(u.abs().eq(1)&&p+4<=C)return(s=getPi(f,p+4,h).times(.25)).s=u.s,s}else{if(!u.s)return new f(NaN);if(p+4<=C)return(s=getPi(f,p+4,h).times(.5)).s=u.s,s}for(f.precision=c=p+10,f.rounding=1,e=n=Math.min(28,c/7+2|0);e;--e)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(d=!1,t=Math.ceil(c/7),r=1,l=u.times(u),s=new f(u),o=u;-1!==e;)if(o=o.times(l),a=s.minus(o.div(r+=2)),o=o.times(l),void 0!==(s=a.plus(o.div(r+=2))).d[t])for(e=t;s.d[e]===a.d[e]&&e--;);return n&&(s=s.times(2<<n-1)),d=!0,finalise(s,f.precision=p,f.rounding=h,!0)},S.isFinite=function(){return!!this.d},S.isInteger=S.isInt=function(){return!!this.d&&_(this.e/7)>this.d.length-2},S.isNaN=function(){return!this.s},S.isNegative=S.isNeg=function(){return this.s<0},S.isPositive=S.isPos=function(){return this.s>0},S.isZero=function(){return!!this.d&&0===this.d[0]},S.lessThan=S.lt=function(e){return this.cmp(e)<0},S.lessThanOrEqualTo=S.lte=function(e){return this.cmp(e)<1},S.logarithm=S.log=function(e){var t,n,r,o,a,s,c,l,u=this.constructor,f=u.precision,p=u.rounding;if(null==e)e=new u(10),t=!0;else{if(n=(e=new u(e)).d,e.s<0||!n||!n[0]||e.eq(1))return new u(NaN);t=e.eq(10)}if(n=this.d,this.s<0||!n||!n[0]||this.eq(1))return new u(n&&!n[0]?-1/0:1!=this.s?NaN:n?0:1/0);if(t)if(n.length>1)a=!0;else{for(o=n[0];o%10==0;)o/=10;a=1!==o}if(d=!1,s=naturalLogarithm(this,c=f+5),r=t?getLn10(u,c+10):naturalLogarithm(e,c),checkRoundingDigits((l=O(s,r,c,1)).d,o=f,p))do{if(s=naturalLogarithm(this,c+=10),r=t?getLn10(u,c+10):naturalLogarithm(e,c),l=O(s,r,c,1),!a){+digitsToString(l.d).slice(o+1,o+15)+1==1e14&&(l=finalise(l,f+1,0));break}}while(checkRoundingDigits(l.d,o+=10,p));return d=!0,finalise(l,f,p)},S.minus=S.sub=function(e){var t,n,r,o,a,s,c,l,u,f,p,h,m=this,g=m.constructor;if(e=new g(e),!m.d||!e.d)return m.s&&e.s?m.d?e.s=-e.s:e=new g(e.d||m.s!==e.s?m:NaN):e=new g(NaN),e;if(m.s!=e.s)return e.s=-e.s,m.plus(e);if(u=m.d,h=e.d,c=g.precision,l=g.rounding,!u[0]||!h[0]){if(h[0])e.s=-e.s;else{if(!u[0])return new g(3===l?-0:0);e=new g(m)}return d?finalise(e,c,l):e}if(n=_(e.e/7),f=_(m.e/7),u=u.slice(),a=f-n){for((p=a<0)?(t=u,a=-a,s=h.length):(t=h,n=f,s=u.length),a>(r=Math.max(Math.ceil(c/7),s)+2)&&(a=r,t.length=1),t.reverse(),r=a;r--;)t.push(0);t.reverse()}else{for((p=(r=u.length)<(s=h.length))&&(s=r),r=0;r<s;r++)if(u[r]!=h[r]){p=u[r]<h[r];break}a=0}for(p&&(t=u,u=h,h=t,e.s=-e.s),s=u.length,r=h.length-s;r>0;--r)u[s++]=0;for(r=h.length;r>a;){if(u[--r]<h[r]){for(o=r;o&&0===u[--o];)u[o]=1e7-1;--u[o],u[r]+=1e7}u[r]-=h[r]}for(;0===u[--s];)u.pop();for(;0===u[0];u.shift())--n;return u[0]?(e.d=u,e.e=getBase10Exponent(u,n),d?finalise(e,c,l):e):new g(3===l?-0:0)},S.modulo=S.mod=function(e){var t,n=this,r=n.constructor;return e=new r(e),!n.d||!e.s||e.d&&!e.d[0]?new r(NaN):!e.d||n.d&&!n.d[0]?finalise(new r(n),r.precision,r.rounding):(d=!1,9==r.modulo?(t=O(n,e.abs(),0,3,1)).s*=e.s:t=O(n,e,0,r.modulo,1),t=t.times(e),d=!0,n.minus(t))},S.naturalExponential=S.exp=function(){return naturalExponential(this)},S.naturalLogarithm=S.ln=function(){return naturalLogarithm(this)},S.negated=S.neg=function(){var e=new this.constructor(this);return e.s=-e.s,finalise(e)},S.plus=S.add=function(e){var t,n,r,o,a,s,c,l,u,f,p=this,h=p.constructor;if(e=new h(e),!p.d||!e.d)return p.s&&e.s?p.d||(e=new h(e.d||p.s===e.s?p:NaN)):e=new h(NaN),e;if(p.s!=e.s)return e.s=-e.s,p.minus(e);if(u=p.d,f=e.d,c=h.precision,l=h.rounding,!u[0]||!f[0])return f[0]||(e=new h(p)),d?finalise(e,c,l):e;if(a=_(p.e/7),r=_(e.e/7),u=u.slice(),o=a-r){for(o<0?(n=u,o=-o,s=f.length):(n=f,r=a,s=u.length),o>(s=(a=Math.ceil(c/7))>s?a+1:s+1)&&(o=s,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for((s=u.length)-(o=f.length)<0&&(o=s,n=f,f=u,u=n),t=0;o;)t=(u[--o]=u[o]+f[o]+t)/1e7|0,u[o]%=1e7;for(t&&(u.unshift(t),++r),s=u.length;0==u[--s];)u.pop();return e.d=u,e.e=getBase10Exponent(u,r),d?finalise(e,c,l):e},S.precision=S.sd=function(e){var t,n=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(h+e);return n.d?(t=getPrecision(n.d),e&&n.e+1>t&&(t=n.e+1)):t=NaN,t},S.round=function(){var e=this,t=e.constructor;return finalise(new t(e),e.e+1,t.rounding)},S.sine=S.sin=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+Math.max(n.e,n.sd())+7,r.rounding=1,n=function sine(e,t){var n,r=t.d.length;if(r<3)return taylorSeries(e,2,t,t);n=(n=1.4*Math.sqrt(r))>16?16:0|n,t=t.times(1/tinyPow(5,n)),t=taylorSeries(e,2,t,t);for(var o,a=new e(5),s=new e(16),c=new e(20);n--;)o=t.times(t),t=t.times(a.plus(o.times(s.times(o).minus(c))));return t}(r,toLessThanHalfPi(r,n)),r.precision=e,r.rounding=t,finalise(c>2?n.neg():n,e,t,!0)):new r(NaN)},S.squareRoot=S.sqrt=function(){var e,t,n,r,o,a,s=this,c=s.d,l=s.e,u=s.s,f=s.constructor;if(1!==u||!c||!c[0])return new f(!u||u<0&&(!c||c[0])?NaN:c?s:1/0);for(d=!1,0==(u=Math.sqrt(+s))||u==1/0?(((t=digitsToString(c)).length+l)%2==0&&(t+="0"),u=Math.sqrt(t),l=_((l+1)/2)-(l<0||l%2),r=new f(t=u==1/0?"5e"+l:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new f(u.toString()),n=(l=f.precision)+3;;)if(r=(a=r).plus(O(s,a,n+2,1)).times(.5),digitsToString(a.d).slice(0,n)===(t=digitsToString(r.d)).slice(0,n)){if("9999"!=(t=t.slice(n-3,n+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(finalise(r,l+1,1),e=!r.times(r).eq(s));break}if(!o&&(finalise(a,l+1,0),a.times(a).eq(s))){r=a;break}n+=4,o=1}return d=!0,finalise(r,l,f.rounding,e)},S.tangent=S.tan=function(){var e,t,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(e=r.precision,t=r.rounding,r.precision=e+10,r.rounding=1,(n=n.sin()).s=1,n=O(n,new r(1).minus(n.times(n)).sqrt(),e+10,0),r.precision=e,r.rounding=t,finalise(2==c||4==c?n.neg():n,e,t,!0)):new r(NaN)},S.times=S.mul=function(e){var t,n,r,o,a,s,c,l,u,f=this,p=f.constructor,h=f.d,m=(e=new p(e)).d;if(e.s*=f.s,!(h&&h[0]&&m&&m[0]))return new p(!e.s||h&&!h[0]&&!m||m&&!m[0]&&!h?NaN:h&&m?0*e.s:e.s/0);for(n=_(f.e/7)+_(e.e/7),(l=h.length)<(u=m.length)&&(a=h,h=m,m=a,s=l,l=u,u=s),a=[],r=s=l+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,o=l+r;o>r;)c=a[o]+m[r]*h[o-r-1]+t,a[o--]=c%1e7|0,t=c/1e7|0;a[o]=(a[o]+t)%1e7|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=getBase10Exponent(a,n),d?finalise(e,p.precision,p.rounding):e},S.toBinary=function(e,t){return toStringBinary(this,2,e,t)},S.toDecimalPlaces=S.toDP=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(checkInt32(e,0,1e9),void 0===t?t=r.rounding:checkInt32(t,0,8),finalise(n,e+n.e+1,t))},S.toExponential=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=finiteToString(r,!0):(checkInt32(e,0,1e9),void 0===t?t=o.rounding:checkInt32(t,0,8),n=finiteToString(r=finalise(new o(r),e+1,t),!0,e+1)),r.isNeg()&&!r.isZero()?"-"+n:n},S.toFixed=function(e,t){var n,r,o=this,a=o.constructor;return void 0===e?n=finiteToString(o):(checkInt32(e,0,1e9),void 0===t?t=a.rounding:checkInt32(t,0,8),n=finiteToString(r=finalise(new a(o),e+o.e+1,t),!1,e+r.e+1)),o.isNeg()&&!o.isZero()?"-"+n:n},S.toFraction=function(e){var t,n,r,o,a,s,c,l,u,f,p,_,g=this,y=g.d,v=g.constructor;if(!y)return new v(g);if(u=n=new v(1),r=l=new v(0),s=(a=(t=new v(r)).e=getPrecision(y)-g.e-1)%7,t.d[0]=m(10,s<0?7+s:s),null==e)e=a>0?t:u;else{if(!(c=new v(e)).isInt()||c.lt(u))throw Error(h+c);e=c.gt(t)?a>0?t:u:c}for(d=!1,c=new v(digitsToString(y)),f=v.precision,v.precision=a=7*y.length*2;p=O(c,t,0,1,1),1!=(o=n.plus(p.times(r))).cmp(e);)n=r,r=o,o=u,u=l.plus(p.times(o)),l=o,o=t,t=c.minus(p.times(o)),c=o;return o=O(e.minus(n),r,0,1,1),l=l.plus(o.times(u)),n=n.plus(o.times(r)),l.s=u.s=g.s,_=O(u,r,a,1).minus(g).abs().cmp(O(l,n,a,1).minus(g).abs())<1?[u,r]:[l,n],v.precision=f,d=!0,_},S.toHexadecimal=S.toHex=function(e,t){return toStringBinary(this,16,e,t)},S.toNearest=function(e,t){var n=this,r=n.constructor;if(n=new r(n),null==e){if(!n.d)return n;e=new r(1),t=r.rounding}else{if(e=new r(e),void 0===t?t=r.rounding:checkInt32(t,0,8),!n.d)return e.s?n:e;if(!e.d)return e.s&&(e.s=n.s),e}return e.d[0]?(d=!1,n=O(n,e,0,t,1).times(e),d=!0,finalise(n)):(e.s=n.s,n=e),n},S.toNumber=function(){return+this},S.toOctal=function(e,t){return toStringBinary(this,8,e,t)},S.toPower=S.pow=function(e){var t,n,r,o,a,s,c=this,l=c.constructor,u=+(e=new l(e));if(!(c.d&&e.d&&c.d[0]&&e.d[0]))return new l(m(+c,u));if((c=new l(c)).eq(1))return c;if(r=l.precision,a=l.rounding,e.eq(1))return finalise(c,r,a);if((t=_(e.e/7))>=e.d.length-1&&(n=u<0?-u:u)<=9007199254740991)return o=intPow(l,c,n,r),e.s<0?new l(1).div(o):finalise(o,r,a);if((s=c.s)<0){if(t<e.d.length-1)return new l(NaN);if(0==(1&e.d[t])&&(s=1),0==c.e&&1==c.d[0]&&1==c.d.length)return c.s=s,c}return(t=0!=(n=m(+c,u))&&isFinite(n)?new l(n+"").e:_(u*(Math.log("0."+digitsToString(c.d))/Math.LN10+c.e+1)))>l.maxE+1||t<l.minE-1?new l(t>0?s/0:0):(d=!1,l.rounding=c.s=1,n=Math.min(12,(t+"").length),(o=naturalExponential(e.times(naturalLogarithm(c,r+n)),r)).d&&checkRoundingDigits((o=finalise(o,r+5,1)).d,r,a)&&(t=r+10,+digitsToString((o=finalise(naturalExponential(e.times(naturalLogarithm(c,t+n)),t),t+5,1)).d).slice(r+1,r+15)+1==1e14&&(o=finalise(o,r+1,0))),o.s=s,d=!0,l.rounding=a,finalise(o,r,a))},S.toPrecision=function(e,t){var n,r=this,o=r.constructor;return void 0===e?n=finiteToString(r,r.e<=o.toExpNeg||r.e>=o.toExpPos):(checkInt32(e,1,1e9),void 0===t?t=o.rounding:checkInt32(t,0,8),n=finiteToString(r=finalise(new o(r),e,t),e<=r.e||r.e<=o.toExpNeg,e)),r.isNeg()&&!r.isZero()?"-"+n:n},S.toSignificantDigits=S.toSD=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(checkInt32(e,1,1e9),void 0===t?t=n.rounding:checkInt32(t,0,8)),finalise(new n(this),e,t)},S.toString=function(){var e=this,t=e.constructor,n=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+n:n},S.truncated=S.trunc=function(){return finalise(new this.constructor(this),this.e+1,1)},S.valueOf=S.toJSON=function(){var e=this,t=e.constructor,n=finiteToString(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+n:n};var O=function(){function multiplyInteger(e,t,n){var r,o=0,a=e.length;for(e=e.slice();a--;)r=e[a]*t+o,e[a]=r%n|0,o=r/n|0;return o&&e.unshift(o),e}function compare(e,t,n,r){var o,a;if(n!=r)a=n>r?1:-1;else for(o=a=0;o<n;o++)if(e[o]!=t[o]){a=e[o]>t[o]?1:-1;break}return a}function subtract(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(e,t,n,r,o,a){var c,l,u,f,p,d,h,m,g,y,v,b,E,C,S,O,w,P,N,D,R=e.constructor,A=e.s==t.s?1:-1,T=e.d,I=t.d;if(!(T&&T[0]&&I&&I[0]))return new R(e.s&&t.s&&(T?!I||T[0]!=I[0]:I)?T&&0==T[0]||!I?0*A:A/0:NaN);for(a?(p=1,l=e.e-t.e):(a=1e7,p=7,l=_(e.e/p)-_(t.e/p)),N=I.length,w=T.length,y=(g=new R(A)).d=[],u=0;I[u]==(T[u]||0);u++);if(I[u]>(T[u]||0)&&l--,null==n?(C=n=R.precision,r=R.rounding):C=o?n+(e.e-t.e)+1:n,C<0)y.push(1),d=!0;else{if(C=C/p+2|0,u=0,1==N){for(f=0,I=I[0],C++;(u<w||f)&&C--;u++)S=f*a+(T[u]||0),y[u]=S/I|0,f=S%I|0;d=f||u<w}else{for((f=a/(I[0]+1)|0)>1&&(I=multiplyInteger(I,f,a),T=multiplyInteger(T,f,a),N=I.length,w=T.length),O=N,b=(v=T.slice(0,N)).length;b<N;)v[b++]=0;(D=I.slice()).unshift(0),P=I[0],I[1]>=a/2&&++P;do{f=0,(c=compare(I,v,N,b))<0?(E=v[0],N!=b&&(E=E*a+(v[1]||0)),(f=E/P|0)>1?(f>=a&&(f=a-1),1==(c=compare(h=multiplyInteger(I,f,a),v,m=h.length,b=v.length))&&(f--,subtract(h,N<m?D:I,m,a))):(0==f&&(c=f=1),h=I.slice()),(m=h.length)<b&&h.unshift(0),subtract(v,h,b,a),-1==c&&(c=compare(I,v,N,b=v.length))<1&&(f++,subtract(v,N<b?D:I,b,a)),b=v.length):0===c&&(f++,v=[0]),y[u++]=f,c&&v[0]?v[b++]=T[O]||0:(v=[T[O]],b=1)}while((O++<w||void 0!==v[0])&&C--);d=void 0!==v[0]}y[0]||y.shift()}if(1==p)g.e=l,s=d;else{for(u=1,f=y[0];f>=10;f/=10)u++;g.e=u+l*p-1,finalise(g,o?n+g.e+1:n,r,d)}return g}}();function finalise(e,t,n,r){var o,a,s,c,l,u,f,p,h,_=e.constructor;e:if(null!=t){if(!(p=e.d))return e;for(o=1,c=p[0];c>=10;c/=10)o++;if((a=t-o)<0)a+=7,s=t,l=(f=p[h=0])/m(10,o-s-1)%10|0;else if((h=Math.ceil((a+1)/7))>=(c=p.length)){if(!r)break e;for(;c++<=h;)p.push(0);f=l=0,o=1,s=(a%=7)-7+1}else{for(f=c=p[h],o=1;c>=10;c/=10)o++;l=(s=(a%=7)-7+o)<0?0:f/m(10,o-s-1)%10|0}if(r=r||t<0||void 0!==p[h+1]||(s<0?f:f%m(10,o-s-1)),u=n<4?(l||r)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||r||6==n&&(a>0?s>0?f/m(10,o-s):0:p[h-1])%10&1||n==(e.s<0?8:7)),t<1||!p[0])return p.length=0,u?(t-=e.e+1,p[0]=m(10,(7-t%7)%7),e.e=-t||0):p[0]=e.e=0,e;if(0==a?(p.length=h,c=1,h--):(p.length=h+1,c=m(10,7-a),p[h]=s>0?(f/m(10,o-s)%m(10,s)|0)*c:0),u)for(;;){if(0==h){for(a=1,s=p[0];s>=10;s/=10)a++;for(s=p[0]+=c,c=1;s>=10;s/=10)c++;a!=c&&(e.e++,1e7==p[0]&&(p[0]=1));break}if(p[h]+=c,1e7!=p[h])break;p[h--]=0,c=1}for(a=p.length;0===p[--a];)p.pop()}return d&&(e.e>_.maxE?(e.d=null,e.e=NaN):e.e<_.minE&&(e.e=0,e.d=[0])),e}function finiteToString(e,t,n){if(!e.isFinite())return nonFiniteToString(e);var r,o=e.e,a=digitsToString(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+getZeroString(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):o<0?(a="0."+getZeroString(-o-1)+a,n&&(r=n-s)>0&&(a+=getZeroString(r))):o>=s?(a+=getZeroString(o+1-s),n&&(r=n-o-1)>0&&(a=a+"."+getZeroString(r))):((r=o+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(o+1===s&&(a+="."),a+=getZeroString(r))),a}function getBase10Exponent(e,t){var n=e[0];for(t*=7;n>=10;n/=10)t++;return t}function getLn10(e,t,n){if(t>E)throw d=!0,n&&(e.precision=n),Error("[DecimalError] Precision limit exceeded");return finalise(new e(u),t,1,!0)}function getPi(e,t,n){if(t>C)throw Error("[DecimalError] Precision limit exceeded");return finalise(new e(f),t,n,!0)}function getPrecision(e){var t=e.length-1,n=7*t+1;if(t=e[t]){for(;t%10==0;t/=10)n--;for(t=e[0];t>=10;t/=10)n++}return n}function getZeroString(e){for(var t="";e--;)t+="0";return t}function intPow(e,t,n,r){var o,a=new e(1),s=Math.ceil(r/7+4);for(d=!1;;){if(n%2&&truncate((a=a.times(t)).d,s)&&(o=!0),0===(n=_(n/2))){n=a.d.length-1,o&&0===a.d[n]&&++a.d[n];break}truncate((t=t.times(t)).d,s)}return d=!0,a}function isOdd(e){return 1&e.d[e.d.length-1]}function maxOrMin(e,t,n){for(var r,o=new e(t[0]),a=0;++a<t.length;){if(!(r=new e(t[a])).s){o=r;break}o[n](r)&&(o=r)}return o}function naturalExponential(e,t){var n,r,o,a,s,c,l,u=0,f=0,p=0,h=e.constructor,_=h.rounding,g=h.precision;if(!e.d||!e.d[0]||e.e>17)return new h(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:NaN);for(null==t?(d=!1,l=g):l=t,c=new h(.03125);e.e>-2;)e=e.times(c),p+=5;for(l+=r=Math.log(m(2,p))/Math.LN10*2+5|0,n=a=s=new h(1),h.precision=l;;){if(a=finalise(a.times(e),l,1),n=n.times(++f),digitsToString((c=s.plus(O(a,n,l,1))).d).slice(0,l)===digitsToString(s.d).slice(0,l)){for(o=p;o--;)s=finalise(s.times(s),l,1);if(null!=t)return h.precision=g,s;if(!(u<3&&checkRoundingDigits(s.d,l-r,_,u)))return finalise(s,h.precision=g,_,d=!0);h.precision=l+=10,n=a=c=new h(1),f=0,u++}s=c}}function naturalLogarithm(e,t){var n,r,o,a,s,c,l,u,f,p,h,_=1,m=e,g=m.d,y=m.constructor,v=y.rounding,b=y.precision;if(m.s<0||!g||!g[0]||!m.e&&1==g[0]&&1==g.length)return new y(g&&!g[0]?-1/0:1!=m.s?NaN:g?0:m);if(null==t?(d=!1,f=b):f=t,y.precision=f+=10,r=(n=digitsToString(g)).charAt(0),!(Math.abs(a=m.e)<15e14))return u=getLn10(y,f+2,b).times(a+""),m=naturalLogarithm(new y(r+"."+n.slice(1)),f-10).plus(u),y.precision=b,null==t?finalise(m,b,v,d=!0):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=digitsToString((m=m.times(e)).d)).charAt(0),_++;for(a=m.e,r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1)),p=m,l=s=m=O(m.minus(1),m.plus(1),f,1),h=finalise(m.times(m),f,1),o=3;;){if(s=finalise(s.times(h),f,1),digitsToString((u=l.plus(O(s,new y(o),f,1))).d).slice(0,f)===digitsToString(l.d).slice(0,f)){if(l=l.times(2),0!==a&&(l=l.plus(getLn10(y,f+2,b).times(a+""))),l=O(l,new y(_),f,1),null!=t)return y.precision=b,l;if(!checkRoundingDigits(l.d,f-10,v,c))return finalise(l,y.precision=b,v,d=!0);y.precision=f+=10,u=s=m=O(p.minus(1),p.plus(1),f,1),h=finalise(m.times(m),f,1),o=c=1}l=u,o+=2}}function nonFiniteToString(e){return String(e.s*e.s/0)}function parseDecimal(e,t){var n,r,o;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);r++);for(o=t.length;48===t.charCodeAt(o-1);--o);if(t=t.slice(r,o)){if(o-=r,e.e=n=n-r-1,e.d=[],r=(n+1)%7,n<0&&(r+=7),r<o){for(r&&e.d.push(+t.slice(0,r)),o-=7;r<o;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=o;for(;r--;)t+="0";e.d.push(+t),d&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function parseOther(e,t){var n,r,o,s,c,l,u,f,p;if("Infinity"===t||"NaN"===t)return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(y.test(t))n=16,t=t.toLowerCase();else if(g.test(t))n=2;else{if(!v.test(t))throw Error(h+t);n=8}for((s=t.search(/p/i))>0?(u=+t.slice(s+1),t=t.substring(2,s)):t=t.slice(2),c=(s=t.indexOf("."))>=0,r=e.constructor,c&&(s=(l=(t=t.replace(".","")).length)-s,o=intPow(r,new r(n),s,2*s)),s=p=(f=convertBase(t,n,1e7)).length-1;0===f[s];--s)f.pop();return s<0?new r(0*e.s):(e.e=getBase10Exponent(f,p),e.d=f,d=!1,c&&(e=O(e,o,4*l)),u&&(e=e.times(Math.abs(u)<54?m(2,u):a.pow(2,u))),d=!0,e)}function taylorSeries(e,t,n,r,o){var a,s,c,l,u=e.precision,f=Math.ceil(u/7);for(d=!1,l=n.times(n),c=new e(r);;){if(s=O(c.times(l),new e(t++*t++),u,1),c=o?r.plus(s):r.minus(s),r=O(s.times(l),new e(t++*t++),u,1),void 0!==(s=c.plus(r)).d[f]){for(a=f;s.d[a]===c.d[a]&&a--;);if(-1==a)break}a=c,c=r,r=s,s=a}return d=!0,s.d.length=f+1,s}function tinyPow(e,t){for(var n=e;--t;)n*=e;return n}function toLessThanHalfPi(e,t){var n,r=t.s<0,o=getPi(e,e.precision,1),a=o.times(.5);if((t=t.abs()).lte(a))return c=r?4:1,t;if((n=t.divToInt(o)).isZero())c=r?3:2;else{if((t=t.minus(n.times(o))).lte(a))return c=isOdd(n)?r?2:3:r?4:1,t;c=isOdd(n)?r?1:4:r?3:2}return t.minus(o).abs()}function toStringBinary(e,t,n,r){var o,a,c,u,f,p,d,h,_,m=e.constructor,g=void 0!==n;if(g?(checkInt32(n,1,1e9),void 0===r?r=m.rounding:checkInt32(r,0,8)):(n=m.precision,r=m.rounding),e.isFinite()){for(g?(o=2,16==t?n=4*n-3:8==t&&(n=3*n-2)):o=t,(c=(d=finiteToString(e)).indexOf("."))>=0&&(d=d.replace(".",""),(_=new m(1)).e=d.length-c,_.d=convertBase(finiteToString(_),10,o),_.e=_.d.length),a=f=(h=convertBase(d,10,o)).length;0==h[--f];)h.pop();if(h[0]){if(c<0?a--:((e=new m(e)).d=h,e.e=a,h=(e=O(e,_,n,r,0,o)).d,a=e.e,p=s),c=h[n],u=o/2,p=p||void 0!==h[n+1],p=r<4?(void 0!==c||p)&&(0===r||r===(e.s<0?3:2)):c>u||c===u&&(4===r||p||6===r&&1&h[n-1]||r===(e.s<0?8:7)),h.length=n,p)for(;++h[--n]>o-1;)h[n]=0,n||(++a,h.unshift(1));for(f=h.length;!h[f-1];--f);for(c=0,d="";c<f;c++)d+=l.charAt(h[c]);if(g){if(f>1)if(16==t||8==t){for(c=16==t?4:3,--f;f%c;f++)d+="0";for(f=(h=convertBase(d,o,t)).length;!h[f-1];--f);for(c=1,d="1.";c<f;c++)d+=l.charAt(h[c])}else d=d.charAt(0)+"."+d.slice(1);d=d+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)d="0"+d;d="0."+d}else if(++a>f)for(a-=f;a--;)d+="0";else a<f&&(d=d.slice(0,a)+"."+d.slice(a))}else d=g?"0p+0":"0";d=(16==t?"0x":2==t?"0b":8==t?"0o":"")+d}else d=nonFiniteToString(e);return e.s<0?"-"+d:d}function truncate(e,t){if(e.length>t)return e.length=t,!0}function abs(e){return new this(e).abs()}function acos(e){return new this(e).acos()}function acosh(e){return new this(e).acosh()}function add(e,t){return new this(e).plus(t)}function asin(e){return new this(e).asin()}function asinh(e){return new this(e).asinh()}function atan(e){return new this(e).atan()}function atanh(e){return new this(e).atanh()}function atan2(e,t){e=new this(e),t=new this(t);var n,r=this.precision,o=this.rounding,a=r+4;return e.s&&t.s?e.d||t.d?!t.d||e.isZero()?(n=t.s<0?getPi(this,r,o):new this(0)).s=e.s:!e.d||t.isZero()?(n=getPi(this,a,1).times(.5)).s=e.s:t.s<0?(this.precision=a,this.rounding=1,n=this.atan(O(e,t,a,1)),t=getPi(this,a,1),this.precision=r,this.rounding=o,n=e.s<0?n.minus(t):n.plus(t)):n=this.atan(O(e,t,a,1)):(n=getPi(this,a,1).times(t.s>0?.25:.75)).s=e.s:n=new this(NaN),n}function cbrt(e){return new this(e).cbrt()}function ceil(e){return finalise(e=new this(e),e.e+1,2)}function config(e){if(!e||"object"!=typeof e)throw Error("[DecimalError] Object expected");var t,n,r,o=!0===e.defaults,a=["precision",1,1e9,"rounding",0,8,"toExpNeg",-9e15,0,"toExpPos",0,9e15,"maxE",0,9e15,"minE",-9e15,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(n=a[t],o&&(this[n]=p[n]),void 0!==(r=e[n])){if(!(_(r)===r&&r>=a[t+1]&&r<=a[t+2]))throw Error(h+n+": "+r);this[n]=r}if(n="crypto",o&&(this[n]=p[n]),void 0!==(r=e[n])){if(!0!==r&&!1!==r&&0!==r&&1!==r)throw Error(h+n+": "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");this[n]=!0}else this[n]=!1}return this}function cos(e){return new this(e).cos()}function cosh(e){return new this(e).cosh()}function div(e,t){return new this(e).div(t)}function exp(e){return new this(e).exp()}function floor(e){return finalise(e=new this(e),e.e+1,3)}function hypot(){var e,t,n=new this(0);for(d=!1,e=0;e<arguments.length;)if((t=new this(arguments[e++])).d)n.d&&(n=n.plus(t.times(t)));else{if(t.s)return d=!0,new this(1/0);n=t}return d=!0,n.sqrt()}function isDecimalInstance(e){return e instanceof a||e&&"[object Decimal]"===e.name||!1}function ln(e){return new this(e).ln()}function log(e,t){return new this(e).log(t)}function log2(e){return new this(e).log(2)}function log10(e){return new this(e).log(10)}function max(){return maxOrMin(this,arguments,"lt")}function min(){return maxOrMin(this,arguments,"gt")}function mod(e,t){return new this(e).mod(t)}function mul(e,t){return new this(e).mul(t)}function pow(e,t){return new this(e).pow(t)}function random(e){var t,n,r,o,a=0,s=new this(1),c=[];if(void 0===e?e=this.precision:checkInt32(e,1,1e9),r=Math.ceil(e/7),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(r));a<r;)(o=t[a])>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:c[a++]=o%1e7;else{if(!crypto.randomBytes)throw Error("[DecimalError] crypto unavailable");for(t=crypto.randomBytes(r*=4);a<r;)(o=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((127&t[a+3])<<24))>=214e7?crypto.randomBytes(4).copy(t,a):(c.push(o%1e7),a+=4);a=r/4}else for(;a<r;)c[a++]=1e7*Math.random()|0;for(e%=7,(r=c[--a])&&e&&(o=m(10,7-e),c[a]=(r/o|0)*o);0===c[a];a--)c.pop();if(a<0)n=0,c=[0];else{for(n=-1;0===c[0];n-=7)c.shift();for(r=1,o=c[0];o>=10;o/=10)r++;r<7&&(n-=7-r)}return s.e=n,s.d=c,s}function round(e){return finalise(e=new this(e),e.e+1,this.rounding)}function sign(e){return(e=new this(e)).d?e.d[0]?e.s:0*e.s:e.s||NaN}function sin(e){return new this(e).sin()}function sinh(e){return new this(e).sinh()}function sqrt(e){return new this(e).sqrt()}function sub(e,t){return new this(e).sub(t)}function tan(e){return new this(e).tan()}function tanh(e){return new this(e).tanh()}function trunc(e){return finalise(e=new this(e),e.e+1,1)}(a=function clone(e){var t,n,r;function Decimal(e){var t,n,r,o=this;if(!(o instanceof Decimal))return new Decimal(e);if(o.constructor=Decimal,e instanceof Decimal)return o.s=e.s,void(d?!e.d||e.e>Decimal.maxE?(o.e=NaN,o.d=null):e.e<Decimal.minE?(o.e=0,o.d=[0]):(o.e=e.e,o.d=e.d.slice()):(o.e=e.e,o.d=e.d?e.d.slice():e.d));if("number"===(r=typeof e)){if(0===e)return o.s=1/e<0?-1:1,o.e=0,void(o.d=[0]);if(e<0?(e=-e,o.s=-1):o.s=1,e===~~e&&e<1e7){for(t=0,n=e;n>=10;n/=10)t++;return void(d?t>Decimal.maxE?(o.e=NaN,o.d=null):t<Decimal.minE?(o.e=0,o.d=[0]):(o.e=t,o.d=[e]):(o.e=t,o.d=[e]))}return 0*e!=0?(e||(o.s=NaN),o.e=NaN,void(o.d=null)):parseDecimal(o,e.toString())}if("string"!==r)throw Error(h+e);return 45===(n=e.charCodeAt(0))?(e=e.slice(1),o.s=-1):(43===n&&(e=e.slice(1)),o.s=1),b.test(e)?parseDecimal(o,e):parseOther(o,e)}if(Decimal.prototype=S,Decimal.ROUND_UP=0,Decimal.ROUND_DOWN=1,Decimal.ROUND_CEIL=2,Decimal.ROUND_FLOOR=3,Decimal.ROUND_HALF_UP=4,Decimal.ROUND_HALF_DOWN=5,Decimal.ROUND_HALF_EVEN=6,Decimal.ROUND_HALF_CEIL=7,Decimal.ROUND_HALF_FLOOR=8,Decimal.EUCLID=9,Decimal.config=Decimal.set=config,Decimal.clone=clone,Decimal.isDecimal=isDecimalInstance,Decimal.abs=abs,Decimal.acos=acos,Decimal.acosh=acosh,Decimal.add=add,Decimal.asin=asin,Decimal.asinh=asinh,Decimal.atan=atan,Decimal.atanh=atanh,Decimal.atan2=atan2,Decimal.cbrt=cbrt,Decimal.ceil=ceil,Decimal.cos=cos,Decimal.cosh=cosh,Decimal.div=div,Decimal.exp=exp,Decimal.floor=floor,Decimal.hypot=hypot,Decimal.ln=ln,Decimal.log=log,Decimal.log10=log10,Decimal.log2=log2,Decimal.max=max,Decimal.min=min,Decimal.mod=mod,Decimal.mul=mul,Decimal.pow=pow,Decimal.random=random,Decimal.round=round,Decimal.sign=sign,Decimal.sin=sin,Decimal.sinh=sinh,Decimal.sqrt=sqrt,Decimal.sub=sub,Decimal.tan=tan,Decimal.tanh=tanh,Decimal.trunc=trunc,void 0===e&&(e={}),e&&!0!==e.defaults)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return Decimal.config(e),Decimal}(p)).default=a.Decimal=a,u=new a(u),f=new a(f),void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},566:function(e,t,n){"use strict";var r=n(216),o=n(139).isInteger;var a=4.7421875,s=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];t.name="gamma",t.factory=function factory(e,t,c,l){var u=c(n(156)),f=c(n(567)),p=l("gamma",{number:function(e){var t,n;if(o(e)){if(e<=0)return isFinite(e)?1/0:NaN;if(e>171)return 1/0;for(var r=e-2,c=e-1;r>1;)c*=r,r--;return 0==c&&(c=1),c}if(e<.5)return Math.PI/(Math.sin(Math.PI*e)*p(1-e));if(e>=171.35)return 1/0;if(e>85){var l=e*e,u=l*e,f=u*e,d=f*e;return Math.sqrt(2*Math.PI/e)*Math.pow(e/Math.E,e)*(1+1/(12*e)+1/(288*l)-139/(51840*u)-571/(2488320*f)+163879/(209018880*d)+5246819/(75246796800*d*e))}--e,n=s[0];for(var h=1;h<s.length;++h)n+=s[h]/(e+h);return t=e+a+.5,Math.sqrt(2*Math.PI)*Math.pow(t,e+.5)*Math.exp(-t)*n},Complex:function(t){var n,r;if(0==t.im)return p(t.re);t=new e.Complex(t.re-1,t.im),r=new e.Complex(s[0],0);for(var o=1;o<s.length;++o){var c=t.re+o,l=c*c+t.im*t.im;0!=l?(r.re+=s[o]*c/l,r.im+=-s[o]*t.im/l):r.re=s[o]<0?-1/0:1/0}n=new e.Complex(t.re+a+.5,t.im);var d=Math.sqrt(2*Math.PI);t.re+=.5;var h=f(n,t);0==h.im?h.re*=d:(0==h.re||(h.re*=d),h.im*=d);var _=Math.exp(-n.re);return n.re=_*Math.cos(-n.im),n.im=_*Math.sin(-n.im),u(u(h,n),r)},BigNumber:function(n){if(n.isInteger())return n.isNegative()||n.isZero()?new e.BigNumber(1/0):function bigFactorial(n){if(n.isZero())return new e.BigNumber(1);var r=t.precision+(0|Math.log(n.toNumber())),o=new(e.BigNumber.clone({precision:r}))(n),a=n.toNumber()-1;for(;a>1;)o=o.times(a),a--;return new e.BigNumber(o.toPrecision(e.BigNumber.precision))}(n.minus(1));if(!n.isFinite())return new e.BigNumber(n.isNegative()?NaN:1/0);throw new Error("Integer BigNumber expected")},"Array | Matrix":function(e){return r(e,p)}});return p.toTex={1:"\\Gamma\\left(${args[0]}\\right)"},p}},567:function(e,t,n){"use strict";var r=n(139).isInteger,o=n(136).size;t.name="pow",t.factory=function factory(e,t,a,s){var c=n(176),l=a(n(217)),u=a(n(156)),f=a(n(133)),p=a(n(568)),d=a(n(569)),h=s("pow",{"number, number":_pow,"Complex, Complex":function(e,t){return e.pow(t)},"BigNumber, BigNumber":function(n,r){return r.isInteger()||n>=0||t.predictable?n.pow(r):new e.Complex(n.toNumber(),0).pow(r.toNumber(),0)},"Fraction, Fraction":function(e,n){if(1!==n.d){if(t.predictable)throw new Error("Function pow does not support non-integer exponents for fractions.");return _pow(e.valueOf(),n.valueOf())}return e.pow(n)},"Array, number":_powArray,"Array, BigNumber":function(e,t){return _powArray(e,t.toNumber())},"Matrix, number":_powMatrix,"Matrix, BigNumber":function(e,t){return _powMatrix(e,t.toNumber())},"Unit, number":function(e,t){return e.pow(t)}});function _pow(n,o){if(t.predictable&&!r(o)&&n<0)try{var a=p(o),s=d(a);if((o===s||Math.abs((o-s)/o)<1e-14)&&a.d%2==1)return(a.n%2==0?1:-1)*Math.pow(-n,o)}catch(e){}return n*n<1&&o===1/0||n*n>1&&o===-1/0?0:t.predictable&&(n<-1&&o===1/0||n>-1&&n<0&&o===-1/0)?NaN:r(o)||n>=0||t.predictable?Math.pow(n,o):new e.Complex(n,0).pow(o,0)}function _powArray(e,t){if(!r(t)||t<0)throw new TypeError("For A^b, b must be a positive integer (value is "+t+")");var n=o(e);if(2!=n.length)throw new Error("For A^b, A must be 2 dimensional (A has "+n.length+" dimensions)");if(n[0]!=n[1])throw new Error("For A^b, A must be square (size is "+n[0]+"x"+n[1]+")");for(var a=l(n[0]).valueOf(),s=e;t>=1;)1==(1&t)&&(a=u(s,a)),t>>=1,s=u(s,s);return a}function _powMatrix(e,t){return f(_powArray(e.valueOf(),t))}return h.toTex={2:"\\left(${args[0]}\\right)"+c.operators.pow+"{${args[1]}}"},h}},568:function(e,t,n){"use strict";var r=n(216);t.name="fraction",t.factory=function factory(e,t,n,o){var a=o("fraction",{number:function(t){if(!isFinite(t)||isNaN(t))throw new Error(t+" cannot be represented as a fraction");return new e.Fraction(t)},string:function(t){return new e.Fraction(t)},"number, number":function(t,n){return new e.Fraction(t,n)},null:function(t){return new e.Fraction(0)},BigNumber:function(t){return new e.Fraction(t.toString())},Fraction:function(e){return e},Object:function(t){return new e.Fraction(t)},"Array | Matrix":function(e){return r(e,a)}});return a}},569:function(e,t,n){"use strict";var r=n(216);t.name="number",t.factory=function factory(e,t,n,o){var a=o("number",{"":function(){return 0},number:function(e){return e},string:function(e){var t=Number(e);if(isNaN(t))throw new SyntaxError('String "'+e+'" is no valid number');return t},BigNumber:function(e){return e.toNumber()},Fraction:function(e){return e.valueOf()},Unit:function(e){throw new Error("Second argument with valueless unit expected")},null:function(e){return 0},"Unit, string | Unit":function(e,t){return e.toNumber(t)},"Array | Matrix":function(e){return r(e,a)}});return a.toTex={0:"0",1:"\\left(${args[0]}\\right)",2:"\\left(\\left(${args[0]}\\right)${args[1]}\\right)"},a}},80:function(e,t,n){"use strict";n.r(t);n(5);var r=n(0),o=n.n(r),a=n(16).a.extend({MODE:{BASIC:"basic",SCIENTIFIC:"scientific"},UNIT:{RADIAN:"radian",DEGREE:"degree"},defaults:{},initialize:function initialize(){o.a.contains(o.a.values(this.MODE),this.get("mode"))?this.set("mode",this.get("mode")):this.set("mode",this.MODE.BASIC),o.a.contains(o.a.values(this.UNIT),this.get("unit"))?this.set("unit",this.get("unit")):this.set("unit",this.UNIT.RADIAN)},swapUnit:function swapUnit(){switch(this.get("unit")){case this.UNIT.RADIAN:this.set("unit",this.UNIT.DEGREE);break;case this.UNIT.DEGREE:this.set("unit",this.UNIT.RADIAN)}},getExtended:function getExtended(){if(o.a.isUndefined(this._extended)){var e=this.get("extended");this._extended=!o.a.isUndefined(e)&&"true"===e.toString()}return this._extended},getButton:function getButton(){if(o.a.isUndefined(this._button)){var e=this.get("button");this._button=!!o.a.isUndefined(e)||"true"===e.toString()}return this._button}}),s=n(266),c=n(129),l=n.n(c),u=n(264),f=n(126),p=n.n(f),d=n(128),h=n(130),_=n(177),m=n(235),g=n(273),y=n(140);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=_getPrototypeOf(e);if(t){var o=_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var v=n(335),b=n(134),E=n(127),C=n.n(E),S=function DisplayInput(e){var t=e.mode,n=e.value,r=e.extended,o=e.i18n,a=C()({lrn_calc_result_basic:"basic"===t,lrn_calc_result_scientific:"scientific"===t,lrn_calc_result_basic_extended:r},"lrn_calc_result");return p.a.createElement("div",{className:"lrn_calc_column lrn_calc_input_wrapper"},p.a.createElement("input",{"aria-label":o.labels.ariaLabel.calculator.inputLabel,type:"text",readOnly:"readonly",maxLength:"100",className:a,value:n}))},O=function Button(e){var t=e.type,n=e.content,r=e.ariaLabel,o=e.className,a=e.children,s=e.disabled,c=e.onClick,l=C()(o,"lrn_btn_grid");return p.a.createElement("button",{type:"button",className:l,"aria-label":r,"data-type":t,"data-content":n,disabled:s,onClick:c},a)},w=function ColumnButton(e){return p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(O,e))},P=n(422),N=function BasicContent(e){var t=e.extended,n=e.value,r=e.i18n,o=r.labels.ariaLabel.calculator;return p.a.createElement("div",null,t&&p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(S,{mode:P.b.BASIC,value:n,extended:t,i18n:r})),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{ariaLabel:o.clearEntireInput,type:"clear"},"C"),p.a.createElement(w,{ariaLabel:o.clearLastSymbol,type:"ce"},"CE"),p.a.createElement(w,{ariaLabel:o.percent,className:"lrn_calc_btn_opt",type:"constant",content:"%"},"%"),p.a.createElement(w,{ariaLabel:o.squareRoot,className:"lrn_calc_btn_opt",type:"adv-op",content:"sqrt"},p.a.createElement("span",{className:"lrn-calc-icon lrn-calc-icon-square-root"},p.a.createElement("span",{className:"sr-only"},o.squareRoot))))),!t&&p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{ariaLabel:o.clearEntireInput,type:"clear"},"C"),p.a.createElement(S,{mode:P.b.BASIC,value:n,extended:t,i18n:r})),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{type:"num",content:"7"},"7"),p.a.createElement(w,{type:"num",content:"8"},"8"),p.a.createElement(w,{type:"num",content:"9"},"9"),p.a.createElement(w,{ariaLabel:o.division,className:"lrn_calc_btn_opt",type:"op",content:"÷"},"÷")),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{type:"num",content:"4"},"4"),p.a.createElement(w,{type:"num",content:"5"},"5"),p.a.createElement(w,{type:"num",content:"6"},"6"),p.a.createElement(w,{ariaLabel:o.multiplication,className:"lrn_calc_btn_opt",type:"op",content:"×"},"×")),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{type:"num",content:"1"},"1"),p.a.createElement(w,{type:"num",content:"2"},"2"),p.a.createElement(w,{type:"num",content:"3"},"3"),p.a.createElement(w,{ariaLabel:o.subtraction,className:"lrn_calc_btn_opt",type:"op",content:"−"},"−")),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{type:"num",content:"0"},"0"),p.a.createElement(w,{ariaLabel:o.decimalPoint,type:"deci",content:"."},"."),p.a.createElement(w,{ariaLabel:o.evaluate,type:"eval"},"="),p.a.createElement(w,{ariaLabel:o.addition,className:"lrn_calc_btn_opt",type:"op",content:"+"},"+")))},D=n(132),R=Object(m.a)(Object(m.d)((function(e){return{unit:e.unit}}),{toggleUnit:function toggleUnit(e){var t=e.unit;return function(){return{unit:t===P.c.RADIAN?P.c.DEGREE:P.c.RADIAN}}},secondFunctionToggle:function secondFunctionToggle(e){return function(){return{secondFunctionVisible:!e.secondFunctionVisible}}}}),Object(m.c)((function(e){var t=e.unit,n=e.value,r=e.i18n,o=e.secondFunctionVisible;return{getToggleUnitAriaLabel:function getToggleUnitAriaLabel(){var e=t===P.c.RADIAN,n=e?P.d.RADIAN:P.d.DEGREE,o=e?P.d.DEGREE:P.d.RADIAN;return Object(D.a)(r.labels.ariaLabel.calculator.toggleUnit,{currentUnit:n,newUnit:o})},unitClassname:C()({lrn_calc_cover_deg:t===P.c.RADIAN,lrn_calc_cover_rad:t===P.c.DEGREE},"lrn_calc_cover"),secondFunctionToggleClassname:C()({lrn_active:o},"lrn_calc_btn_opt"),firstFunctionClassname:C()({lrn_hide:o},"lrn_calc_btn_opt lrn_calc_first_function"),secondFunctionClassname:C()({lrn_hide:!o},"lrn_calc_btn_opt lrn_calc_second_function"),dependantOperatorDisabled:""===n||n===P.a||"NaN"===n,i18n:r}})))((function(e){var t=e.value,n=e.unitClassname,r=e.i18n,o=e.secondFunctionToggleClassname,a=e.firstFunctionClassname,s=e.secondFunctionClassname,c=e.dependantOperatorDisabled,l=e.toggleUnit,u=e.secondFunctionToggle,f=(0,e.getToggleUnitAriaLabel)(),d=r.labels.ariaLabel.calculator;return p.a.createElement("div",null,p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{ariaLabel:d.memoryClear,className:"lrn_calc_btn_opt",type:"memory",content:"mc"},"MC"),p.a.createElement(w,{ariaLabel:d.recallValue,className:"lrn_calc_btn_opt",type:"memory",content:"mr"},"MR"),p.a.createElement(w,{ariaLabel:d.addToMemory,className:"lrn_calc_btn_opt",type:"memory",content:"m+"},"M+"),p.a.createElement(w,{ariaLabel:d.substractFromMemory,className:"lrn_calc_btn_opt",type:"memory",content:"m-"},"M-"),p.a.createElement(S,{mode:P.b.SCIENTIFIC,value:t,i18n:r})),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(w,{ariaLabel:f,className:"lrn_calc_btn_opt_dark",type:"unit",onClick:l},"Rad"),p.a.createElement(O,{className:n,type:"unit",onClick:l}),p.a.createElement(w,{ariaLabel:f,className:"lrn_calc_btn_opt_dark",type:"unit",onClick:l},"Deg")),p.a.createElement(w,{ariaLabel:d.percent,className:"lrn_calc_btn_opt",type:"constant",content:"%"},"%"),p.a.createElement(w,{ariaLabel:d.pi,className:"lrn_calc_btn_opt",type:"constant",content:"π"},"π"),p.a.createElement(w,{ariaLabel:d.plusOrMinus,className:"lrn_calc_btn_opt",type:"plus-minus"},"+/−"),p.a.createElement(w,{ariaLabel:d.leftParenthesis,className:"lrn_calc_btn_opt",type:"bracket",content:"("},"("),p.a.createElement(w,{ariaLabel:d.rightParenthesis,className:"lrn_calc_btn_opt",type:"bracket",content:")"},")"),p.a.createElement(w,{ariaLabel:d.clearLastSymbol,className:"lrn_calc_btn_opt",type:"ce"},"CE"),p.a.createElement(w,{ariaLabel:d.clearEntireInput,className:"lrn_calc_btn_opt",type:"clear"},"C")),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{ariaLabel:d.showAdvanced,className:o,type:"second-function",onClick:u},"2",p.a.createElement("sup",{className:"lrn_calc_small_font"},"nd")),p.a.createElement(w,{ariaLabel:d.reciprocal,className:"lrn_calc_btn_opt",type:"adv-op",content:"1/"},"1/x"),p.a.createElement(w,{ariaLabel:d.exponent,className:"lrn_calc_btn_opt lrn_calc_power",type:"op",content:"^",disabled:c},"x",p.a.createElement("sup",{className:"lrn_calc_small_font"},"y")),p.a.createElement(w,{ariaLabel:d.square,className:"lrn_calc_btn_opt lrn_calc_power",type:"op",content:"^2",disabled:c},"x",p.a.createElement("sup",{className:"lrn_calc_small_font"},"2")),p.a.createElement(w,{ariaLabel:d.naturalLogarithm,className:"lrn_calc_btn_opt",type:"adv-op",content:"ln"},"ln"),p.a.createElement(w,{type:"num",content:"7"},"7"),p.a.createElement(w,{type:"num",content:"8"},"8"),p.a.createElement(w,{type:"num",content:"9"},"9"),p.a.createElement(w,{ariaLabel:d.division,className:"lrn_calc_btn_opt",type:"op",content:"÷"},"÷")),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement(w,{ariaLabel:d.squareRoot,className:"lrn_calc_btn_opt",type:"adv-op",content:"sqrt"},p.a.createElement("span",{className:"lrn-calc-icon lrn-calc-icon-square-root-x"},p.a.createElement("span",{className:"sr-only"},d.squareRoot))),p.a.createElement(w,{ariaLabel:d.cubicRoot,className:"lrn_calc_btn_opt",type:"adv-op",content:"thirdroot"},p.a.createElement("span",{className:"lrn-calc-icon lrn-calc-icon-cubic-root"},p.a.createElement("span",{className:"sr-only"},d.cubicRoot))),p.a.createElement(w,{ariaLabel:d.nthRoot,className:"lrn_calc_btn_opt",type:"post-arg-op",content:"nthroot",disabled:c},p.a.createElement("span",{className:"lrn-calc-icon lrn-calc-icon-nth-root"},p.a.createElement("span",{className:"sr-only"},d.nthRoot))),p.a.createElement(w,{ariaLabel:d.eulersNumber,className:"lrn_calc_btn_opt",type:"constant",content:"e"},"e"),p.a.createElement(w,{className:"lrn_calc_btn_opt",type:"adv-op",content:"log"},"log",p.a.createElement("sub",{className:"lrn_calc_small_font"},"10")),p.a.createElement(w,{type:"num",content:"4"},"4"),p.a.createElement(w,{type:"num",content:"5"},"5"),p.a.createElement(w,{type:"num",content:"6"},"6"),p.a.createElement(w,{ariaLabel:d.multiplication,className:"lrn_calc_btn_opt",type:"op",content:"×"},"×")),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(O,{ariaLabel:d.sine,className:a,type:"adv-op",content:"sin"},"sin"),p.a.createElement(O,{ariaLabel:d.inverseSine,className:s,type:"adv-op",content:"asin"},"sin",p.a.createElement("sup",null,"-1"))),p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(O,{ariaLabel:d.cosine,className:a,type:"adv-op",content:"cos"},"cos"),p.a.createElement(O,{ariaLabel:d.inverseCosine,className:s,type:"adv-op",content:"acos"},"cos",p.a.createElement("sup",null,"-1"))),p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(O,{ariaLabel:d.tangent,className:a,type:"adv-op",content:"tan"},"tan"),p.a.createElement(O,{ariaLabel:d.inverseTangent,className:s,type:"adv-op",content:"atan"},"tan",p.a.createElement("sup",null,"-1"))),p.a.createElement(w,{ariaLabel:d.permutations,className:"lrn_calc_btn_opt",type:"post-arg-op",content:"nPr",disabled:c},"nPr"),p.a.createElement(w,{ariaLabel:d.combinations,className:"lrn_calc_btn_opt",type:"post-arg-op",content:"nCr",disabled:c},"nCr"),p.a.createElement(w,{type:"num",content:"1"},"1"),p.a.createElement(w,{type:"num",content:"2"},"2"),p.a.createElement(w,{type:"num",content:"3"},"3"),p.a.createElement(w,{ariaLabel:d.subtraction,className:"lrn_calc_btn_opt",type:"op",content:"−"},"−")),p.a.createElement("div",{className:"lrn_calc_row"},p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(O,{ariaLabel:d.hyperbolicSine,className:a,type:"adv-op",content:"sinh"},"sinh"),p.a.createElement(O,{ariaLabel:d.hyperbolicInverseSine,className:s,type:"adv-op",content:"asinh"},"sinh",p.a.createElement("sup",null,"-1"))),p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(O,{ariaLabel:d.hyperbolicCosine,className:a,type:"adv-op",content:"cosh"},"cosh"),p.a.createElement(O,{ariaLabel:d.hyperbolicInverseCosine,className:s,type:"adv-op",content:"acosh"},"cosh",p.a.createElement("sup",null,"-1"))),p.a.createElement("div",{className:"lrn_calc_column"},p.a.createElement(O,{ariaLabel:d.hyperbolicTangent,className:a,type:"adv-op",content:"tanh"},"tanh"),p.a.createElement(O,{ariaLabel:d.hyperbolicInverseTangent,className:s,type:"adv-op",content:"atanh"},"tanh",p.a.createElement("sup",null,"-1"))),p.a.createElement(w,{ariaLabel:d.factorial,className:"lrn_calc_btn_opt",type:"post-arg-op",content:"fac",disabled:c},"x!"),p.a.createElement(w,{ariaLabel:d.randomNumber,className:"lrn_calc_btn_opt",type:"adv-op",content:"random"},"Rand"),p.a.createElement(w,{type:"num",content:"0"},"0"),p.a.createElement(w,{ariaLabel:d.decimalPoint,type:"deci",content:"."},"."),p.a.createElement(w,{ariaLabel:d.evaluate,className:"lrn_calc_btn_opt_dark",type:"eval"},"="),p.a.createElement(w,{ariaLabel:d.addition,className:"lrn_calc_btn_opt",type:"op",content:"+"},"+")))})),A=n(146);function evalCalculatorContent_typeof(e){return(evalCalculatorContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function evalCalculatorContent_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function evalCalculatorContent_setPrototypeOf(e,t){return(evalCalculatorContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function evalCalculatorContent_createSuper(e){var t=function evalCalculatorContent_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=evalCalculatorContent_getPrototypeOf(e);if(t){var o=evalCalculatorContent_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return evalCalculatorContent_possibleConstructorReturn(this,n)}}function evalCalculatorContent_possibleConstructorReturn(e,t){return!t||"object"!==evalCalculatorContent_typeof(t)&&"function"!=typeof t?evalCalculatorContent_assertThisInitialized(e):t}function evalCalculatorContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function evalCalculatorContent_getPrototypeOf(e){return(evalCalculatorContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function evalCalculatorContent_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var T=function number(e){return{content:e,type:"num"}},I=function operator(e){return{content:e,type:"op"}},M=function bracket(e){return{content:e,type:"bracket"}},k=function constant(e){return{content:e,type:"constant"}},L=function decimal(e){return{content:e,type:"deci"}},B=function clear(){return{type:"clear"}},U=function _eval(){return{type:"eval"}},x={"left parenthesis":/\(/g,"right parenthesis":/\)/g,"square root":/sqrt/g,"inverse hyperbolic sine":/asinh/g,"inverse hyperbolic cosine":/acosh/g,"inverse hyperbolic tangens":/atanh/g,"inverse sine":/asin/g,"inverse cosine":/acos/g,"inverse tangens":/atan/g,"hyperbolic sine":/sinh/g,"hyperbolic cosine":/cosh/g,"hyperbolic tangens":/tanh/g,comma:/,/g,"multiplied by":/×/g,"divided by":/÷/g,minus:/−/g};var F=function(e){!function evalCalculatorContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&evalCalculatorContent_setPrototypeOf(e,t)}(EvalCalculator,e);var t=evalCalculatorContent_createSuper(EvalCalculator);function EvalCalculator(e){var n;!function evalCalculatorContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,EvalCalculator),evalCalculatorContent_defineProperty(evalCalculatorContent_assertThisInitialized(n=t.call(this,e)),"onBodyKeyUp",(function(e){if(n.canHandleKeyEvent()){var t=evalCalculatorContent_assertThisInitialized(n).focusableElements,r=e.keyCode,o=n.props,a=o.mode,s=o.requestToClose;r===b.a.ESCAPE?n.state.value?n.setState({value:""}):s&&s():r===b.a.LEFT?A.a.left(t):r===b.a.UP?A.a.top(t):r===b.a.RIGHT?A.a.right(t):r===b.a.DOWN?A.a.bottom(t):r===b.a.ENTER&&n._inputFocus?n.process(U()):n.process(function getDataToProcess(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.keyCode;if(n>=b.a.NUMBER_0&&n<=b.a.NUMBER_9&&!1===e.shiftKey)return T(String.fromCharCode(n));if(n>=b.a.NUM_PAD_0&&n<=b.a.NUM_PAD_9)return T(""+(n-96));if(n===b.a.NUM_PAD_ADD||(n===b.a.ADD_EQUAL||n===b.a.FF_ADD_EQUAL)&&!0===e.shiftKey)return I(P.h.PLUS);if(n===b.a.NUM_PAD_MINUS||n===b.a.MINUS||n===b.a.FF_MINUS)return I(P.h.MINUS);if(n===b.a.NUM_PAD_MULTIPLY||n===b.a.NUMBER_8&&!0===e.shiftKey)return I(P.h.MULTIPLICATION);if(n===b.a.DIVIDE||n===b.a.NUM_PAD_DIVIDE)return I(P.h.DIVISION);if(n===b.a.DECIMAL||n===b.a.NUM_PAD_DECIMAL)return L(P.e.DECIMAL);if(t){if(n===b.a.NUMBER_9&&!0===e.shiftKey)return M(P.e.BRACKET_OPEN);if(n===b.a.NUMBER_0&&!0===e.shiftKey)return M(P.e.BRACKET_CLOSE);if(n===b.a.NUMBER_5&&!0===e.shiftKey)return k(P.f.PERCENTAGE)}return n===b.a.DELETE?B():n===b.a.ADD_EQUAL||n===b.a.FF_ADD_EQUAL?U():void 0}(e,a===P.b.SCIENTIFIC))}})),evalCalculatorContent_defineProperty(evalCalculatorContent_assertThisInitialized(n),"onCalculatorButtonClicked",(function(e){var t,r="BUTTON"===(t=e.target).tagName?t:function getClosestButtonParent(e){for(var t=e.parentElement;t&&"BUTTON"!==t.tagName;)t=t.parentElement;return t}(t);r&&n.process(r.dataset)}));var r=e.mode,o=e.unit,a=e.extended;return n.processor=new P.g({mode:r,unit:o,extended:a}),n.state={value:""},n}return function evalCalculatorContent_createClass(e,t,n){return t&&evalCalculatorContent_defineProperties(e.prototype,t),n&&evalCalculatorContent_defineProperties(e,n),e}(EvalCalculator,[{key:"componentDidMount",value:function componentDidMount(){var e=this,t=this.container,n=this.props;if(t){var r=t.querySelector("input");r.addEventListener("focus",(function(){return e._inputFocus=!0})),r.addEventListener("blur",(function(){return e._inputFocus=!1}))}o.a.isFunction(n.onMount)&&n.onMount(this.getFacade())}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.active;t!==e.active&&(t?(this.container&&(this.focusableElements=function getFocusableElements(e){var t=e.querySelectorAll("button, input");return Array.prototype.slice.call(t)}(this.container)),document.body.addEventListener("keyup",this.onBodyKeyUp)):document.body.removeEventListener("keyup",this.onBodyKeyUp))}},{key:"componentWillUnmount",value:function componentWillUnmount(){delete this.focusableElements,document.body.removeEventListener("keyup",this.onBodyKeyUp)}},{key:"focusInput",value:function focusInput(){var e=this.container;if(e){var t=e.querySelector("input");t&&t.focus()}}},{key:"getFacade",value:function getFacade(){var e=this;return{focusInput:function focusInput(){return e.focusInput()}}}},{key:"render",value:function render(){var e=this,t=this.state.value,n=this.props,r=n.mode,a=n.unit,s=n.extended,c=n.i18n,l=r===P.b.SCIENTIFIC;return p.a.createElement(p.a.Fragment,null,p.a.createElement("div",{className:"lrn-accessibility-arialive","aria-live":"polite"},function createReadableMathValue(e){return e?(o.a.each(x,(function(t,n){e=e.replace(t," ".concat(n," "))})),e):""}(t)),p.a.createElement("div",{className:"lrn_calc",role:"presentation",onClick:this.onCalculatorButtonClicked,onKeyDown:o.a.noop,ref:function ref(t){return e.container=t}},!l&&p.a.createElement(N,{extended:s,value:t,i18n:c}),l&&p.a.createElement(R,{value:t,unit:a,i18n:c})))}},{key:"process",value:function process(e){if(e){var t=e.type,n=e.content;if(t){var r=this.processor.dispatchCommand(t,n);this.state.value!==r&&this.setState({value:r})}}}},{key:"canHandleKeyEvent",value:function canHandleKeyEvent(){return o.a.contains(this.focusableElements,document.activeElement)}}]),EvalCalculator}(p.a.Component),q=n(193),j=n(7),W=n.n(j);function calculatorContent_typeof(e){return(calculatorContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function calculatorContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function calculatorContent_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function calculatorContent_createClass(e,t,n){return t&&calculatorContent_defineProperties(e.prototype,t),n&&calculatorContent_defineProperties(e,n),e}function calculatorContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&calculatorContent_setPrototypeOf(e,t)}function calculatorContent_setPrototypeOf(e,t){return(calculatorContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function calculatorContent_createSuper(e){var t=function calculatorContent_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=calculatorContent_getPrototypeOf(e);if(t){var o=calculatorContent_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return calculatorContent_possibleConstructorReturn(this,n)}}function calculatorContent_possibleConstructorReturn(e,t){return!t||"object"!==calculatorContent_typeof(t)&&"function"!=typeof t?calculatorContent_assertThisInitialized(e):t}function calculatorContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function calculatorContent_getPrototypeOf(e){return(calculatorContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function calculatorContent_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){calculatorContent_inherits(Toolbar,e);var t=calculatorContent_createSuper(Toolbar);function Toolbar(){var e;calculatorContent_classCallCheck(this,Toolbar);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e=t.call.apply(t,[this].concat(r))),"setCloseButtonElement",(function(t){var n=e.props.setCloseButton;e.closeButton=t,n(t)})),calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e),"registerElement",(function(t){if(t){var n=e.props.moveListeners;o.a.each(n,(function(n,r){t.addEventListener(r,e.handleMoveListener(n),!1)}))}})),calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e),"handleMoveListener",(function(t){return function(n){n.target!==e.closeButton&&t(n)}})),e}return calculatorContent_createClass(Toolbar,[{key:"render",value:function render(){var e=this.props,t=e.onClose,n=e.i18n;return(p.a.createElement("div",{className:"lrn_drag_bar",ref:this.registerElement},p.a.createElement("div",{className:"lrn-drag-handler"},p.a.createElement("span",{className:"lrn-span"}),p.a.createElement("span",{className:"lrn-span"}),p.a.createElement("span",{className:"lrn-span"}),p.a.createElement("span",{className:"lrn-span"})),p.a.createElement("button",{type:"button",className:"lrn_calculator_close","aria-label":n.labels.ariaLabel.calculator.closeButton,onClick:t,ref:this.setCloseButtonElement})))}}]),Toolbar}(p.a.Component),V=function(e){calculatorContent_inherits(CalculatorContent,e);var t=calculatorContent_createSuper(CalculatorContent);function CalculatorContent(){var e;calculatorContent_classCallCheck(this,CalculatorContent);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e=t.call.apply(t,[this].concat(r))),"isNewlyOpened",!1),calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e),"closeButton",void 0),calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e),"containerElement",void 0),calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e),"setCloseButton",(function(t){e.closeButton=t})),calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e),"setContainerElement",(function(t){e.props.contentElement&&e.props.contentElement(t),e.props.setCalculatorElement(t),e.containerElement=t})),calculatorContent_defineProperty(calculatorContent_assertThisInitialized(e),"trapFocus",(function(){e.containerElement&&e.containerElement.addEventListener("keydown",(function(t){var n="Tab"===t.key||t.keyCode===b.a.TAB,r="Escape"===t.key||t.keyCode===b.a.ESCAPE,o="ArrowLeft"===t.key||t.keyCode===b.a.LEFT,a="ArrowRight"===t.key||t.keyCode===b.a.RIGHT,s="ArrowUp"===t.key||t.keyCode===b.a.UP,c="ArrowDown"===t.key||t.keyCode===b.a.DOWN;(o||a||s||c)&&(t.preventDefault(),t.stopImmediatePropagation()),n?Object(q.a)(e.containerElement,t):r&&e.props.close()}))})),e}return calculatorContent_createClass(CalculatorContent,[{key:"componentDidMount",value:function componentDidMount(){this.trapFocus()}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props,n=t.visible,r=t.position,a=t.positioningCompleted,s=e.visible,c=e.position,l=o()(c).every(o.a.isNumber),u=o()(r).every(o.a.isNumber);(u&&!l&&n||u&&(n&&!s))&&(this.isNewlyOpened=!0),this.isNewlyOpened&&a&&(this.closeButton.focus(),this.isNewlyOpened=!1)}},{key:"focusInput",value:function focusInput(){this.evalCalculatorFacade&&this.evalCalculatorFacade.focusInput()}},{key:"render",value:function render(){var e=this,t=this.props,n=t.mode,r=t.unit,o=t.extended,a=t.visible,s=t.close,c=t.moveListeners,l=t.i18n,u=W.a.isSafari?void 0:"true";return p.a.createElement("div",{className:"lrn_calc_content",ref:this.setContainerElement,role:"dialog","aria-modal":u,"aria-label":l.labels.ariaLabel.calculator.calculatorHeading},p.a.createElement(K,{moveListeners:c,onClose:s,setCloseButton:this.setCloseButton,i18n:l}),p.a.createElement(F,{extended:o,unit:r,mode:n,active:a,onMount:function onMount(t){return e.evalCalculatorFacade=t},requestToClose:s,i18n:l}))}}]),CalculatorContent}(p.a.Component),H=Object(m.a)(function withAutoPosition(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{gap:5};return function(t){return function(n){_inherits(_temp,n);var r=_createSuper(_temp);function _temp(){var t;_classCallCheck(this,_temp);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"state",{position:void 0,positioningCompleted:!1}),_defineProperty(_assertThisInitialized(t),"updatePosition",(function(){var n=t.props.getBaseElement,r=_assertThisInitialized(t).contentElement,o=n&&n();if(!t._unmounted&&o&&r&&t.props.visible){var a=y.a.relativeToElement(o,r,{gap:e.gap,centerAlign:!1}),s=a.top,c=a.left;t.setState({position:{x:c,y:s},positioningCompleted:!0})}})),t}return _createClass(_temp,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=e.visible,n=this.props.visible;t!==n&&(n?requestAnimationFrame(this.updatePosition):this.setState({position:void 0,positioningCompleted:!1}))}},{key:"componentWillUnmount",value:function componentWillUnmount(){this._unmounted=!0}},{key:"render",value:function render(){var e=this,n=this.state,r=n.position,o=n.positioningCompleted;return p.a.createElement(t,_extends({},this.props,{position:r,positioningCompleted:o,contentElement:function contentElement(t){return e.contentElement=t}}))}}]),_temp}(p.a.Component)}}({gap:10}),g.a,v.a)(V);function calculator_typeof(e){return(calculator_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function calculator_extends(){return(calculator_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function calculator_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function calculator_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function calculator_createClass(e,t,n){return t&&calculator_defineProperties(e.prototype,t),n&&calculator_defineProperties(e,n),e}function calculator_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&calculator_setPrototypeOf(e,t)}function calculator_setPrototypeOf(e,t){return(calculator_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function calculator_createSuper(e){var t=function calculator_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=calculator_getPrototypeOf(e);if(t){var o=calculator_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return calculator_possibleConstructorReturn(this,n)}}function calculator_possibleConstructorReturn(e,t){return!t||"object"!==calculator_typeof(t)&&"function"!=typeof t?calculator_assertThisInitialized(e):t}function calculator_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function calculator_getPrototypeOf(e){return(calculator_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function calculator_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var z=function(e){calculator_inherits(Calculator,e);var t=calculator_createSuper(Calculator);function Calculator(){var e;calculator_classCallCheck(this,Calculator);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return calculator_defineProperty(calculator_assertThisInitialized(e=t.call.apply(t,[this].concat(r))),"toggleButton",void 0),calculator_defineProperty(calculator_assertThisInitialized(e),"triggeringElement",void 0),calculator_defineProperty(calculator_assertThisInitialized(e),"calculatorElement",void 0),calculator_defineProperty(calculator_assertThisInitialized(e),"onButtonClicked",(function(){var t=e.props.calculator.visible;e.triggeringElement=e.toggleButton,e.props.baseActions.toggle(!t,e.triggeringElement)})),calculator_defineProperty(calculator_assertThisInitialized(e),"closeCalculator",(function(){e.props.baseActions.toggle(!1),e.triggeringElement&&e.triggeringElement.focus()})),calculator_defineProperty(calculator_assertThisInitialized(e),"setCalculatorElement",(function(t){e.calculatorElement=t})),calculator_defineProperty(calculator_assertThisInitialized(e),"getBaseElement",(function(){var t=e.props.getComponentWrapper;return e.toggleButton||t&&t()})),e}return calculator_createClass(Calculator,[{key:"componentDidUpdate",value:function componentDidUpdate(){var e=this.props.calculator.triggeringElement;e&&e!==this.triggeringElement&&!this.calculatorElement.contains(e)&&(this.triggeringElement=e)}},{key:"render",value:function render(){var e=this,t=this.props,n=t.base,r=t.calculator,o=n.i18n,a=n.featureId,s=n.disabled,c=n.fontSizeClass,l=r.buttonVisible,u=r.visible;return p.a.createElement(p.a.Fragment,null,l&&p.a.createElement("button",{type:"button",className:"lrn_btn lrn-calc-toggle",disabled:s,"aria-label":o.labels.calculator,ref:function ref(t){return e.toggleButton=t},onClick:this.onButtonClicked},p.a.createElement("span",{className:"btn-label"},o.labels.calculator)),p.a.createElement(H,calculator_extends({floatElementClasses:"lrn lrn_feature lrn_calculator ".concat(c),floatElementId:a,close:this.closeCalculator,visible:u,getBaseElement:this.getBaseElement,setCalculatorElement:this.setCalculatorElement,i18n:o},r)))}}]),Calculator}(p.a.Component),G=d.b((function(e){return{base:e.base,calculator:e.calculator}}),(function(e){return{baseActions:h.b(_.a,e)}}))(function(e){calculator_inherits(_temp,e);var t=calculator_createSuper(_temp);function _temp(){var e;calculator_classCallCheck(this,_temp);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return calculator_defineProperty(calculator_assertThisInitialized(e=t.call.apply(t,[this].concat(r))),"getComponentWrapper",(function(){if(!e._unmounted)return l.a.findDOMNode(calculator_assertThisInitialized(e))})),e}return calculator_createClass(_temp,[{key:"componentWillUnmount",value:function componentWillUnmount(){this._unmounted=!0}},{key:"render",value:function render(){return p.a.createElement(u.b,null,p.a.createElement(z,calculator_extends({},this.props,{getComponentWrapper:this.getComponentWrapper})))}}]),_temp}(p.a.Component));function dataService_typeof(e){return(dataService_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dataService_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dataService_defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _get(e,t,n){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function _get(e,t,n){var r=function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dataService_getPrototypeOf(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function dataService_setPrototypeOf(e,t){return(dataService_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function dataService_createSuper(e){var t=function dataService_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function _createSuperInternal(){var n,r=dataService_getPrototypeOf(e);if(t){var o=dataService_getPrototypeOf(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return dataService_possibleConstructorReturn(this,n)}}function dataService_possibleConstructorReturn(e,t){return!t||"object"!==dataService_typeof(t)&&"function"!=typeof t?function dataService_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dataService_getPrototypeOf(e){return(dataService_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Z,$=function(e){!function dataService_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dataService_setPrototypeOf(e,t)}(CalculatorDataService,e);var t=dataService_createSuper(CalculatorDataService);function CalculatorDataService(){return dataService_classCallCheck(this,CalculatorDataService),t.apply(this,arguments)}return function dataService_createClass(e,t,n){return t&&dataService_defineProperties(e.prototype,t),n&&dataService_defineProperties(e,n),e}(CalculatorDataService,[{key:"getInitialState",value:function getInitialState(){var e=_get(dataService_getPrototypeOf(CalculatorDataService.prototype),"getInitialState",this).call(this),t=this.unit,n=this.mode,r=this.extended,a=this.buttonVisible,s=this.triggeringElement;return o.a.extend(e,{calculator:{unit:t,mode:n,extended:r,buttonVisible:a,visible:!1,triggeringElement:s}})}},{key:"unit",get:function get(){return this.model.get("unit")}},{key:"mode",get:function get(){return this.model.get("mode")}},{key:"extended",get:function get(){return this.model.getExtended()}},{key:"buttonVisible",get:function get(){return this.model.getButton()}},{key:"triggeringElement",get:function get(){return null}}]),CalculatorDataService}(n(265).a),Q=n(25);function reducer_defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=(reducer_defineProperty(Z={},_.a.actionTypes.FEATURE_SET_DISABLED,(function(e,t){if(t.disabled)return{visible:!1}})),reducer_defineProperty(Z,_.a.actionTypes.FEATURE_TOGGLE,(function(e,t){var n=e.disabled,r=t.visible,a=t.triggeringElement;return!0===n?{visible:!1,triggeringElement:a}:{visible:o.a.isUndefined(r)?!e.visible:t.visible,triggeringElement:a}})),Z),Y=Object(Q.a)(J),X=s.a.extend({DataService:$,ViewComponent:G,getReducers:function getReducers(){var e=s.a.prototype.getReducers.apply(this,arguments);return o.a.extend(e,{calculator:Y})},isVisible:function isVisible(){return o.a.getNested(this.getStore().getState(),"calculator.visible")},applyComputedVisibility:function applyComputedVisibility(e){e!==this.isVisible()&&(e&&!this.hiddenByComputedVisibilityChange||(this.toggle(e),this.hiddenByComputedVisibilityChange=!e))},reset:function reset(){var e=this.getStore().dispatch;e(_.a.toggle(!1)),e(_.a.setDisabled(!1))}});t.default={Model:a,View:X}}}]);