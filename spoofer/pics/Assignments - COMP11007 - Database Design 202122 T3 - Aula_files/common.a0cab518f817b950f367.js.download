(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1518:function(e,t,n){"use strict";var a=n(1522);n.d(t,"a",(function(){return a.a})),n.d(t,"b",(function(){return a.c}))},1535:function(e,t,n){"use strict";n.r(t),n.d(t,"borders",(function(){return v})),n.d(t,"border",(function(){return d})),n.d(t,"borderTop",(function(){return p})),n.d(t,"borderRight",(function(){return f})),n.d(t,"borderBottom",(function(){return m})),n.d(t,"borderLeft",(function(){return b})),n.d(t,"borderColor",(function(){return g})),n.d(t,"borderRadius",(function(){return h})),n.d(t,"breakpoints",(function(){return r.a})),n.d(t,"compose",(function(){return l})),n.d(t,"styleFunctionSx",(function(){return j})),n.d(t,"css",(function(){return O})),n.d(t,"display",(function(){return R})),n.d(t,"flexbox",(function(){return G})),n.d(t,"flexBasis",(function(){return q})),n.d(t,"flexDirection",(function(){return A})),n.d(t,"flexWrap",(function(){return D})),n.d(t,"justifyContent",(function(){return P})),n.d(t,"alignItems",(function(){return z})),n.d(t,"alignContent",(function(){return F})),n.d(t,"order",(function(){return L})),n.d(t,"flex",(function(){return N})),n.d(t,"flexGrow",(function(){return M})),n.d(t,"flexShrink",(function(){return _})),n.d(t,"alignSelf",(function(){return U})),n.d(t,"justifyItems",(function(){return B})),n.d(t,"justifySelf",(function(){return H})),n.d(t,"grid",(function(){return ae})),n.d(t,"gridGap",(function(){return V})),n.d(t,"gridColumnGap",(function(){return W})),n.d(t,"gridRowGap",(function(){return K})),n.d(t,"gridColumn",(function(){return Q})),n.d(t,"gridRow",(function(){return Y})),n.d(t,"gridAutoFlow",(function(){return J})),n.d(t,"gridAutoColumns",(function(){return Z})),n.d(t,"gridAutoRows",(function(){return $})),n.d(t,"gridTemplateColumns",(function(){return X})),n.d(t,"gridTemplateRows",(function(){return ee})),n.d(t,"gridTemplateAreas",(function(){return te})),n.d(t,"gridArea",(function(){return ne})),n.d(t,"palette",(function(){return oe})),n.d(t,"color",(function(){return re})),n.d(t,"bgcolor",(function(){return ie})),n.d(t,"positions",(function(){return fe})),n.d(t,"position",(function(){return se})),n.d(t,"zIndex",(function(){return ce})),n.d(t,"top",(function(){return le})),n.d(t,"right",(function(){return ue})),n.d(t,"bottom",(function(){return de})),n.d(t,"left",(function(){return pe})),n.d(t,"shadows",(function(){return me})),n.d(t,"sizing",(function(){return we})),n.d(t,"width",(function(){return ge})),n.d(t,"maxWidth",(function(){return he})),n.d(t,"minWidth",(function(){return ve})),n.d(t,"height",(function(){return ye})),n.d(t,"maxHeight",(function(){return xe})),n.d(t,"minHeight",(function(){return Ee})),n.d(t,"sizeWidth",(function(){return Oe})),n.d(t,"sizeHeight",(function(){return je})),n.d(t,"boxSizing",(function(){return ke})),n.d(t,"spacing",(function(){return Se.b})),n.d(t,"createUnarySpacing",(function(){return Se.a})),n.d(t,"style",(function(){return o})),n.d(t,"typography",(function(){return Pe})),n.d(t,"fontFamily",(function(){return Ie})),n.d(t,"fontSize",(function(){return Ce})),n.d(t,"fontStyle",(function(){return Te})),n.d(t,"fontWeight",(function(){return Re})),n.d(t,"letterSpacing",(function(){return qe})),n.d(t,"lineHeight",(function(){return Ae})),n.d(t,"textAlign",(function(){return De}));var a=n(66),r=n(547);function i(e,t){return t&&"string"==typeof t?t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e):null}var o=function(e){var t=e.prop,n=e.cssProperty,o=void 0===n?e.prop:n,s=e.themeKey,c=e.transform,l=function(e){if(null==e[t])return null;var n=e[t],l=i(e.theme,s)||{};return Object(r.b)(e,n,(function(e){var t;return"function"==typeof l?t=l(e):Array.isArray(l)?t=l[e]||e:(t=i(l,e)||e,c&&(t=c(t))),!1===o?t:Object(a.a)({},o,t)}))};return l.propTypes={},l.filterProps=[t],l},s=n(11),c=n(371);var l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=function(e){return t.reduce((function(t,n){var a=n(e);return a?Object(c.a)(t,a):t}),{})};return a.propTypes={},a.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),a};function u(e){return"number"!=typeof e?e:"".concat(e,"px solid")}var d=o({prop:"border",themeKey:"borders",transform:u}),p=o({prop:"borderTop",themeKey:"borders",transform:u}),f=o({prop:"borderRight",themeKey:"borders",transform:u}),m=o({prop:"borderBottom",themeKey:"borders",transform:u}),b=o({prop:"borderLeft",themeKey:"borders",transform:u}),g=o({prop:"borderColor",themeKey:"palette"}),h=o({prop:"borderRadius",themeKey:"shape"}),v=l(d,p,f,m,b,g,h),y=n(209);function x(e,t){var n={};return Object.keys(e).forEach((function(a){-1===t.indexOf(a)&&(n[a]=e[a])})),n}function E(e){var t=function(t){var n=e(t);return t.css?Object(s.a)({},Object(c.a)(n,e(Object(s.a)({theme:t.theme},t.css))),x(t.css,[e.filterProps])):t.sx?Object(s.a)({},Object(c.a)(n,e(Object(s.a)({theme:t.theme},t.sx))),x(t.sx,[e.filterProps])):n};return t.propTypes={},t.filterProps=["css","sx"].concat(Object(y.a)(e.filterProps)),t}function O(e){return E(e)}var j=E,k=o({prop:"displayPrint",cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}}),w=o({prop:"display"}),S=o({prop:"overflow"}),I=o({prop:"textOverflow"}),C=o({prop:"visibility"}),T=o({prop:"whiteSpace"}),R=l(k,w,S,I,C,T),q=o({prop:"flexBasis"}),A=o({prop:"flexDirection"}),D=o({prop:"flexWrap"}),P=o({prop:"justifyContent"}),z=o({prop:"alignItems"}),F=o({prop:"alignContent"}),L=o({prop:"order"}),N=o({prop:"flex"}),M=o({prop:"flexGrow"}),_=o({prop:"flexShrink"}),U=o({prop:"alignSelf"}),B=o({prop:"justifyItems"}),H=o({prop:"justifySelf"}),G=l(q,A,D,P,z,F,L,N,M,_,U,B,H),V=o({prop:"gridGap"}),W=o({prop:"gridColumnGap"}),K=o({prop:"gridRowGap"}),Q=o({prop:"gridColumn"}),Y=o({prop:"gridRow"}),J=o({prop:"gridAutoFlow"}),Z=o({prop:"gridAutoColumns"}),$=o({prop:"gridAutoRows"}),X=o({prop:"gridTemplateColumns"}),ee=o({prop:"gridTemplateRows"}),te=o({prop:"gridTemplateAreas"}),ne=o({prop:"gridArea"}),ae=l(V,W,K,Q,Y,J,Z,$,X,ee,te,ne),re=o({prop:"color",themeKey:"palette"}),ie=o({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette"}),oe=l(re,ie),se=o({prop:"position"}),ce=o({prop:"zIndex",themeKey:"zIndex"}),le=o({prop:"top"}),ue=o({prop:"right"}),de=o({prop:"bottom"}),pe=o({prop:"left"}),fe=l(se,ce,le,ue,de,pe),me=o({prop:"boxShadow",themeKey:"shadows"});function be(e){return e<=1?"".concat(100*e,"%"):e}var ge=o({prop:"width",transform:be}),he=o({prop:"maxWidth",transform:be}),ve=o({prop:"minWidth",transform:be}),ye=o({prop:"height",transform:be}),xe=o({prop:"maxHeight",transform:be}),Ee=o({prop:"minHeight",transform:be}),Oe=o({prop:"size",cssProperty:"width",transform:be}),je=o({prop:"size",cssProperty:"height",transform:be}),ke=o({prop:"boxSizing"}),we=l(ge,he,ve,ye,xe,Ee,ke),Se=n(1523),Ie=o({prop:"fontFamily",themeKey:"typography"}),Ce=o({prop:"fontSize",themeKey:"typography"}),Te=o({prop:"fontStyle",themeKey:"typography"}),Re=o({prop:"fontWeight",themeKey:"typography"}),qe=o({prop:"letterSpacing"}),Ae=o({prop:"lineHeight"}),De=o({prop:"textAlign"}),Pe=l(Ie,Ce,Te,Re,qe,Ae,De)},1600:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return d}));var a="hand-in",r="turnitin",i="quizzes",o="manual",s='Creation failed due to a server error. Please try again by clicking on the button to "Create extension".',c="You are trying to create an extension of an extension. This is not possible.",l="parent-assignment-submissions-exist",u="extension-submissions-exist",d={freeform:"Free form",percentage:"Percentages",rubric:"Rubric",passFail:"Pass/Fail"}},1602:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z})),n.d(t,"b",(function(){return $}));var a=n(3),r=n.n(a),i=n(4),o=n.n(i),s=n(5),c=n.n(s),l=n(9),u=n.n(l),d=n(8),p=n.n(d),f=n(2),m=n.n(f),b=n(12),g=n.n(b),h=n(45),v=n.n(h),y=n(7),x=n.n(y),E=n(6),O=n.n(E),j=n(0),k=n.n(j),w=n(1),S=n.n(w),I=n(1774),C=n(1771),T=n(1815),R=n(165),q=n(37),A=n.n(q),D=n(16),P=n(200);function z(e,t){var n=O()(e);if(r.a){var a=r()(e);t&&(a=a.filter((function(t){return o()(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):c.a?u()(e,c()(n)):z(Object(n)).forEach((function(t){p()(e,t,o()(n,t))}))}return e}var L=function(e,t,n,a){return A.a.put("".concat(Object(D.U)(),"/").concat(t,"/presentations/").concat(n.id),{title:n.title,scheduledFor:n.scheduledFor,hidden:n.hidden,src:n.src,files:n.files,slides:n.slides},{headers:F({"x-session-token":e,"x-user-id":a},Object(P.a)())})},N=function(e,t,n){return Object(R.useMutation)((function(a){return L(e,t,a,n)}))},M=n(20),_=n.n(M),U=n(65),B=n.n(U),H=function(e){var t={};return e.forEach((function(e,n){if("mcq"===e.type||"poll"===e.type){0===e.data.stimulus.length&&(t[n]=[].concat(_()(t[n]||[]),["Question text must be provided."])),e.data.stimulus.length>300&&(t[n]=[].concat(_()(t[n]||[]),["Question text cannot be larger than 300 characters."])),e.data.options.length<2&&(t[n]=[].concat(_()(t[n]||[]),["At least two options must be provided."])),e.data.options.forEach((function(e){e.label.length>100&&(t[n]=[].concat(_()(t[n]||[]),["Option ".concat(e.key," text cannot be larger than 100 characters.")]))}));var a=e.data.options.map((function(e){return e.label}));a.length!==_()(new B.a(a)).length&&(t[n]=[].concat(_()(t[n]||[]),["Two options cannot have the same text."]))}if("mcq"===e.type){var r=e.data.validation.validResponse[0].key;e.data.options.find((function(e){return e.key===r}))||(t[n]=[].concat(_()(t[n]||[]),["Correct answer text must be provided."]))}})),t};function G(e,t){var n=O()(e);if(r.a){var a=r()(e);t&&(a=a.filter((function(t){return o()(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):c.a?u()(e,c()(n)):G(Object(n)).forEach((function(t){p()(e,t,o()(n,t))}))}return e}var W=function(e){return e.map((function(e){var t;return"mcq"===e.type||"poll"===e.type?V(V({},e),{},{data:V(V({},e.data),{},{stimulus:null===(t=e.data.stimulus)||void 0===t?void 0:t.trim(),options:e.data.options.map((function(e){var t;return V(V({},e),{},{label:null===(t=e.label)||void 0===t?void 0:t.trim()})}))})}):e}))},K=n(1773);function Q(e,t){var n=O()(e);if(r.a){var a=r()(e);t&&(a=a.filter((function(t){return o()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(n),!0).forEach((function(t){m()(e,t,n[t])})):c.a?u()(e,c()(n)):Q(Object(n)).forEach((function(t){p()(e,t,o()(n,t))}))}return e}var J=Object(I.a)(null),Z=function(e){var t,n=e.children,a=e.presentationId,r=e.sessionToken,i=e.spaceId,o=e.userId,s=e.isEducator,c=Object(j.useState)([]),l=v()(c,2),u=l[0],d=l[1],p=Object(j.useState)(!1),f=v()(p,2),m=f[0],b=f[1],h=Object(j.useState)(0),y=v()(h,2),E=y[0],w=y[1],S=Object(j.useState)({}),I=v()(S,2),R=I[0],q=I[1],A=Object(j.useRef)(null),D=Object(j.useRef)([]),P=Object(j.useRef)(null),z=Object(j.useRef)(null),F=Object(T.a)(r,i,a,o),L=F.data,M=F.isSuccess,_=null==L||null===(t=L.data)||void 0===t?void 0:t.title,U=N(r,i,o),B=U.isLoading,G=U.mutateAsync,V=function(){var e=g()(x.a.mark((function e(){var t,n,a,r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=A.current?Object(K.a)(A,D,P,z):null,n=t?Object(C.a)(Y({activeSlide:E},t))(u):u,a=W(n),r=H(a),!O()(r).length){e.next=9;break}return w(Number(O()(r)[0])),q(r),e.abrupt("return");case 9:return q({}),e.next=12,G(Y(Y({},L.data),{},{slides:a}));case 12:d(a),b(!1),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(0);case 18:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();Object(j.useEffect)((function(){var e;!m&&null!=L&&null!==(e=L.data)&&void 0!==e&&e.slides&&d(L.data.slides)}),[L]);var Q={activeSlide:E,correctRef:z,hasCorrectRef:P,isEducator:s,optionRefs:D,presentationId:a,presentationTitle:_,questionRef:A,saveIsLoading:B,saveSlidesToAPI:V,setActiveSlide:w,slidesData:L,slidesIsSuccess:M,slides:u,setSlides:function(e){d(e),b(!0)},spaceId:i,validationErrors:R,areSlidesDirty:m,setAreSlidesDirty:b};return k.a.createElement(J.Provider,{value:Q},n)};Z.propTypes={children:S.a.node.isRequired,presentationId:S.a.string.isRequired,sessionToken:S.a.string.isRequired,spaceId:S.a.string.isRequired,userId:S.a.string.isRequired,isEducator:S.a.bool.isRequired};var $=function(e){return Object(I.b)(J,e)}},1605:function(e,t,n){"use strict";var a=n(19),r=n.n(a),i="HH:mm",o="MMM DD",s="YYYY";t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=void 0===t.includeTime||t.includeTime,a=r()(new Date),c=a.clone().startOf("day"),l=a.clone().subtract(1,"days").startOf("day"),u=a.clone().startOf("year"),d=r()(e),p=d.isSame(c,"d"),f=d.isSame(l,"d"),m=d.isSame(u,"y");if(p)return n?d.format("[Today], ".concat(i)):"Today";if(f)return n?d.format("[Yesterday], ".concat(i)):"Yesterday";if(m){var b=n?"".concat(o,", ").concat(i):o;return d.format(b)}var g=n?"".concat(o," ").concat(s,", ").concat(i):"".concat(o," ").concat(s);return d.format(g)}},1610:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return V})),n.d(t,"d",(function(){return K}));var a=n(25),r=n(77),i=[{regex:/https:\/\/((.*)-(parse-bucket|parse-storage).s3.amazonaws.com)\//,handler:function(e,t,n){return"https://files.".concat("ublend"===n?"app":n,".aula.education/")}},{regex:/https:\/\/s3..*amazonaws.com\/(.*)-(parse-bucket|parse-storage)\//,handler:function(e,t,n){return"https://files.".concat("ublend"===n?"app":n,".aula.education/")}}],o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.reduce((function(e,t){return e.replace(t.regex,t.handler)}),e)},s=n(238),c=function(e){return function(t,n){var i=n(),c=Object(a.currentClassRoomId)(i);Object(r.e)(c,e).then((function(e){var t=o(e);window.open(t,"_blank")})).catch((function(){t(s.a.showToast({emoji:"🤔",message:"There was an error when exporting the materials."}))}))}},l=n(138),u=n.n(l),d=n(211),p=n.n(d),f=n(551),m=n.n(f),b=n(859),g=function(){return function(e,t){var n=t(),r=u()(Object(b.a)(n)),i="PAGE_".concat(Object(a.classRoomName)(n),"_class_material_").concat(p()(),".json");m()(r,i,"text/plain")}},h=n(6),v=n.n(h),y=n(3),x=n.n(y),E=n(4),O=n.n(E),j=n(5),k=n.n(j),w=n(9),S=n.n(w),I=n(8),C=n.n(I),T=n(12),R=n.n(T),q=n(20),A=n.n(q),D=n(2),P=n.n(D),z=n(7),F=n.n(z),L=n(1601),N=n(62),M=n(29),_=function(e){return function(t){return t({type:M.h,status:"success",updatedMaterial:e,payload:{updatedMaterial:e}})}},U=n(388);function B(e,t){var n=v()(e);if(x.a){var a=x()(e);t&&(a=a.filter((function(t){return O()(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):k.a?S()(e,k()(n)):B(Object(n)).forEach((function(t){C()(e,t,O()(n,t))}))}return e}var G=function(e){return function(e){return!!e.blocks}(e)?Object(L.f)(e):e},V=function(e,t){return function(){var n=R()(F.a.mark((function n(a,r){var i,o,s,c,l;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=r(),o=H(H({},N.getMaterial(i,e)),{},{content:N.selectedContent(i)}),s=G(o.content),c=G(t.material[0].content),l=H(H({},o),{},{content:(u=s,d=c,H(H({},u),{},{context:H(H({},u.context),{},{entities:H(H({},u.context.entities),d.context.entities)}),value:[].concat(A()(u.value),A()(d.value))}))}),a(_(l)),a(Object(U.a)(!0));case 7:case"end":return n.stop()}var u,d}),n)})));return function(e,t){return n.apply(this,arguments)}}()},W=n(170),K=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var i=r(),o=Object(a.currentClassRoomId)(i),s=t?"educatorArea":"materials",c=null!==e?"/dashboard/".concat(o,"/journey/").concat(s,"/").concat(e):"/dashboard/".concat(o,"/journey/").concat(s);n(Object(W.push)(c))}}},1619:function(e,t,n){"use strict";n.d(t,"c",(function(){return r.a})),n.d(t,"b",(function(){return i.a})),n.d(t,"e",(function(){return o.a})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f.a}));var a=n(1762),r=n(1685),i=n(1686),o=n(1687),s=n(0),c=n.n(s),l=n(14),u=n(15),d=Object(l.b)("div",{target:"edtd2dr0"})("margin-right:",u.b.spacing.small,";min-width:40px;min-height:40px;display:flex;align-items:center;"),p=c.a.memo(d),f=n(1724);t.f=a.a},1625:function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"h",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return f}));var a=function(e,t){return Boolean(e.lti.providers.find((function(e){return e.name===t})))},r=function(e){return a(e,"turnitin")},i=function(e){var t=e.lti.providers.find((function(e){return"turnitin"===e.name}));return t&&t.maxGrade},o=function(e){return a(e,"bibliu")},s=function(e){return a(e,"talis")},c=function(e){return a(e,"echo")},l=function(e){return a(e,"h5p")},u=function(e){return a(e,"planet")},d=function(e){return a(e,"panopto")},p=function(e){return a(e,"bbb")},f=function(e){return e.lti.providers}},1629:function(e,t,n){var a=n(1889);e.exports=function(e,t){if(null==e)return{};var n,r,i=a(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i},e.exports.__esModule=!0,e.exports.default=e.exports},1630:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(12),v=n.n(h),y=n(7),x=n.n(y),E=n(37),O=n.n(E),j=n(703);function k(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):k(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var S={ACTIVITY_EDIT:"/learnosity/activityEdit",UPDATE_QUESTIONS:"/learnosity/update-questions",ASSESS:"/learnosity/assess",SUBMISSIONS:"/learnosity/submissions",DUPLICATE_ITEMS:"/learnosity/duplicateItems",ITEM_LIST:"/learnosity/itemList",SESSION_DETAIL:"/learnosity/sessionDetail",FEEDBACK:"/learnosity/feedback",ADD_ITEMS:"/learnosity/addItems",GET_SESSION_SCORES:"/learnosity/getSessionScores",UPDATE_SESSION_SCORES:"/learnosity/updateSessionScores"},I=function(){var e=v()(x.a.mark((function e(t){var n,a,r,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.baseDomain,a=t.sessionToken,r=t.path,i=t.params,e.abrupt("return",O.a.post("".concat(Object(j.b)(n)).concat(r),w(w({},i),Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).LOCAL&&{local:!0}),{headers:{"x-session-token":a}}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.b=I},1633:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=147},1639:function(e,t,n){"use strict";t.a={percentage:{value:"percentage",displayValue:"Percentages"},points:{value:"points",displayValue:"Points"}}},1649:function(e,t,n){"use strict";var a=n(1817),r=n(1681),i=n(533),o=Object(i.a)(Object(r.a)(a.a),{ignore:!0});t.a=o},1650:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return s}));var a=n(14),r=n(15),i=Object(a.a)("padding-top:0px;padding-bottom:0px;"),o=Object(a.a)("min-width:160px;margin:8px 0px;"),s=Object(a.a)("color:",r.b.color.red,";")},1653:function(e,t,n){e.exports=n.p+"b215d5a0bb077810fc05680f8b3a0121.png"},1654:function(e,t,n){e.exports=n.p+"6c5bf4b3e6da17a8a53373890ee75c4c.svg"},1655:function(e,t,n){e.exports=n.p+"289333fd45d8d2da6215e57f74380998.png"},1656:function(e,t){},1657:function(e,t,n){"use strict";var a=n(1),r=n.n(a);t.a=r.a.shape({id:r.a.string.isRequired,objectId:r.a.string,title:r.a.string.isRequired,provider:r.a.string.isRequired,createdAt:r.a.string,updatedAt:r.a.string,space:r.a.string,startDate:r.a.string.isRequired,endDate:r.a.string.isRequired,status:r.a.string.isRequired,gradeType:r.a.string,isAnonymised:r.a.bool.isRequired,isHidden:r.a.bool.isRequired,shouldCloseOnDueDate:r.a.bool,description:r.a.string,externalId:r.a.string,resourceLinkId:r.a.string,gradesReleasedAt:r.a.string,maxGrade:r.a.number,parentAssignmentId:r.a.string,students:r.a.arrayOf(r.a.string),classRoom:r.a.shape({objectId:r.a.string})})},1658:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n.n(i),s=n(1700),c=n(1769),l=n.n(c),u=function(e){var t=e.primaryText,n=e.secondaryText,i=Object(a.useRef)(null);return r.a.createElement(s.b,null,r.a.createElement(s.e,{width:"162px",src:l.a,alt:"no_search_results"}),r.a.createElement(s.g,{innerRef:i,tabIndex:-1},t,r.a.createElement("br",null),n))};u.propTypes={primaryText:o.a.string.isRequired,secondaryText:o.a.string},u.defaultProps={secondaryText:""},t.a=u},1659:function(e,t,n){"use strict";var a=n(85),r=['[tabindex]:not([tabindex^="-"]):not([inert])','[contenteditable]:not([tabindex^="-"]):not([inert])','a[href]:not([tabindex^="-"]):not([inert])',"input:not([disabled]):not([inert])","button:not([disabled]):not([inert])","textarea:not([disabled]):not([inert])","select:not([disabled]):not([inert])",'area[href]:not([tabindex^="-"]):not([inert])','iframe:not([tabindex^="-"]):not([inert])','audio:not([tabindex^="-"]):not([inert])','video:not([tabindex^="-"]):not([inert])','div[role="button"]'];t.a=function(e,t){if(("Tab"===e.key||e.keyCode===a.g)&&t){var n=t.querySelectorAll(r);if(n&&n.length>0){var i=n[n.length-1],o=n[0];e.shiftKey?document.activeElement===o&&(i.focus(),e.preventDefault()):document.activeElement===i&&(o.focus(),e.preventDefault())}}}},1664:function(e,t,n){"use strict";var a=n(45),r=n.n(a),i=n(0),o=n.n(i),s=n(1668),c=n(1812),l=n(57),u=n.n(l),d=n(49),p=n.n(d),f=n(35),m=n(26),b=n.n(m),g=n(3),h=n.n(g),v=n(4),y=n.n(v),x=n(5),E=n.n(x),O=n(9),j=n.n(O),k=n(8),w=n.n(k),S=n(2),I=n.n(S),C=n(43),T=n.n(C),R=n(50),q=n.n(R),A=n(20),D=n.n(A),P=n(53),z=n.n(P),F=n(52),L=n.n(F),N=n(51),M=n.n(N),_=n(58),U=n.n(_),B=n(60),H=n.n(B),G=n(42),V=n.n(G),W=n(6),K=n.n(W),Q=n(1),Y=n.n(Q),J=n(199),Z=n.n(J),$=n(851),X=n.n($),ee=n(852),te=n.n(ee),ne=n(68);function ae(e,t){return(ae=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var oe,se,ce=(void 0===oe&&(oe=0),function(){return++oe}),le={},ue={},de=["touchstart","touchmove"];function pe(e,t){var n=null;return-1!==de.indexOf(t)&&se&&(n={passive:!e.props.preventDefault}),n}var fe=function(e,t){var n,a,r=e.displayName||e.name||"Component";return a=n=function(n){var a,o;function s(e){var a;return(a=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof a.__clickOutsideHandlerProp){var t=a.getInstance();if("function"!=typeof t.props.handleClickOutside){if("function"!=typeof t.handleClickOutside)throw new Error("WrappedComponent: "+r+" lacks a handleClickOutside(event) function for processing outside click events.");t.handleClickOutside(e)}else t.props.handleClickOutside(e)}else a.__clickOutsideHandlerProp(e)},a.__getComponentNode=function(){var e=a.getInstance();return t&&"function"==typeof t.setClickOutsideRef?t.setClickOutsideRef()(e):"function"==typeof e.setClickOutsideRef?e.setClickOutsideRef():Object(ne.findDOMNode)(e)},a.enableOnClickOutside=function(){if("undefined"!=typeof document&&!ue[a._uid]){void 0===se&&(se=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}}()),ue[a._uid]=!0;var e=a.props.eventTypes;e.forEach||(e=[e]),le[a._uid]=function(e){var t;null!==a.componentNode&&(a.props.preventDefault&&e.preventDefault(),a.props.stopPropagation&&e.stopPropagation(),a.props.excludeScrollbar&&(t=e,document.documentElement.clientWidth<=t.clientX||document.documentElement.clientHeight<=t.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode||e.host;){if(e.parentNode&&ie(e,t,n))return!0;e=e.parentNode||e.host}return e}(e.composed&&e.composedPath&&e.composedPath().shift()||e.target,a.componentNode,a.props.outsideClickIgnoreClass)===document&&a.__outsideClickHandler(e))},e.forEach((function(e){document.addEventListener(e,le[a._uid],pe(re(a),e))}))}},a.disableOnClickOutside=function(){delete ue[a._uid];var e=le[a._uid];if(e&&"undefined"!=typeof document){var t=a.props.eventTypes;t.forEach||(t=[t]),t.forEach((function(t){return document.removeEventListener(t,e,pe(re(a),t))})),delete le[a._uid]}},a.getRef=function(e){return a.instanceRef=e},a._uid=ce(),a}o=n,(a=s).prototype=Object.create(o.prototype),a.prototype.constructor=a,ae(a,o);var c=s.prototype;return c.getInstance=function(){if(e.prototype&&!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},c.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+r+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=this.__getComponentNode(),this.props.disableOnClickOutside||this.enableOnClickOutside()}},c.componentDidUpdate=function(){this.componentNode=this.__getComponentNode()},c.componentWillUnmount=function(){this.disableOnClickOutside()},c.render=function(){var t=this.props;t.excludeScrollbar;var n=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(t,["excludeScrollbar"]);return e.prototype&&e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(i.createElement)(e,n)},s}(i.Component),n.displayName="OnClickOutside("+r+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:"ignore-react-onclickoutside",preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},a},me=n(158),be=n.n(me),ge=n(15),he=(n(47),n(85)),ve=n(250),ye=n.n(ve),xe=n(114);function Ee(e,t){var n=K()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):E.a?j()(e,E()(n)):Ee(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}var je,ke=(new ye.a).prefix({tag:Oe(Oe({},xe.a.light),{},{backgroundColor:ge.b.color.grayLight,color:ge.b.color.grey6,fontSize:12,lineHeight:"13px",padding:"4px 10px",borderRadius:"11px",float:"left",margin:"0 10px 7px 0",cursor:"pointer",transition:"opacity 0.2s",":hover":{opacity:"0.7"}}),tagNew:{color:ge.b.color.grayDark},tagCross:{marginLeft:8,marginRight:-3,paddingLeft:3,paddingRight:3,color:ge.b.color.grey6,outlineOffset:1,":hover":{color:"black"}}});function we(e,t){var n=K()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Se(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?we(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):E.a?j()(e,E()(n)):we(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}function Ie(e){var t=function(){if("undefined"==typeof Reflect||!b.a)return!1;if(b.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(b()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=V()(e);if(t){var r=V()(this).constructor;n=b()(a,arguments,r)}else n=a.apply(this,arguments);return H()(this,n)}}var Ce=Z()(je=function(e){U()(n,e);var t=Ie(n);function n(){return z()(this,n),t.apply(this,arguments)}return L()(n,[{key:"render",value:function(){var e=this.props,t=e.tag,n=e._key,a=e.onRemove,r=e.handleRemove,i=e.showDelete,s=e.handleClick;return o.a.createElement("div",{role:"button",tabIndex:"0",style:Se(Se({},ke.tag),{},{opacity:t.tmp?"0.5":"1"}),onClick:function(e){e.preventDefault(),e.stopPropagation(),s(t.objectId)},onKeyDown:function(e){e.keyCode===he.d&&(e.preventDefault(),e.stopPropagation(),s(t.objectId))}},o.a.createElement("span",null,t.name),i&&!t.tmp?o.a.createElement("span",{key:n,role:"button",tabIndex:0,"aria-label":"remove ".concat(t.name," tag"),onClick:function(e){e.preventDefault(),e.stopPropagation(),r(n,t.objectId,a)},onKeyDown:function(e){e.keyCode!==he.d&&e.keyCode!==he.b||(e.preventDefault(),e.stopPropagation(),r(n,t.objectId,a))},style:ke.tagCross},"X"):i&&t.tmp?o.a.createElement("span",{style:Se(Se({},ke.tagCross),{},{color:"transparent"}),key:n},"X"):null)}}]),n}(o.a.Component))||je;Ce.propTypes={showDelete:Y.a.bool,tag:Y.a.object,_key:Y.a.number,onRemove:Y.a.func,handleRemove:Y.a.func,handleClick:Y.a.func,classId:Y.a.string};var Te=Ce;function Re(e,t){var n=K()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):E.a?j()(e,E()(n)):Re(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}var Ae,De=(new ye.a).prefix({container:{width:"calc(100% - 20px)",padding:"15px 10px 7px",cursor:"pointer",transition:"all 0.2s",float:"left",":hover":{backgroundColor:ge.b.color.grey0}},tagIcon:{fontSize:"24px",lineHeight:"24px",height:24,marginRight:10,float:"left"},tagContainer:{float:"left",width:"calc(100% - 34px)"},tag:qe(qe({},xe.a.regular),{},{backgroundColor:ge.b.color.grey4,color:"white",fontSize:12,lineHeight:"12px",padding:"5px 10px",borderRadius:"11px",float:"left",margin:"0 10px 5px 0",cursor:"pointer",transition:"opacity 0.3s"}),tagNew:{color:ge.b.color.grayDark},focusTag:{backgroundColor:"red"},tagCross:{marginLeft:5,paddingLeft:5,borderLeft:"1px solid ".concat(ge.b.color.grayLight),color:ge.b.color.grey3},loadingTags:{fontSize:12,color:ge.b.color.grey4,height:29,lineHeight:"20px"}}),Pe=(new ye.a).prefix({container:{float:"left"},input:{borderWidth:0,backgroundColor:"transparent",outline:"none"},suggestionsContainerOpen:{zIndex:200,position:"absolute",listStyleType:"none",padding:"0 5px 5px",margin:0,width:"250px",marginBottom:5,backgroundColor:"white",boxShadow:"0px 0px 8px 0px rgba(0,0,0,0.30)"},suggestionsList:{listStyleType:"none",padding:0,margin:0},suggestion:{marginTop:5,width:"calc(100% - 30px)",padding:"0 15px",cursor:"pointer",fontSize:14,color:ge.b.color.designSystem.purple70,height:45,lineHeight:"45px"},suggestionHighlighted:{backgroundColor:ge.b.color.grey14}}),ze=De,Fe=n(557),Le=Object(Fe.a)({svg:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("path",{fill:ge.b.color.grey4,d:"M31.107 0.585l-0.787 0.003c-4.030 0.001-8.060 0.003-12.090-0.003-0.261-0-0.448 0.070-0.634 0.258-3.513 3.548-7.047 7.074-10.546 10.637-1.857 1.891-3.739 3.756-5.597 5.644-0.753 0.765-0.758 1.59 0.007 2.356 3.793 3.797 7.589 7.588 11.38 11.386 0.245 0.246 0.543 0.395 0.844 0.549 0.197 0 0.395 0 0.592 0 0.413-0.121 0.714-0.397 1.007-0.698 1.444-1.481 2.898-2.953 4.343-4.432 1.614-1.652 3.222-3.308 4.832-4.963 1.633-1.677 3.276-3.347 4.896-5.037 0.523-0.546 1.053-1.083 1.579-1.624 0.112-0.116 0.18-0.232 0.18-0.401-0.004-4.204-0.004-9.472-0.006-13.676z"}),o.a.createElement("path",{fill:ge.b.color.grey6,d:"M22.612 3.432c-3.137 0-5.681 2.544-5.681 5.681s2.544 5.681 5.681 5.681c3.138 0 5.681-2.543 5.681-5.681s-2.544-5.681-5.681-5.681zM22.612 11.874c-1.525 0-2.761-1.236-2.761-2.761s1.236-2.761 2.761-2.761c1.525 0 2.761 1.236 2.761 2.761s-1.236 2.761-2.761 2.761z"}),o.a.createElement("path",{fill:ge.b.color.white,d:"M25.373 9.113c0 1.525-1.236 2.761-2.761 2.761s-2.761-1.236-2.761-2.761c0-1.525 1.236-2.761 2.761-2.761s2.761 1.236 2.761 2.761z"}))},displayName:"Tag",viewBox:"0 0 32 32"}),Ne=n(79),Me=["key"];function _e(e,t){var n=K()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):E.a?j()(e,E()(n)):_e(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}function Be(e){var t=function(){if("undefined"==typeof Reflect||!b.a)return!1;if(b.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(b()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=V()(e);if(t){var r=V()(this).constructor;n=b()(a,arguments,r)}else n=a.apply(this,arguments);return H()(this,n)}}var He=Z()(Ae=function(e){U()(n,e);var t=Be(n);function n(e){var a;return z()(this,n),(a=t.call(this,e)).state={tags:e.tags,suggestions:[],hasFocus:!1,addingSuggestion:!1},a.handleChange=a.handleChange.bind(M()(a)),a.handleUpdate=a.handleUpdate.bind(M()(a)),a.handleRemove=a.handleRemove.bind(M()(a)),a.handleAdd=a.handleAdd.bind(M()(a)),a.handleNewTags=a.handleNewTags.bind(M()(a)),a.handleClickOutside=a.handleClickOutside.bind(M()(a)),a.handleClick=a.handleClick.bind(M()(a)),a.focus=a.focus.bind(M()(a)),a.blur=a.blur.bind(M()(a)),a.search=a.search.bind(M()(a)),a.addAriaAttribute=a.addAriaAttribute.bind(M()(a)),a._currentNumberOfTags=0,a}return L()(n,[{key:"componentDidMount",value:function(){this.props.autoFocus&&this.focus(),this.addAriaAttribute()}},{key:"addAriaAttribute",value:function(){if(this.refs&&this.refs.tags&&this.refs.tags.input&&this.refs.tags.input.autowhatever){var e=this.refs.tags.input.autowhatever.itemsContainer;e.setAttribute("aria-label",e.id)}}},{key:"componentWillReceiveProps",value:function(e){e.tags.length&&this.handleNewTags(e.tags)}},{key:"handleNewTags",value:function(e){var t=this;if(e.filter((function(e){return!t.state.tags.find((function(t){return!!t.objectId&&t.objectId===e.objectId}))})).length){this._currentNumberOfTags=e.length;var n=this.state.tags.filter((function(e){return e.tmp})).filter((function(t){return!e.find((function(e){return e.name===t.name}))})),a=[].concat(D()(e),D()(n));this.setState({tags:a}),this.forceUpdate()}}},{key:"handleChange",value:function(e){this.setState({tags:e})}},{key:"handleRemove",value:function(e,t,n){this._currentNumberOfTags--,n(e),this.props.deleteTag(t)}},{key:"handleAdd",value:function(e){this._currentNumberOfTags++,e.new?this.props.addTag(e.value):this.props.addTag(e.name,e.objectID||e.objectId)}},{key:"handleClick",value:function(e){this.props.clickTag(e)}},{key:"search",value:function(e){var t=this,n=e.trim(),a=K()(this.props.spaceTags).filter((function(e){return t.props.spaceTags[e].name.includes(n)})).map((function(e){return t.props.spaceTags[e]}));a.length||(a=[{new:!0,value:n}].concat(D()(a))),this.setState({suggestions:a})}},{key:"handleUpdate",value:function(e){var t=this;if(e.trim()){this.state.currentDebouncedVersion&&this.state.currentDebouncedVersion.cancel();var n=be()((function(){return t.search(e)}),200);n(),this.setState({currentDebouncedVersion:n})}}},{key:"handleClickOutside",value:function(){this.state.hasFocus&&this.blur()}},{key:"focus",value:function(){this.refs.tags.input.input.focus(),this.setState({hasFocus:!0})}},{key:"blur",value:function(){this.refs.tags.input.input.blur(),this.refs.tags.clearInput(),this.setState({hasFocus:!1})}},{key:"render",value:function(){var e=this,t=this.handleUpdate,n=this.handleAdd,a=this.state.suggestions.filter((function(t){return!e.state.tags.find((function(e){return e.objectId===t.objectId||e.name===t.value}))})),r=this.props.canAdd?"Add a tag":"";return o.a.createElement("div",{style:Ue(Ue({},ze.container),{},{backgroundColor:this.state.hasFocus?ge.b.color.grey0:""})},o.a.createElement(Le,{style:ze.tagIcon}),o.a.createElement(te.a,{ref:"tags",renderInput:function(r){var i=u()({},r);return delete i.addTag,o.a.createElement("div",{className:"autosuggestContainer"},o.a.createElement(J.Style,{scopeSelector:".autosuggestContainer",rules:{".react-tagsinput-input":Ue(Ue({},xe.a.light),{},{fontSize:12,lineHeight:"20px"}),".react-tagsinput-input::-webkit-input-placeholder":{fontSize:12},".react-tagsinput-input:-moz-placeholder":{fontSize:12},".react-tagsinput-input::-moz-placeholder":{fontSize:12},".react-tagsinput-input:-ms-input-placeholder":{fontSize:12}}}),o.a.createElement(X.a,{ref:r.ref,suggestions:a,onSuggestionsClearRequested:function(){a=[]},shouldRenderSuggestions:function(e){return e&&e.trim().length>0},getSuggestionValue:function(e){return e.name},highlightFirstSuggestion:!0,renderSuggestion:function(e){return e.new?o.a.createElement("div",null,o.a.createElement("span",{style:ze.tagNew},Ne.Db),o.a.createElement("span",null,e.value)):e.name},inputProps:Ue(Ue({},i),{},{onFocus:e.focus}),onSuggestionsFetchRequested:function(e){var n=e.value;return t(n)},onSuggestionSelected:function(t,a){var r=a.suggestion;n(r),e.refs.tags.clearInput(),e.refs.tags.input.input.value=""},theme:Pe}))},renderTag:function(t){var n=t.key,a=q()(t,Me);return a._key=n,o.a.createElement(Te,T()({key:n,showDelete:e.state.hasFocus,handleRemove:e.handleRemove,handleClick:e.handleClick,classId:e.props.post.classRoomId||e.props.post.classRoom},a))},renderLayout:function(e,t){return o.a.createElement("div",{style:ze.tagContainer},e,t)},value:this.state.tags,onChange:this.handleChange,tagDisplayProp:"name",className:"",addKeys:[],removeKeys:[],disabled:!this.props.canAdd,inputProps:{placeholder:r,"aria-label":r}}))}}]),n}(o.a.PureComponent))||Ae;He.propTypes={post:Y.a.shape().isRequired,tags:Y.a.arrayOf(Y.a.shape({objectId:Y.a.string,name:Y.a.string,tagPostId:Y.a.string})).isRequired,spaceTags:Y.a.shape(),search:Y.a.func.isRequired,addTag:Y.a.func.isRequired,clickTag:Y.a.func.isRequired,deleteTag:Y.a.func.isRequired,autoFocus:Y.a.bool,canAdd:Y.a.bool.isRequired},He.defaultProps={spaceTags:{},autoFocus:!1};var Ge=fe(He),Ve=n(319),We=n(553),Ke=n(176);var Qe={POSTS:"posts",TAGS:"tags",USERS:"users"},Ye=n(24),Je=n(25),Ze=function(e,t){return e.name>t.name?1:t.name>e.name?-1:0},$e=Object(f.b)((function(e,t){var n=e.data.posts[t.post.objectId],a=n?n.tags:[],r=Object(Je.accessingCurrentSpaceAsStaff)(e),i=Object(Je.isInstructor)(e),o=Object(Ye.currentUserId)(e)===n.user.objectId;return{tags:a.filter((function(t){return e.data.tags[t.tagId]})).map((function(t){return t.name?t:u()(e.data.tags[t.tagId],{tagPostId:t.tagPostId})})).sort(Ze),shouldUpdate:!0,spaceTags:e.data.tags,canAdd:!r&&(i||o)}}),(function(e,t){return{deleteTag:function(n){return e(Object(Ke.c)({tagId:n,postId:t.post.objectId}))},search:function(e,n){return e.search((a=n,r=t.post.classRoom,{index:Qe.TAGS,size:999,body:{query:{bool:{must:[{match:{name:a}},{match:{classRoom:r}}]}}}})).then((function(e){return e.hits.hits}));var a,r},clickTag:function(t){return e(Object(We.a)(t))},addTag:function(n,a){return new p.a((function(r,i){if(a){var o=e(Object(Ke.a)(a,n,t.post.objectId));if(!o)return void i();o.then((function(e){r(e)}),(function(e){i(e)}))}else{var s=e(Object(Ve.a)(n,t.post.classRoom));if(!s)return void i();s.then((function(a){var o=e(Object(Ke.a)(a.objectId,n,t.post.objectId));o?o.then((function(e){r(e)}),(function(e){i(e)})):i()}),(function(e){i(e)}))}}))}}}))(Ge),Xe=n(14),et=Object(Xe.b)("div",{target:"e1tmweyu0"})("background-color:",ge.b.color.grey3,";height:1px;width:100%;margin-top:",(function(e){return e.bottomSeparator?"0":"15px"}),";float:",(function(e){return e.bottomSeparator?"left":"none"}),";margin-bottom:",(function(e){return e.topSeparator?"0":"25px"}),";"),tt=Object(Xe.b)("div",{target:"e1tmweyu1"})("width:100%;flaot:left;"),nt=function(e){var t=e.post;return o.a.createElement(tt,null,o.a.createElement(et,{topSeparator:!0}),o.a.createElement($e,{post:t}),o.a.createElement(et,{bottomSeparator:!0}))},at=n(1804),rt=n(1723),it=n(118),ot=n(330),st=n(1682),ct=Object(Xe.b)("div",{target:"exklxib0"})("width:100%;"),lt=function(e){var t=e.postId,n=Object(f.c)(),a=Object(f.d)((function(e){return Object(Je.accessingCurrentSpaceAsStaff)(e)})),r=Object(f.d)((function(e){return Object(st.c)(e,t,it.c.post)}));return o.a.createElement(o.a.Fragment,null,o.a.createElement(rt.a,{sequenceId:"post-".concat(t),itemId:t,toggleReaction:function(e){var a=e.emojiName;return n(ot.b.toggleReaction({emojiName:a,itemId:t,itemType:"UBClassRoomPost"}))},style:{marginBottom:15},readOnly:a}),o.a.createElement(ct,null,o.a.createElement(at.a,{comments:r,entityId:t,entityType:it.c.post,readOnly:a})))},ut=n(102),dt=n(1756),pt=function(e){var t=e.post,n=e.isRecentImportant,a=e.style,l=Object(i.useState)(t.tags.length>0),u=r()(l,2),d=u[0],p=u[1],f=Object(ut.e)(t),m=t.content?JSON.parse(t.content):void 0,b=t.important?"post-element-".concat(n?"important-recent":"important"):"post-element";return m?o.a.createElement(dt.b,{style:a},o.a.createElement(dt.f,{isRecentImportant:n,"data-testid":b},o.a.createElement(c.a,{post:t,addTag:function(){return p(!0)}}),d||t.tags.length>0?o.a.createElement(nt,{post:t}):o.a.createElement(dt.e,null),o.a.createElement(dt.d,null,o.a.createElement(dt.a,null,o.a.createElement("div",null,o.a.createElement(s.a,{rawEditorState:m,uniqueId:t.objectId}))),t.editedAt?o.a.createElement(dt.c,null,"(Edited)"):null),!f&&o.a.createElement(lt,{postId:t.objectId}))):null};pt.defaultProps={isRecentImportant:!1,style:{}};t.a=pt},1666:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(35),v=n(25),y=n(92),x=n(555),E=n(0),O=n.n(E),j=n(1),k=n.n(j),w=n(121),S=Object(w.a)(E.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),I=n(14),C=n(15),T=Object(I.b)("div",{target:"e134we7h0"})("font-family:",C.b.font.family.workSans,";font-style:normal;font-weight:",C.b.font.weight.semiBold,";font-size:",C.b.font.size.copy,";line-height:",C.b.font.lineHeight.small,";margin-left:-",C.b.spacing.xSmall,";text-align:right;cursor:pointer;color:",C.b.color.purple,";display:inline-block;max-width:120px;"),R=C.b.color.purple,q=function(e){var t=e.goToFeed,n=e.goToAssignments,a=e.style,r=e.prevPage,i="all assignments"===r?n:t;return O.a.createElement(T,{style:a,onClick:i},O.a.createElement(S,{color:R,style:{marginBottom:"-7px"}}),O.a.createElement("span",null,"Back to ",r))};q.propTypes={goToFeed:k.a.func.isRequired,goToAssignments:k.a.func.isRequired,style:k.a.object,prevPage:k.a.string},q.defaultProps={style:{},prevPage:"feed"};var A=q;function D(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):D(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var z=Object(h.b)((function(e){return{spaceId:Object(v.currentClassRoomId)(e)}}),(function(e){return{goToFeed:function(t){return function(){return e(Object(x.a)(t))}},goToAssignments:function(t){return function(){return e(Object(y.c)(t))}}}}),(function(e,t,n){return P(P(P(P({},e),t),n),{},{goToFeed:t.goToFeed(e.spaceId),goToAssignments:t.goToAssignments(e.spaceId)})}))(A);t.a=z},1667:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(1616),v=function(e){try{return JSON.parse(e)}catch(e){return{}}},y=function(e){switch(e.type){case"unstyled":return e.text;case"atomic":return function(e){var t=e.data;if(!t||!t.type)return null;switch(t.type){case"link":return"🔗 ".concat(t.link);case"file":return function(e){if(!e)return null;var t=e.name,n=e.type;return n?{image:"📷 Image",audio:"🎵 Audio",video:"🎥 Video"}[n.split("/")[0]]||"📁 ".concat(t):null}(t.file);case"video":return"🎥 Video";default:return null}}(e);case"code-block":return"⌨️ Code";default:return null}},x=function(e){var t=e.content,n=e.allBlocks,a=void 0!==n&&n,r=v(t).blocks;if(!r||0===r.length)return null;if(a)return r.map((function(e){return y(e)}));var i=r[0];return[y(i)]},E=n(1616).summarizeBlockContent,O=function(e){var t=e.content,n=e.allBlocks,a=void 0!==n&&n,r=t.value,i=t.context;return a?r.map((function(e){return E(i)(e).flat().join("")})):[E(i)(r[0]).flat().join("")]};function j(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):j(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=v(e.content);return Object(h.isAulaEditorState)(t)?O(k(k({},e),{},{content:t})):x(e)}},1668:function(e,t,n){"use strict";var a=n(35),r=n(24),i=n(1625),o=n(1),s=n.n(o),c=n(0),l=n.n(c),u=n(1616),d=n(16),p=n(533),f=n(79),m=n(14),b=n(15),g=Object(m.b)("div",{target:"e19hhu660"})("font-weight:",b.b.font.weight.regular,";line-height:",b.b.font.lineHeight.large,";font-size:",b.b.font.size.copy,";width:calc(100% - 66.5px);margin-left:52.5px;"),h=n(1817),v=function(e){var t,n=e.user,a=e.rawEditorState,r=e.uniqueId,i=e.accessToken,o=e.institution,s=e.spaceId,p=e.sessionToken,f=e.ltiProviders,m=Object(c.useMemo)((function(){return{sessionToken:p,filesUrl:Object(d.x)(),apiUrl:Object(d.d)(),accessToken:i,spaceId:s,institution:o,userId:n.objectId,ltiProviders:f}}),[p,f]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(g,null,l.a.createElement(h.a,{readOnly:!0,editorState:a,config:m,isAssignmentsEnabled:!0})),l.a.createElement("div",{style:{display:"none"},id:r},(t=a).blocks?t.blocks.reduce((function(e,t){return t.text&&e.push(t.text),e}),[]).join("\n"):Object(u.getTextContent)(t).join("\n")))};v.propTypes={accessToken:s.a.string.isRequired,institution:s.a.string.isRequired,spaceId:s.a.string.isRequired,rawEditorState:s.a.object.isRequired,uniqueId:s.a.oneOfType([s.a.string,s.a.number]),user:s.a.shape({objectId:s.a.string.isRequired,email:s.a.string.isRequired,firstName:s.a.string.isRequired,lastName:s.a.string.isRequired,sessionToken:s.a.string.isRequired}).isRequired,sessionToken:s.a.string.isRequired,ltiProviders:s.a.arrayOf(s.a.shape({id:s.a.string.isRequired,name:s.a.string.isRequired,description:s.a.string.isRequired,publicUrl:s.a.string.isRequired,createdBy:s.a.string})).isRequired},v.defaultProps={uniqueId:(new Date).getTime()};var y=Object(p.a)(v,{message:f.o});t.a=Object(a.b)((function(e){var t=Object(r.currentUser)(e),n=e.classRoom.current;return{accessToken:Object(r.accessToken)(e,n),institution:e.institution.general.institution,spaceId:n,user:t,sessionToken:e.user.user.sessionToken,ltiProviders:Object(i.a)(e)}}))(y)},1669:function(e,t,n){"use strict";n.d(t,"b",(function(){return a.a})),n.d(t,"a",(function(){return a.b}));var a=n(337)},1677:function(e,t,n){"use strict";var a=n(1616);t.a=function(e){return e.value.every((function(e){return Object(a.isEmptyElement)(e)}))}},1679:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(50),v=n.n(h),y=n(0),x=n(164),E=["ltiProviders"];function O(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):O(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}t.a=function(e){var t=Object(x.useFlags)().ftLti13Enabled202207;return Object(y.useMemo)((function(){if(t||!e)return e;var n=e.ltiProviders,a=v()(e,E);if(!n||!n.length)return e;var r=n.filter((function(e){return"1.3"!==e.ltiVersion}));return j(j({},a),{},{ltiProviders:r})}),[e,t])}},1680:function(e,t,n){"use strict";var a=n(1601),r=n(1681),i=n(533),o=Object(i.a)(Object(r.a)(a.a),{ignore:!0});t.a=o},1681:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(43),g=n.n(b),h=n(2),v=n.n(h),y=n(50),x=n.n(y),E=n(0),O=n.n(E),j=n(1),k=n.n(j),w=n(1616),S=n(46),I=n(44),C=["onChange"],T=["forwardedRef"];function R(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}var q={comment:I.k,createpost:I.L,post:I.L,inbox:I.z,material:I.G};t.a=function(e){var t=function(t){var n=t.onChange,a=x()(t,C),r=a.forwardedRef,i=x()(a,T),o=O.a.useRef(!1),s=function(){var e,t=(e=a.type,q[e]||e),n=a.config.spaceId;t&&Object(S.c)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?p()(e,u()(n)):R(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}({},t!==I.z&&{activeClassroom:n}))};return O.a.createElement(e,g()({onChange:function(e,t){var a=e.value.every((function(e){return Object(w.isEmptyElement)(e)}));o.current&&a&&(o.current=!1),o.current||a||(o.current=!0,s()),n(e,t)},ref:r},i))};return t.propTypes={type:k.a.oneOf(["comment","createpost","post","inbox","material","assignmentExtensions"]).isRequired,config:k.a.shape({apiUrl:k.a.string,institution:k.a.string,filesUrl:k.a.string,uploadRetries:k.a.number,sessionToken:k.a.string,accessToken:k.a.string,userId:k.a.string,spaceId:k.a.string,assignmentId:k.a.string,conversationId:k.a.string,postId:k.a.string,materialId:k.a.string,isEducator:k.a.bool}),onChange:k.a.func.isRequired,forwardedRef:k.a.shape({current:k.a.shape({focus:k.a.func.isRequired})}).isRequired},t.defaultProps={config:{}},O.a.forwardRef((function(e,n){return O.a.createElement(t,g()({},e,{forwardedRef:n}))}))}},1682:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return c}));var a=n(1683),r=n(62),i=n(118),o=function(e,t){return e.data.comments[t]},s=function(e,t,n){switch(n){case i.c.material:return(Object(r.getMaterial)(e,t)||{}).comments||[];case i.c.post:return(Object(a.a)(e,t)||{}).comments||[];default:return[]}},c=function(e,t,n){return s(e,t,n).length}},1683:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e,t){return e.data.posts[t]},r=function(e){return e.posts.schedulePostDialogOpenFor}},1684:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(0),v=n.n(h),y=n(1),x=n.n(y);function E(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):E(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var j={fill:n(15).b.color.blackAlpha(.6),height:"17.5px"},k=function(e){var t=e.style;return v.a.createElement("svg",{viewBox:"0 0 10 19",xmlns:"http://www.w3.org/2000/svg",style:O(O({},j),t)},v.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.833333 0.666687H9.16667V2.33335L7.5 3.16669V7.33335L10 9.83335V12.3334H5.83333V15.6667L5 18.1667L4.16667 15.6667V12.3334H0V9.83335L2.5 7.33335V3.16669L0.833333 2.33335V0.666687Z",fill:t.fill}))};k.propTypes={style:x.a.object},k.defaultProps={style:{}},t.a=k},1685:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return c}));var a=n(14),r=n(15),i=Object(a.b)("div",{target:"ew68rke0"})("padding:16px 24px;"),o=Object(a.b)("div",{target:"ew68rke1"})("font-family:",r.b.font.family.workSans,";justify-content:space-between;margin-bottom:4px;display:flex;flex-direction:row;align-items:center;"),s=Object(a.b)("div",{target:"ew68rke2"})("color:",r.b.color.designSystem.blackOpacity87,";font-family:",r.b.font.family.workSans,";font-weight:",r.b.font.weight.semiBold,";"),c=Object(a.b)("div",{target:"ew68rke3"})("font-family:",r.b.font.family.workSans,";color:",r.b.color.grayDark,";& > svg{width:16px;height:16px;}")},1686:function(e,t,n){"use strict";var a=n(14),r=Object(a.b)("div",{target:"e9nuedq0"})("display:flex;flex-direction:row;align-items:center;justify-content:",(function(e){return e.spaced?"space-between":"flex-start"}),";width:100%;");t.a=r},1687:function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(50),o=n.n(i),s=n(0),c=n.n(s),l=n(14),u=n(1583),d=n(1582),p=n(252),f=n.n(p),m=n(15),b=["shrinkLabel","useErrorIcon","startAdornment","endAdornment"],g=m.b.font,h=m.b.color,v={color:h.designSystem.error,height:"22px",width:"22px"},y=Object(l.b)((function(e){var t=e.shrinkLabel,n=e.useErrorIcon,a=e.startAdornment,i=e.endAdornment,s=o()(e,b);return c.a.createElement(u.a,r()({margin:"dense",variant:"outlined"},s,{InputProps:{classes:{input:"fieldset-textfield-input",focused:"fieldset-textfield-focusedInput",error:"fieldset-textfield-error"},endAdornment:s.error&&n?c.a.createElement(d.a,{position:"end"},c.a.createElement(f.a,{style:v})):i,startAdornment:a},InputLabelProps:{shrink:t,classes:{root:"fieldset-textfield-label",shrink:"fieldset-textfield-shrunkLabel",focused:"fieldset-textfield-focusedLabel",error:"fieldset-textfield-errorLabel"}}}))}),{target:"esq6gn30"})("display:flex;flex:1;& .fieldset-textfield-input{font-family:",g.family.workSans,";font-size:14px;border-color:",h.grey9,";}& .fieldset-textfield-label{font-family:",g.family.workSans,";font-size:14px;transform:translate(14px,11px) scale(1);}& .fieldset-textfield-focusedInput{& fieldset{border-color:",h.purple," !important;}}& .fieldset-textfield-error{& fieldset{border:2px solid ",h.designSystem.error," !important;}}& .fieldset-textfield-focusedLabel{font-family:",g.family.workSans,";color:",h.purple,";}& .fieldset-textfield-shrunkLabel{transform:translate(14px,-6px) scale(0.75);}& .fieldset-textfield-errorLabel{color:",h.designSystem.error," !important;}");t.a=c.a.memo(y)},1689:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return l}));var a=n(1690),r=n(1652),i={upcoming:"upcoming",open:"open",pastDueDate:"pastDueDate",nearDueDate:"nearDueDate",closed:"closed"},o=function(e){var t=e.startDate,n=e.endDate,o=e.status,s=e.shouldCloseOnDueDate,c=new Date,l=Object(r.a)(t),u=Object(r.a)(n),d=Object(a.a)(l,c),p=Object(a.a)(u,c);return o===i.closed?o:d>0?i.upcoming:p>604800?i.open:p>0?i.nearDueDate:s?i.closed:i.pastDueDate},s=function(e,t){var n=t.submission;return e?{}:n&&n.length?{grade:n[0].displayGrade,isSubmitted:!0}:{}},c=function(e){return function(t){var n=t.title;return!e||"string"!=typeof e||n.toLowerCase().includes(e.toLowerCase())}},l=function(e){return!!e.provider}},1695:function(e,t,n){"use strict";t.a=["A","B","C","D"]},1700:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return m})),n.d(t,"h",(function(){return b})),n.d(t,"e",(function(){return g}));var a=n(14),r=n(15),i=n(578),o=r.b.font,s=r.b.color,c=r.b.spacing,l=Object(a.b)("div",{shouldForwardProp:function(e){return"compact"!==e},target:"en6a4u30"})("display:flex;flex-direction:column;align-items:center;flex:1;text-align:center;padding-top:",(function(e){return e.compact?24:36}),"px;padding-bottom:",(function(e){return e.compact?24:36}),"px;"),u=Object(a.b)(l,{target:"en6a4u31"})("border-radius:",c.xxSmall,";background-image:linear-gradient(rgba(0,0,0,0.04),rgba(0,0,0,0));"),d=Object(a.b)("div",{target:"en6a4u32"})("padding-bottom:",c.xxSmall,";font-size:",o.size.display,";"),p=Object(a.b)("div",{target:"en6a4u33"})("font-size:",o.size.copy,";font-family:",o.family.workSans,";line-height:",o.lineHeight.copy,";padding-bottom:",c.xLarge,";color:",s.designSystem.blackOpacity87,";max-width:400px;margin:auto;white-space:pre-line;&:focus{outline:none;}"),f=Object(a.b)("div",{target:"en6a4u34"})("align-items:center;display:flex;flex-direction:column;justify-content:center;button{font-family:",o.family.workSans,";font-size:",o.size.copy,";font-weight:",o.weight.semiBold,";line-height:",c.medium,";}"),m=Object(a.b)(i.a,{target:"en6a4u35"})("background-color:white;border:1px solid ",s.designSystem.blackOpacity38,";color:",s.designSystem.purple70,";margin-top:",c.xSmall,";min-width:232px;:hover{background-color:",s.designSystem.background.lightPurple.hover,";}:focus{background-color:",s.designSystem.background.lightPurple.focus,";}"),b=Object(a.a)("background-color:",s.designSystem.purple70,";min-width:232px;:hover{background-color:",s.purpleDark,";}"),g=Object(a.b)("img",{target:"en6a4u36"})("margin-bottom:",c.large,";");s.designSystem.purple70,"1px solid ".concat(s.designSystem.blackOpacity38),"1px solid ".concat(s.designSystem.blackOpacity38),s.designSystem.blackOpacity38},1701:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"d",(function(){return b})),n.d(t,"b",(function(){return g})),n.d(t,"a",(function(){return h}));var a=n(14),r=n(15),i=r.b.borderRadius,o=r.b.color,s=r.b.font,c=r.b.spacing,l=o.designSystem,u=l.background,d=l.buttonStates,p=Object(a.a)(".lrn-qe-btn-primary{background-color:",d.primary.active," !important;border-color:",d.primary.active," !important;color:#fff !important;}.lrn-qe-btn-primary:disabled{opacity:0.4 !important;}.lrn-qe-btn-primary{border-radius:",i.medium," !important;font-family:'Work Sans',sans-serif !important;font-size:14px !important;font-weight:600 !important;height:40px;}.lrn-qe-btn-primary span{font-family:'Work Sans',sans-serif !important;}.lrn-qe-btn-primary span,.lrn-qe-btn-primary span:before{color:#fff !important;font-weight:600;font-size:14px;}.lrn-qe-toolbar-button .lrn-qe-i-undo-redo,.lrn-qe-toolbar-button .lrn-qe-i-help-text,.lrn-qe-toolbar-button .lrn-qe-i-embed-text{display:none !important;}.lrn-qe-toolbar-button .lrn-qe-i-undo,.lrn-qe-toolbar-button .lrn-qe-i-redo{color:#000;cursor:pointer;}.lrn-qe-toolbar-controls .lrn-qe-toolbar-button:hover:enabled{background:transparent !important;}.lrn-qe-toolbar-controls .lrn-qe-toolbar-button:focus{outline:none !important;}.lrn-qe-toolbar-button:disabled .lrn-qe-i-undo,.lrn-qe-toolbar-button:disabled .lrn-qe-i-redo{cursor:default;opacity:0.5;}.lrn-qe-toolbar-button:disabled .lrn-qe-i-undo,.lrn-qe-toolbar-button:disabled .lrn-qe-i-redo{background:transparent;}.lrn-qe-btn.lrn-qe-btn-add-array-multiple{background:#fff !important;border-color:#939393 !important;}.lrn-qe-btn.lrn-qe-btn-add-array-multiple span,.lrn-qe-btn.lrn-qe-btn-add-array-multiple span:before{color:",d.primary.selected," !important;text-transform:capitalize !important;}.lrn-qe-btn.lrn-qe-btn-default.lrn-qe-btn-remove,.lrn-qe-btn.lrn-qe-btn-default.lrn-qe-btn-remove:hover{background-color:transparent;}.lrn-qe .lrn-qe-ui .lrn-qe-btn-remove > [class^='lrn-qe-i-']:before{content:'\\e872';font-family:'Material Icons' !important;font-size:25px;margin-left:-10px;}.lrn-qe .lrn-qe-ui .lrn-qe-btn-remove:hover > [class^='lrn-qe-i-']:before{color:",d.primary.hover,";}.lrn-qe .lrn-qe-ui .lrn-qe-switch .lrn-qe-input:checked + .lrn-qe-switch-trigger,.lrn-qe .lrn-qe-ui .lrn-qe-switch .lrn-qe-input:checked + .lrn-qe-switch-trigger:hover{background-color:",d.primary.active,";border:",d.primary.active," !important;}.lrn-qe-toolbar-toggle .lrn-qe-toolbar-control{border-color:",r.b.color.designSystem.grey60,";border-radius:",i.medium," !important;font-family:'Work Sans',sans-serif;font-size:14px !important;}.lrn-qe-toolbar-toggle .lrn-qe-toggle-right{border-left:0 !important;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important;}.lrn-qe-toolbar-toggle .lrn-qe-toggle-left{border-right:0 !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important;}.lrn-qe .lrn-qe-ui .lrn-qe-toolbar-toggle .lrn-qe-input:checked ~ .lrn-qe-toggle-left,.lrn-qe .lrn-qe-ui .lrn-qe-toolbar-toggle .lrn-qe-input:not(:checked) ~ .lrn-qe-toggle-right,.lrn-qe .lrn-qe-ui .lrn-qe-toolbar-toggle .lrn-qe-toggle-active{background-color:",u.lightPurple.selected," !important;border-color:",d.primary.active,";color:",d.primary.active," !important;}.lrn-qe-toolbar-toggle .lrn-qe-input:checked ~ .lrn-qe-toggle-left{border-right:1px solid ",d.primary.active," !important;}.lrn-qe-toolbar-toggle .lrn-qe-toggle-right{border-left:1px solid ",d.primary.active," !important;}.lrn-qe-toolbar-toggle .lrn-qe-input:checked ~ .lrn-qe-toggle-right{border-left:0 !important;}.lrn-qe-toolbar-toggle .lrn-qe-toggle-left:hover,.lrn-qe-toolbar-toggle .lrn-qe-toggle-right:hover{background-color:",u.lightPurple.hover," !important;}.lrn-qe-form-el-reorderable .lrn-qe-form-el-reorder-handle{border:none !important;}.lrn-qe .lrn-qe-ui .lrn-qe-form-control{border-radius:",i.medium,";}.lrn-qe .lrn-qe-ui .lrn-qe-form-el-reorderable .lrn-qe-form-el-wrapper{border-left:1px solid;}.lrn-qe-form-group-wrapper.editor .lrn-qe-form-control-wrapper .lrn-qe-form-el-wrapper{border-color:gray !important;border-left-width:0 !important;}.lrn-qe-form-group-wrapper.editor .lrn-qe-form-control-wrapper .lrn-qe-form-el-wrapper .lrn-qe-form-control{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important;}.lrn-qe-form-group-wrapper.editor .lrn-qe-form-control-wrapper .lrn-qe-form-el-reorder-handle{border:1px solid gray !important;border-radius:",i.medium,";border-right-width:0 !important;border-bottom-right-radius:0 !important;border-top-right-radius:0 !important;}.lrn-qe-i-plus:before{color:",d.primary.active," !important;}.lrn-qe .lrn-qe-ui .lrn-qe-tabs .lrn-qe-tab-trigger.lrn-active .lrn-qe-form-label-name{color:",d.primary.active,";}button.lrn-qe-more-options *,button.lrn-qe-more-options *:before{color:#000 !important;}button.lrn-qe-more-options.lrn-active *,button.lrn-qe-more-options.lrn-active *:before{color:",d.primary.active," !important;}.lrn-qe-i-drag-handle:before{content:'\\e945' !important;font-family:'Material Icons' !important;font-size:14px !important;}.lrn-qe-viewstack-item .lrn-qe-edit-form .lrn-qe-tabs button{border:none;}.lrn-qe-viewstack-item .lrn-qe-edit-form .lrn-qe-tabs .lrn-qe-tab-sub-content{background-color:transparent;border-color:transparent;}.lrn-qe-viewstack-item .lrn-qe-edit-form .lrn-qe-tabs .lrn-qe-tab-item{box-shadow:none;}.lrn-qe-viewstack-item .lrn-qe-edit-form .lrn-qe-tabs .lrn-qe-tab-trigger{background-color:transparent !important;border:none !important;}.lrn-qe-viewstack-item .lrn-qe-edit-form .lrn-qe-tabs .lrn-qe-tab-trigger.lrn-active .lrn-qe-form-label{border-bottom:3px solid ",d.primary.active,";}.lrn-qe-viewstack-item .lrn-qe-edit-form .lrn-qe-tabs{border-radius:",i.medium,";box-shadow:0px 1px 1px rgb(0 0 0 / 14%),0px 2px 1px rgb(0 0 0 / 12%),0px 1px 3px rgb(0 0 0 / 20%);padding-top:15px;}.lrn-qe-viewstack-item .lrn-qe-edit-form .lrn-qe-row-flex{flex-direction:column !important;}.lrn-qe-edit-form .lrn-qe-more-options{background:transparent !important;border-width:1px 0 0 !important;}"),f=function(e){var t=e.size,n=void 0===t?"medium":t;return Object(a.a)("align-items:center;border-radius:",i.medium," !important;display:inline-flex !important;font-family:",s.family.workSans," !important;font-weight:",s.weight.semiBold," !important;font-size:",s.size.copy," !important;height:","medium"===n?"40px":"32px"," !important;min-width:auto !important;padding:",c.small," ",c.medium," !important;text-transform:none !important;&:disabled{cursor:default !important;pointer-events:all !important;}")},m=function(e){var t=e.selected,n=e.size;return Object(a.a)(f({size:n})," background-color:",t?l.buttonStates.primary.selected:o.purple3," !important;color:",o.white," !important;&:active{background-color:",l.buttonStates.primary.active," !important;}&:disabled{background-color:",l.blackOpacity12," !important;color:",l.blackOpacity38," !important;&:hover{background-color:",l.blackOpacity12," !important;color:",l.blackOpacity38," !important;}}&:hover{background-color:",t?l.background.lightPurple.hover:l.buttonStates.primary.hover," !important;}")},b=function(e){var t=e.selected,n=e.size,r=void 0===n?"medium":n;return Object(a.a)(f({size:r})," background-color:",t?l.buttonStates.secondary.selected:"transparent"," !important;border:1px solid ",l.blackOpacity38,";color:",o.purple3," !important;&:active{background-color:",l.buttonStates.secondary.active," !important;}&:disabled{background-color:",l.grey10," !important;border:1px solid ",l.blackOpacity12," !important;color:",l.blackOpacity38," !important;}&:hover{background-color:",l.buttonStates.secondary.hover," !important;}")},g=Object(a.a)(".lrn{font-family:'Work Sans',sans-serif !important;}.lrn_btn .lrn_btn_blue .test-submit .btn-lg .review-screen-focus-element{border-radius:4px;text-transform:none;border:1px solid rgba(0,0,0,0.38) !important;color:#7b42ca !important;background:transparent !important;height:40px;font-weight:500;}.lrn_btn .lrn-close-menu-btn .pos-middle:focus{border-color:#d9d9d9;}.lrn_dropzone{border:2px dashed #7b42ca;}.lrn_arrows .lrn_arrow:before,.lrn_arrows .lrn_arrow:after{border:0.4em solid #7b42ca;}.lrn_btn_drag .lrn_icon{color:#7b42ca !important;}.lrn_cloze_response.lrn_dragdrop.lrn_dropzone{border:1px dashed #7b42ca;border-radius:4px;}.lrn_cloze_response.lrn-cloze-select{border-color:#d9d9d9;}.lrn_imageclozetext .lrn_cloze_response{border-color:#d9d9d9;}.lrn .lrn_btn_drag{color:#7b42ca !important;}.lrn_widget .lrn_btn_drag:hover,.lrn_widget .lrn_btn_drag.lrn_hover,.lrn_widget .lrn_btn_sort:hover,.lrn_widget .lrn_btn_sort.lrn_hover,.lrn_widget.lrn_orderlist .lrn_btn_sort.lrn_button:hover,.lrn_widget.lrn_orderlist .lrn_btn_sort.lrn_button.lrn_hover,.lrn_widget.lrn_orderlist .lrn_btn_sort.lrn_list:hover,.lrn_widget.lrn_orderlist .lrn_btn_sort.lrn_list.lrn_hover{box-shadow:inset 0 0 0 2px #7b42ca !important;}.lrn_widget.lrn_shorttext .lrn_textinput input:focus{border:solid 1px #7b42ca;}.lrn_widget.lrn_tokenhighlight .lrn_response .lrn_tokenhighlight_highlight,.lrn_widget.lrn_tokenhighlight .lrn_response .lrn_tokenhighlight_highlight:focus{background-color:#f5f3ff !important;border-color:#7b42ca !important;}.lrn_widget.lrn_tokenhighlight .lrn_response .lrn_token:focus{border:solid 1px #7b42ca;background-color:#f5f3ff !important;}.lrn_widget.lrn_mcq .lrn_response .lrn_mcqgroup-block .lrn-mcq-option.lrn_selected .lrn-label{color:#7b42ca !important;background-color:#f5f3ff !important;}.lrn_widget .lrn_selected{color:#7b42ca !important;background-color:#f5f3ff !important;}.lrn_widget.lrn_mcq .lrn_response .lrn_mcqgroup-block .lrn-mcq-option.lrn_selected:not(.lrn_valid):not(.lrn_correct):not(.lrn_incorrect){border-left-color:#7b42ca !important;}.lrn-btn-primary{background-color:",d.primary.active," !important;border-color:",d.primary.active," !important;color:#fff !important;}.lrn-btn-primary:disabled{opacity:0.4 !important;}.lrn-btn-primary:focus{background-color:",d.primary.selected," !important;}.lrn-btn-primary:active{background-color:",d.primary.active," !important;}.start-test-btn{background-color:",d.primary.active," !important;border-color:",d.primary.active," !important;border-radius:",i.medium,";color:#fff !important;}.lrn-i-trash:before{content:'\\e872' !important;font-family:'Material Icons' !important;font-size:25px;}.lrn-check-box-input + span.lrn-i-tick:after{display:none !important;}*/ .lrn-badge-round-published{background-color:",d.primary.active," !important;}.lrn-btn-save-dropdown:hover{background-color:",d.primary.hover," !important;}.lrn-activity-view-empty-img{visibility:hidden;}.lrn-list-view-empty-label{font-family:'Work Sans',sans-serif;font-weight:600;letter-spacing:1.18px;}.start-test-btn{background-color:",d.primary.active," !important;border:none !important;border-radius:",i.medium," !important;}.lrn-form-control[disabled]{background-color:",u.lightPurple.selected," !important;}.lrn-list-divider > li{border-bottom:0 !important;margin-bottom:5px;}.lrn-item-for-activity-list .lrn-list-view-col-first{border-right:0 !important;}.lrn-list-view-item .lrn-list-view-col.lrn-list-view-col-number{visibility:hidden;}.lrn-item-for-activity-list li .lrn-row .lrn-list-view-labels{display:none;}.lrn-item-for-activity-list li .lrn-row{margin:20px 0;}.lrn-item-for-activity-list li .lrn-row .lrn-list-view-heading-wrapper{margin-bottom:16px;}.lrn-item-for-activity-list li .lrn-row > div:nth-of-type(1){margin-top:-6px;}.lrn-item-for-activity-list li .lrn-row > div:nth-of-type(1) button{background:transparent !important;border:none !important;}.lrn-item-for-activity-list li .lrn-row > div:nth-of-type(1) button span:before{content:'\\e8f4';font-family:'Material Icons' !important;font-size:1.25em;}.lrn-item-for-activity-list li .lrn-row > div:nth-of-type(1) button.lrn-close-preview span:before{content:'\\e8f5';font-family:'Material Icons' !important;font-size:1.65em !important;}.lrn-item-for-activity-list li .lrn-check-box-wrapper{margin-top:23px;}.lrn-i-plus:before{color:",d.primary.active," !important;}a:hover,a:focus{color:",d.primary.active," !important;}.lrn-btn-active{background-color:",u.lightPurple.selected," !important;color:",d.primary.active," !important;}.lrn-question-type-name{font-family:'Work Sans',sans-serif;font-size:24px !important;font-weight:600 !important;letter-spacing:0.18px;line-height:28px;}input[type='text'],select{background-color:",u.lightPurple.selected," !important;border:1px dashed ",d.primary.active," !important;border-radius:",i.medium," !important;}.lrn-i-drag:before{content:'\\e945';font-family:'Material Icons' !important;font-size:25px !important;}.lrn-list-view-status{display:none;}.lrn_widget .lrn_selected{background-color:transparent !important;}input[id^='lrn_search_view']{background-color:white !important;border:1px solid gray !important;border-right:0px !important;border-radius:0px !important;border-top:1px solid gray !important;}input[id^='lrn_search_tags_basic_view']{background-color:white !important;border:0px !important;border-right:0px !important;border-radius:0px !important;}"),h=Object(a.b)("div",{target:"e1s49jk30"})(g,";",p,";.lrn-author-widget-sidebar{background-color:transparent !important;}.lrn.lrn-author{.lrn-author-api-react-container{background-color:transparent;}.lrn-author-region-sidebar{background-color:transparent !important;}.lrn-item-list.lrn-item-for-activity-list [data-authorapi-view='items']{margin:auto calc(1em + 4px);}.lrn-author-item-toolbar{.lrn-author-item-toolbar-left .lrn-author-item-toolbar-controls{[data-authorapi-selector='questioneditor-type-toggle']{background:none !important;border:none;color:",l.grey60,";font-weight:900;padding-left:0;padding-right:0;[class^='lrn-i-']{display:none;}&:after{border:none;}}.lrn-btn-active[data-authorapi-selector='questioneditor-type-toggle']{border-bottom:2px solid ",r.b.color.purple,";color:",r.b.color.purple,";}}.lrn-author-item-toolbar-right .lrn-author-item-toolbar-controls{.lrn-author-toolbar-button{span:nth-of-type(2){display:none !important;}&:hover{background:transparent !important;}&:focus{outline:none !important;}}}}}.lrn-author-save-button-group{background-color:transparent !important;height:40px !important;button{height:40px !important;padding-bottom:0 !important;padding-top:0 !important;&.lrn-btn-save{border-top-left-radius:",i.medium," !important;border-bottom-left-radius:",i.medium," !important;}&.lrn-btn-save-dropdown{border-top-right-radius:",i.medium," !important;border-bottom-right-radius:",i.medium," !important;}}.lrn-btn-save-popover{top:40px !important;}.lrn-btn-save .lrn-author-inline-block{color:#fff;font-family:'Work Sans',sans-serif !important;font-size:14px;font-weight:900 !important;line-height:16px;text-transform:capitalize;}}.lrn .lrn-author-ui .lrn-btn-success[disabled],.lrn .lrn-author-ui .lrn-btn-success[disabled]:focus,.lrn .lrn-author-ui .lrn-btn-success[disabled]:hover{background-color:",d.primary.active," !important;}.lrn-author-activity-button{border-radius:",i.medium," !important;font-family:'Work Sans',sans-serif !important;font-size:14px !important;font-weight:600 !important;height:40px !important;}.lrn .lrn-author-ui .lrn-btn-sec{background-color:#fff;border-color:",l.grey40,";color:",d.primary.selected," !important;position:relative;}.lrn .lrn-author-ui .lrn-btn-sec:hover{background-color:",d.secondary.hover," !important;}.lrn .lrn-author-ui .lrn-btn-sec:focus{background-color:",d.secondary.selected," !important;border:1px solid ",d.primary.active,";}.lrn .lrn-author-ui .lrn-btn-sec:active{background-color:",d.secondary.active," !important;}.lrn-author-ui-no-preview button.lrn-author-widget-button{background-color:",d.primary.active,";border-radius:",i.medium," !important;color:white;height:40px;min-height:40px;width:190px;}.lrn-author-ui-no-preview button.lrn-author-widget-button:hover{background-color:",d.primary.hover,";}.lrn-author-ui-no-preview button.lrn-author-widget-button .lrn-author-widget-icon.lrn-i-plus{display:none;}.lrn-author-ui-no-preview button.lrn-author-widget-button .lrn-author-widget-text{color:#fff;font-weight:600;position:relative;top:0;}.lrn-author-ui-no-preview button.lrn-author-widget-button:hover .lrn-author-widget-text{color:#fff;}.lrn-author-title-menu-element.lrn-author-toolbar-button.lrn-author-btn-outline.lrn-btn-icon-left.lrn-btn-responsive.lrn-btn{height:40px;padding:0 25px;}.lrn-author-title-menu-element.lrn-author-toolbar-button.lrn-author-btn-outline.lrn-btn-icon-left.lrn-btn-responsive.lrn-btn span{font-size:14px;line-height:20px;}.lrn-author-flex-toolbar{button[type='submit'].lrn-main-search-button{background:white !important;border-color:",l.grey40,";border-radius:",i.medium,";color:",r.b.color.purple," !important;font-size:14px;font-weight:600;padding-bottom:1em;padding-top:1em;text-transform:capitalize;span:before{font-size:14px;font-weight:600;}&:hover{background-color:",d.primary.hover," !important;color:#fff !important;}&:focus{background-color:",d.primary.selected," !important;color:#fff !important;}}}.lrn-author-activity-toolbar-controls li:nth-of-type(4) button .lrn-i-trash{display:none;}.lrn-author-activity-toolbar-controls li:nth-of-type(4) button .lrn-author-button-text{padding-left:0;}.lrn-author-activity-toolbar-controls button span .lrn-i-trash + span{padding-left:0;}.lrn-author-widget-button.lrn-author-widget-button-more .lrn-author-widget-icon.lrn-i-plus{display:inline !important;}.lrn-author-widget-button[data-authorapi-selector='add-button'] div .lrn-author-widget-text:before{content:'\\E900';font-family:Learnosity Author Icon !important;left:-25px;position:absolute;}.lrn-author-widget-button.lrn-author-widget-button-more .lrn-author-widget-icon.lrn-i-plus:before{color:white !important;font-size:17px;}.lrn-author-shared-passages-dropdown{display:none !important;}.lrn-author-name-edit input[aria-label^='Activity reference']{background-color:transparent !important;font-family:'Work Sans',sans-serif;font-size:24px;font-weight:600;line-height:28px;width:inherit;}.lrn-author-checkbox-container .lrn-author-checkbox-label{font-family:'Work Sans',sans-serif !important;}.lrn-author-checkbox:checked + .lrn-author-checkbox-label:after{background-color:",d.primary.active," !important;border:",d.primary.active," !important;}.lrn-author-checkbox + .lrn-author-checkbox-label:before{left:-33px !important;}.lrn-author-save-button-group .lrn-btn-save.lrn-btn.lrn-btn-primary{height:40px !important;}.lrn-author-save-button-group .lrn-btn-save:hover.lrn-btn.lrn-btn-primary,.lrn-btn-save-dropdown:hover{background-color:",d.primary.hover," !important;}.lrn-author-save-button-group.lrn-btn-save-dropdown-active .lrn-btn-save-dropdown{background-color:",d.primary.active,";font-family:'Work Sans',sans-serif;}.lrn-author-save-button-group.lrn-btn-save-dropdown-active .lrn-btn-save-dropdown:not([disabled]):hover{background-color:",d.primary.hover,";}.lrn-author-save-button-group.lrn-btn-save-dropdown-active .lrn-btn-save-dropdown:not([disabled]):focus{background-color:",d.primary.selected,";}.lrn-author-save-button-group .lrn-btn-save-dropdown{display:none;}.lrn-author-save-button-group .lrn-i-save{display:none;}.lrn-author-item .lrn-author-nav{display:block;}.lrn-author-item-nav{display:none !important;background:transparent !important;}.lrn-author-item-nav-left button:hover{color:",d.primary.hover," !important;}.lrn-author-item-nav .lrn-btn{font-family:'Work Sans',sans-serif;text-transform:capitalize;}.lrn-author-tab-link .lrn-author-tab-header{font-family:'Work Sans',sans-serif;font-weight:600;}.lrn-author-nav.lrn-author-nav-tabs:focus,.lrn-author-nav.lrn-author-nav-tabs:hover,.lrn-author-nav li.active a{color:",d.primary.active," !important;}.lrn-author-nav-tabs .lrn-active-tab-marker{background-color:",d.primary.active," !important;}.lrn-author-nav-tabs .active .lrn-active-tab-marker{transform:scaleY(1.5) !important;}.lrn-author-activity-button .lrn-i-search:before{content:'\\E900';}.lrn-author-activity-button.lrn-btn-sec{border:1px solid ",r.b.color.designSystem.grey60,";border-radius:",i.medium," !important;box-sizing:border-box;color:",d.primary.active," !important;height:40px !important;text-align:left;width:198px;}.lrn-author-activity-button.lrn-btn-sec:hover{background-color:",d.secondary.hover,";}.lrn-author-activity-button.lrn-btn-sec .lrn-author-button-text{position:relative;visibility:hidden;}.lrn-author-activity-button.lrn-btn-sec .lrn-author-button-text:after{content:'Add from item bank';font-family:'Work Sans',sans-serif;font-size:14px;font-weight:600;left:15px;position:absolute;visibility:visible;white-space:nowrap;}@media only screen and (max-width:872px){.lrn-author-activity-button.lrn-btn-sec{width:initial !important;}.lrn-author-activity-button.lrn-btn-sec .lrn-author-button-text:after{content:'';}}.lrn-author-toolbar-toggle .lrn-author-toggle-part{border-color:",r.b.color.designSystem.grey60,";border-radius:",i.medium," !important;font-family:'Work Sans',sans-serif;font-size:14px !important;}.lrn-author-toolbar-toggle .lrn-author-toggle-right{border-left:0 !important;border-top-left-radius:0 !important;border-bottom-left-radius:0 !important;}.lrn-author-toolbar-toggle .lrn-author-toggle-left{border-right:0 !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important;}.lrn .lrn-author-ui .lrn-author-toolbar-toggle .lrn-author-input:checked ~ .lrn-author-toggle-left,.lrn .lrn-author-ui .lrn-author-toolbar-toggle .lrn-author-input:not(:checked) ~ .lrn-author-toggle-right,.lrn .lrn-author-ui .lrn-author-toolbar-toggle .lrn-author-toggle-active{background-color:",u.lightPurple.selected," !important;border-color:",d.primary.active,";color:",d.primary.active," !important;}.lrn-author-toolbar-toggle .lrn-author-input:checked ~ .lrn-author-toggle-left{border-right:1px solid ",d.primary.active," !important;}.lrn-author-toolbar-toggle .lrn-author-toggle-right{border-left:1px solid ",d.primary.active," !important;}.lrn-author-toolbar-toggle .lrn-author-input:checked ~ .lrn-author-toggle-right{border-left:0 !important;}.lrn-author-toolbar-toggle .lrn-author-toggle-left:hover,.lrn-author-toolbar-toggle .lrn-author-toggle-right:hover{background-color:",u.lightPurple.hover," !important;}.lrn .lrn-author-ui .lrn-author-toolbar-toggle .lrn-author-toggle-part:after{border:none !important;}.lrn-author-intro-outro-toolbar{display:none !important;}.lrn-author-intro-outro-toolbar .lrn-author-activity-intro-outro .lrn-author-activity-intro-outro-content .lrn-author-customize-reset{color:",d.primary.active," !important;}.lrn-author-customize-labels{font-family:'Work Sans',sans-serif;font-size:14px;font-weight:600;height:40px;line-height:1.5rem;}.lrn-author-row-button.active label{color:",d.primary.active,";}.lrn-author-settings-tag{background-color:",u.lightPurple.selected," !important;}.lrn-author-activity-edit [data-tab-content='items'] .lrn-list-details{background-color:#ffffff;border-radius:",i.medium,";border-width:0 !important;box-shadow:0px 1px 1px rgb(0 0 0 / 14%),0px 2px 1px rgb(0 0 0 / 12%),0px 1px 3px rgb(0 0 0 / 20%);}[data-authorapi-view='item-list'] li .lrn-list-view-item-offset{background-color:#ffffff;border-radius:",i.medium,";border-width:0 !important;box-shadow:0px 1px 1px rgb(0 0 0 / 14%),0px 2px 1px rgb(0 0 0 / 12%),0px 1px 3px rgb(0 0 0 / 20%);padding:10px 0;}[data-authorapi-view='item-list'] li .lrn-list-view-item-offset > div:nth-of-type(1){padding-top:15px !important;}[data-authorapi-view='item-list'] li .lrn-list-view-item-offset > div:nth-of-type(1) button{background-color:transparent !important;border:none;}[data-authorapi-view='item-list'] li .lrn-list-view-item-offset > div:nth-of-type(1) button .lrn-i-preview:before{content:'\\e8f4';font-family:'Material Icons' !important;font-size:1.25em;}[data-authorapi-view='item-list'] li .lrn-list-view-item-offset > div:nth-of-type(1) button .lrn-i-cross:before{color:black;content:'\\e8f5';font-family:'Material Icons' !important;font-size:1.65em !important;}[data-authorapi-view='item-list'] li div:nth-of-type(2) .lrn-list-view-labels{display:none !important;}[data-authorapi-view='item-list'] li .lrn-list-view-item-offset > div:nth-of-type(2) > div:nth-of-type(2){margin-top:10px;}.lrn-item-list.lrn-item-for-activity-list [data-authorapi-view='items'] ul li > div:nth-of-type(1){display:none;}.lrn-item-list.lrn-item-for-activity-list [data-authorapi-view='items'] ul[data-authorapi-view='item-list'] li > div:nth-of-type(2) .lrn-check-box-wrapper{margin-top:13px;}.lrn-author-layout-settings button h5{color:",d.primary.active," !important;}.lrn .lrn-author-ui .lrn-author-widget-sidebar li button [class^='lrn-i-']{border-top-color:transparent;}[data-authorapi-view='pagination-1']{ul{& > li:nth-child(1),& > li:nth-child(3){display:none !important;}& > li:nth-child(2){width:100%;& > div{margin:0 30px 0 auto;.lrn-pagination-counter,.lrn-pagination-total{display:none !important;}}}}.lrn-sort-panel{right:0 !important;left:auto !important;}button.lrn-author-pagination-display-total{display:none;}}[data-authorapi-view='pagination-2'] button:hover{color:",d.primary.active," !important;}.lrn-author-widget-wrapper{padding-right:80px;}")},1702:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var a=n(14),r=Object(a.b)("div",{target:"eamqyhg0"})("text-align:center;"),i=Object(a.b)("div",{target:"eamqyhg1"})("button{margin-left:10px;}"),o=Object(a.a)("align-items:center;")},1703:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return l}));var a=n(45),r=n.n(a),i=n(0),o=n(1788),s="AUTHOR",c="ITEMS",l="REPORTS",u={AUTHOR:{src:"https://authorapi.learnosity.com/?v2021.1.LTS",check:function(){return!!window.LearnosityAuthor}},ITEMS:{src:"https://items.learnosity.com/?v2021.1.LTS",check:function(){return!!window.LearnosityItems}},REPORTS:{src:"https://reports.learnosity.com/",check:function(){return!!window.LearnosityReports}}};t.d=function(e){var t=u[e],n=t.src,a=t.check,s=Object(i.useState)(a()),c=r()(s,2),l=c[0],d=c[1];return Object(i.useEffect)((function(){l||Object(o.a)({src:n,onLoad:function(){d(!0)}})}),[]),l}},1723:function(e,t,n){"use strict";var a,r=n(35),i=n(26),o=n.n(i),s=n(53),c=n.n(s),l=n(52),u=n.n(l),d=n(51),p=n.n(d),f=n(58),m=n.n(f),b=n(60),g=n.n(b),h=n(42),v=n.n(h),y=n(1),x=n.n(y),E=n(0),O=n.n(E),j=n(3),k=n.n(j),w=n(4),S=n.n(w),I=n(5),C=n.n(I),T=n(9),R=n.n(T),q=n(8),A=n.n(q),D=n(2),P=n.n(D),z=n(6),F=n.n(z),L=n(81),N=n(12),M=n.n(N),_=n(7),U=n.n(_),B=n(199),H=n.n(B),G=n(158),V=n.n(G),W=n(579),K=n(145),Q=n(268),Y=n(15),J={container:{display:"inline-block",padding:3,background:Y.b.color.beige,borderRadius:5,marginRight:10,marginBottom:5,cursor:"pointer",transition:"color 0.1s",color:Y.b.color.grey6,float:"left",":hover":{padding:2,border:"1px solid ".concat(Y.b.color.grey6),color:"black"}},self:{padding:2,border:"1px solid ".concat(Y.b.color.green1),background:"".concat(Y.b.color.green3),":hover":{border:"1px solid ".concat(Y.b.color.green0),color:"black"}},disabled:{opacity:.5,cursor:"default"},emojiWrapper:{display:"inline-block",float:"left"},count:{fontSize:16,lineHeight:"22px",marginLeft:5},tooltipPadding:{padding:3},tooltipReaction:{color:Y.b.color.grayDark},marginTop2:{marginTop:2}},Z=n(20),$=n.n(Z),X=function(e){return"".concat(e.firstName," ").concat(e.lastName)},ee=function(e){var t=e.users,n=e.userId,a=e.self?["You"].concat($()(t.filter(function(e){return function(t){return t.id!==e}}(n)).map(X))):t.map(X);switch(a.length){case 0:return"";case 1:return a[0];case 2:return a.join(" and ");default:var r=a.length-1;return"".concat(a.slice(0,-1).join(", "),", and ").concat(a[r])}};function te(e,t){var n=F()(e);if(k.a){var a=k()(e);t&&(a=a.filter((function(t){return S()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):C.a?R()(e,C()(n)):te(Object(n)).forEach((function(t){A()(e,t,S()(n,t))}))}return e}function ae(e){var t=function(){if("undefined"==typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=o()(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var re=function(){},ie=H()(a=function(e){m()(a,e);var t,n=ae(a);function a(e){var t;return c()(this,a),(t=n.call(this,e)).getUsers=V()(t.getUsers.bind(p()(t)),150),t.onShowTooltipEvent=t.onShowTooltipEvent.bind(p()(t)),t.onKeyDown=t.onKeyDown.bind(p()(t)),t.onToggle=t.onToggle.bind(p()(t)),t}return u()(a,[{key:"componentDidMount",value:function(){this.updateEmoji()}},{key:"componentDidUpdate",value:function(e){var t=this.props.reaction.emojiName;e.reaction.emojiName!==t&&this.updateEmoji()}},{key:"onShowTooltipEvent",value:function(){this.props.shouldFetchUsers&&this.getUsers()}},{key:"onToggle",value:function(){var e=this.props;(0,e.onClick)({emojiName:e.reaction.emojiName})}},{key:"onKeyDown",value:function(e){"Enter"===e.key&&this.onToggle()}},{key:"getUsers",value:(t=M()(U.a.mark((function e(){var t;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.getUsers,e.next=3,t();case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"hasUserReacted",value:function(){var e=this.props;return!!e.reaction.users[e.userId]}},{key:"updateEmoji",value:function(){var e=this.props.reaction.emojiName;this.setState({emoji:K.a.getFromShortName(e)})}},{key:"renderTooltipTitle",value:function(){var e=this.props,t=e.reaction,n=e.userId,a=e.users,r=e.isMissingUsers;return O.a.createElement("div",{style:J.tooltipPadding},r?"Loading...":O.a.createElement("div",null,O.a.createElement("span",{style:J.tooltipReaction},"Reacted with"," :".concat(t.emojiName,":")),O.a.createElement("div",{style:J.marginTop2},ee({userId:n,users:a,self:this.hasUserReacted()}))))}},{key:"render",value:function(){var e=this.props,t=e.reaction,n=e.id,a=e.disabled,r=this.state.emoji,i=O.a.createElement("span",{id:n,role:"button","aria-label":"".concat(t.emojiName," ").concat(t.count),"aria-disabled":a,onMouseEnter:this.onShowTooltipEvent,onFocus:this.onShowTooltipEvent,style:ne(ne(ne({},J.container),this.hasUserReacted()?J.self:{}),a?J.disabled:{}),onClick:a?re:this.onToggle,onKeyDown:a?re:this.onKeyDown,tabIndex:"0"},O.a.createElement("span",{style:J.emojiWrapper},O.a.createElement(Q.a,{emoji:r,size:22})),O.a.createElement("span",{style:J.count},t.count));return a?i:O.a.createElement(W.a,{title:this.renderTooltipTitle()},i)}}]),a}(O.a.PureComponent))||a;ie.propTypes={reaction:x.a.shape({users:x.a.shape({}),count:x.a.number,emoji:x.a.shape({}),emojiName:x.a.string}).isRequired,onClick:x.a.func.isRequired,disabled:x.a.bool,id:x.a.string.isRequired,getUsers:x.a.func.isRequired,userId:x.a.string.isRequired,shouldFetchUsers:x.a.bool.isRequired,isMissingUsers:x.a.bool.isRequired,users:x.a.arrayOf(x.a.shape({firstName:x.a.string,lastName:x.a.string})).isRequired},ie.defaultProps={disabled:!1};var oe=ie,se=n(24),ce=n(330),le=n(1669),ue=n(327);function de(e,t){var n=F()(e);if(k.a){var a=k()(e);t&&(a=a.filter((function(t){return S()(e,t).enumerable}))),n.push.apply(n,a)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){P()(e,t,n[t])})):C.a?R()(e,C()(n)):de(Object(n)).forEach((function(t){A()(e,t,S()(n,t))}))}return e}var fe,me=function(e,t){return t.map((function(t){return e[t]})).filter((function(e){return!!e}))},be=function(e){return F()(e)},ge=Object(r.b)((function(){var e=Object(L.a)(me,(function(e){return e})),t=Object(L.a)(be,(function(e){return e}));return function(n,a){var r=a.itemId,i=a.reaction,o=t(i.users),s=o.every((function(e){return Object(ue.a)(n,e)})),c=e(Object(ue.d)(n),o),l=c.length!==o.length,u=l&&!s;return{userId:se.currentUserId(n),disabled:ce.c.isTogglingReaction(n,r,i.emojiName),shouldFetchUsers:u,users:c,isMissingUsers:l}}}),(function(e,t){var n=t.reaction;return{getUsers:function(){return e(le.b(F()(n.users)))}}}),(function(e,t,n){return pe(pe(pe(pe({},e),t),n),{},{disabled:e.disabled||n.disabled})}))(oe),he=n(556),ve=n(573),ye={container:{position:"relative",display:"inline-block"},iconWrapper:{position:"relative",borderRadius:5,padding:4,cursor:"pointer",background:Y.b.color.beige,height:20,display:"inline-block",color:Y.b.color.grayDark,transition:"all 0.1s",":hover":{color:Y.b.color.grey6}},icon:{fontSize:20,lineHeight:"20px",color:Y.b.color.grayDark,fill:"currentColor"}},xe=n(85);function Ee(e){var t=function(){if("undefined"==typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=o()(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var Oe=H()(fe=function(e){m()(n,e);var t=Ee(n);function n(e){var a;return c()(this,n),(a=t.call(this,e)).state={pickerAnchorEl:null},a.openEmojiPicker=a.openEmojiPicker.bind(p()(a)),a.closeEmojiPicker=a.closeEmojiPicker.bind(p()(a)),a.handleEmojiPickerFromKeyboard=a.handleEmojiPickerFromKeyboard.bind(p()(a)),a}return u()(n,[{key:"closeEmojiPicker",value:function(){var e=this.props.closeEmojiPicker;e(),this.setState({pickerAnchorEl:null})}},{key:"openEmojiPicker",value:function(e){var t=this.props.openEmojiPicker;t(),this.setState({pickerAnchorEl:e.currentTarget})}},{key:"handleEmojiPickerFromKeyboard",value:function(e){e.keyCode===xe.d&&null===this.state.pickerAnchorEl?this.openEmojiPicker(e):this.closeEmojiPicker()}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.anchorOrigin,a=e.transformOrigin,r=e.onSelect,i=this.state.pickerAnchorEl;return O.a.createElement("span",{style:ye.container},O.a.createElement("span",{role:"button","aria-label":"Reaction emojis",id:t,style:ye.iconWrapper,onClick:this.openEmojiPicker,onKeyDown:this.handleEmojiPickerFromKeyboard,tabIndex:"0"},O.a.createElement(he.a,{style:ye.icon})),O.a.createElement(ve.b,{id:"".concat(t,"-emoji-picker"),anchorEl:i,show:!!i,anchorOrigin:n,transformOrigin:a,onClose:this.closeEmojiPicker,onSelect:r}))}}]),n}(O.a.Component))||fe;Oe.propTypes={onSelect:x.a.func.isRequired,anchorOrigin:ve.a.isRequired,transformOrigin:ve.a.isRequired,id:x.a.string.isRequired,openEmojiPicker:x.a.func.isRequired,closeEmojiPicker:x.a.func.isRequired};var je=Oe,ke=n(433);function we(e){var t=function(){if("undefined"==typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=v()(e);if(t){var r=v()(this).constructor;n=o()(a,arguments,r)}else n=a.apply(this,arguments);return g()(this,n)}}var Se=function(e){m()(n,e);var t=we(n);function n(e){var a;return c()(this,n),(a=t.call(this,e)).toggleReaction=a.toggleReaction.bind(p()(a)),a.addReaction=a.addReaction.bind(p()(a)),a}return u()(n,[{key:"toggleReaction",value:function(e){var t=e.emojiName,n=this.props.toggleReaction;n({emojiName:t})}},{key:"addReaction",value:function(e){this.toggleReaction({emojiName:e.short_name})}},{key:"render",value:function(){var e=this,t=this.props,n=t.sequenceId,a=t.itemId,r=t.reactions,i=t.style,o=t.hideWhenNoReactions,s=t.anchorOrigin,c=t.transformOrigin,l=t.openEmojiPicker,u=t.closeEmojiPicker,d=t.readOnly;return 0===r.length&&o?null:O.a.createElement("div",{style:i},r.map((function(t){return O.a.createElement(ge,{id:t.id,itemId:a,reaction:t,key:t.id,onClick:e.toggleReaction,disabled:d})})),O.a.createElement("span",null,!d&&O.a.createElement(je,{id:"addReaction-".concat(n),onSelect:this.addReaction,anchorOrigin:s,transformOrigin:c,openEmojiPicker:l,closeEmojiPicker:u})))}}]),n}(O.a.PureComponent);Se.propTypes={style:x.a.object,itemId:x.a.string.isRequired,reactions:x.a.array.isRequired,toggleReaction:x.a.func.isRequired,sequenceId:x.a.string,hideWhenNoReactions:x.a.bool,anchorOrigin:ke.a,transformOrigin:ke.a,openEmojiPicker:x.a.func,closeEmojiPicker:x.a.func,readOnly:x.a.bool},Se.defaultProps={sequenceId:"post-0",anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},hideWhenNoReactions:!1,openEmojiPicker:function(){},closeEmojiPicker:function(){},readOnly:!1};var Ie=Se,Ce=Object(r.b)((function(){var e=ce.c.getReactionsSelector();return function(t,n){return{reactions:e(t,{itemId:n.itemId})}}}),null)(Ie);t.a=Ce},1724:function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(45),o=n.n(i),s=n(0),c=n.n(s),l=n(1),u=n.n(l),d=n(379),p=n(1731),f=n(1732),m=n(6),b=n.n(m),g=n(3),h=n.n(g),v=n(4),y=n.n(v),x=n(5),E=n.n(x),O=n(9),j=n.n(O),k=n(8),w=n.n(k),S=n(2),I=n.n(S),C=n(15),T=n(198),R=n(50),q=n.n(R),A=n(14),D=n(520),P=n(1674),z=["isHeader"],F=["isHeader"],L=Object(A.b)(D.a,{target:"e131hk9d0"})("margin-top:4px;padding:8px 0;max-height:200px;width:",(function(e){return e.width||"408px"}),";overflow:auto;border-radius:4px;"),N=Object(A.b)("ul",{target:"e131hk9d1"})("margin:0;padding:0;"),M=Object(A.b)((function(e){e.isHeader;var t=q()(e,z);return c.a.createElement(P.a,r()({component:"li"},t))}),{target:"e131hk9d2"})("font-size:14px;font-weight:500;height:32px;display:flex;flex-direction:row;align-items:center;padding:0px 8px;"),_=Object(A.b)((function(e){e.isHeader;var t=q()(e,F);return c.a.createElement(M,t)}),{target:"e131hk9d3"})("height:41px;padding:12px;",(function(e){return!e.isHeader&&"border-bottom: 1px solid ".concat(C.b.color.grey3,";")})),U=Object(A.b)(M,{target:"e131hk9d4"})("color:",C.b.color.grayDark,";:hover{background-color:white;}"),B=Object(A.b)("div",{target:"e131hk9d5"})("display:flex;justify-content:center;align-items:center;");function H(e,t){var n=b()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){I()(e,t,n[t])})):E.a?j()(e,E()(n)):H(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}var V=function(e){var t=e.dataSet,n=e.highlightedIndex,a=e.suggestionLabel,i=e.isItemSelected,o=e.selectedItem,s=e.getMenuProps,l=e.useAlternativeItemType,u=e.getItemProps,d=e.DropdownItemType,p=e.isLoading,f=e.DropdownStyle,m=e.DropdownItemStyle,b=function(e){return G(G({},m),{},{backgroundColor:e?"transparent":"inherit"})},g=i?c.a.createElement(U,{key:"suggestion-label",button:!1},a):null,h=l?_:M;return c.a.createElement(L,f,p?c.a.createElement(B,null,c.a.createElement(T.a,{size:"24px"})):c.a.createElement(N,s(),g,function(e){var t=0;return e.map((function(e){if(e.isHeader)return e;var n=G(G({},e),{},{index:t});return t+=1,n}))}(t).map((function(e){return c.a.createElement(h,r()({key:e.key,selected:e.index===n||e.key===o,isHeader:e.isHeader},e.isHeader?{style:b(e.isHeader)}:u({item:e,style:G({backgroundColor:e.index===n&&!l||e.key===o?C.b.color.beige:C.b.color.white},b(e.isHeader))})),c.a.createElement(d,r()({},e,{selected:e.index===n||e.key===o})))}))))};V.propTypes={dataSet:u.a.arrayOf(u.a.shape({key:u.a.string.isRequired,label:u.a.string})).isRequired,highlightedIndex:u.a.number,suggestionLabel:u.a.string.isRequired,isItemSelected:u.a.bool.isRequired,selectedItem:u.a.string,getItemProps:u.a.func.isRequired,getMenuProps:u.a.func.isRequired,DropdownItemType:u.a.elementType.isRequired,useAlternativeItemType:u.a.bool,DropdownStyle:u.a.shape({width:u.a.string}),DropdownItemStyle:u.a.shape({height:u.a.string}),isLoading:u.a.bool},V.defaultProps={highlightedIndex:0,isLoading:!1,selectedItem:void 0,DropdownStyle:u.a.shape({width:{}}),DropdownItemStyle:{},useAlternativeItemType:!1};var W=V,K=n(1570),Q=Object(A.b)("div",{target:"ef5hd7n0"})("display:flex;flex:1;flex-direction:column;"),Y=Object(A.b)("div",{target:"ef5hd7n1"})("flex-grow:1;position:relative;"),J=Object(A.b)(K.a,{target:"ef5hd7n2"})("z-index:1300;"),Z=function(e){return e?e.label:""},$=function(){},X=function(e){var t=e.dataSet,n=e.selectedKey,a=e.showKeyInHeader,i=e.label,l=e.DropdownItemType,u=e.HeaderType,p=e.onChange,m=e.onDismiss,b=e.headerFontColor,g=e.headerIconColor,h=e.headerFontSize,v=e.headerBackgroundColor,y=e.isLoading,x=e.DropdownStyle,E=e.DropdownItemStyle,O=e.headerTextTruncate,j=e.ariaLabelledby,k=Object(s.useRef)(null),w=Object(s.useState)(null),S=o()(w,2),I=S[0],C=S[1],T=function(e){if(!m)return $;e.stopPropagation(),m()};return c.a.createElement(Q,null,c.a.createElement(d.a,{ref:k,id:"select-downshift",onSelect:function(e){e&&!e.isHeader&&p(e.key)},itemToString:Z,labelId:j},(function(e){var o=e.getRootProps,s=e.getItemProps,d=e.getMenuProps,p=e.getToggleButtonProps,m=e.highlightedIndex,j=e.isOpen,k=a&&n?c.a.createElement(u,r()({expanded:j,onClick:$,fontColor:b,iconColor:g,backgroundColor:v,textTruncate:O},t.find((function(e){return e.key===n})))):c.a.createElement(f.a,{expanded:j,label:(t.find((function(e){return e.key===n}))||{}).label||i,onClick:T,fontColor:b,iconColor:g,fontSize:h,textTruncate:O,dismiss:!a&&!!n,backgroundColor:v});return c.a.createElement(Y,o({refKey:"innerRef",role:void 0}),c.a.createElement("div",r()({},p(),{ref:function(e){return C(e)}}),k),c.a.createElement(J,{open:j,placement:"bottom",anchorEl:I},c.a.createElement(W,{dataSet:t,getItemProps:s,getMenuProps:d,highlightedIndex:m,suggestionLabel:i,isItemSelected:a&&!!n,useAlternativeItemType:!a,selectedItem:n,DropdownItemType:l,DropdownStyle:x,DropdownItemStyle:E,isLoading:y})))})))};X.propTypes={dataSet:u.a.arrayOf(u.a.shape({key:u.a.string,label:u.a.string})).isRequired,selectedKey:u.a.string,showKeyInHeader:u.a.bool,label:u.a.string.isRequired,DropdownItemType:u.a.elementType,DropdownStyle:u.a.shape({width:u.a.string}),DropdownItemStyle:u.a.shape({height:u.a.string}),HeaderType:u.a.elementType,headerFontColor:u.a.string,headerIconColor:u.a.string,headerBackgroundColor:u.a.string,headerFontSize:u.a.string,onChange:u.a.func.isRequired,onDismiss:u.a.oneOfType([u.a.func,u.a.string]),isLoading:u.a.bool.isRequired,headerTextTruncate:u.a.bool,ariaLabelledby:u.a.string},X.defaultProps={selectedKey:null,headerTextTruncate:!1,DropdownItemType:p.a,HeaderType:f.a,DropdownStyle:{},DropdownItemStyle:{},onDismiss:void 0,showKeyInHeader:!0,headerFontColor:void 0,headerIconColor:void 0,headerFontSize:void 0,headerBackgroundColor:void 0,ariaLabelledby:""};t.a=X},1725:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(0),v=n.n(h),y=n(1),x=n.n(y),E=n(1809),O=n(14),j=n(1748),k=n(15),w=Object(O.b)(j.a,{target:"ekujxwn0"})("span{color:",k.b.color.blackAlpha(.87),";font-family:",k.b.font.family.workSans,";font-weight:",k.b.font.weight.regular,";font-size:",k.b.font.size.copy,";line-height:",k.b.font.lineHeight.copy,";white-space:pre-wrap;}span > svg{color:",k.b.color.blackAlpha(.6),";}span.selected svg{color:",k.b.color.designSystem.purple70,";}");function S(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):S(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var C=function(e){var t=e.isSelected,n=e.handleChange,a=e.label,r=e.value,i=e.color,o=e.name,s=e.ariaLabel,c=e.style,l=e["data-testid"];return v.a.createElement(w,{value:r,label:a,"data-testid":l,control:v.a.createElement(E.a,{checked:t,onChange:n,color:i,name:o,inputProps:{"aria-label":s},size:"medium",style:I({padding:"0"},c),classes:{checked:"selected"}})})};C.propTypes={color:x.a.string,style:x.a.shape({}),name:x.a.string.isRequired,value:x.a.string.isRequired,label:x.a.oneOfType([x.a.string,x.a.object]).isRequired,ariaLabel:x.a.string.isRequired,isSelected:x.a.bool.isRequired,handleChange:x.a.func.isRequired,"data-testid":x.a.string},C.defaultProps={color:"default",style:{},"data-testid":void 0};var T=C;t.a=T},1726:function(e,t,n){"use strict";var a=n(26),r=n.n(a),i=n(6),o=n.n(i),s=n(3),c=n.n(s),l=n(4),u=n.n(l),d=n(5),p=n.n(d),f=n(9),m=n.n(f),b=n(8),g=n.n(b),h=n(2),v=n.n(h),y=n(53),x=n.n(y),E=n(52),O=n.n(E),j=n(51),k=n.n(j),w=n(58),S=n.n(w),I=n(60),C=n.n(I),T=n(42),R=n.n(T),q=n(49),A=n.n(q),D=n(0),P=n.n(D),z=n(1),F=n.n(z),L=n(1593),N=n(37),M=n.n(N),_=n(16),U=n(14),B=Object(U.b)("div",{target:"e1rfw1z50"})("height:calc(100vh - 135px);width:calc(100% - 64px);position:fixed;background:white;border-bottom-left-radius:8px;border-bottom-right-radius:8px;display:flex;justify-content:center;align-items:center;"),H=Object(U.b)("iframe",{target:"e1rfw1z51"})("width:100%;height:100%;"),G=n(1653),V=n.n(G),W=n(198);function K(e,t){var n=o()(e);if(c.a){var a=c()(e);t&&(a=a.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):p.a?m()(e,p()(n)):K(Object(n)).forEach((function(t){g()(e,t,u()(n,t))}))}return e}function Y(e){var t=function(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=R()(e);if(t){var i=R()(this).constructor;n=r()(a,arguments,i)}else n=a.apply(this,arguments);return C()(this,n)}}var J=function(e){S()(n,e);var t=Y(n);function n(e){var a;return x()(this,n),(a=t.call(this,e)).state={loading:!0},a.iframeName="turnitin-iframe-".concat(Math.random()),a.callTurnitIn=a.callTurnitIn.bind(k()(a)),a.callProxyServer=a.callProxyServer.bind(k()(a)),a.renderLoader=a.renderLoader.bind(k()(a)),a.renderFrame=a.renderFrame.bind(k()(a)),a}return O()(n,[{key:"componentDidMount",value:function(){this.callTurnitIn()}},{key:"callProxyServer",value:function(){var e=this;return new A.a((function(t){var n=e.props,a=n.assignment,r=a.objectId,i=a.title,o=a.description,s=a.endDate,c=a.startDate,l=a.gradesReleasedAt,u=a.maxGrade,d=n.user,p=d.email,f=d.firstName,m=d.lastName,b=d.sessionToken,g=Q(Q({assignmentId:r,spaceId:n.space.objectId,title:i,description:o,dueDate:s,startDate:c,gradesReleasedAt:l},u?{maxGrade:u}:{}),{},{email:p,firstName:f,lastName:m});M.a.post(Object(_.N)(),g,{headers:{"x-session-token":b}}).then((function(e){t(e.data)}))}))}},{key:"callTurnitIn",value:function(){var e=this;this.callProxyServer().then((function(t){var n=document.createElement("form");n.method=t.method,n.action=t.url;var a=t.body;if(a)for(var r in a){var i=document.createElement("input");i.setAttribute("name",r),i.setAttribute("value",a[r]),n.appendChild(i)}n.target=e.iframeName,document.body.appendChild(n),n.submit(),document.body.removeChild(n)}))}},{key:"renderLoader",value:function(){return this.state.loading?P.a.createElement(B,null,P.a.createElement(W.a,null)):null}},{key:"renderFrame",value:function(){var e=this;return P.a.createElement(H,{title:"turnitin",name:this.iframeName,frameBorder:"0",onLoad:function(){return e.setState({loading:!1})},"data-testid":"turnitin-iframe"},"Loading...")}},{key:"render",value:function(){var e=this.props,t=e.onClose,n=e.assignment.title;return P.a.createElement(L.a,{id:"turnitin-modal",size:"fullscreen",container:function(){return document.getElementById("turnitin-container")},open:!0,onClose:t,"data-testid":"turnitin-modal",headerData:{icon:P.a.createElement("img",{width:"32px",height:"32px",src:V.a,alt:"turnitin"}),title:"Turnitin: ".concat(n)}},this.renderLoader(),this.renderFrame())}}]),n}(D.PureComponent);J.propTypes={assignment:F.a.shape({objectId:F.a.string.isRequired,title:F.a.string.isRequired,description:F.a.string.isRequired,endDate:F.a.string.isRequired,startDate:F.a.string.isRequired,gradesReleasedAt:F.a.string.isRequired,maxGrade:F.a.number}).isRequired,user:F.a.shape({email:F.a.string.isRequired,firstName:F.a.string.isRequired,lastName:F.a.string.isRequired,sessionToken:F.a.string.isRequired}).isRequired,space:F.a.shape({objectId:F.a.string.isRequired}).isRequired,onClose:F.a.func.isRequired};t.a=J},1727:function(e,t,n){"use strict";var a=n(1601),r=n(43),i=n.n(r),o=n(50),s=n.n(o),c=n(0),l=n.n(c),u=n(1),d=n.n(u),p=n(1616),f=n(14),m=Object(f.b)("div",{target:"e16s5xd50"})((function(e){return e.readOnly?"opacity: 0.5;":""})),b=["onChange","onReturn","forwardedRef","setSubmittingState","isSubmitting","conversationId"],g=function(e){var t=function(t){var n=t.onChange,r=t.onReturn,o=t.forwardedRef,u=t.setSubmittingState,d=t.isSubmitting,f=t.conversationId,g=s()(t,b),h=Object(c.useCallback)((function(e){Object(a.k)(e)&&(Object(a.j)(e)||Object(a.l)(e)?u(!0):r(Object(p.trimEnd)(e),f))}),[]),v=Object(c.useCallback)((function(e){n(e,f),d&&(!Object(a.k)(e)||Object(a.j)(e)?u(!1):Object(a.l)(e)||(r(e,f),u(!1)))}),[d]);return l.a.createElement(m,{readOnly:d},l.a.createElement(e,i()({onChange:v,onReturn:h,readOnly:d,ref:o},g)))};return t.propTypes={onChange:d.a.func.isRequired,onReturn:d.a.func.isRequired,forwardedRef:d.a.oneOfType([d.a.func,d.a.shape({current:d.a.instanceOf(Element)})]).isRequired},l.a.forwardRef((function(e,n){return l.a.createElement(t,i()({},e,{forwardedRef:n}))}))},h=n(1681),v=n(533);t.a=Object(v.a)(Object(h.a)(g(a.a)),{ignore:!0})},1728:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(35),v=n(1683),y=n(1755),x=n(1814),E=n(254),O=n(1750);function j(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):j(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var w=Object(h.b)((function(e){var t=Object(v.b)(e),n=(t?Object(v.a)(e,t):{}).scheduledFor;return{postData:{postId:t,scheduledFor:n},open:!!t,scheduledFor:n}}),(function(e){return{onClose:function(){return e(Object(y.a)())},onSchedule:function(t){return function(n){return e(Object(x.a)(k(k({},t),{},{scheduledFor:n})))}},onReschedule:function(t){return function(n){return e(Object(E.b)({postId:t.postId,scheduledFor:n}))}}}}),(function(e,t,n){return k(k(k(k({},e),t),n),{},{onSchedule:t.onSchedule(e.postData),onReschedule:t.onReschedule(e.postData)})}))(O.a)},1729:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n.n(i),s=n(1996),c=n(85),l=n(92),u=n(14),d=n(15),p=Object(u.b)("ul",{target:"e726fgw0"})("font-family:",d.b.font.family.workSans,";font-size:",d.b.font.size.copy,";line-height:",d.b.font.lineHeight.small,";display:flex;list-style-type:none;margin:0px;padding:0px;margin-top:10px;li{float:left;padding:0px;min-height:24px;}svg{color:",d.b.color.designSystem.blackOpacity60," !important;vertical-align:bottom;height:19px !important;}"),f=Object(u.b)("li",{target:"e726fgw1"})("cursor:pointer;color:",d.b.color.purple,";"),m=Object(u.b)("li",{target:"e726fgw2"})("color:black;svg{color:black !important;vertical-align:bottom;height:19px !important;}"),b=function(e){var t=e.spaceId,n=e.routes,i=void 0===n?[]:n,o=e.staticRoutes,u=void 0===o?[]:o;return r.a.createElement(p,null,r.a.createElement(f,{"data-testid":"breadcrumb-assignment",tabIndex:"0",onKeyDown:function(e){return e.keyCode===c.d&&Object(l.c)(t)()},onClick:Object(l.c)(t)},"Assignments"),r.a.createElement(s.a,null),i.map((function(e){return r.a.createElement(a.Fragment,{key:e.title},r.a.createElement(f,{"data-testid":"breadcrumb-".concat(e.title.toLowerCase().replace(/ /g,"-")),tabIndex:"0",onKeyDown:function(t){return t.keyCode===c.d&&e.onClick()},onClick:function(){return e.onClick()}},e.title),r.a.createElement(s.a,null))})),u.map((function(e,t){return r.a.createElement(m,{key:e},e,t+1<u.length&&r.a.createElement(s.a,null))})))};b.propTypes={spaceId:o.a.string.isRequired,routes:o.a.arrayOf(o.a.shape({title:o.a.string.isRequired,onClick:o.a.func.isRequired})).isRequired,staticRoutes:o.a.arrayOf(o.a.string).isRequired};t.a=r.a.memo(b)},1730:function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(1),o=n.n(i),s=n(0),c=n.n(s),l=n(14),u=n(15),d=n(1544),p=Object(l.b)("div",{target:"e1nlvzce0"})("display:flex;align-items:",(function(e){return e.row?"center":"initial"}),";"),f=Object(l.b)("div",{target:"e1nlvzce1"})("display:flex;align-items:",(function(e){return e.row?"center":"flex-start"}),";height:",(function(e){return e.row?"".concat(u.b.spacing.xLarge):"initial"}),";font-family:'Work Sans',sans-serif;font-size:",u.b.font.size.copy,";line-height:",u.b.font.size.copy,";flex-direction:",(function(e){return e.row?"row":"column"}),";justify-content:",(function(e){return e.row?"flex-start":"space-between"}),";"),m=Object(l.b)(d.a,{target:"e1nlvzce2"})("margin-right:",u.b.spacing.xSmall,";flex-shrink:0;"),b=Object(l.b)("span",{target:"e1nlvzce3"})("font-weight:",(function(e){return e.bold?u.b.font.weight.bold:u.b.font.weight.regular}),";color:",u.b.color.mediumBlue,";"),g=Object(l.b)("span",{target:"e1nlvzce4"})("font-weight:",u.b.font.weight.regular,";color:",u.b.color.grey11,";margin-left:",(function(e){return e.row?u.b.spacing.xSmall:0}),";"),h=function(e){var t=e.collapsed,n=e.correlationId,a=e.name,i=e.title,o=e.size,s=e.subtitle,l=e.avatar,u=e.online,d=e.user,h=e.boldTitle;return c.a.createElement(p,{row:t},c.a.createElement(m,r()({size:o,colourSeed:n,name:a||i,src:l,online:u,user:d},t?{size:"small"}:{size:"medium"})),c.a.createElement(f,{row:t},c.a.createElement(b,{bold:h},i),c.a.createElement(g,{row:t},s)))};h.propTypes={avatar:o.a.string,boldTitle:o.a.bool,collapsed:o.a.bool,correlationId:o.a.string,name:o.a.string,online:o.a.bool,subtitle:o.a.node,title:o.a.string,user:o.a.shape({objectId:o.a.string.isRequired,avatar:o.a.string,firstName:o.a.string,lastName:o.a.string}),isNotFocusable:o.a.bool,size:o.a.string},h.defaultProps={avatar:void 0,boldTitle:!0,collapsed:!1,correlationId:void 0,name:void 0,online:!1,subtitle:c.a.createElement("span",null),title:"",user:void 0,isNotFocusable:!1,size:"medium"};t.a=h},1731:function(e,t,n){"use strict";var a=n(50),r=n.n(a),i=n(0),o=n.n(i),s=n(1),c=n.n(s),l=n(14),u=Object(l.b)("div",{target:"e1tbetlh0"})("display:flex;flex:1;flex-direction:row;align-items:center;"),d=["label","leftDecoration"],p=function(e){var t=e.label,n=e.leftDecoration,a=r()(e,d);return o.a.createElement(u,a,n,t)};p.propTypes={label:c.a.string.isRequired,leftDecoration:c.a.node},p.defaultProps={leftDecoration:null};t.a=p},1732:function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(50),o=n.n(i),s=n(0),c=n.n(s),l=n(1),u=n.n(l),d=n(15),p=n(1615),f=n.n(p),m=n(1614),b=n.n(m),g=n(267),h=n.n(g),v=n(14),y=n(861),x=Object(v.b)((function(e){var t=e.IconType;return c.a.createElement(t,null)}),{target:"e1dxfi940"})("font-size:20px;background:none;color:",(function(e){return e.fontColor}),";"),E=Object(v.b)(y.a,{target:"e1dxfi941"})("padding:0 8px 0 12px;background-color:",(function(e){return e.backgroundColor}),";color:",(function(e){return e.fontColor}),";height:32px;border-radius:4px;height:40px;border-style:solid;border-width:1px;border-color:",d.b.color.grey8,";box-sizing:border-box;&:focus{outline:Highlight auto;outline:-webkit-focus-ring-color auto;}"),O={small:Object(v.a)("font-size:12px;font-weight:normal;"),medium:Object(v.a)("font-size:14px;font-weight:normal;"),large:Object(v.a)("font-size:16px;font-weight:normal;")},j=["expanded","label","leftDecoration","onClick","dismiss","fontColor","fontSize","iconColor"],k=function(e){var t=e.expanded,n=e.label,a=e.leftDecoration,i=e.onClick,s=e.dismiss,l=e.fontColor,u=e.fontSize,d=e.iconColor,p=o()(e,j),m=t?b.a:f.a;return c.a.createElement(E,r()({size:"small",component:"div",attributes:{"aria-label":s?"Dismiss ".concat(n,"."):t?"Collapse ".concat(n,"."):"Expand ".concat(n,"."),role:"combobox"},primaryText:n,leftDecoration:a,rightDecoration:c.a.createElement(x,{IconType:s?h.a:m,iconColor:d}),onClick:i,fontColor:l,classes:{text:O[u]}},p))};k.propTypes={expanded:u.a.bool.isRequired,label:u.a.string.isRequired,leftDecoration:u.a.node,onClick:u.a.func.isRequired,fontColor:u.a.string,fontSize:u.a.string,iconColor:u.a.string,dismiss:u.a.bool,backgroundColor:u.a.string},k.defaultProps={leftDecoration:null,fontColor:d.b.color.black,iconColor:void 0,fontSize:"small",dismiss:!1,backgroundColor:d.b.color.beige};t.a=k},1733:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(519),o=function(e){return r.a.createElement(i.a,e,r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),r.a.createElement("path",{d:"M12 3.6c2.64 0 4.51 1.2 4.51 1.2l1.38 4.69H6.11L7.49 4.8S9.36 3.6 12 3.6c0 0 0 0 0 0zm0 7.85c2.77 0 6.72.58 6.72.58 1.03.28 1.87.55 2.52.81.99.33 1.56.58 1.56.58H1.2s.57-.25 1.56-.58c.65-.26 1.47-.53 2.49-.81.26-.05 4.07-.58 6.75-.58 0 0 0 0 0 0zM7.58 14.4c1.45 0 2.68.88 3.19 2.15.32-.1.69-.19 1.23-.19s.91.09 1.23.19a3.42 3.42 0 013.19-2.15c1.9 0 3.43 1.54 3.43 3.44a3.43 3.43 0 01-3.43 3.43c-1.9 0-3.44-1.54-3.44-3.43 0-.16 0-.32.03-.47-.31-.06-.65-.11-1.01-.11-.36-.01-.7.05-1.01.11.03.15.03.31.03.47 0 1.89-1.54 3.43-3.44 3.43a3.43 3.43 0 01-3.43-3.43c0-1.9 1.53-3.44 3.43-3.44 0 0 0 0 0 0zm0 .98a2.456 2.456 0 000 4.91 2.456 2.456 0 100-4.91s0 0 0 0zm6.38 2.46a2.456 2.456 0 004.91 0 2.456 2.456 0 10-4.91 0z"}))},s=r.a.memo(o);t.a=s},1749:function(e,t,n){e.exports=function(e){function t(a){if(n[a])return n[a].exports;var r=n[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=10)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=a(n(8)),s=a(n(4)),c=a(n(9));n(7);var l=function(e,t){var n=t.enabled,a=t.stay,r=e.visible,i=e.target;return!(!n||!i)&&(a||r)},u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={position:e.position,visible:!1,target:null},n.style={},n.handleEnableTooltipEvent=n.handleEnableTooltipEvent.bind(n),n.handleDisableTooltipEvent=n.handleDisableTooltipEvent.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.container;this.container=t||document.body,this.componentEl=c.default.findDOMNode(this),this.tooltipElContaier=document.createElement("div"),this.tooltipElContaier.className="tooltip-container",this.container.appendChild(this.tooltipElContaier),setTimeout((function(){e.resetTooltip()}),100),this.componentEl.addEventListener("mouseenter",this.handleEnableTooltipEvent),this.componentEl.addEventListener("mouseleave",this.handleDisableTooltipEvent),this.componentEl.addEventListener("focus",this.handleEnableTooltipEvent),this.componentEl.addEventListener("blur",this.handleDisableTooltipEvent)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,a=n.title,r=n.position,i=this.state.position;e.title!==a&&this.renderTooltip(),e.position!==r&&this.setState({position:r}),t.position!==i&&(this.positionTooltip(),this.renderTooltip());var o=l(t,e),s=l(this.state,this.props);!o&&s?(this.positionTooltip(),this.showTooltip()):o&&!s&&this.resetTooltip()}},{key:"componentWillUnmount",value:function(){this.componentEl.removeEventListener("mouseenter",this.handleEnableTooltipEvent),this.componentEl.removeEventListener("mouseleave",this.handleDisableTooltipEvent),this.componentEl.removeEventListener("focus",this.handleEnableTooltipEvent),this.componentEl.removeEventListener("blur",this.handleDisableTooltipEvent),this.container.removeChild(this.tooltipElContaier),c.default.unmountComponentAtNode(this.tooltipElContaier)}},{key:"getTooltipOffset",value:function(e){var t=this.props.space,n=this.tooltipEl?this.tooltipEl.offsetWidth:0,a=this.tooltipEl?this.tooltipEl.offsetHeight:0,r=0,i=0;switch(e){case"right":r=Number(t),i=-a/2;break;case"bottom":r=-n/2,i=Number(t);break;case"left":r=-(n+Number(t)),i=-a/2;break;case"top":default:r=-n/2,i=-(a+Number(t))}return{x:r,y:i}}},{key:"getTooltipPosition",value:function(e){var t=document.body.getBoundingClientRect(),n=this.container.getBoundingClientRect(),a=n.left-t.left,r=n.top-t.top,i=this.componentEl.getBoundingClientRect(),o=i.left-a,s=i.top-r,c=this.componentEl.offsetWidth,l=this.componentEl.offsetHeight,u=0,d=0;switch(e){case"right":u=c,d=l/2;break;case"bottom":u=c/2,d=l;break;case"left":u=0,d=l/2;break;case"top":default:u=c/2,d=0}return{x:o+u+(window.scrollX||window.pageXOffset),y:s+d+(window.scrollY||window.pageYOffset)}}},{key:"canFit",value:function(){var e=this;return["top","bottom","left","right"].some((function(t){var n=e.getTooltipPosition(t),a=e.getTooltipOffset(t),r=n.x+a.x,i=n.y+a.y;return r>=0&&r<=window.innerWidth&&i>=0&&i<=window.innerHeight}))}},{key:"positionTooltip",value:function(){var e=this.props.title,t=this.state.position;if(""!==e&&this.canFit()){var n=this.getTooltipPosition(t),a=this.getTooltipOffset(t),i=n.x+a.x,o=n.y+a.y;return i<0?void this.setState({position:"right"}):i>window.innerWidth?void this.setState({position:"left"}):o<0?void this.setState({position:"bottom"}):o>window.innerHeight?void this.setState({position:"top"}):void(this.style=r({},this.style,{left:i+"px",top:o+"px"}))}}},{key:"resetTooltip",value:function(){this.style=r({},this.style,{transition:"opacity 0.4s",left:"-500px",top:"-500px",opacity:0}),this.renderTooltip()}},{key:"showTooltip",value:function(){this.style=r({},this.style,{opacity:1}),this.renderTooltip()}},{key:"handleEnableTooltipEvent",value:function(e){this.setState({target:e.currentTarget,visible:!0})}},{key:"handleDisableTooltipEvent",value:function(e){this.state.target===e.currentTarget&&this.setState({visible:!1})}},{key:"createActionButtons",value:function(){var e=this.props,t=e.theme,n=e.actions,a=function(e){return function(){return e.action()}},r=function(e){return function(t){"Enter"===t.key&&e.action()}};return o.default.createElement("div",{className:"tooltip-inner "+t},n.map((function(e){return o.default.createElement("div",{role:"button",tabIndex:"0",onClick:a(e),onKeyDown:r(e),className:"tooltip-button"},o.default.createElement("div",{className:"tooltip-text"},e.title))})))}},{key:"createTextElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.theme;return o.default.createElement("div",{className:"tooltip-inner tooltip-text "+t},e)}},{key:"renderTooltip",value:function(){var e=this.props,t=e.theme,n=e.title,a=e.actions,r=this.state.position;this.tooltipEl=c.default.render(o.default.createElement("div",{onMouseEnter:this.handleEnableTooltipEvent,onMouseLeave:this.handleDisableTooltipEvent,onFocus:this.handleEnableTooltipEvent,onBlur:this.handleDisableTooltipEvent,style:this.style,className:"tooltip "+t+" "+r},o.default.createElement("div",{className:"tooltip-arrow "+t}),a?this.createActionButtons():this.createTextElement(n)),this.tooltipElContaier)}},{key:"render",value:function(){var e=this.props.children;return e.type?e:o.default.createElement("span",null,e)}}]),t}(o.default.Component);u.defaultProps={enabled:!0,container:document.body,position:"right",theme:"dark",stay:!1,space:0,actions:null},u.propTypes={enabled:s.default.bool,stay:s.default.bool,children:s.default.node.isRequired,title:s.default.string.isRequired,actions:s.default.arrayOf(s.default.shape({action:s.default.func,title:s.default.string})),container:s.default.node,theme:s.default.oneOf(["dark","light"]),position:s.default.oneOf(["left","top","right","bottom"]),space:s.default.oneOfType([s.default.string,s.default.number])},t.default=u},function(e,t,n){(e.exports=n(2)()).push([e.i,".tooltip{position:absolute;z-index:99999;display:block;font-family:Work Sans;line-break:auto;text-align:left;text-decoration:none;text-shadow:none;text-transform:none;white-space:normal;word-break:normal;word-spacing:normal;word-wrap:normal;font-size:13px}.tooltip.top{margin-top:-3px;padding:5px 0}.tooltip.right{margin-left:3px;padding:0 5px}.tooltip.bottom{margin-top:3px;padding:5px 0}.tooltip.left{margin-left:-3px;padding:0 5px}.tooltip-inner{max-width:200px;text-align:left;border-radius:2px}.tooltip-button,.tooltip-inner.tooltip-text{padding:6px 10px}.tooltip-button{cursor:pointer}.tooltip-button:hover{background:#fff}.tooltip-inner.dark .tooltip-button:hover{background:#000}.tooltip-button .tooltip-text{padding-bottom:2px;border-bottom:1px solid #bababa}.tooltip-inner.dark{background-color:#000;color:#fff}.tooltip-inner.light{background-color:#efefef;color:#007f80;border:1px solid #bababa}.tooltip-arrow{position:absolute;width:0;height:0;border-color:transparent;border-style:solid}.tooltip.top .tooltip-arrow{bottom:0;left:50%;margin-left:-5px;border-width:5px 5px 0}.tooltip.top .tooltip-arrow.dark{border-top-color:#000}.tooltip.top .tooltip-arrow.light{border-top-color:#bababa}.tooltip.top-left .tooltip-arrow{bottom:0;right:5px;margin-bottom:-5px;border-width:5px 5px 0}.tooltip.top-left .tooltip-arrow.dark{border-top-color:#000}.tooltip.top-left .tooltip-arrow.light{border-top-color:#bababa}.tooltip.top-right .tooltip-arrow{bottom:0;left:5px;margin-bottom:-5px;border-width:5px 5px 0}.tooltip.top-right .tooltip-arrow.dark{border-top-color:#000}.tooltip.top-right .tooltip-arrow.light{border-top-color:#bababa}.tooltip.right .tooltip-arrow{top:50%;left:0;margin-top:-5px;border-width:5px 5px 5px 0}.tooltip.right .tooltip-arrow.dark{border-right-color:#000}.tooltip.right .tooltip-arrow.light{border-right-color:#bababa}.tooltip.left .tooltip-arrow{top:50%;right:0;margin-top:-5px;border-width:5px 0 5px 5px}.tooltip.left .tooltip-arrow.dark{border-left-color:#000}.tooltip.left .tooltip-arrow.light{border-left-color:#bababa}.tooltip.bottom .tooltip-arrow{top:0;left:50%;margin-left:-5px;border-width:0 5px 5px}.tooltip.bottom .tooltip-arrow.dark{border-bottom-color:#000}.tooltip.bottom .tooltip-arrow.light{border-bottom-color:#bababa}.tooltip.bottom-left .tooltip-arrow{top:0;right:5px;margin-top:-5px;border-width:0 5px 5px}.tooltip.bottom-left .tooltip-arrow.dark{border-bottom-color:#000}.tooltip.bottom-left .tooltip-arrow.light{border-bottom-color:#bababa}.tooltip.bottom-right .tooltip-arrow{top:0;left:5px;margin-top:-5px;border-width:0 5px 5px}.tooltip.bottom-right .tooltip-arrow.dark{border-bottom-color:#000}.tooltip.bottom-right .tooltip-arrow.light{border-bottom-color:#bababa}",""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(a[i]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&a[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),e.push(o))}},e}},function(e,t,n){"use strict";function a(){}function r(){}var i=n(5);r.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,r,o){if(o!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){e.exports=n(3)()},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var a=e[n],r=p[a.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](a.parts[i]);for(;i<a.parts.length;i++)r.parts.push(c(a.parts[i],t))}else{var o=[];for(i=0;i<a.parts.length;i++)o.push(c(a.parts[i],t));p[a.id]={id:a.id,refs:1,parts:o}}}}function a(e){for(var t=[],n={},a=0;a<e.length;a++){var r=e[a],i=r[0],o={css:r[1],media:r[2],sourceMap:r[3]};n[i]?n[i].parts.push(o):t.push(n[i]={id:i,parts:[o]})}return t}function r(e,t){var n=b(),a=v[v.length-1];if("top"===e.insertAt)a?a.nextSibling?n.insertBefore(t,a.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function i(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function o(e){var t=document.createElement("style");return t.type="text/css",r(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",r(e,t),t}function c(e,t){var n,a,r;if(t.singleton){var c=h++;n=g||(g=o(t)),a=l.bind(null,n,c,!1),r=l.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),a=d.bind(null,n),r=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=o(t),a=u.bind(null,n),r=function(){i(n)});return a(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;a(e=t)}else r()}}function l(e,t,n,a){var r=n?"":a.css;if(e.styleSheet)e.styleSheet.cssText=y(t,r);else{var i=document.createTextNode(r),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function u(e,t){var n=t.css,a=t.media;if(a&&e.setAttribute("media",a),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,a=t.sourceMap;a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var r=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(r),i&&URL.revokeObjectURL(i)}var p={},f=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},m=f((function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())})),b=f((function(){return document.head||document.getElementsByTagName("head")[0]})),g=null,h=0,v=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(t=t||{}).singleton&&(t.singleton=m()),void 0===t.insertAt&&(t.insertAt="bottom");var r=a(e);return n(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var s=r[o];(c=p[s.id]).refs--,i.push(c)}e&&n(a(e),t);for(o=0;o<i.length;o++){var c;if(0===(c=i[o]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete p[c.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){var a=n(1);"string"==typeof a&&(a=[[e.i,a,""]]),n(6)(a,{}),a.locals&&(e.exports=a.locals)},function(e,t){e.exports=n(0)},function(e,t){e.exports=n(68)},function(e,t,n){e.exports=n(0)}])},1750:function(e,t,n){"use strict";var a=n(45),r=n.n(a),i=n(0),o=n.n(i),s=n(1),c=n.n(s),l=n(2002),u=function(e){var t=e.open,n=e.onClose,a=e.scheduledFor,s=e.onSchedule,c=e.onReschedule,u=Object(i.useState)(new Date),d=r()(u,2),p=d[0],f=d[1];return Object(i.useEffect)((function(){var e=a?new Date(a):new Date;f(e)}),[t,a]),o.a.createElement(l.a,{id:"posts-schedule-date-time-picker",open:t,onClose:n,date:p.toISOString(),primaryAction:{label:a?"Reschedule":"Schedule",onAction:a?c:s}})};u.propTypes={open:c.a.bool.isRequired,onClose:c.a.func.isRequired,scheduledFor:c.a.string,onSchedule:c.a.func.isRequired,onReschedule:c.a.func.isRequired},u.defaultProps={scheduledFor:null},t.a=o.a.memo(u)},1752:function(e,t,n){"use strict";t.a=[{id:"5b71f4f0-7c6e-4bd4-845e-b401d4710254",name:"Live session",description:"Use this template when you want to draw attention to an upcoming live session and share the link to join an online session.",category:"Announcements",content:{context:{entities:{}},value:[{children:[{text:"🎙 Live Session"}],type:"h2"},{children:[{text:"📅 "},{text:"Date:",b:!0},{text:" Insert Date \n⏰ "},{text:"Time:",b:!0},{text:" Insert Time\n🔗 "},{text:"Join:",b:!0},{text:" Insert Meeting link here",b:!0,u:!0}]}]},version:"1"},{id:"29e49428-1b59-430b-9cb4-59533b2ff471",name:"Live Seminar Q&A",description:"Use this template when you want to direct students attention to the correct space to add questions during live seminars. Adding this will encourage students who may feel shy asking questions out loud to engage, whilst also allowing for less disruptions during the live sessions.",category:"Announcements",content:{context:{entities:{}},value:[{children:[{text:"❓ Live Seminar Q&A"}],type:"h2"},{children:[{text:"Please add your questions below as you listen to the presentations and feedback throughout this week's seminar!\n"}]}]},version:"1"},{id:"6275e27b-b20f-447e-90e9-e6e047ef6c5a",name:"Guest Speaker Q&A",description:"Use this template when you want to encourage students to submit questions for a guest speaker whilst also directing students to the session. Giving prompts to 'upvote' different peers' questions will help you and the speaker to prioritise the areas the speaker should spend the most time discussing.",category:"Announcements",content:{context:{entities:{}},value:[{children:[{text:"🗣 Guest Speaker Q&A"}],type:"h2"},{children:[{text:"📅 "},{text:"Date:",b:!0},{text:" Insert Date \n⏰ "},{text:"Time:",b:!0},{text:" Insert Time\n🔗 "},{text:"Join:",b:!0},{text:" Insert Meeting link here",b:!0,u:!0}]},{children:[{text:"Bio:",u:!0}],type:"h3"},{children:[{text:"Write a 1-2 line biography for the guest speaker."}]},{children:[{text:"To Do:",u:!0}],type:"h3"},{children:[{text:"🤔 "},{text:"Think",b:!0},{text:" of a question about "},{text:"<insert topic>",b:!0},{text:" for our guest speaker and "},{text:"add",b:!0},{text:" it as a reply to this feed post. "}]},{children:[{text:"🚀 Then "},{text:"give",b:!0},{text:" the rocket response to the "},{text:"three questions",b:!0},{text:" you would most like to hear the answers to. "}]},{children:[{text:"We'll make sure the questions with the most rocket votes are prioritised during the "},{text:"live Q&A",b:!0},{text:"."}]}]},version:"1"},{id:"72c1eaa2-236c-44e0-804a-2bc1d1008a95",name:"Feedback",description:"Use this template when you want to alert students to their feedback being available. Drawing attention to the feedback will encourage students to read through and engage with any feedback shared.",category:"Announcements",content:{context:{entities:{}},value:[{children:[{text:"📣 Feedback"}],type:"h2"},{children:[{text:"Congratulations everyone - the quality of work submitted this week for your team challenges has been exceptional.  It is wonderful to see you all actively taking on board feedback from previous weeks."}]},{children:[{text:"This week’s feedback is now ready for you to view in the Journey.",b:!0}]}]},version:"1"},{id:"c0022cc8-a0aa-472e-b18e-e81337004a03",name:"Assignment feedback/grades",description:"Use this template when you want to draw attention to the availability of assignment grades and feedback. This can be helpful to direct students to where to find their grades and to engage with their feedback.",category:"Announcements",content:{context:{entities:{}},value:[{children:[{text:"📣 Announcement - Assignment Feedback / Grades"}],type:"h2"},{children:[{text:"Your feedback and marks for "},{text:"<insert assignment name>",b:!0},{text:" are now in Handin."}]},{children:[{text:"When you go to the assignment, you will find a "},{text:"written summary / final grade, voice/video note offering feedback.",b:!0}]},{children:[{text:"+ Add relevant assignment block here",b:!0}]},{children:[{text:"🥳 Insert a congratulatory and encouraging message here!",b:!0}]}]},version:"1"},{id:"50fd998e-f497-4dd1-9401-073754fb1a27",name:"Weekly group challenge",description:"Use this template when you want to remind students of their challenge, as well as giving them somewhere to post their output. Keeping all outputs in one feedpost allows the community feed to be easier to navigate, as well as encouraging feedback from peers as it is all easy to find.",category:"Activities & challenges",content:{context:{entities:{}},value:[{children:[{text:"🚀 Week "},{text:"<insert week>",u:!0},{text:" Group Challenge:"}],type:"h2"},{children:[{text:"🎯 Your group challenge was to "},{text:"<insert challenge summary>.",b:!0},{text:"."}]},{children:[{text:"👥 Now you have completed this, please "},{text:"nominate",b:!0},{text:" one member of your group to "},{text:"share",b:!0},{text:" your "},{text:"<insert output>",b:!0},{text:" as a reply below."}]},{children:[{text:"​🗣 Then, individually "},{text:"read",b:!0},{text:" and "},{text:"evaluate",b:!0},{text:" each other groups' feedback."}]},{children:[{text:"🧐 "},{text:"Think about:",b:!0},{text:"\n     ❓ Is it "},{text:"accurate",b:!0},{text:", "},{text:"clear",b:!0},{text:" and "},{text:"specific",b:!0},{text:"?\n     ❓ "},{text:"<Insert relevant subject specific question to guide feedback>",b:!0},{text:"?\n     ❓ If so, "},{text:"how",b:!0},{text:"?  If not, "},{text:"why",b:!0},{text:" not?"}]}]},version:"1"},{id:"6869ef89-d11c-4e05-a9fe-7470054a845d",name:"Group activity",description:"Use this template when you want to prompt a group discussion between students, with clear instructions on expectations. Giving students a clear set of instructions with an expectation of output will help to drive the correct output from groups, as well as minimize time students spend dissecting the task as opposed to working on it.",category:"Activities & challenges",content:{context:{entities:{}},value:[{children:[{text:"✏️ Group Activity: "},{text:"Insert enquiry question title?",u:!0}],type:"h2"},{children:[{text:"Write a short introduction to the activity here.",b:!0}]},{children:[{text:"Use bullet points and relevant emojis to highlight key points.",b:!0},{text:"\n     ⚽️ Subject specific \n     🧐 Evidence\n     🎓 Formal tone/language·\n     🥉 Use of the third person"}]},{children:[{text:"T"},{text:"o Do:",u:!0}],type:"h3"},{children:[{text:"✏️ "},{text:"First",b:!0},{text:", in your group chat "},{text:"insert first step.",b:!0}]},{children:[{text:"🚀 "},{text:"Next insert second step.",b:!0}]},{children:[{text:"👥 "},{text:"Then",b:!0},{text:", nominate one member of your group to share your "},{text:"insert output",b:!0},{text:" as a reply below."}]},{children:[{text:"🗣 "},{text:"Finally",b:!0},{text:", individually "},{text:"read",b:!0},{text:" and "},{text:"evaluate",b:!0},{text:" each other groups' work."}]},{children:[{text:"🧐 "},{text:"Think about:",b:!0},{text:"\n     ❓ Is it "},{text:"accurate",b:!0},{text:", "},{text:"clear",b:!0},{text:" and "},{text:"specific",b:!0},{text:"?\n     ❓ "},{text:"<Insert relevant subject specific question to guide feedback>",b:!0},{text:"?\n     ❓ If so, "},{text:"how",b:!0},{text:"?  If not, "},{text:"why",b:!0},{text:" not?"}]}]},version:"1"},{id:"70e107cf-65bb-40b7-8903-9233c4b62cb2",name:"Community ground rules",description:"Use this template when you want to set the expectations from both students and for yourself when starting the module. These ground rules can be edited to match your own personal preferences. Establishing this social contract will allow students to understand that they are not here to simply listen, but to engage with materials and their community.",category:"Activities & challenges",content:{context:{entities:{}},value:[{children:[{text:"👥 Community Ground Rules:"}],type:"h2"},{children:[{text:"🤗 I agree to share my skills and capabilities to support and help my fellow students where I can."}]},{children:[{text:"🧘🏾‍♂️ If I don't feel comfortable being on-screen during live sessions, I will upload a profile picture of myself!"}]},{children:[{text:"👥 I will always treat others with respect, even if I disagree with their perspective."}]},{children:[{text:"🚀 I understand that all communications are through Aula, which has both private and group messaging capability. Tutors will respond to all feed posts and direct messages within 24 hours Monday - Friday."}]},{children:[{text:"🧐 I will check the Community Feed regularly, on a daily basis if possible, but at least 3-4 times a week."}]},{children:[{text:"👥 I will contribute to both the Community Feed and my group chats a minimum of twice per week."}]},{children:[{text:"To Do:",u:!0}],type:"h3"},{children:[{text:"🤝 Please give a thumbs up emoji to let us know you have read, and agree to this social contract.\n"}]}]},version:"1"},{id:"319bd83c-1964-4bfd-a0b1-026d8ff50af7",name:"Live seminar Q&A",description:"Use this template when you want to direct students' attention to asking questions during live seminars. Adding this will encourage less confident students to engage, whilst also allowing for less disruptions during the live sessions. Responding to questions directly on the feed will also allow students who could not make the seminar, or wish to use the materials to revise, to do so at a later date.",category:"In-class",content:{context:{entities:{}},value:[{children:[{text:"❓Live Seminar Q&A"}],type:"h2"},{children:[{text:"Please add your questions below as you listen to the presentations and feedback throughout this week's seminar!\n"}]}]},version:"1"},{id:"ffe3d0ed-e6b6-45fe-89ce-ea11aae053fc",name:"What are you listening to?",description:"Use this template when you want to encourage student engagement and participation, and build a sense of community through discussion of a neutral topic. This can be replaced with what are you watching / reading to keep the activity fresh during the module. Building a sense of connection and community outside of academic information has been shown to encourage academic engagement.",category:"Just for fun",content:{context:{entities:{"cd81d1b4-c8e7-4da3-b70c-30215233cd2b":{type:"meta",url:"https://padlet.com/naomirowan/f1jvem5mmi4exzx1",data:{title:"What I'm Listening to Now!",description:"Made with interest",image:"https://padlet.pics/1/image?t=ar_2,c_lfill,dpr_1,f_jpg,g_auto,h_600,w_1200&url=https%3A%2F%2Fassets.padletcdn.com%2Fstatic%2Fpadlets%2Ff1jvem5mmi4exzx1%2Fexports%2Fpeek%2F1629707746%2FQkFoN0J6b1BjSFZpYkdsalgydGxlVWtpRldZeGFuWmxiVFZ0YldrMFpYaDZlREVHT2daRlZEb01kbVZ5YzJsdmJra2lEekUyTWprM01EYzNORFlHT3daRy0tOWI3Njg3MGM2MzVhMTgyMmYxN2I5ZTBiNzc4YmY1Njk4OTkwOTA3Ng--",icon:"https://padlet.net/assets/favicon-d3e0268866afd2cc64f5a47987729eb9a6e125cb4147f9dc7fb4ba5056b2bb82.ico",category:"summary"}}}},value:[{children:[{text:"🎧Just for Fun! What are you listening to? (not compulsory)"}],type:"h2"},{children:[{text:"If you have a favorite song or artist that you're listening to right now, please post it here by selecting the plus sign in the pink circle at the bottom right of the Music window.  No need to add your name to the post if you don't want to.  You're welcome to add multiple songs or artists."}]},{type:"blockLink",entity:"cd81d1b4-c8e7-4da3-b70c-30215233cd2b",children:[{text:""}]},{children:[{text:""}]}]},version:"1"},{id:"edbff87c-095f-4da6-b34a-f62bfaaef61b",name:".gif battle",description:"Use this template when you want to encourage student interaction and engagement. Using activities like these at the start of live sessions can help students to loosen up and feel more comfortable with each other, building safety and trust which is beneficial to the learning environment.",category:"Just for fun",content:{context:{entities:{}},value:[{children:[{text:"🤣 Just for Fun .gif Battle"}],type:"h2"},{children:[{text:"Before posting this, copy this ",b:!0},{type:"inlineLink",url:"https://trello.com/b/Z07yg0BA/gif-battle-game",children:[{text:"Trello board template",b:!0}]},{text:" and invite students to join it. (Click on the “How it works” card to see full instructions for the game.) Add a tiebreaker round if needed.",b:!0}]},{children:[{text:"The game consists of four rounds, each with its own theme. You’ll use "},{text:""},{type:"inlineLink",url:"https://giphy.com/",children:[{text:"Giphy.com"}]},{text:" or Google Images to find a .gif that fits with the theme for that round and attach that gif to a card. Once everyone has their .gifs in, you’ll vote on the round’s best submission. At the end, the person who wins the most rounds will be crowned the Ultimate "},{text:"<insert course title>",b:!0},{text:" .Gif Battle Champion. Just think of the glory!"}]}]},version:"1"},{id:"f24c18d6-aa9e-4d23-bb86-96f6b0d9ef5c",name:"Super powers",description:"Use this template when you want to encourage student participation, whilst also getting to know each student a little more. These exercises are great for promoting creativity in students and warming up their minds to critical thinking. Having them break down and discuss the different merits of each super power can also help students view different perspectives other than their own.",category:"Just for fun",content:{context:{entities:{}},value:[{children:[{text:"🦹🏽 Just for Fun - Super Powers (not compulsory)"}],type:"h2"},{children:[{text:"If you could have any superpower - invisibility, time travel, super strength etc. - what would it be and why?"}]},{children:[{text:"Share your answers below and debate the relative merits of superhuman powers!\n"}]}]},version:"1"},{id:"70d6524b-c0be-4762-a013-fb2d4adb4749",name:"Internal weather report",description:"Use this template when you want to gain an understanding of how your students are feeling, without asking them to directly share their emotions. This question would work best in a community where students already feel comfortable together. It is also possible to ask students to 'react' with the emoji that matches their mood for a lighter touch activity.",category:"Wellbeing check",content:{context:{entities:{}},value:[{children:[{text:"💙 Internal Weather Report - If your mood were the weather, what what would it be, and why?”"}],type:"h2"},{children:[{text:"I’d love to know how you are feeling about this module so far!  Please share your ‘weather report’ and let us know how we can better support you or brighten your day!"}]}]},version:"1"},{id:"1cbf114d-9295-4d6a-8274-fd0ab6345be5",name:"On a scale of 1-10!",description:"Use this template when you want to understand the mood of your class. This would be best shared before a live session, so you can appropriately match your tone to the mood of students. It can also be a great prompt to get to know better how to make things easier for your students.",category:"Wellbeing check",content:{context:{entities:{}},value:[{children:[{text:"💙 On a scale of 1-10!"}],type:"h2"},{children:[{text:"Rank your mood today on a scale of 1 to 10, with 1 being the worst mood and 10 being the best."}]},{children:[{text:"If you would like to explain and elaborate on your ranking, feel free to do so in the comments below! \n"}]}]},version:"1"},{id:"22775e7f-804e-451a-906b-509e048ea061",name:"Rose, bud, thorn",description:"Use this template when you want to gain feedback from students, but with a structure to promote constructive criticism. These questions work well at the midpoint of a module, so that you have time to address any common themes, whilst also understanding what students are looking forward to, as to put an emphasis on these in the future.",category:"Wellbeing check",content:{context:{entities:{}},value:[{children:[{text:"💙 Rose, Bud, Thorn"}],type:"h2"},{children:[{text:"Tell me your “rose, bud, and thorn” of the course so far! "}]},{children:[{text:"Rose - the best thing you’ve experienced so far\nBud - something you’re looking forward to \nThorn - what have you enjoyed the least or are finding the most challenging? "}]},{children:[{text:"If you would like to explain and elaborate on these, I would love to hear your thoughts.\n"}]}]},version:"1"}]},1753:function(e,t,n){"use strict";var a=n(16),r=n(25),i=n(1625);t.a=function(e){var t,n,o,s,c,l,u,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,p=d||(null===(t=e.classRoom)||void 0===t?void 0:t.current),f=null===(n=e.accessTokens[p])||void 0===n?void 0:n.token,m=null===(o=e.institution)||void 0===o?void 0:o.general,b=m.institution,g=Object(r.isInstructor)(e,null===(s=e.user)||void 0===s?void 0:s.userId);return{sessionToken:null===(c=e.user)||void 0===c||null===(l=c.user)||void 0===l?void 0:l.sessionToken,accessToken:f,spaceId:p,institution:b,filesUrl:Object(a.x)(),apiUrl:Object(a.d)(),userId:null===(u=e.user)||void 0===u?void 0:u.userId,isEducator:g,ltiProviders:Object(i.a)(e)}}},1754:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n(1),r=n.n(a),i=r.a.shape({firstName:r.a.string,lastName:r.a.string,avatar:r.a.string})},1755:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return i}));var a=n(13),r=function(e){return function(t){return t({type:a.w,payload:{schedulePostDialogOpenFor:e}})}},i=function(){return function(e){return e({type:a.w,payload:{schedulePostDialogOpenFor:null}})}}},1756:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return l})),n.d(t,"d",(function(){return u}));var a=n(14),r=n(15),i=Object(a.b)("div",{target:"erxui260"})("width:100%;display:flex;justify-content:flex-start;align-items:flex-start;margin-bottom:",r.b.spacing.xLarge,";position:relative;"),o=Object(a.b)("div",{target:"erxui261"})("width:100%;max-width:900px;min-width:400px;background-color:white;display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding-top:",r.b.spacing.large,";padding-bottom:",r.b.spacing.large,";padding-left:",r.b.spacing.xxxLarge,";padding-right:",r.b.spacing.xxxLarge,";border-radius:6px;box-shadow:0 2px 8px 0 rgba(0,0,0,0.3);border:",(function(e){return e.isRecentImportant?"1px solid ".concat(r.b.color.designSystem.purple50):"none"}),";"),s=Object(a.b)("div",{target:"erxui262"})("background-color:",r.b.color.grey3,";height:1px;width:100%;margin-top:15px;margin-bottom:25px;"),c=Object(a.b)("div",{target:"erxui263"})("font-size:",r.b.font.size.large,";color:",r.b.color.grayDark,";margin-bottom:15px;margin-top:-5px;margin-left:",r.b.spacing.xxGiant,";"),l=Object(a.b)("div",{target:"erxui264"})("position:relative;margin-bottom:15px;"),u=Object(a.b)("div",{target:"erxui265"})("width:calc(100% + 66.5px);display:flex;flex-direction:column;margin-left:-52.5px;margin-bottom:",r.b.spacing.small,";")},1757:function(e,t,n){"use strict";var a=n(39),r=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(41)).default)(i.createElement("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),"VolumeUp");t.default=o},1758:function(e,t,n){"use strict";var a=n(47),r=n(25);t.a=function(){return function(e,t){return Object(a.a)("/dashboard/".concat(Object(r.currentClassRoomId)(t()),"/community/scheduled"))}}},1759:function(e,t,n){"use strict";var a=n(49),r=n.n(a);t.a=function(e){return new r.a((function(t,n){var a=new FileReader;a.onerror=function(e,t){return function(){e.abort(),t(new DOMException("Problem parsing input file."))}}(a,n),a.onload=function(e,t){return function(){return t(e.result)}}(a,t),a.readAsText(e)}))}},1760:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a=function(e){return e.length?"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1).toLowerCase()):""}},1761:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return s}));var a=n(14),r=n(15),i=Object(a.b)("input",{target:"eewkfy00"})("display:none;color:",r.b.color.designSystem.blackOpacity60,";"),o=Object(a.a)("padding-top:0px;padding-bottom:0px;"),s=Object(a.a)("min-width:160px;margin:8px 0px;")},1762:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n.n(i),s=n(1627),c=n.n(s),l=n(579),u=n(1685),d=function(e){var t=e.title,n=e.legend,a=e.children,i=e.style,o="string"==typeof n?r.a.createElement(l.a,{position:"top",title:n},r.a.createElement(u.b,null,r.a.createElement(c.a,null))):r.a.createElement(u.b,null,n);return r.a.createElement(u.a,{style:i},r.a.createElement(u.d,null,r.a.createElement(u.c,null,t),o),a)};d.propTypes={title:o.a.string.isRequired,legend:o.a.oneOfType([o.a.string,o.a.node]),children:o.a.oneOfType([o.a.arrayOf(o.a.node),o.a.node]).isRequired},d.defaultProps={legend:null},t.a=d},1763:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(0),o=n.n(i),s=n(290),c=function(e){var t=e.id,n=e.title,a=e.message,r=e.open,i=e.onClose,c=e.onConfirm,l=e.deleting;return o.a.createElement(s.a,{id:t,title:n,message:a,open:r,onClose:i,maxWidth:"md",action:{label:"Delete",onClick:c,danger:!0,loading:l,htmlAttributes:{"data-testid":"delete-confirm"}},secondaryAction:{label:"Cancel",onClick:i}})};c.propTypes={id:r.a.string.isRequired,title:r.a.string.isRequired,message:r.a.string.isRequired,deleting:r.a.bool,open:r.a.bool,onClose:r.a.func.isRequired,onConfirm:r.a.func.isRequired},c.defaultProps={deleting:!1,open:!1},t.a=c},1764:function(e,t,n){e.exports=n.p+"27d0732bb3f4b4bb8942ce0a59b1ab99.png"},1765:function(e,t,n){"use strict";var a=n(1730);n.d(t,"a",(function(){return a.a}))},1768:function(e,t,n){"use strict";var a=n(83);t.a=function(e){var t,n=e.assignmentId,r=e.spaceId,i=e.submissionId,o=e.studentId,s=e.isAnonymised,c="cypress"===Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).TEST_ENV?"http://localhost:9090/".concat(r,"/").concat(n):"https://handin.".concat(Object(a.b)().getState().institution.general.institution,".aula.education/").concat(r,"/").concat(n);t=s&&i?"".concat(c,"/submissions/").concat(i):o?"".concat(c,"/submissions/student/").concat(o):c,window.open(t,"_blank")}},1769:function(e,t,n){e.exports=n.p+"de5fa297994118c3c43a2269d7ee5512.svg"},1771:function(e,t,n){"use strict";t.a=function(e){var t=e.activeSlide,n=e.hasCorrect,a=e.correct,r=e.question,i=e.options,o=e.currentSlideId;return function(e){return o&&o!==e[t].id?e:e.map((function(e,o){return o!==t?e:{id:e.id,type:n?"mcq":"poll",data:{options:i,stimulus:r,validation:n?{scoringType:"exactMatch",validResponse:[{key:a,score:1}]}:void 0},answers:e.answers}}))}}},1772:function(e,t,n){"use strict";t.a={presentationById:function(e){return["presentations",e]},presentations:function(){return["presentations"]}}},1773:function(e,t,n){"use strict";var a=n(1695);t.a=function(e,t,n,r){var i,o,s,c=null===(i=t.current)||void 0===i?void 0:i.filter((function(e){return""!==e.value})),l=(null===(o=t.current)||void 0===o||null===(s=o[a.a.findIndex((function(e){return e===r.current}))])||void 0===s?void 0:s.value)||"",u=c.findIndex((function(e){return e.value===l})),d=a.a[-1===u?c.length:u];return{hasCorrect:n.current,correct:n.current?d:void 0,question:e.current.value,options:c.map((function(e,t){return{key:a.a[t],label:e.value}}))}}},1775:function(e,t){},1776:function(e,t){},1777:function(e,t){},1778:function(e,t){},1779:function(e,t){},1781:function(e,t,n){"use strict";n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));var a=" ",r="Enter",i="ArrowUp",o="ArrowDown",s="ArrowLeft",c="ArrowRight"},1782:function(e,t,n){"use strict";var a=n(39),r=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(41)).default)(i.createElement("path",{d:"M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"}),"Launch");t.default=o},1785:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=(0,a(n(1891)).default)();t.default=r},1788:function(e,t,n){"use strict";t.a=function(e){var t=e.src,n=e.onLoad,a=document.createElement("script");a.src=t,document.body.appendChild(a),a.onload=n}},1789:function(e,t,n){"use strict";t.a=["activityduplicate:error","activityduplicate:success","activityedit:item:create","activityedit:item:edit","activityedit:items:added","activityedit:saveable:changed","add:widget","itemduplicate:confirm","itemedit:changed","navigate","open:activity","open:item","render:activity","render:activitylist","render:item","render:widgets","render:itemlist","save","save:activity","save:activity:error","save:activity:success","save:error","save:success","widgetedit:editor:ready","widgetedit:preview:changed","widgetedit:widget:changed","widgetedit:widget:ready","itemlist:selection:changed"]},1802:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(50),v=n.n(h),y=n(35),x=n(81),E=n(46),O=n(220),j=n(44),k=n(24),w=n(25),S=n(26),I=n.n(S),C=n(53),T=n.n(C),R=n(52),q=n.n(R),A=n(51),D=n.n(A),P=n(58),z=n.n(P),F=n(60),L=n.n(F),N=n(42),M=n.n(N),_=n(57),U=n.n(_),B=n(1),H=n.n(B),G=n(0),V=n.n(G),W=n(54),K=n(517),Q=n(1497),Y=n(15),J=n(47),Z=H.a.shape({id:H.a.string.isRequired,firstName:H.a.string.isRequired,lastName:H.a.string.isRequired,avatar:H.a.string}),$=H.a.shape({id:H.a.string.isRequired,title:H.a.string.isRequired,editor:Z.isRequired,createdAt:H.a.string.isRequired}),X=H.a.arrayOf($),ee=H.a.shape({id:H.a.string.isRequired,title:H.a.string.isRequired,hidden:H.a.bool.isRequired,updatedAt:H.a.string,writer:Z.isRequired,versions:X,version:H.a.string}),te=(H.a.arrayOf(ee),n(79)),ne=n(1763),ae=function(e){var t=e.open,n=e.onClose,a=e.onConfirm,r=e.deleting;return V.a.createElement(ne.a,{id:"delete-section-modal",title:te.bb,message:te.ab,open:t,onClose:n,onConfirm:a,deleting:r})};ae.propTypes={deleting:H.a.bool.isRequired,open:H.a.bool.isRequired,onClose:H.a.func.isRequired,onConfirm:H.a.func.isRequired};var re=ae,ie=n(1610),oe=Object(x.c)({deleting:O.c.isDeletingSection,open:O.c.currentDeleteCandidateCheckNull}),se=Object(y.b)(oe,(function(e,t){var n=function(n){return e(O.b.deleteSection({status:n,selectSection:ie.d,educatorOnly:t.educatorOnly}))};return{onClose:function(){return n("abort")},onConfirm:function(){return n("request")}}}))(re),ce=n(290),le=function(e){var t=e.open,n=e.onClose,a=e.onConfirm;return V.a.createElement(ce.a,{id:"leave-without-saving",title:te.fb,message:te.eb,open:t,onClose:n,action:{label:te.db,onClick:a,danger:!0},secondaryAction:{label:te.cb,onClick:n}})};le.propTypes={open:H.a.bool,onClose:H.a.func,onConfirm:H.a.func},le.defaultProps={open:!1,onClose:void 0,onConfirm:function(){return null}};var ue=le,de=n(1601),pe=n(1764),fe=n.n(pe),me=n(14),be=Object(me.b)("div",{target:"ebtpkta0"})("padding-top:6px;display:flex;flex-direction:column;align-items:center;p{color:",Y.b.color.text,";width:65%;}"),ge=Object(me.b)("div",{target:"ebtpkta1"})("position:relative;padding:56px 80px;z-index:1;"),he=Object(me.b)("p",{target:"ebtpkta2"})("font-size:",Y.b.font.size.large,";line-height:",Y.b.font.lineHeight.large,";"),ve=function(e){var t=e.image,n=e.copy;return V.a.createElement(ge,null,V.a.createElement(be,null,V.a.createElement("img",{src:t,alt:"no material",width:240}),V.a.createElement(he,null,n)))};ve.propTypes={image:H.a.string.isRequired,copy:H.a.string.isRequired};var ye=ve,xe=function(e){var t=e.editable;return V.a.createElement(ye,{image:fe.a,copy:t?te.lb:te.mb})};xe.propTypes={editable:H.a.bool.isRequired};var Ee=xe,Oe=n(62);function je(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):je(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var we=Object(y.b)((function(e){return{classRoom:e.classRoom.current,dismissed:Object(Oe.hasDismissedGetStarted)(e),user:e.user.user,editable:w.isInstructor(e)}}),(function(e){return{createSection:function(){return e(O.b.createSection({content:de.e,onSelect:ie.d}))},dismiss:O.b.dismissGetStarted(e)}}),(function(e,t,n){return ke(ke(ke(ke({},e),t),n),{},{dismiss:function(){t.dismiss(),t.createSection(e.classRoom,e.user)}})}))(Ee),Se=n(1568),Ie=n(222),Ce=function(e){return(0,e.children)(Object(Ie.b)())},Te=n(248),Re=n(529),qe=n.n(Re),Ae=n(538),De=n.n(Ae),Pe=n(579),ze=n(95),Fe=n(1813),Le=n(578),Ne=n(561),Me=n(1688),_e=n.n(Me),Ue=Object(me.b)(Le.a,{shouldForwardProp:function(e){return"show"!==e},target:"eq3loo0"})("display:",(function(e){return e.show?"inline-flex":"none"}),";margin-left:16px;line-height:12px;"),Be=Object(me.b)(Ne.a,{target:"eq3loo1"})("margin-left:8px;"),He=Object(me.b)("div",{target:"eq3loo2"})("display:flex;justify-content:",(function(e){return e.hidden?"space-between":"flex-end"}),";flex-direction:row;margin-bottom:",Y.b.spacing.small,";"),Ge=Object(me.b)("div",{target:"eq3loo3"})("display:flex;justify-content:flex-end;"),Ve=Object(me.b)("div",{target:"eq3loo4"})("color:",Y.b.color.blackAlpha(.6),";display:flex;flex-direction:row;justify-content:center;align-items:center;font-family:Work Sans;font-style:normal;font-weight:normal;font-size:14px;min-width:30px;"),We=Object(me.b)(_e.a,{target:"eq3loo5"})("padding-right:6px;width:24px;height:24px;"),Ke=n(43),Qe=n.n(Ke),Ye=n(20),Je=n.n(Ye),Ze=n(12),$e=n.n(Ze),Xe=n(7),et=n.n(Xe),tt=n(49),nt=n.n(tt),at=n(1606),rt=n.n(at),it=n(861),ot=n(1761),st=n(85),ct=n(1589),lt=Object(me.b)(Ne.a,{target:"e73o22m0"})(),ut=Object(me.b)(ct.a,{target:"e73o22m1"})("display:inline-block;margin-left:16px;"),dt=n(1759),pt={MATERIAL_EXPORTPAGE:"MATERIAL_EXPORTPAGE",MATERIAL_IMPORTPAGE:"MATERIAL_IMPORTPAGE",MATERIAL_FIND_PREVIOUS:"MATERIAL_FIND_PREVIOUS",MATERIAL_DELETE:"MATERIAL_DELETE",MATERIAL_HIDE:"MATERIAL_HIDE"},ft=function(){return null},mt=function(){document.getElementById("single-upload-button").click()},bt=function(){var e=$e()(et.a.mark((function e(t,n){var a,r,i,o;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Je()(t.target.files),r=a.map(dt.a),e.next=4,nt.a.all(r);case 4:i=e.sent,o=JSON.parse(i[0]),n(o),document.getElementById("single-upload-button").value="";case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gt=function(e){var t=e.onHideSection,n=e.educatorOnly,a=e.canFindPreviousVersion,r=e.canExportMaterialPage,i=[];a||i.push(pt.MATERIAL_FIND_PREVIOUS),r||i.push(pt.MATERIAL_EXPORTPAGE);var o=[].concat(Je()(t&&!n?[{key:pt.MATERIAL_HIDE,text:te.nb,fn:function(e){return e.onHideSection}}]:[]),Je()(function(e){var t=e.excludeItems,n=void 0===t?[]:t;return[{key:pt.MATERIAL_EXPORTPAGE,text:te.jb,id:"material-export-button",fn:function(e){return e.onExportMaterialPage},hideOnEdit:!0},{key:pt.MATERIAL_IMPORTPAGE,text:te.pb,id:"material-import-button",fn:function(){return mt},hideOnEdit:!0},{key:pt.MATERIAL_FIND_PREVIOUS,text:te.kb,fn:function(e){return e.onFindPreviousVersion}},{key:pt.MATERIAL_DELETE,text:te.Z,fn:function(e){return e.onDeleteSection}}].filter((function(e){var t=e.key;return!n.includes(t)}))}({excludeItems:i})));return V.a.createElement("div",null,V.a.createElement(ut,{menuListComponent:"ul",menuListAttributes:{role:"listbox","aria-label":"Section more actions"},renderTarget:function(e){var t=e.handleTargetClick;return V.a.createElement(Pe.a,{title:te.ub,position:"bottom",onKeyDown:function(e){return e.keyCode===st.d&&t(e)}},V.a.createElement("div",null,V.a.createElement(lt,{type:"secondary",size:"small",label:"More button",buttonAttributes:{id:"material-more-button"},onClick:t,icon:rt.a})))},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},onSelect:function(e){return(0,e.item)()},renderChildren:function(t){var n=t.getItemProps;return o.filter((function(t){return!!e.editing||!0!==t.hideOnEdit})).map((function(t,a){var r=t.key,i=t.text,o=t.id,s=t.fn;return V.a.createElement(it.a,Qe()({size:"medium",key:r,primaryText:i,highlighted:0===a,attributes:{id:o,"aria-label":i,"data-testid":r.toLowerCase()}},n({item:s(e)})))}))}}),V.a.createElement(ot.a,{"aria-hidden":"true",type:"file",id:"single-upload-button",onChange:function(t){return bt(t,e.onImportMaterialPage)}}))};gt.propTypes={canFindPreviousVersion:H.a.bool,canExportMaterialPage:H.a.bool,onExportMaterialPage:H.a.func,onImportMaterialPage:H.a.func,onHideSection:H.a.func,onFindPreviousVersion:H.a.func,onDeleteSection:H.a.func,editing:H.a.bool,educatorOnly:H.a.bool},gt.defaultProps={canFindPreviousVersion:!1,canExportMaterialPage:!0,onExportMaterialPage:ft,onImportMaterialPage:ft,onHideSection:null,onFindPreviousVersion:ft,onDeleteSection:ft,editing:!1,educatorOnly:!1};var ht=gt;function vt(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):vt(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var xt=function(e){var t=e.hidden,n=e.scheduledFor,a=e.items,r=e.saving;return t&&n?function(e,t,n){return V.a.createElement(Fe.a,{scheduledFor:e,items:t,disabled:n})}(new Date(n),a,r):t?V.a.createElement(Ve,null,V.a.createElement(We,null),"This page is hidden"):null},Et=function(e){var t=e.onUnhide,n=e.onSave,a=e.onEdit,r=e.onDeleteSection,i=e.onHideSection,o=e.onFindPreviousVersion,s=e.onImportMaterialPage,c=e.onExportMaterialPage,l=e.showUnhide,u=e.showSave,d=e.showEdit,p=e.canSave,f=e.canFindPreviousVersion,m=e.canExportMaterialPage,b=e.a11yMessage,g=e.saving,h=e.openScheduleDialog,v=e.onKeepHidden,y=e.scheduledFor,x=e.educatorOnly,E=[{label:"Change scheduled time",action:h},{label:"Undo scheduling and keep hidden",action:v},{label:"Publish now",action:t}];return V.a.createElement(He,{scheduledFor:y,hidden:l},xt({hidden:l,scheduledFor:y,items:E}),V.a.createElement(Ge,null,l&&!y&&!x&&V.a.createElement(Pe.a,{title:te.tb,position:"top"},V.a.createElement("div",null,V.a.createElement(Be,{onClick:h,label:"schedule",size:"small",icon:De.a}))),d&&V.a.createElement(Pe.a,{title:te.gb,position:"top"},V.a.createElement("div",null,V.a.createElement(Be,{type:"secondary",onClick:a,label:"edit",size:"small",icon:qe.a}))),l&&!y&&V.a.createElement(Pe.a,{title:te.xb,position:"bottom"},V.a.createElement("div",null,V.a.createElement(Ue,{type:"secondary",size:"small",id:"material-publish-button",onClick:t,show:l},te.rb))),V.a.createElement(Ue,{type:"primary",size:"small","data-testid":"material-save-button","aria-label":"Save material",id:"material-save-button",onClick:n,show:u,loading:g,disabled:g||!p},te.j),V.a.createElement("p",{className:Object(Te.css)([ze.a.visuallyHidden()]),"aria-live":"polite"},b),V.a.createElement(ht,{educatorOnly:x,canFindPreviousVersion:f,canExportMaterialPage:m,onDeleteSection:r,onHideSection:l?null:i,onFindPreviousVersion:o,onExportMaterialPage:c,onImportMaterialPage:s,editing:d})))};Et.propTypes=yt(yt({},ht.propTypes),{},{scheduledFor:H.a.string,canSave:H.a.bool.isRequired,saving:H.a.bool.isRequired,showUnhide:H.a.bool.isRequired,showSave:H.a.bool.isRequired,showEdit:H.a.bool.isRequired,a11yMessage:H.a.string,onUnhide:H.a.func,onSave:H.a.func,onEdit:H.a.func,onExportMaterialPage:H.a.func,onImportMaterialPage:H.a.func,educatorOnly:H.a.bool,openScheduleDialog:H.a.func,onKeepHidden:H.a.func}),Et.defaultProps=yt(yt({},ht.defaultProps),{},{onUnhide:function(){return null},onSave:function(){return null},onEdit:function(){return null},onKeepHidden:function(){return null},openScheduleDialog:function(){return null},scheduledFor:null});var Ot=Et,jt=Object(me.b)("div",{target:"egvmi420"})("height:100%;flex:1;"),kt=Object(me.b)("div",{target:"egvmi421"})("display:flex;justify-content:space-between;margin-bottom:",Y.b.spacing.medium,";span.material-section-title-disabled{color:",Y.b.color.designSystem.blackOpacity87,";}"),wt=n(45),St=n.n(wt),It=n(164),Ct=Object(me.b)("div",{target:"ethyb6r0"})("box-sizing:border-box;position:relative;padding-top:20px;height:100%;"),Tt=Object(me.b)("div",{target:"ethyb6r1"})("width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;"),Rt=n(1649),qt=n(198),At=n(165);function Dt(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):Dt(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var zt=function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)},Ft=function(e){var t=e.reduce((function(e,t){return t.root?Pt(Pt({},e),{},g()({},t.root,[].concat(Je()(e[t.root]||[]),[t]).sort())):e}),{});return e.sort(zt).reduce((function(e,n){return Pt(Pt({},e),{},g()({},n.id,Pt(Pt({},n),{},{replies:(t[n.id]||[]).sort(zt).map((function(e){return e.id}))})))}),{})},Lt=n(16),Nt=n(55),Mt=function(){var e=$e()(et.a.mark((function e(t){var n,a,r,i,o,s,c;return et.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.entityType,a=t.entityId,r=t.until,e.next=3,Object(Nt.a)({method:"get",url:Object(Lt.t)({entityType:n,entityId:a}),params:{until:r}});case 3:return i=e.sent,o=i.data,s=o.comments,c=o.reactions,e.abrupt("return",{comments:s,reactions:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=n(342),Ut=n(159),Bt=n(13);function Ht(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ht(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):Ht(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Vt=function(e,t){return{type:Bt.Z,status:e,payload:t}},Wt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Object(y.c)(),i=Object(G.useState)(!1),o=St()(i,2),s=o[0],c=o[1];return Object(At.useQuery)(_t.a.comments(e,t),(function(){return Mt({entityType:e,entityId:t,until:n})}),{enabled:!!e&&!!t&&!a,refetchOnWindowFocus:!1,onSuccess:function(n){var a=n.rawComments,i=n.reactions;c(!1),r(Vt("success",{entityId:t,entityType:e,comments:a})),r(Object(Ut.a)(i)),c(!0)},select:function(e){var t=e.comments,n=e.reactions;return{commentsIds:t.filter((function(e){return!e.root})).map((function(e){return e.id})),comments:Ft(t),rawComments:t,reactions:n,isDispatched:s}},onError:function(e){r(Gt(Gt({},Vt("error",e)),{},{error:e}))}})},Kt=n(1804),Qt=Object(me.b)("div",{target:"e16sk6n80"})("width:100%;display:flex;justify-content:flex-start;align-items:flex-start;margin-top:",Y.b.spacing.xLarge,";margin-bottom:",Y.b.spacing.xLarge,";position:relative;"),Yt=Object(me.b)("div",{target:"e16sk6n81"})("width:100%;min-width:400px;background-color:",Y.b.color.white,";display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding:",(function(e){return e.hasPadding?Y.b.spacing.medium:"0 ".concat(Y.b.spacing.medium)}),";border-radius:",Y.b.borderRadius.medium,";border:1px solid #e3e5e8;box-sizing:border-box;overflow:hidden;"),Jt=Object(me.b)("div",{target:"e16sk6n82"})("width:100%;padding:",(function(e){return e.hasPadding?"".concat(Y.b.spacing.medium," 0"):0}),";"),Zt=Object(me.b)("span",{target:"e16sk6n83"})("font-size:20px;font-weight:",Y.b.font.weight.semiBold,";line-height:",Y.b.font.lineHeight.large,";margin-bottom:",Y.b.spacing.medium,";"),$t=(Y.b.font.weight.semiBold,Y.b.font.lineHeight.copy,Y.b.color.blackAlpha(.87),Y.b.font.size.small,Y.b.font.weight.semiBold,Y.b.font.lineHeight.small,n(118)),Xt=Object(me.b)("span",{target:"e1j31soy0"})("font-size:20px;font-weight:",Y.b.font.weight.semiBold,";line-height:",Y.b.font.lineHeight.large,";margin-bottom:",Y.b.spacing.medium,";color:",(function(e){return e.isMediumGrey?Y.b.color.blackAlpha(.6):Y.b.color.black}),";"),en=Object(me.b)("span",{target:"e1j31soy1"})("font-size:14px;font-weight:",Y.b.font.weight.semiBold,";line-height:",Y.b.font.lineHeight.copy,";color:",Y.b.color.blackAlpha(.87),";"),tn=Object(me.b)("div",{target:"e1j31soy2"})("width:100%;display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:",(function(e){return e.hasPadding&&Y.b.spacing.small})," 0;box-sizing:border-box;"),nn=Object(me.b)("span",{target:"e1j31soy3"})("font-size:",Y.b.font.size.small,";font-weight:",Y.b.font.weight.semiBold,";line-height:",Y.b.font.lineHeight.small,";"),an=Object(me.b)("div",{target:"e1j31soy4"})("margin:0px 0px 20px 20px;"),rn=Object(me.b)("div",{target:"e1j31soy5"})("display:flex;flex-direction:column;flex:1;"),on=Object(me.b)("div",{target:"e1j31soy6"})("color:",Y.b.color.blackAlpha(.6),";display:flex;flex-direction:row;font-family:",Y.b.font.family.workSans,";font-weight:",Y.b.font.weight.regular,";font-size:",Y.b.font.size.copy,";line-height:",Y.b.font.lineHeight.copy,";padding:",Y.b.spacing.small," 0;"),sn=Object(me.b)(_e.a,{target:"e1j31soy7"})("padding-right:6px;width:24px;height:24px;"),cn={height:32,width:164},ln=function(e){var t=e.showDiscussion,n=e.discussionTopic,a=e.openDiscussionTopicModal;return V.a.createElement(V.a.Fragment,null,V.a.createElement(rn,null,!t&&V.a.createElement(on,null,V.a.createElement(sn,null),"Hidden from students"),V.a.createElement(Xt,{isMediumGrey:!t},n)),V.a.createElement(Pe.a,{title:te.l,position:"top"},V.a.createElement(an,null,V.a.createElement(Ne.a,{type:"secondary",onClick:a,label:"edit",size:"small","data-testid":"edit-discussion-button",icon:qe.a}))))};ln.propTypes={openDiscussionTopicModal:B.func.isRequired,discussionTopic:B.string,showDiscussion:B.bool},ln.defaultProps={discussionTopic:"",showDiscussion:!1};var un=ln,dn=n(524),pn=n.n(dn),fn=function(e){var t=e.openDiscussionTopicModal;return V.a.createElement(V.a.Fragment,null,V.a.createElement(en,null,"Add discussion or activity"),V.a.createElement(Le.a,{type:"secondary",onClick:t,id:"add-discussion",iconLeft:pn.a,"data-testid":"add-discussion-button","aria-label":"Add discussion",className:Object(Te.css)(cn)},V.a.createElement(nn,null,"Add discussion")))};fn.propTypes={openDiscussionTopicModal:B.func.isRequired};var mn=fn,bn=function(e){var t=e.openDiscussionTopicModal,n=e.discussionTopic,a=e.showDiscussion;return V.a.createElement(tn,{hasPadding:!n},n?V.a.createElement(un,{showDiscussion:a,discussionTopic:n,openDiscussionTopicModal:t}):V.a.createElement(mn,{openDiscussionTopicModal:t}))};bn.propTypes={openDiscussionTopicModal:B.func.isRequired,discussionTopic:B.string,showDiscussion:B.bool},bn.defaultProps={discussionTopic:"",showDiscussion:!1};var gn=bn,hn=n(1592),vn=n(1619),yn=Object(me.b)("div",{target:"e1rr2xs70"})("font-size:",Y.b.font.size.small,";font-weight:",Y.b.font.weight.regular,";line-height:",Y.b.font.lineHeight.small,";margin-bottom:",Y.b.spacing.medium,";"),xn=Object(me.b)("div",{target:"e1rr2xs71"})("padding-left:",Y.b.spacing.xLarge,";display:flex;flex-direction:row;justify-content:",(function(e){return e.isSpread?"space-between":"flex-end"}),";align-items:center;"),En={margin:"0 ".concat(Y.b.spacing.xLarge," ").concat(Y.b.spacing.xLarge," 0")},On=function(e){var t=e.onClick;return V.a.createElement(Le.a,{type:"text",onClick:t,"aria-label":"remove discussion",className:Object(Te.css)(En)},"Remove discussion")},jn=function(e){var t=e.onClick;return V.a.createElement(Le.a,{type:"text",onClick:t,"aria-label":"hide discussion",className:Object(Te.css)(En)},"Hide from students")},kn=function(e){var t=e.onClick;return V.a.createElement(Le.a,{type:"text",onClick:t,"aria-label":"show discussion",className:Object(Te.css)(En)},"Show to students")},wn=function(e){var t=e.initialTopic,n=e.onClose,a=e.onSetDiscussionTopic,r=e.canRemoveDiscussion,i=e.onRemoveDiscussion,o=e.showDiscussion,s=e.onToggleShowDiscussion,c=Object(G.useState)(t),l=St()(c,2),u=l[0],d=l[1],p=Object(G.useState)(null),f=St()(p,2),m=f[0],b=f[1];return V.a.createElement(V.a.Fragment,null,V.a.createElement(ce.d,{id:"discussion-topic-dialog-title",role:"heading",onClose:n},t?"Edit discussion/activity":"Add a discussion or activity"),V.a.createElement(ce.c,null,V.a.createElement(vn.c,null,V.a.createElement(yn,null,"Write a prompt and let students respond with comments and replies."),V.a.createElement(vn.b,null,V.a.createElement(hn.a,{id:"discussion-topic",role:"textbox",label:"Prompt",helperText:m,error:!!m,useErrorIcon:!1,value:u,onChange:function(e){d(e.target.value),b(null)}})))),V.a.createElement(xn,{isSpread:!!t},!!t&&(r?V.a.createElement(On,{onClick:i}):o?V.a.createElement(jn,{onClick:function(){return s(!1,u)}}):V.a.createElement(kn,{onClick:function(){return s(!0,u)}})),V.a.createElement(ce.b,{primary:{label:"Confirm",onClick:function(){u&&u.length?a(u):b("Please add a prompt")},htmlAttributes:{"data-testid":"discussion-topic-save"}},secondary:{label:"Cancel",onClick:n,htmlAttributes:{"data-testid":"discussion-topic-cancel"}}})))};wn.propTypes={initialTopic:H.a.string,onSetDiscussionTopic:H.a.func.isRequired,onClose:H.a.func.isRequired,onRemoveDiscussion:H.a.func,canRemoveDiscussion:H.a.bool,showDiscussion:H.a.bool,onToggleShowDiscussion:H.a.func.isRequired},wn.defaultProps={initialTopic:"",onRemoveDiscussion:function(){},canRemoveDiscussion:!1,showDiscussion:!1};var Sn=wn,In=function(e){var t=e.open,n=e.onClose,a=e.onSetDiscussionTopic,r=e.initialTopic,i=e.canRemoveDiscussion,o=e.onRemoveDiscussion,s=e.showDiscussion,c=e.onToggleShowDiscussion;return V.a.createElement(ce.e,{id:"set-discussion-topic",open:t,onClose:n,maxWidth:"md"},V.a.createElement(Sn,{onClose:n,onSetDiscussionTopic:a,initialTopic:r,canRemoveDiscussion:i,onRemoveDiscussion:o,showDiscussion:s,onToggleShowDiscussion:c}))};In.propTypes={open:H.a.bool.isRequired,onClose:H.a.func.isRequired,onSetDiscussionTopic:H.a.func.isRequired,initialTopic:H.a.string,onRemoveDiscussion:H.a.func,canRemoveDiscussion:H.a.bool,showDiscussion:H.a.bool,onToggleShowDiscussion:H.a.func},In.defaultProps={initialTopic:"",canRemoveDiscussion:!1,onRemoveDiscussion:function(){},showDiscussion:!0,onToggleShowDiscussion:function(){}};var Cn=In,Tn=function(e){var t=e.title,n=e.showDiscussion,a=e.hasComments,r=e.onDiscussionSave,i=Object(G.useState)(!1),o=St()(i,2),s=o[0],c=o[1],l=a&&!t?"Discussion":t;return V.a.createElement(V.a.Fragment,null,V.a.createElement(gn,{openDiscussionTopicModal:function(){return c(!0)},discussionTopic:l,showDiscussion:n}),V.a.createElement(Cn,{open:s,onClose:function(){return c(!1)},onSetDiscussionTopic:function(e){r({discussionTopic:e,showDiscussion:!0}),c(!1)},initialTopic:l,canRemoveDiscussion:t&&!a,onRemoveDiscussion:function(){r({discussionTopic:null,showDiscussion:!1}),c(!1)},showDiscussion:n,onToggleShowDiscussion:function(e,t){r({discussionTopic:t,showDiscussion:e}),c(!1)}}))};Tn.defaultProps={title:void 0,showDiscussion:!1,hasComments:!1,onDiscussionSave:function(){}};var Rn=Tn,qn=function(e){var t=e.entityId,n=e.discussionTopic,a=e.editable,r=e.showDiscussion,i=e.onDiscussionSave,o=Object(y.d)((function(e){return Object(w.accessingCurrentSpaceAsStaff)(e)})),s=Wt($t.c.material,t,null,a),c=s.isSuccess,l=s.data,u=(null==l?void 0:l.commentsIds)||[],d=u.length,p=o||!r&&a;return r||a?V.a.createElement(Qt,null,V.a.createElement(Yt,{hasPadding:!(!n&&!d)},a?V.a.createElement(Rn,{title:n,showDiscussion:r,hasComments:!!d,onDiscussionSave:i}):V.a.createElement(Zt,null,n||"Discussion"),!a&&V.a.createElement(Jt,{"data-testid":"discussion-area-comments"},c&&(null==l?void 0:l.isDispatched)&&V.a.createElement(Kt.a,{entityId:t,entityType:$t.c.material,readOnly:p,comments:u,showInitialComments:!0})))):null};qn.defaultProps={discussionTopic:void 0,editable:!1,showDiscussion:!1,onDiscussionSave:function(){}};var An=qn,Dn=n(1625),Pn=n(1679),zn=Object(G.forwardRef)((function(e,t){var n,a,r,i=e.content,o=e.discussionTopic,s=e.showDiscussion,c=e.editable,l=e.isLoadingContent,u=e.onGetSection,d=e.reverting,p=e.sectionId,f=e.sessionToken,m=e.setUploadState,b=e.versionId,g=e.onDiscussionSave,h=Object(G.useState)(de.e),v=St()(h,2),y=v[0],x=v[1],E=Object(It.useFlags)().webappFtInlineQuizBlock202109,O=(0,getStore().getState)(),j=null===(n=O.classRoom)||void 0===n?void 0:n.current,k=null===(a=O.accessTokens[j])||void 0===a?void 0:a.token,w=(null===(r=O.institution)||void 0===r?void 0:r.general).institution,S=Object(G.useMemo)((function(){var e;return{sessionToken:f,accessToken:k,spaceId:j,institution:w,filesUrl:Object(Lt.x)(),apiUrl:Object(Lt.d)(),userId:null===(e=O.user)||void 0===e?void 0:e.userId,materialId:p,ltiProviders:Object(Dn.a)(O)}}),[f]),I=Object(Pn.a)(S),C=Object(G.useRef)(null);Object(G.useEffect)((function(){var e;(e=p)&&e.startsWith("local.")?x(de.e):u(p)}),[d,p]),Object(G.useEffect)((function(){i&&x(i)}),[i,b]),Object(G.useImperativeHandle)(t,(function(){return{focus:function(){C.current&&C.current.focus()},export:function(){return y}}}));return l?V.a.createElement(Tt,null,V.a.createElement(qt.a,null)):V.a.createElement(Ct,{editable:c,"aria-label":"editor-container"},V.a.createElement(Rt.a,{config:I,editorState:y,onChange:function(e){x(e),m(Object(de.l)(e))},placeholder:te.ib,readOnly:!c,ref:C,type:"material",isAssignmentsEnabled:!0,cursorPosition:"start",isQuizEnabled:E}),V.a.createElement(An,{entityId:p,editable:c,discussionTopic:o,showDiscussion:s,onDiscussionSave:g}))}));zn.propTypes={content:H.a.object,discussionTopic:H.a.string,showDiscussion:H.a.bool,isLoadingContent:H.a.bool,reverting:H.a.bool,editable:H.a.bool,sectionId:H.a.string.isRequired,sessionToken:H.a.string.isRequired,versionId:H.a.string,onGetSection:H.a.func,setUploadState:H.a.func,onDiscussionSave:H.a.func},zn.defaultProps={versionId:null,content:null,showDiscussion:!1,discussionTopic:void 0,isLoadingContent:!1,reverting:!1,editable:!1,ltiProviders:[],onGetSection:function(){return null},setUploadState:function(){return null},onDiscussionSave:function(){}};var Fn=zn,Ln=n(1605),Nn=n(1881),Mn=Object(me.b)("div",{target:"ewr2rto0"})("background:#edf5ff;padding-top:10px;padding-bottom:10px;border-radius:4px;margin-bottom:16px;"),_n=Object(me.b)(Nn.a,{target:"ewr2rto1"})("padding-right:6px;padding-left:12px;margin-bottom:-6px;"),Un=Object(me.b)("span",{target:"ewr2rto2"})("font-family:Work Sans;font-style:normal;font-weight:normal;font-size:14px;line-height:20px;"),Bn=function(e){var t=e.scheduledFor;if(!e.hidden)return null;var n=t?"This page is in a section scheduled for ".concat(Object(Ln.a)(t)):"This page is in a hidden section";return V.a.createElement(Mn,null,V.a.createElement(_n,{htmlColor:"#0000ff"}),V.a.createElement(Un,null,n))};Bn.propTypes={scheduledFor:H.a.string,hidden:H.a.bool},Bn.defaultProps={scheduledFor:void 0,hidden:!1};var Hn=Bn,Gn=Object(y.b)((function(e,t){var n=O.c.getMaterial(e,t.materialId);if(n.parent){var a=O.c.getMaterial(e,n.parent);return{hidden:a.hidden,scheduledFor:a.scheduledFor}}return{hidden:!1}}))(Hn),Vn=n(1583),Wn=Object(me.b)(Vn.a,{target:"e1qyjxap0"})("textarea{",ze.a.typography.headline(),";color:",Y.b.color.designSystem.blackOpacity87,";font-family:Work Sans;font-style:normal;font-weight:normal;font-size:24px;line-height:38px;}.material-section-title-editable{color:",Y.b.color.designSystem.blackOpacity87,";}"),Kn=Object(me.a)("&:after{border-bottom:2px solid ",Y.b.color.purple,";}"),Qn=Object(me.b)("h1",{target:"e1qyjxap1"})("display:inline-block;",ze.a.typography.headline(),";font-size:",Y.b.font.size.headline,";font-family:Work Sans;font-style:normal;font-weight:",Y.b.font.weight.semiBold,";font-size:24px;line-height:36px;margin:0;");function Yn(e){var t=function(){if("undefined"==typeof Reflect||!I.a)return!1;if(I.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(I()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=M()(e);if(t){var r=M()(this).constructor;n=I()(a,arguments,r)}else n=a.apply(this,arguments);return L()(this,n)}}var Jn=function(e){z()(n,e);var t=Yn(n);function n(e){var a;return T()(this,n),(a=t.call(this,e)).state={value:e.value},a.onChange=a.onChange.bind(D()(a)),a}return q()(n,[{key:"componentWillReceiveProps",value:function(e){if(e.value!==this.props.value){var t=e.value;this.setState({value:t})}}},{key:"onChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange(t)}},{key:"export",value:function(){return this.state.value}},{key:"render",value:function(){var e=this.state.value,t=null===e;return this.props.editable?V.a.createElement(Wn,{"data-testid":"section-title",className:"material-section-title-editable",inputProps:{"aria-label":"Material section title"},InputProps:{className:Kn},autoFocus:!0,fullWidth:!0,placeholder:te.vb,multiline:!0,onChange:this.onChange,onKeyDown:this.props.onKeyDown,value:e}):V.a.createElement(Qn,{className:"material-section-title-disabled","data-testid":"section-title"},t?te.vb:e)}}]),n}(V.a.PureComponent);Jn.propTypes={editable:H.a.bool,value:H.a.string,onChange:H.a.func,onKeyDown:H.a.func},Jn.defaultProps={editable:!1,value:null,onChange:function(){return null},onKeyDown:function(){return null}};var Zn=Jn,$n=n(211),Xn=n.n($n),ea=Object(me.b)("div",{target:"e1d88xm40"})("font-family:",Y.b.font.family.workSans,";font-size:",Y.b.font.size.copy,";font-weight:",Y.b.font.weight.regular,";line-height:",Y.b.font.size.copy,";color:",Y.b.color.grey11,";padding-bottom:15px;"),ta=function(e){var t=e.createdAt,n=e.editedAt,a=Object(G.useState)(Object(Ln.a)(Xn()())),r=St()(a,2),i=r[0],o=r[1];return Object(G.useEffect)((function(){o(Object(Ln.a)(new Date(n||t)))}),[n,t]),V.a.createElement(ea,null,V.a.createElement("span",null,"Last edited: "),V.a.createElement("span",null,i))};ta.propTypes={createdAt:H.a.string,editedAt:H.a.string},ta.defaultProps={createdAt:null,editedAt:null};var na=ta,aa=n(1824),ra=n(329),ia=Object(me.b)("div",{target:"e4eoy0m0"})("height:100%;display:flex;flex-direction:row;justify-content:space-between;"),oa=Object(me.b)("div",{target:"e4eoy0m1"})("min-height:unset;@media only screen and (max-width:",Ie.a.md-1,"px){padding-right:",Y.b.spacing.xxGiant,";}"),sa=Object(me.b)("div",{target:"e4eoy0m2"})("height:100%;box-sizing:border-box;display:flex;flex-direction:column;"),ca=Object(me.b)("div",{target:"e4eoy0m3"})("position:relative;height:100%;flex:1;");function la(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ua(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?la(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):la(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}function da(e){var t=function(){if("undefined"==typeof Reflect||!I.a)return!1;if(I.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(I()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=M()(e);if(t){var r=M()(this).constructor;n=I()(a,arguments,r)}else n=a.apply(this,arguments);return L()(this,n)}}var pa=function(e){z()(n,e);var t=da(n);function n(e){var a;return T()(this,n),(a=t.call(this,e)).state={unfinishedUpload:!1,a11yMessage:null,dividerVisible:!1,discussionTopic:e.section.discussionTopic,showDiscussion:e.section.showDiscussion},a.setTitleComponent=a.setTitleComponent.bind(D()(a)),a.setContentComponent=a.setContentComponent.bind(D()(a)),a.setUploadState=a.setUploadState.bind(D()(a)),a.setA11yMessage=a.setA11yMessage.bind(D()(a)),a.onSave=a.onSave.bind(D()(a)),a.openScheduleDialog=a.openScheduleDialog.bind(D()(a)),a.onEdit=a.onEdit.bind(D()(a)),a.onTitleChange=a.onTitleChange.bind(D()(a)),a.onTitleKeyDown=a.onTitleKeyDown.bind(D()(a)),a.onUnhide=a.onUnhide.bind(D()(a)),a.onHide=a.onHide.bind(D()(a)),a.getSectionData=a.getSectionData.bind(D()(a)),a.onScroll=a.onScroll.bind(D()(a)),a.onDiscussionSave=a.onDiscussionSave.bind(D()(a)),a.setTitleComponent(null),a.setContentComponent(null),a}return q()(n,[{key:"onDiscussionSave",value:function(e){var t=e.discussionTopic,n=e.showDiscussion;this.setState({discussionTopic:t,showDiscussion:n}),!1===n&&t&&this.props.onHideDiscussion()}},{key:"onSave",value:function(){var e=this.state,t=e.discussionTopic,n=e.showDiscussion,a={title:this.titleComponent.export(),content:this.contentComponent.export(),discussionTopic:t,showDiscussion:n};this.setA11yMessage("The page saved successfully."),this.props.onSave(a)}},{key:"onEdit",value:function(){this.setA11yMessage(""),this.props.onEdit()}},{key:"onTitleKeyDown",value:function(e){e.shiftKey&&e.keyCode===st.g||e.keyCode===st.g&&(e.preventDefault(),this.contentComponent&&this.contentComponent.focus())}},{key:"onUnhide",value:function(){this.setA11yMessage("The page is currently unhiden."),this.props.onUnhide(this.props.section)}},{key:"onHide",value:function(){this.setA11yMessage("The page is currently hiden."),this.props.onHide(this.props.section)}},{key:"onTitleChange",value:function(e){this.setState({hasTitle:!!e})}},{key:"onScroll",value:function(e){var t=e.scrollTop;this.setState({dividerVisible:t>0})}},{key:"getSectionData",value:function(){return{title:this.titleComponent.export(),content:this.contentComponent.export()}}},{key:"setTitleComponent",value:function(e){this.titleComponent=e}},{key:"setContentComponent",value:function(e){this.contentComponent=e}},{key:"setUploadState",value:function(e){this.setState({unfinishedUpload:e})}},{key:"setA11yMessage",value:function(e){this.setState({a11yMessage:e})}},{key:"openScheduleDialog",value:function(){var e=this.props,t=e.openScheduleDialog;t(e.section.id)}},{key:"render",value:function(){var e=this,t=this.props.section.id.startsWith("local."),n=V.a.createElement(oa,null,V.a.createElement(kt,null,V.a.createElement(Zn,{onChange:this.onTitleChange,ref:this.setTitleComponent,editable:this.props.editing,value:this.props.section.title,onKeyDown:this.onTitleKeyDown})),this.props.editing?null:V.a.createElement(na,{editedAt:this.props.section.updatedAt,createdAt:this.props.section.createdAt}),V.a.createElement(Fn,{ref:this.setContentComponent,editable:this.props.editing,content:this.props.selectedContent,onGetSection:this.props.onGetSection,isLoadingContent:this.props.isLoadingContent,reverting:this.props.reverting,sectionId:this.props.section.id,sessionToken:this.props.sessionToken,setUploadState:this.setUploadState,discussionTopic:this.state.discussionTopic,showDiscussion:this.state.showDiscussion,onDiscussionSave:this.onDiscussionSave}));return V.a.createElement(jt,null,V.a.createElement(sa,null,V.a.createElement(oa,null,V.a.createElement(Gn,{materialId:this.props.section.id}),V.a.createElement(Ot,{educatorOnly:this.props.educatorOnly,canSave:this.state.hasTitle,showUnhide:this.props.section.hidden,showSave:this.props.editing||this.props.saving,showEdit:!this.props.editing,openScheduleDialog:this.openScheduleDialog,onUnhide:this.onUnhide,onSave:this.onSave,onEdit:this.onEdit,saving:this.props.saving||this.state.unfinishedUpload,canFindPreviousVersion:!t,canExportMaterialPage:!t,onDeleteSection:this.props.onDelete,onHideSection:this.onHide,scheduledFor:this.props.section&&this.props.section.scheduledFor,onFindPreviousVersion:this.props.onFindPreviousVersion,onExportMaterialPage:this.props.onExportMaterialPage,onImportMaterialPage:this.props.onImportMaterialPage,onKeepHidden:function(){return e.props.onKeepHidden(e.props.section.id)},a11yMessage:this.state.a11yMessage}),this.state.dividerVisible&&V.a.createElement(Se.a,null)),V.a.createElement(Ce,null,(function(t){return t.md?V.a.createElement(ca,null,V.a.createElement(ra.a,{autoHide:!0,onScrollFrame:e.onScroll,viewProps:{style:{height:"100%"}}},n)):n}))),V.a.createElement(aa.a,{getSectionData:this.getSectionData}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=t,a=e.section&&e.section.id,r=e.section&&e.section.title;return r!==t.propTitle&&(n=ua(ua({},n),{},{propTitle:r,hasTitle:!!r})),a!==t.sectionId&&(n=ua(ua({},n),{},{sectionId:a,discussionTopic:e.section.discussionTopic,showDiscussion:e.section.showDiscussion})),n}}]),n}(V.a.PureComponent);pa.propTypes={section:ee.isRequired,selectedContent:H.a.object,isLoadingContent:H.a.bool.isRequired,reverting:H.a.bool,editing:H.a.bool,saving:H.a.bool,openScheduleDialog:H.a.func.isRequired,onKeepHidden:H.a.func.isRequired,onDelete:H.a.func.isRequired,onGetSection:H.a.func.isRequired,onEdit:H.a.func.isRequired,onFindPreviousVersion:H.a.func.isRequired,onHide:H.a.func.isRequired,onUnhide:H.a.func.isRequired,onSave:H.a.func.isRequired,onExportMaterialPage:H.a.func.isRequired,onImportMaterialPage:H.a.func.isRequired,educatorOnly:H.a.bool,onHideDiscussion:H.a.func.isRequired},pa.defaultProps={editing:!1,saving:!1,reverting:!1,educatorOnly:!1,selectedContent:null};var fa=pa,ma=Object(me.b)("div",{target:"ete0js50"})("flex:1;"),ba=Object(me.b)("div",{target:"ete0js51"})("display:block;margin:0;padding:0;width:100%;height:",(function(e){return e.height}),";"),ga=Object(me.b)("div",{target:"ete0js52"})("display:flex;flex-direction:column;"),ha=function(e){var t=e.section,n=e.selectedContent,a=e.onGetSection,r=e.isLoadingContent,i=e.sessionToken,o=Object(Ie.b)().md,s=V.a.createElement(sa,null,V.a.createElement(oa,null,V.a.createElement(ga,null,V.a.createElement(Zn,{value:t.title}),V.a.createElement(ba,{height:"16px"}),V.a.createElement(na,{editedAt:t.updatedAt,createdAt:t.createdAt})),V.a.createElement(Fn,{sectionId:t.id,content:n,discussionTopic:t.discussionTopic,showDiscussion:t.showDiscussion,onGetSection:a,isLoadingContent:r,sessionToken:i})));return o?V.a.createElement(ma,null,V.a.createElement(ca,null,V.a.createElement(ra.a,{autoHide:!0},s))):V.a.createElement(ma,null,s)};ha.propTypes={section:ee.isRequired,selectedContent:H.a.object,isLoadingContent:H.a.bool.isRequired,onGetSection:H.a.func.isRequired},ha.defaultProps={selectedContent:null};var va=ha,ya=function(e){var t=e.section,n=e.editable;return t?n?V.a.createElement(fa,e):V.a.createElement(va,e):null};ya.propTypes={section:ee,editable:H.a.bool,educatorOnly:H.a.bool},ya.defaultProps={editable:!1,educatorOnly:!1,section:null};var xa=ya;function Ea(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Oa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ea(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):Ea(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var ja=Object(y.b)((function(e){return{sectionId:O.c.currentSectionId(e),section:O.c.currentSection(e),editable:w.isInstructor(e),editing:O.c.editing(e),saving:O.c.isSavingSection(e),selectedContent:O.c.selectedContent(e),isLoadingContent:O.c.isLoadingContent(e),reverting:O.c.isRevertingSection(e),sessionToken:e.user.user.sessionToken}}),(function(e,t){return{onDelete:function(n){return e(O.b.deleteSection({sectionId:n,selectSection:ie.d,educatorOnly:t.educatorOnly}))},onGetSection:function(t){return e(O.b.getSection({sectionId:t}))},onFindPreviousVersion:function(t){return e(O.b.displayRevertModal(t))},onSave:function(n){return e(O.b.saveSection({patch:n,select:ie.d,educatorOnly:t.educatorOnly}))},onHide:function(t){return e(O.b.hideMaterial(t))},onUnhide:function(t){return e(O.b.unHideMaterial(t))},onEdit:function(){return e(O.b.setEditing(!0))},onHideDiscussion:function(){return e(O.b.hideDiscussion())},openScheduleDialog:function(t){return e(O.b.openScheduleMaterial(t))},onKeepHidden:function(t){return e(O.b.saveSection({id:t,patch:{hidden:!0,scheduledFor:null},select:ie.d}))},onExportMaterialPage:function(){return e(ie.b())},onImportMaterialPage:function(t,n){return e(ie.c(t,n))}}}),(function(e,t,n){return Oa(Oa(Oa(Oa({},n),e),t),{},{onDelete:function(){return t.onDelete(e.sectionId)},onHide:function(){return t.onHide(e.sectionId)},onUnhide:function(){return t.onUnhide(e.sectionId)},onFindPreviousVersion:function(){return t.onFindPreviousVersion(e.sectionId)},onExportMaterialPage:function(){return t.onExportMaterialPage(e.sectionId)},onImportMaterialPage:function(n){return t.onImportMaterialPage(e.sectionId,n)}})}))(xa),ka=n(1882),wa=n.n(ka),Sa=function(e){return e.isInstructor?V.a.createElement(ye,{image:wa.a,copy:"Now that you have started creating sections for your materials, you can use the + button on the left to create your first page."}):null};Sa.propTypes={isInstructor:H.a.bool.isRequired};var Ia=Sa,Ca=n(1593),Ta=n(1766),Ra=n.n(Ta),qa=n(1767),Aa=n.n(qa),Da=Object(me.b)("div",{target:"e1kis9580"})("width:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;"),Pa=function(){return V.a.createElement(Da,null,V.a.createElement(qt.a,null))},za=function(){return V.a.createElement(Da,null,V.a.createElement("img",{src:fe.a,alt:"no student",width:240,height:240}),V.a.createElement("p",null,te.zb))},Fa=n(1765),La=Object(me.b)("span",{target:"e189ukj10"})("color:",Y.b.color.designSystem.purple70,";font-weight:",Y.b.font.weight.medium,";font-size:",Y.b.font.size.small,";"),Na=Object(me.b)("span",{target:"e189ukj11"})("color:",Y.b.color.grayDark,";font-size:",Y.b.font.size.small,";"),Ma=Object(me.b)("button",{target:"e189ukj12"})("cursor:pointer;width:100%;font-family:'Work Sans',sans-serif;margin:0;padding:14px 16px;background-color:",(function(e){return e.selected?Y.b.color.beige:"transparent"}),";border:none;text-align:inherit;&:hover{background-color:",Y.b.color.grayLight,";}&:active{background-color:",Y.b.color.gray,";}&:focus{outline:none;}"),_a=function(e){return"".concat(e.firstName," ").concat(e.lastName)},Ua=function(e){var t=e.current,n=e.lastUpdatedAt,a=e.writer;return t?V.a.createElement(La,null,Object(te.Y)(_a(a))):V.a.createElement(Na,null,Object(te.hb)(_a(a),Object(Ln.a)(n)))};Ua.propTypes={current:H.a.bool.isRequired,lastUpdatedAt:H.a.string.isRequired,writer:Z.isRequired};var Ba=function(e){return V.a.createElement(Ma,{selected:e.selected,onClick:e.onSelect},V.a.createElement(Fa.a,{boldTitle:e.selected,title:e.title,subtitle:V.a.createElement(Ua,e),avatar:e.writer.avatar,name:e.writer.firstName}))};Ba.propTypes={current:H.a.bool,lastUpdatedAt:H.a.string.isRequired,selected:H.a.bool,title:H.a.string.isRequired,writer:Z.isRequired,onSelect:H.a.func},Ba.defaultProps={current:!1,selected:!1,onSelect:function(){return null}};var Ha=Ba,Ga=function(e){return V.a.createElement("div",{className:e.className},V.a.createElement(ra.a,{autoHide:!0,viewProps:{"data-testid":"versions-list"}},e.versions.map((t=e.current,n=e.selected,a=e.onSelect,function(e){return V.a.createElement(Ha,{key:e.id,lastUpdatedAt:e.updatedAt,writer:e.editor,title:e.title,onSelect:function(){return a(e.id)},current:t===e.id,selected:n===e.id,"aria-pressed":n===e.id})}))));var t,n,a};Ga.propTypes={className:H.a.string,current:H.a.string,selected:H.a.string,versions:X.isRequired,onSelect:H.a.func},Ga.defaultProps={className:"",current:null,selected:null,onSelect:function(){return null}};var Va=Ga,Wa=function(e){var t=e.version,n=e.className,a=e.isLoadingVersion;return null===t||a?V.a.createElement("div",{className:n},V.a.createElement(Pa,null)):V.a.createElement("div",{className:n},V.a.createElement(Zn,{value:t.title}),V.a.createElement(Fn,{versionId:t.id,content:JSON.parse(t.content)}))};Wa.propTypes={className:H.a.string,isLoadingVersion:H.a.bool,version:$},Wa.defaultProps={className:"",version:null,isLoadingVersion:!1};var Ka=Wa,Qa=Object(me.b)("div",{target:"e1rp154j0"})("display:flex;flex-direction:row;width:100%;height:100%;align-items:stretch;"),Ya=Object(me.b)(Va,{target:"e1rp154j1"})("flex:none;width:424px;border-right:1px solid #e1e1e1;padding-top:8px;"),Ja=Object(me.b)(Ka,{target:"e1rp154j2"})("box-sizing:border-box;width:100%;padding:56px;"),Za=function(e){return V.a.createElement(Le.a,Qe()({type:"primary"},e))},$a=Object(me.b)(Za,{target:"e1rp154j3"})("margin-right:16px;.title{position:relative;}"),Xa=function(e){return V.a.createElement(Qa,null,V.a.createElement(Ya,{versions:e.versions,current:e.current,selected:e.selected?e.selected.id:null,onSelect:e.onSelect}),V.a.createElement(ra.a,{autoHide:!0},V.a.createElement(Ja,{version:e.selected,isLoadingVersion:e.isLoadingVersion})))},er=function(){return V.a.createElement(Qa,null,V.a.createElement(Pa,null))},tr=function(){return V.a.createElement(Qa,null,V.a.createElement(za,null))},nr=function(e){return V.a.createElement($a,{onClick:e.revert,iconRight:Ra.a,loading:e.reverting,disabled:!(e.selected&&e.selected.id!==e.current)||e.reverting||e.isLoadingVersion},V.a.createElement("span",{className:"title","data-testid":"revert-to-selected-version-button"},te.sb))},ar=function(e){return V.a.createElement(Ca.a,{id:"material-versions",size:"fullscreen",container:function(){return document.getElementById("content-container")},open:e.open,onClose:e.onClose,headerData:{children:nr(e),icon:V.a.createElement(Aa.a,null),title:te.yb}},!e.isLoadingVersions&&!!e.versions.length&&V.a.createElement(Xa,e),!e.isLoadingVersions&&!e.versions.length&&V.a.createElement(tr,null),e.isLoadingVersions&&V.a.createElement(er,null))};ar.propTypes={isLoadingVersions:H.a.bool,isLoadingVersion:H.a.bool,open:H.a.bool,revert:H.a.func,reverting:H.a.bool,current:H.a.string,selected:$,versions:X,onClose:H.a.func,onSelect:H.a.func},ar.defaultProps={isLoadingVersions:!1,isLoadingVersion:!1,open:!1,revert:function(){return null},reverting:!1,current:null,selected:null,versions:[],onClose:function(){return null},onSelect:function(){return null}};var rr=ar;function ir(e){var t=function(){if("undefined"==typeof Reflect||!I.a)return!1;if(I.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(I()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=M()(e);if(t){var r=M()(this).constructor;n=I()(a,arguments,r)}else n=a.apply(this,arguments);return L()(this,n)}}var or=function(e){z()(n,e);var t=ir(n);function n(e){var a;return T()(this,n),(a=t.call(this,e)).onSelect=a.onSelect.bind(D()(a)),a.onRevert=a.onRevert.bind(D()(a)),a}return q()(n,[{key:"componentDidUpdate",value:function(e){e.isLoadingVersions&&!this.props.isLoadingVersions&&this.onSelect(this.props.section.version)}},{key:"onRevert",value:function(){this.props.revert(this.props.selectedVersion)}},{key:"onSelect",value:function(e){this.props.selectedVersion&&this.props.selectedVersion.id===e||this.props.loadVersion(this.props.section.id,e)}},{key:"render",value:function(){var e=this.props.section||{};return V.a.createElement(rr,{isLoadingVersions:this.props.isLoadingVersions,isLoadingVersion:this.props.isLoadingVersion,open:null!==this.props.section,revert:this.onRevert,current:e.version,reverting:this.props.reverting,selected:this.props.selectedVersion,versions:e.versions||[],onClose:this.props.close,onSelect:this.onSelect})}}]),n}(V.a.PureComponent);or.propTypes={isLoadingVersions:H.a.bool,isLoadingVersion:H.a.bool,section:ee,selectedVersion:$,close:H.a.func.isRequired,revert:H.a.func.isRequired,loadVersion:H.a.func.isRequired,reverting:H.a.bool},or.defaultProps={isLoadingVersions:!1,isLoadingVersion:!1,reverting:!1,section:null,selectedVersion:null};var sr=Object(x.c)({isLoadingVersions:O.c.isFetchingVersions,isLoadingVersion:O.c.isLoadingVersion,selectedVersion:O.c.selectedVersion,section:O.c.currentRevertCandidate,reverting:O.c.isRevertingSection}),cr=Object(y.b)(sr,(function(e){return{loadVersion:function(t,n){return e(O.b.getVersion({sectionId:t,versionId:n}))},revert:function(t){return e(O.b.revertSectionToVersion(t))},close:function(){return e(O.b.displayRevertModal(void 0))}}}))(or);function lr(e){var t=function(){if("undefined"==typeof Reflect||!I.a)return!1;if(I.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(I()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=M()(e);if(t){var r=M()(this).constructor;n=I()(a,arguments,r)}else n=a.apply(this,arguments);return L()(this,n)}}var ur=function(e){return e&&e.startsWith("local.")},dr=Y.b.color,pr=Y.b.font,fr=Object(K.a)({typography:{fontFamily:pr.family.workSans,useNextVariants:!0},palette:{primary:{main:dr.designSystem.purple70},text:{hint:dr.grey11}}}),mr=function(e){z()(n,e);var t=lr(n);function n(e){var a;return T()(this,n),(a=t.call(this,e)).handleOnCloseLeaveWithoutSaving=a.handleOnCloseLeaveWithoutSaving.bind(D()(a)),a.handleOnConfirmLeaveWithoutSaving=a.handleOnConfirmLeaveWithoutSaving.bind(D()(a)),a}return q()(n,[{key:"componentWillMount",value:function(){var e=this.props,t=e.route,n=e.router,a=e.educatorOnly?"educatorArea":"materials",r=t.childRoutes?t.childRoutes.find((function(e){return e.path.includes(a)})):t;this.unregisterLeaveHook=n.setRouteLeaveHook(U()(r,{path:"".concat(a,"(/:sectionId)")}),this.routerWillLeave.bind(this))}},{key:"componentDidMount",value:function(){var e=this.props,t=e.currentSectionId,n=e.dispatchAnalytics;this.fallbackWhenNoSectionExists(),ur(t)||n(),this.updateDocumentTitle()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.currentSectionId,a=t.dispatchAnalytics,r=t.leaveDestinationPath,i=t.onLeaveWithoutSaving,o=t.editing,s=t.saving;e.currentSectionId!==n&&void 0!==n&&!ur(n)&&a(),!r||o||s||(Object(J.a)(r),i(null)),this.updateDocumentTitle()}},{key:"componentWillUnmount",value:function(){this.unregisterLeaveHook&&this.unregisterLeaveHook()}},{key:"routerWillLeave",value:function(e){var t=this.props,n=t.currentSectionId,a=t.editing,r=t.onLeaveWithoutSaving;return void 0===n||!a||(r(e.pathname,null),!1)}},{key:"updateDocumentTitle",value:function(){var e=this.props,t=e.currentSectionTitle,n=e.currentSpaceName,a=t?"".concat(t," - Materials - "):"",r=n?"".concat(n," - "):"";document.title="".concat(a).concat(r,"Aula")}},{key:"handleOnCloseLeaveWithoutSaving",value:function(){(0,this.props.onLeaveWithoutSaving)(null,!0)}},{key:"handleOnConfirmLeaveWithoutSaving",value:function(){var e=this.props;(0,e.onLeaveWithoutSaving)(e.leaveDestinationPath,!1)}},{key:"fallbackWhenNoSectionExists",value:function(){var e=this.props,t=e.currentSectionId,n=e.section,a=e.hasAtLeastOneChildSection,r=e.goToFallbackSection,i=e.fallbackId;n&&t||!a||!i||r()}},{key:"render",value:function(){var e=this.props,t=e.hasFetchedSections,n=e.sectionIds,a=e.section,r=e.leaveDestinationPath,i=e.editing,o=e.saving,s=e.isDeletingSection,c=e.isDeletingFolder,l=e.isInstructor,u=e.hasAtLeastOneChildSection,d=e.currentSectionId,p=e.educatorOnly,f=t&&0===n.length&&!u;return V.a.createElement(Q.a,{theme:fr},V.a.createElement(ia,null,f?V.a.createElement(sa,null,V.a.createElement(oa,null,V.a.createElement(we,null))):a||u?s||c?V.a.createElement("div",null):d&&a?V.a.createElement(ja,{educatorOnly:p}):null:V.a.createElement(sa,null,V.a.createElement(oa,null,V.a.createElement(Ia,{isInstructor:l}))),V.a.createElement(ue,{open:null!==r&&i&&!o,onClose:this.handleOnCloseLeaveWithoutSaving,onConfirm:this.handleOnConfirmLeaveWithoutSaving}),V.a.createElement(se,{educatorOnly:p}),V.a.createElement(cr,null)))}}]),n}(V.a.PureComponent);mr.propTypes={dispatchAnalytics:H.a.func.isRequired,currentSectionId:H.a.string,currentSectionTitle:H.a.string,currentSpaceName:H.a.string,section:ee,sectionIds:H.a.arrayOf(H.a.string).isRequired,editing:H.a.bool,saving:H.a.bool,hasAtLeastOneChildSection:H.a.bool.isRequired,hasFetchedSections:H.a.bool,onLeaveWithoutSaving:H.a.func.isRequired,leaveDestinationPath:H.a.string,route:H.a.shape({childRoutes:H.a.array,path:H.a.string}).isRequired,router:H.a.shape({setRouteLeaveHook:H.a.func.isRequired}).isRequired,isDeletingSection:H.a.bool.isRequired,isDeletingFolder:H.a.bool.isRequired,isInstructor:H.a.bool.isRequired,educatorOnly:H.a.bool,goToFallbackSection:H.a.func.isRequired,fallbackId:H.a.string},mr.defaultProps={currentSectionTitle:"",currentSpaceName:"",section:null,editing:!1,saving:!1,hasFetchedSections:!1,leaveDestinationPath:null,educatorOnly:!1,fallbackId:null};var br=Object(W.f)(mr),gr=n(92),hr=["fallbackMaterialId","fallbackEducatorMaterialId","spaceId"],vr=["goToFallbackSection"];function yr(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):yr(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Er=Object(x.c)({user:k.user,currentSectionId:O.c.currentSectionId,currentSectionTitle:O.c.currentSectionTitle,currentSpaceName:w.classRoomName,spaceId:w.currentClassRoomId,activeClassroom:w.currentClassRoomId,hasFetchedSections:O.c.hasFetchedSections,section:O.c.currentSection,sectionIds:O.c.topLevelMaterialIds,sectionEducatorOnlyIds:O.c.topLevelMaterialEducatorOnlyIds,editing:O.c.editing,saving:O.c.isSavingSection,leaveDestinationPath:O.c.leaveDestinationPath,isDeletingSection:O.c.isDeletingSection,isDeletingFolder:O.c.isDeletingFolder,isInstructor:w.isInstructor,hasAtLeastOneChildSection:O.c.hasAtLeastOneChildSection,fallbackMaterialId:O.c.getFirstMaterialId,fallbackEducatorMaterialId:O.c.getFirstEducatorMaterialId}),Or=Object(y.b)(Er,(function(e,t){return{dispatchAnalytics:function(e,t){e&&Object(E.c)(j.F,{itemType:j.H,itemId:e,activeClassroom:t})},onLeaveWithoutSaving:function(t,n){return e(O.b.leaveWithoutSaving(t,n))},goToFallbackSection:function(n,a){e(t.educatorOnly?Object(gr.e)(n,a):Object(gr.k)(n,a))}}}),(function(e,t,n){var a=e.fallbackMaterialId,r=e.fallbackEducatorMaterialId,i=e.spaceId,o=v()(e,hr),s=t.goToFallbackSection,c=v()(t,vr);return xr(xr(xr(xr({},n),c),o),{},{dispatchAnalytics:function(){c.dispatchAnalytics(o.currentSectionId,o.activeClassroom||(n.params?n.params.classId:void 0))},goToFallbackSection:function(){s(i,n.educatorOnly?r:a)},fallbackId:n.educatorOnly?r:a})}))(br);t.a=Or},1803:function(e,t,n){"use strict";var a=n(35),r=n(43),i=n.n(r),o=n(50),s=n.n(o),c=n(0),l=n.n(c),u=n(1),d=n.n(u),p=n(220),f=n(25),m=n(6),b=n.n(m),g=n(3),h=n.n(g),v=n(4),y=n.n(v),x=n(5),E=n.n(x),O=n(9),j=n.n(O),k=n(8),w=n.n(k),S=n(45),I=n.n(S),C=n(2),T=n.n(C),R=n(248),q=n(861),A=n(1651),D=n(79),P=n(1610),z=n(1626),F=n.n(z),L=n(527),N=n.n(L),M=n(538),_=n.n(M),U=n(561),B=n(579),H=n(95),G=n(1605),V=n(14),W=n(15),K=Object(V.b)(U.a,{target:"ebcnkbq0"})("color:",W.b.color.designSystem.blackOpacity60,";flex-shrink:0;display:flex;opacity:0;[role='button']:hover &{opacity:1;}[role='button']:focus &{opacity:1;}&:focus{opacity:1;}&:hover{background-color:",W.b.color.designSystem.background.grey.hover,";}"),Q=Object(V.a)("background-color:transparent;&:hover{background-color:",W.b.color.designSystem.background.grey.hover,";}border-radius:4px;padding:4px;margin-top:8px;padding-inline-start:6px;"),Y=Object(V.a)(".label{color:",W.b.color.blackAlpha(W.b.opacity.alpha60),";}.drag{opacity:0.2;}"),J=n(85),Z=function(e,t){return e&&t?_.a:e?N.a:F.a},$=function(e){var t=e.isFolder,n=e.hidden,a=e.scheduledFor,r=e.onToggleVisibility,i=e.openScheduleDialog,o=function(e,t,n){return t&&n?"Scheduled for ".concat(Object(G.a)(n),". Click to change."):e?t?D.wb:D.ob:t?D.xb:D.nb}(t,n,a),s=function(e){e.stopPropagation(),n&&a?i():r()},c=n?U.a:K;return l.a.createElement(B.a,{title:o,position:"top"},l.a.createElement("div",null,l.a.createElement(c,{icon:Z(n,a),size:"xSmall",type:"secondary",label:o,buttonAttributes:{tabIndex:0},onClick:s,onKeyDown:function(e){return e.keyCode===J.d&&s()}}),l.a.createElement("p",{className:Object(R.css)([H.a.visuallyHidden()]),"aria-live":"polite"},function(e,t,n){var a=e?"folder":"page";return t&&n?"The ".concat(a," is currently scheduled to be published on ").concat(Object(G.a)(n),"."):"The ".concat(a," is currently ").concat(t?"hidden":"visible",".")}(t,n,a))))};$.propTypes={isFolder:d.a.bool,hidden:d.a.bool.isRequired,scheduledFor:d.a.string,onToggleVisibility:d.a.func.isRequired,openScheduleDialog:d.a.func.isRequired},$.defaultProps={isFolder:!1,scheduledFor:null};var X=l.a.memo($),ee=["onHide","onUnhide"];function te(e,t){var n=b()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):E.a?j()(e,E()(n)):te(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}var ae=Object(a.b)((function(e,t){var n=p.c.getMaterial(e,t.materialId);return{hidden:n.hidden,scheduledFor:n.scheduledFor}}),(function(e,t){return{onHide:function(){return e(p.b.hideMaterial(t.materialId))},onUnhide:function(){return e(p.b.unHideMaterial(t.materialId))},openScheduleDialog:function(){return e(p.b.openScheduleMaterial(t.materialId))}}}),(function(e,t,n){var a=t.onHide,r=t.onUnhide,i=s()(t,ee);return ne(ne(ne(ne({},e),i),n),{},{onToggleVisibility:function(){e.hidden?r():a()}})}))(X),re=Object(V.a)("background-color:",W.b.color.blackAlpha(W.b.opacity.alpha8),";&:active{background-color:",W.b.color.blackAlpha(W.b.opacity.alpha8),";}&:focus{background-color:",W.b.color.blackAlpha(W.b.opacity.alpha8),";}&:hover{background-color:",W.b.color.blackAlpha(W.b.opacity.alpha8),";}"),ie=Object(V.a)(".label{font-weight:normal;line-height:22px;}"),oe=Object(V.a)(".label{font-weight:",W.b.font.weight.semiBold,";line-height:22px;}"),se=n(1975),ce=n(1976);function le(e,t){var n=b()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ue(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):E.a?j()(e,E()(n)):le(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}var de="DND_TYPE_MATERIAL",pe=function(e){return Object(se.a)({item:ue({type:de},e),collect:function(e){return{isDragging:e.isDragging()}}})},fe=function(e,t){var n=Object(c.useState)(null),a=I()(n,2),r=a[0],i=a[1],o=function(n){var a=n.getClientOffset();if(!t.current||!a)return null;if(e.isFolder&&e.expanded)return"before";var r=t.current.getBoundingClientRect(),i=(r.bottom-r.top)/2;return a.y-r.top<i?"before":"after"},s=function(e){var t=e.isOver()&&e.canDrop(),n=o(e);i(t?n:null)},l=Object(ce.a)({accept:de,canDrop:function(t){var n=t.materialId!==e.materialId,a=t.isFolder&&!!e.parent;return n&&!a},drop:function(n,a){!a.didDrop()&&t.current&&n.onReorder({sourceId:n.materialId,destId:e.materialId,parentId:e.parent,dropType:o(a)})},hover:function(e,t){s(t)},collect:function(e){return s(e),{}}});return[{dropType:r},I()(l,2)[1]]},me=["materialId","hidden","parent","isInstructor","selected","onReorder","educatorOnly"];function be(e,t){var n=b()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):E.a?j()(e,E()(n)):be(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}var he={text:"label"},ve=function(e){var t=e.materialId,n=e.hidden,a=(e.parent,e.isInstructor),r=e.selected,o=(e.onReorder,e.educatorOnly),u=s()(e,me),d=Object(c.useRef)(null),p=ge(ge({},e),{},{isFolder:!1}),f=pe(p),m=I()(f,2),b=m[0].isDragging,g=m[1],h=fe(p,d),v=I()(h,2),y=v[0].dropType;return g((0,v[1])(d)),l.a.createElement("li",{ref:d},l.a.createElement(q.a,i()({component:"div",textTruncate:!0,className:Object(R.cx)(Q,ie,n&&Y,r&&re),classes:he,rightDecoration:a&&!o?l.a.createElement(ae,{materialId:t}):null,isDraggable:!0,isDragging:b,dropType:y,attributes:{"aria-current":r&&"page"},withTooltipInPosition:"top"},u)))};ve.propTypes={materialId:d.a.string.isRequired,hidden:d.a.bool.isRequired,parent:d.a.string,isInstructor:d.a.bool.isRequired,selected:d.a.bool.isRequired,onReorder:d.a.func.isRequired,educatorOnly:d.a.bool},ve.defaultProps={parent:null,educatorOnly:!1};var ye=l.a.memo(ve),xe=Object(a.b)((function(e,t){var n=p.c.getMaterial(e,t.materialId),a=p.c.currentSectionId(e);return{isInstructor:f.isInstructor(e),primaryText:n.title||D.vb,hidden:n.hidden,parent:n.parent,selected:t.materialId===a}}),(function(e,t){var n=t.materialId,a=t.educatorOnly;return{onClick:function(){return e(Object(P.d)(n,a))},onReorder:function(t){return e(p.b.reorderMaterial(t))}}}))(ye),Ee=n(20),Oe=n.n(Ee),je=n(1589),ke=n(1606),we=n.n(ke),Se=n(1650),Ie="Section options",Ce="rename",Te="schedule",Re="changeSchedule",qe="keepHidden",Ae="publishNow",De="delete",Pe=[{key:Ce,label:"Rename",isVisible:function(){return!0},danger:!1},{key:Te,label:"Schedule",isVisible:function(e){var t=e.hidden,n=e.scheduledFor;return!e.educatorOnly&&!!t&&!n},danger:!1},{key:Re,label:"Change scheduled time",isVisible:function(e){var t=e.hidden,n=e.scheduledFor;return!!t&&!!n},danger:!1},{key:qe,label:"Undo scheduling and keep hidden",isVisible:function(e){var t=e.hidden,n=e.scheduledFor;return!!t&&!!n},danger:!1},{key:Ae,label:"Publish now",isVisible:function(e){var t=e.hidden,n=e.scheduledFor;return!!t&&!!n},danger:!1},{key:De,label:"Delete",isVisible:function(){return!0},danger:!0}],ze=function(e){var t=e.ariaLabelId,n=e.openRenameDialog,a=e.openDeleteDialog,r=e.openScheduleDialog,o=e.keepHidden,s=e.publishNow;return l.a.createElement(je.a,{"data-testid":"folder-menu",classes:{menu:Se.b},ariaLabelledby:t,renderTarget:function(e){var t=e.handleTargetClick;return l.a.createElement(B.a,{title:Ie,position:"top"},l.a.createElement("div",null,l.a.createElement(K,{icon:we.a,size:"xSmall",type:"secondary",label:Ie,onClick:t,position:"top"})))},onSelect:function(e){switch(e.item){case Ce:n();break;case De:a();break;case Te:case Re:r();break;case qe:o();break;case Ae:s()}},renderChildren:function(t){var n=t.getItemProps,a=t.highlightedIndex;return Pe.reduce((function(t,r,o){return r.isVisible(e)?[].concat(Oe()(t),[l.a.createElement(q.a,i()({attributes:{"data-testid":"folder-menu-item"},key:r.key,className:r.danger?Object(R.cx)(Se.c,Se.a):Se.c,primaryText:r.label,highlighted:a===o},n({item:r.key,onClick:function(e){return e.stopPropagation()}})))]):t}),[])}})};ze.propTypes={hidden:d.a.bool,educatorOnly:d.a.bool,scheduledFor:d.a.string,ariaLabelId:d.a.string,openRenameDialog:d.a.func.isRequired,openDeleteDialog:d.a.func.isRequired,openScheduleDialog:d.a.func.isRequired,keepHidden:d.a.func.isRequired,publishNow:d.a.func.isRequired},ze.defaultProps={ariaLabelId:null,hidden:!1,educatorOnly:!1,scheduledFor:null};var Fe=ze,Le=Object(a.b)((function(e,t){var n=p.c.getMaterial(e,t.materialId);return{hidden:n.hidden,scheduledFor:n.scheduledFor}}),(function(e,t){return{openRenameDialog:function(){return e(p.b.openRenameFolder(t.materialId))},openDeleteDialog:function(){return e(p.b.openDeleteFolder(t.materialId))},openScheduleDialog:function(){return e(p.b.openScheduleMaterial(t.materialId))},keepHidden:function(){return e(p.b.editFolder(t.materialId,{hidden:!0,scheduledFor:null}))},publishNow:function(){return e(p.b.editFolder(t.materialId,{hidden:!1,scheduledFor:null}))}}}))(Fe),Ne=n(1601),Me=n(524),_e=n.n(Me),Ue=Object(V.b)(q.a,{target:"e1s8rybf0"})("color:",W.b.color.designSystem.purple70,";font-size:",W.b.font.size.copy,";.addNewPageLabel{font-weight:",W.b.font.weight.regular,";}"),Be=Object(V.b)(_e.a,{target:"e1s8rybf1"})("font-size:",W.b.font.size.xLarge,";font-weight:",W.b.font.weight.semiBold,";"),He={text:"addNewPageLabel"},Ge={listStyle:"none",padding:0},Ve=function(e){var t=e.onDrop,n=e.addSection,a=Object(c.useRef)(null),r=Object(ce.a)({accept:de,canDrop:function(e){return!e.isFolder},collect:function(e){return{isDraggingOver:e.canDrop()&&e.isOver()}},drop:function(e,n){n.didDrop()||t(e.materialId)}}),i=I()(r,2),o=i[0].isDraggingOver;return(0,i[1])(a),l.a.createElement("ul",{ref:a,style:Ge},l.a.createElement(Ue,{attributes:{"data-testid":"add-folder-page"},classes:He,className:Object(R.cx)(Q,oe),textTruncate:!0,primaryText:"New page",leftDecoration:l.a.createElement(Be,null),onClick:n,dropType:o?"before":null}))};Ve.propTypes={onDrop:d.a.func.isRequired,addSection:d.a.func.isRequired};var We=Ve,Ke=Object(a.b)(null,(function(e,t){return{addSection:function(){return e(p.b.createSection({content:Ne.e,parent:t.folderId,educatorOnly:t.educatorOnly,hidden:!t.educatorOnly,onSelect:P.d}))},onDrop:function(n){return e(p.b.reorderMaterial({sourceId:n,parentId:t.folderId,dropType:"after"}))}}}))(We),Qe=n(1590),Ye=n(255),Je=n.n(Ye),Ze=n(564),$e=n.n(Ze),Xe=Object(V.b)(Je.a,{target:"e1b2bj9s0"})("color:",W.b.color.designSystem.blackOpacity60,";padding:0;margin-left:-7px;"),et=Object(V.b)($e.a,{target:"e1b2bj9s1"})("color:",W.b.color.designSystem.blackOpacity60,";padding:0;margin-left:-7px;"),tt=Object(V.b)(Qe.a,{target:"e1b2bj9s2"})("padding:4px 0 0 13px;margin-left:10.5px;border-left:1px solid ",W.b.color.blackAlpha("0.12"),";"),nt=Object(V.a)(".label{font-weight:",W.b.font.weight.semiBold,";line-height:22px;color:",W.b.color.text,";}"),at=Object(V.b)("div",{target:"e1b2bj9s3"})("display:flex;flex-direction:row;"),rt=["materialId","expanded","hidden","toggleFolder","materialIds","isInstructor","onReorder","educatorOnly"];function it(e,t){var n=b()(e);if(h.a){var a=h()(e);t&&(a=a.filter((function(t){return y()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ot(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){T()(e,t,n[t])})):E.a?j()(e,E()(n)):it(Object(n)).forEach((function(t){w()(e,t,y()(n,t))}))}return e}var st={text:"label"},ct=function(e){var t=e.materialId,n=e.expanded,a=e.hidden,r=e.toggleFolder,o=e.materialIds,u=e.isInstructor,d=(e.onReorder,e.educatorOnly),p=s()(e,rt),f=Object(c.useRef)(null),m=ot(ot({},e),{},{isFolder:!0,parent:null}),b=pe(m),g=I()(b,2),h=g[0].isDragging,v=g[1],y=fe(m,f),x=I()(y,2),E=x[0].dropType,O=x[1],j="folder-button-".concat(t);return v(O(f)),l.a.createElement(l.a.Fragment,null,l.a.createElement("li",{ref:f},l.a.createElement(q.a,i()({component:"div",textTruncate:!0,className:Object(R.cx)(Q,nt,a&&Y),classes:st,leftDecoration:n?l.a.createElement(Xe,null):l.a.createElement(et,null),rightDecoration:u?l.a.createElement(at,{id:j},l.a.createElement(Le,{materialId:t,ariaLabelId:j,educatorOnly:d}),!d&&l.a.createElement(ae,{isFolder:!0,materialId:t})):null,onClick:r,isDraggable:!0,isDragging:h,dropType:E,withTooltipInPosition:"top",attributes:{"aria-expanded":n,"data-testid":"material-folder"}},p))),l.a.createElement(A.a,{"aria-hidden":!n,in:n,component:"li"},l.a.createElement(tt,{component:"ul"},o.map((function(e){return l.a.createElement(xe,{educatorOnly:d,key:e,materialId:e})})),u?l.a.createElement(Ke,{folderId:t,educatorOnly:d}):null)))};ct.propTypes={materialId:d.a.string.isRequired,expanded:d.a.bool.isRequired,hidden:d.a.bool.isRequired,materialIds:d.a.arrayOf(d.a.string).isRequired,isInstructor:d.a.bool.isRequired,toggleFolder:d.a.func.isRequired,onReorder:d.a.func.isRequired,educatorOnly:d.a.bool},ct.defaultProps={educatorOnly:!1};var lt=ct,ut=Object(a.b)((function(e,t){var n=p.c.getMaterial(e,t.materialId),a=f.isInstructor(e);return{isFolder:!0,primaryText:n?n.title:"",expanded:p.c.isExpanded(e,t.materialId),hidden:n.hidden,parent:n.parent,materialIds:p.c.sectionIdsByParent(e,t.materialId,n.educatorOnly),isInstructor:a}}),(function(e,t){return{toggleFolder:function(){return e(p.b.toggleFolder(t.materialId))},onReorder:function(t){return e(p.b.reorderMaterial(t))}}}))(lt),dt=["isFolder","materialId","educatorOnly"],pt=function(e){var t=e.isFolder,n=e.materialId,a=e.educatorOnly,r=s()(e,dt),o=t?ut:xe;return l.a.createElement(o,i()({materialId:n,educatorOnly:a},r))};pt.propTypes={isFolder:d.a.bool.isRequired,materialId:d.a.string.isRequired,educatorOnly:d.a.bool},pt.defaultProps={educatorOnly:!1};var ft=pt;t.a=Object(a.b)((function(e,t){return{isFolder:p.c.isFolder(e,t.materialId)}}))(ft)},1804:function(e,t,n){"use strict";var a=n(45),r=n.n(a),i=n(0),o=n.n(i),s=n(35),c=n(844),l=n.n(c),u=n(85),d=n(15),p=n(14),f=Object(p.b)("div",{target:"eayh8mm0"})("height:45px;line-height:45px;color:",d.b.color.designSystem.purple70,";cursor:pointer;transition:opacity 0.2s;width:",(function(e){return e.collapsed?"100%":"calc(100% + 72px)"}),";margin-left:",(function(e){return e.collapsed?"0":"-".concat(d.b.spacing.xxxLarge)}),";background-color:",(function(e){return e.collapsed?"transparent":d.b.color.grayLight}),";:hover{opacity:0.75;}"),m=Object(p.b)("span",{target:"eayh8mm1"})("color:",d.b.color.designSystem.purple70,";font-size:14px;font-weight:",d.b.font.weight.semiBold,";cursor:pointer;"),b=Object(p.b)("span",{target:"eayh8mm2"})("font-size:14px;color:",d.b.color.grey6,";padding-left:",d.b.spacing.xxxLarge,";"),g=Object(p.b)("span",{target:"eayh8mm3"})("font-size:14px;font-weight:",d.b.font.weight.semiBold,";"),h=Object(p.b)("span",{target:"eayh8mm4"})("display:inline-block;height:10px;width:10px;"),v=Object(p.b)("span",{target:"eayh8mm5"})("display:flex;justify-content:space-between;"),y=Object(p.b)("div",{target:"eayh8mm6"})("width:5px;height:5px;margin-left:8px;border-left:2px solid ",d.b.color.designSystem.purple70,";border-bottom:2px solid ",d.b.color.designSystem.purple70,";transition:all 0.3s;border-color:",(function(e){return e.collapsed?d.b.color.designSystem.purple70:d.b.color.grey6}),";transform:",(function(e){return e.collapsed?"rotate(-45deg)":"rotate(-225deg)"}),";margin-top:",(function(e){return e.collapsed?"0":"5px"}),";"),x=Object(p.b)("div",{target:"eayh8mm7"})("margin:20px 0;width:calc(100% - ",(function(e){return e.isReply?"20px":"27px"}),");padding:0 ",(function(e){return e.isReply?"20px":"27px"}),";"),E=Object(p.b)("div",{target:"eayh8mm8"})("width:100%;transition:height 0.5s;padding-left:",(function(e){return e.isReply?"45px":"0"}),";"),O=Object(p.b)("div",{target:"eayh8mm9"})("width:100%;float:left;display:",(function(e){return e.commentsCount?"block":"none"}),";"),j=Object(p.b)("div",{target:"eayh8mm10"})("width:calc(100% - ",(function(e){return e.isReply?"45px":"0"}),");"),k=Object(p.b)("div",{target:"eayh8mm11"})("height:22px;"),w=n(6),S=n.n(w),I=n(3),C=n.n(I),T=n(4),R=n.n(T),q=n(5),A=n.n(q),D=n(9),P=n.n(D),z=n(8),F=n.n(z),L=n(2),N=n.n(L),M=n(25),_=n(1682),U=n(1668),B=n(26),H=n.n(B),G=n(43),V=n.n(G),W=n(20),K=n.n(W),Q=n(53),Y=n.n(Q),J=n(52),Z=n.n(J),$=n(51),X=n.n($),ee=n(58),te=n.n(ee),ne=n(60),ae=n.n(ne),re=n(42),ie=n.n(re),oe=n(1),se=n.n(oe),ce=n(248),le=n(1589),ue=n(579),de=n(561),pe=n(861),fe=n(1606),me=n.n(fe),be=n(1617),ge=n.n(be),he=n(1808),ve=n(1819),ye=n(1650),xe={container:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between",flexShrink:0,alignItems:"flex-start"},wrapper:{display:"flex",flexDirection:"row",flexShrink:0},reactionsWrapper:{marginLeft:20,float:"right"},iconButton:{height:"auto",paddingBottom:0,paddingTop:0},iconBackground:{background:d.b.color.beige,borderRadius:"3px"}};function Ee(e){var t=function(){if("undefined"==typeof Reflect||!H.a)return!1;if(H.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(H()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=ie()(e);if(t){var r=ie()(this).constructor;n=H()(a,arguments,r)}else n=a.apply(this,arguments);return ae()(this,n)}}var Oe="edit",je="delete",ke=[{key:Oe,getLabel:function(){return"Edit"},isVisible:function(e){return e.isAuthor},danger:!1},{key:je,getLabel:function(){return"Delete"},isVisible:function(e){var t=e.isAuthor,n=e.isEducator;return t||n},danger:!0}],we=function(e){te()(n,e);var t=Ee(n);function n(e){var a;return Y()(this,n),(a=t.call(this,e)).state={editOpen:!1},a.handleSelectMenuItem=a.handleSelectMenuItem.bind(X()(a)),a.handleOpenEdit=a.handleOpenEdit.bind(X()(a)),a.handleCloseEdit=a.handleCloseEdit.bind(X()(a)),a}return Z()(n,[{key:"handleSelectMenuItem",value:function(e){var t=e.item,n=this.props.handleDelete;switch(t){case Oe:this.handleOpenEdit();break;case je:n()}}},{key:"handleOpenEdit",value:function(){this.setState({editOpen:!0})}},{key:"handleCloseEdit",value:function(){this.setState({editOpen:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.comment,a=t.style,r=t.user,i=t.isEdited,s=t.handleReply,c=t.isReadOnlyUser,l=t.entityId,u=this.state.editOpen,d=ke.filter((function(t){return t.isVisible(e.props)})).length>0?o.a.createElement(le.a,{menuListComponent:"ul",classes:{menu:ye.b},ariaLabelledby:l,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},renderTarget:function(e){var t=e.handleTargetClick;return o.a.createElement(ue.a,{title:"Comment options"},o.a.createElement("div",null,o.a.createElement(de.a,{icon:me.a,size:"xSmall",type:"secondary",label:"Comment options",onClick:t})))},onSelect:this.handleSelectMenuItem,renderChildren:function(t){var n=t.getItemProps,a=t.highlightedIndex;return ke.reduce((function(t,r,i){return r.isVisible(e.props)?[].concat(K()(t),[o.a.createElement(pe.a,V()({key:r.key,className:r.danger?Object(ce.cx)(ye.c,ye.a):ye.c,primaryText:r.getLabel(e.props),highlighted:a===i},n({item:r.key,onClick:function(e){return e.stopPropagation()}})))]):t}),[])}}):null;return o.a.createElement("div",{style:a},o.a.createElement("div",{style:xe.container},o.a.createElement(ve.a,{user:r,time:n.createdAt,isEdited:i}),o.a.createElement("div",{style:xe.wrapper},!c&&o.a.createElement(ue.a,{title:"Reply to comment"},o.a.createElement("div",null,o.a.createElement(de.a,{icon:ge.a,type:"secondary",size:"xSmall",label:"Reply",onClick:s}))),o.a.createElement("div",null,d,o.a.createElement(he.a,{open:u,content:n.content,itemClass:"UBComment",itemId:n.id,onClose:this.handleCloseEdit})))))}}]),n}(o.a.Component);we.propTypes={style:se.a.object,user:se.a.object.isRequired,comment:se.a.object.isRequired,isEducator:se.a.bool.isRequired,isAuthor:se.a.bool.isRequired,handleDelete:se.a.func.isRequired,handleReply:se.a.func.isRequired,isEdited:se.a.bool,entityId:se.a.string.isRequired,sequenceId:se.a.string.isRequired,isReadOnlyUser:se.a.bool.isRequired},we.defaultProps={isEdited:!1,style:{}};var Se=we,Ie=n(24),Ce=n(292),Te=Object(s.b)((function(e,t){var n=Object(Ie.currentUserId)(e);return{isEducator:Object(Ce.b)(n),isAuthor:n===t.comment.author,isReadOnlyUser:Object(M.accessingCurrentSpaceAsStaff)(e)}}))(Se),Re=n(1723),qe=n(1625),Ae=n(1680),De=n(1649),Pe=n(138),ze=n.n(Pe),Fe=n(1601),Le=n(1677),Ne=n(293),Me=n(12),_e=n.n(Me),Ue=n(7),Be=n.n(Ue),He=n(165),Ge=n(531),Ve=n(16),We=n(13),Ke=n(70),Qe=n(342),Ye=n(854);function Je(e,t){var n=S()(e);if(C.a){var a=C()(e);t&&(a=a.filter((function(t){return R()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):A.a?P()(e,A()(n)):Je(Object(n)).forEach((function(t){F()(e,t,R()(n,t))}))}return e}var $e=function(e,t){return{type:We.C,status:e,payload:t}},Xe=function(e,t,n){var a,r=Object(He.useQueryClient)(),i=Qe.a.comments(e,t),o=Object(s.c)();return Object(Ge.a)({url:Object(Ve.r)(),method:"POST"},{onMutate:(a=_e()(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.cancelQueries(i);case 2:o($e("started",{}));case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)}),onSuccess:function(e){var t=e.comment;Object(Ye.a)(r,t),o($e("success",{comment:t})),n&&n()},onError:function(e){o(Object(Ke.b)(e,"createPostError")),o(Ze(Ze({},$e("error",{})),{},{error:e}))}})},et=n(1679),tt=Object(p.b)("div",{target:"e1295net0"})("display:flex;width:100%;min-width:300px;border-radius:",d.b.borderRadius.small,";background-color:",d.b.color.white,";box-sizing:border-box;align-items:center;justify-content:space-around;"),nt=Object(p.b)("div",{target:"e1295net1"})("flex:1;width:100%;min-width:0;padding:5px 20px 5px 12px;border-radius:",d.b.borderRadius.medium,";border:1px solid ",d.b.color.grey3,";"),at=Object(p.b)("div",{target:"e1295net2"})("margin-right:",d.b.spacing.medium,";"),rt=function(e){var t=e.entityId,n=e.entityType,a=e.sessionToken,s=e.accessToken,c=e.spaceId,l=e.institution,u=e.isCreatingComment,d=e.didComment,p=void 0===d?function(){}:d,f=e.user,m=e.parent,b=void 0===m?void 0:m,g=e.root,h=void 0===g?void 0:g,v=e.autoFocus,y=void 0!==v&&v,x=e.ltiProviders,E=e.EditorComponent,O=Object(i.useRef)(),j=Object(i.useState)(!1),k=r()(j,2),w=k[0],S=k[1],I=Object(i.useState)(Fe.e),C=r()(I,2),T=C[0],R=C[1],q=Xe(n,t,(function(){R(Fe.e),p()})).mutate,A=Object(i.useMemo)((function(){return{sessionToken:a,filesUrl:Object(Ve.x)(),apiUrl:Object(Ve.d)(),accessToken:s,spaceId:c,institution:l,userId:f.objectId,ltiProviders:x}}),[a,s,x]),D=Object(et.a)(A),P=Object(i.useCallback)((function(e){R(e)}),[]),z=u||w,F={id:"add-comment",label:"Comment",disabled:Object(Le.a)(T)||!Object(Fe.k)(T)||Object(Fe.l)(T),hideWhenBlurred:!0,onClick:function(){q({content:ze()(T),parent:b,root:h,entityId:t,entityType:n})}};return o.a.createElement(tt,null,o.a.createElement(at,null,o.a.createElement(Ne.a,{size:30,user:f})),o.a.createElement(nt,null,o.a.createElement(E,{ref:O,config:D,editorState:T,placeholder:"Write a comment...",onChange:P,isSubmitting:z,setSubmittingState:S,readOnly:u,actionButton:F,type:"comment",autoFocus:y,isAssignmentsEnabled:!0})))},it=Object(s.b)((function(e){var t=Object(Ie.currentUserId)(e),n=Object(M.currentClassRoomId)(e);return{user:e.user.user,isCreatingComment:e.comment.isCreatingComment,spaceId:n,accessToken:Object(Ie.accessToken)(e,n),sessionToken:e.user.user.sessionToken,institution:e.institution.general.institution,ltiProviders:Object(qe.a)(e),EditorComponent:Object(M.isInstructor)(e,t)?De.a:Ae.a}}))(rt),ot=n(853);function st(e,t){var n=S()(e);if(C.a){var a=C()(e);t&&(a=a.filter((function(t){return R()(e,t).enumerable}))),n.push.apply(n,a)}return n}var ct=function(e,t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):A.a?P()(e,A()(n)):st(Object(n)).forEach((function(t){F()(e,t,R()(n,t))}))}return e}({type:We.D,status:e},t)},lt=function(e){var t,n=e.id,a=e.entityType,r=e.entityId,i=Object(He.useQueryClient)(),o=Qe.a.comments(a,r),c=Object(s.c)();return Object(Ge.a)({url:Object(Ve.q)(n),method:"DELETE"},{onMutate:(t=_e()(Be.a.mark((function e(){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.cancelQueries(o);case 2:c(ct("started",{}));case 3:case"end":return e.stop()}}),e)}))),function(){return t.apply(this,arguments)}),onSuccess:function(){Object(ot.a)(i,e),c(ct("success",{comment:e}))},onError:function(e){c(Object(Ke.b)(e,"deleteComment")),c(ct("error",{error:e}))}})},ut=Object(p.b)("div",{target:"e13j94kb0"})("padding-left:45px;padding-top:13px;"),dt=Object(p.b)("div",{target:"e13j94kb1"})("padding:10px 0 0 45px;"),pt=Object(p.b)("div",{target:"e13j94kb2"})("padding-left:45px;"),ft=Object(p.b)("div",{target:"e13j94kb3"})("width:calc(100% + 66.5px);margin-left:-52.5px;"),mt=Object(p.b)("div",{target:"e13j94kb4"})("margin-bottom:15px;"),bt=Object(p.b)("div",{target:"e13j94kb5"})("padding:5px 0 0 15px;"),gt=Object(p.b)("hr",{target:"e13j94kb6"})("border:0.5px solid ",d.b.color.grey3,";"),ht={height:"auto",overflow:"visible",marginBottom:"10px"};function vt(e,t){var n=S()(e);if(C.a){var a=C()(e);t&&(a=a.filter((function(t){return R()(e,t).enumerable}))),n.push.apply(n,a)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vt(Object(n),!0).forEach((function(t){N()(e,t,n[t])})):A.a?P()(e,A()(n)):vt(Object(n)).forEach((function(t){F()(e,t,R()(n,t))}))}return e}var xt=function(e){var t=e.id,n=e.sequenceId,a=void 0===n?void 0:n,c=e.showComments,l=void 0!==c&&c,u=e.toggleReaction,d=void 0===u?function(){}:u,p=e.rootCommentId,f=void 0===p?void 0:p,m=e.renderBorder,b=void 0!==m&&m,g=e.ReplyContainer,h=void 0===g?function(){}:g,v=Object(i.useState)(""),y=r()(v,2),x=y[0],E=y[1],O=Object(s.d)((function(e){return Object(_.b)(e,t)})),j=Object(s.d)((function(e){return Object(M.accessingCurrentSpaceAsStaff)(e)})),k=O.entityId,w=O.entityType,S=O.content,I=O.user,C=O.root,T=O.replies,R=O.editedAt,q=lt(O).mutate,A=Object(i.useCallback)((function(e){return E(x===e?null:e),null}),[x]);return o.a.createElement(mt,{key:t},o.a.createElement(Te,{sequenceId:a,entityId:k,style:ht,comment:O,user:I,isEdited:!!R,handleReply:function(){return A(t)},handleDelete:q}),o.a.createElement(pt,null,o.a.createElement(ft,null,o.a.createElement(U.a,{rawEditorState:JSON.parse(S),uniqueId:t}))),!j&&o.a.createElement(dt,null,o.a.createElement(Re.a,{sequenceId:a,itemId:t,toggleReaction:function(e){return d(yt(yt({},e),{},{commentId:t}))}})),!C&&o.a.createElement(h,{entityId:k,entityType:w,comments:T,commentsCount:T.length,totalCommentsCount:T.length,showComments:l,toggleReaction:d,rootCommentId:f,onReply:A,showInitialComments:!0,isReply:!0}),!j&&(x?o.a.createElement(ut,null,o.a.createElement(it,{entityId:k,entityType:w,parent:x,root:f,key:x,autoFocus:!0,didComment:function(){return A(x)}})):null),b&&o.a.createElement(bt,null,o.a.createElement(gt,null)))},Et=n(46),Ot=n(44),jt=n(330),kt=function e(t){var n,a,c=t.showInitialComments,d=void 0!==c&&c,p=t.showComments,w=void 0!==p&&p,S=t.isReply,I=void 0!==S&&S,C=t.entityId,T=t.entityType,R=t.rootCommentId,q=void 0===R?void 0:R,A=t.comments,D=t.commentsCount,P=t.spaceId,z=void 0===P?void 0:P,F=Object(s.c)(),L="comments-".concat(Math.round(1e3*Math.random())),N=Object(i.useState)(d?5:0),M=r()(N,2),_=M[0],U=M[1],B=Object(i.useState)(!d),H=r()(B,2),G=H[0],V=H[1],W=Object(i.useState)(!1),K=r()(W,2),Q=K[0],Y=K[1],J=Object(i.useState)(!1),Z=r()(J,2),$=Z[0],X=Z[1],ee=(n={comments:A,showComments:w},a=Object(i.useRef)(),Object(i.useEffect)((function(){a.current=n}),[n]),a.current),te=function(e){var t=e.emojiName,n=e.commentId;return F(jt.b.toggleReaction({emojiName:t,itemId:n,itemType:"UBComment"}))},ne=Object(i.useCallback)((function(){return _>0&&_<A.length?A.slice(Math.max(0,A.length-_)):A}),[_,A]),ae=Object(i.useCallback)((function(){Y(!0),U(A.length),Object(Et.c)(Ot.C,{activeClassroom:z,entityType:T,entityId:C})}),[A]),re=ne(),ie=Object(i.useCallback)((function(e){return!I&&e!==re.length-1}),[I,re]),oe=Object(i.useCallback)((function(){G&&!$?(X(!0),U(5)):ae(),V(!G)}),[G,$]),se=Object(i.useCallback)((function(e){e.keyCode===u.d&&oe()}),[]),ce=Object(i.useCallback)((function(){if(!G&&_<A.length){var e=A.length-_,t=I?"See ".concat(e," previous repl").concat(e>1?"ies":"y"):"See previous comments";return o.a.createElement(x,{isReply:I,onClick:function(){return ae()}},o.a.createElement(m,null,t))}return o.a.createElement(k,null)}),[_,A,I]),le=Object(i.useCallback)((function(){var e=G?g:b,t=G?"Show ".concat(D," comment").concat(D>1?"s":""):"Hide comments";return I?null:o.a.createElement(f,{role:"button",tabIndex:0,"aria-expanded":!G,"aria-controls":L,onClick:oe,onKeyDown:se,collapsed:G},o.a.createElement(v,null,o.a.createElement(e,null,t,o.a.createElement(h,null,o.a.createElement(y,{collapsed:G})))))}),[I,G,D]);return Object(i.useEffect)((function(){w&&oe()}),[]),Object(i.useEffect)((function(){if(ee){var e,t=null==ee||null===(e=ee.comments)||void 0===e?void 0:e.length,n=A.length-t;(null==ee?void 0:ee.showComments)!==w&&0===_&&(U(_+1),Y(!0),V(!1)),_>0&&n>0?(U(_+n),Y(!0),V(!1)):0===n&&Q&&Y(!1)}}),[ee,A,w]),o.a.createElement(E,{isReply:I},o.a.createElement(O,{commentsCount:D},le(),ce(),!G&&o.a.createElement(j,{id:L,isReply:I},o.a.createElement(l.a,{enterAnimation:"fade",key:C,disableAllAnimations:!Q||I},re.map((function(t,n){return o.a.createElement("div",{key:t},o.a.createElement(xt,{sequenceId:"entity-".concat(C,"-comment-").concat(t),key:t,id:t,rootCommentId:q||t,toggleReaction:te,renderBorder:ie(n),ReplyContainer:e}))}))))))},wt=Object(p.b)("div",{target:"e47ybj90"})("width:100%;display:flex;flex-direction:column;align-items:center;justify-content:space-center;"),St=function(e){var t=e.entityId,n=e.entityType,a=e.showInitialComments,c=e.readOnly,l=e.comments,u=Object(i.useState)(!1),d=r()(u,2),p=d[0],f=d[1],m=Object(s.d)((function(e){return Object(M.currentClassRoomId)(e)}));return o.a.createElement(wt,null,o.a.createElement(kt,{entityId:t,entityType:n,showComments:p,showInitialComments:a,comments:l,commentsCount:l.length,spaceId:m}),!c&&o.a.createElement(it,{entityId:t,entityType:n,didComment:function(){return f(!0)}}))};St.defaultProps={showInitialComments:!1};t.a=St},1805:function(e,t,n){"use strict";n.d(t,"a",(function(){return Ft}));var a=n(26),r=n.n(a),i=n(6),o=n.n(i),s=n(3),c=n.n(s),l=n(4),u=n.n(l),d=n(5),p=n.n(d),f=n(9),m=n.n(f),b=n(8),g=n.n(b),h=n(2),v=n.n(h),y=n(43),x=n.n(y),E=n(12),O=n.n(E),j=n(53),k=n.n(j),w=n(52),S=n.n(w),I=n(51),C=n.n(I),T=n(58),R=n.n(T),q=n(60),A=n.n(q),D=n(42),P=n.n(D),z=n(7),F=n.n(z),L=n(0),N=n.n(L),M=n(171),_=n(1),U=n.n(_),B=n(1503),H=n(579),G=n(1606),V=n.n(G),W=n(1589),K=n(1575),Q=n(14),Y=n(1568),J=n(15),Z=n(561),$=Object(Q.a)("width:200px;padding:8px 0;"),X=Object(Q.b)(Y.a,{target:"ewb6kgo0"})("margin-top:8px;margin-bottom:8px;"),ee=Object(Q.b)(Z.a,{target:"ewb6kgo2"})("margin-left:4px;"),te=Object(Q.a)("color:black;");function ne(e){var t=function(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=P()(e);if(t){var i=P()(this).constructor;n=r()(a,arguments,i)}else n=a.apply(this,arguments);return A()(this,n)}}var ae=function(e){R()(n,e);var t=ne(n);function n(){return k()(this,n),t.apply(this,arguments)}return S()(n,[{key:"render",value:function(){var e=this.props,t=e.menuItems,n=e.title;return N.a.createElement(W.a,{classes:{menu:$},menuListComponent:"ul",menuListAttributes:{role:"listbox","aria-label":"Select card action"},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"},renderTarget:function(e){var t=e.handleTargetClick;return N.a.createElement(ee,{icon:V.a,size:"xSmall",label:"Assignment menu",buttonAttributes:{"data-testid":"assignment-".concat(n,"-menu")},onClick:t})},onSelect:function(e){return(0,e.item)()},renderChildren:function(e){var a=e.getItemProps;return t.map((function(e){return e.divider?N.a.createElement(X,{key:e.id}):N.a.createElement(K.a,x()({dense:!0,size:"small",className:e.textClass||te,key:e.id,"data-testid":"menu-item-".concat(n,"-").concat(e.text),leftDecoration:N.a.createElement(e.icon,null),primaryText:e.text},a({item:e.onClick,onClick:function(e){return e.stopPropagation()}})))}))}})}}]),n}(L.PureComponent);ae.propTypes={menuItems:U.a.arrayOf(U.a.object).isRequired,title:U.a.string},ae.defaultProps={title:""};var re=ae,ie=Object(Q.b)("span",{target:"ebmlsjg0"})("border-radius:4px;height:20px;padding:2px 8px;font-size:12px;font-weight:normal;display:inline-flex;align-items:center;justify-content:center;background:",(function(e){return e.background||"rgba(49, 64, 92, 0.08)"}),";color:",(function(e){return e.color||"#31405C"}),";border:",(function(e){var t=e.borderColor;return t?"1px solid ".concat(t):"none"}),";cursor:default;");function oe(e){var t=function(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=P()(e);if(t){var i=P()(this).constructor;n=r()(a,arguments,i)}else n=a.apply(this,arguments);return A()(this,n)}}var se=function(e){R()(n,e);var t=oe(n);function n(){return k()(this,n),t.apply(this,arguments)}return S()(n,[{key:"render",value:function(){var e=this.props,t=e.color,n=e.background,a=e.borderColor,r=e.title,i=e.tooltipText;return N.a.createElement(H.a,{title:i,position:"right",enabled:!!i},N.a.createElement(ie,{color:t,background:n,borderColor:a,href:"#",tabIndex:"0","aria-label":i},r))}}]),n}(L.PureComponent);se.defaultProps={tooltipText:"",color:"",background:"",borderColor:""},se.propTypes={title:U.a.string.isRequired,tooltipText:U.a.string,color:U.a.string,background:U.a.string,borderColor:U.a.string};var ce=se,le=function(e){var t,n=e.type;return N.a.createElement(ce,(t=J.b.color,{upcoming:{title:"Upcoming",color:t.designSystem.blackOpacity60,background:t.designSystem.grey10,borderColor:t.designSystem.blackOpacity12,tooltipText:"This assignment block is visible to students but they cannot access it until the open date."},nearDueDate:{title:"Open",color:t.green,background:t.backgrounds.primary,borderColor:t.designSystem.blackOpacity12,tooltipText:"The assignment is open for submissions."},open:{title:"Open",color:t.black,background:t.backgrounds.primary,borderColor:t.designSystem.blackOpacity12,tooltipText:"The assignment is open for submissions."},pastDueDate:{title:"Past due date",color:t.black,background:t.backgrounds.warning,borderColor:t.designSystem.blackOpacity12,tooltipText:"The due date is past but the assignment is still open for submissions."},closed:{title:"Closed",color:t.designSystem.blackOpacity60,background:t.designSystem.grey10,borderColor:t.designSystem.blackOpacity12,tooltipText:"The assignment is closed and does not accept submissions at this point."},submitted:{title:"Submitted",color:t.green,background:t.backgrounds.primary,borderColor:t.designSystem.blackOpacity12,tooltipText:"Submitted"},submittedLate:{title:"Submitted Late",color:t.orange,background:t.backgrounds.warning,borderColor:t.designSystem.blackOpacity12,tooltipText:"Submitted Late"},notSubmitted:{title:"Not Submitted",color:t.mediumBlue,background:t.backgrounds.default,borderColor:t.designSystem.blackOpacity12,tooltipText:"Not Submitted"},manualAssignment:{title:"Manual assignment",color:t.mediumBlue,background:t.backgrounds.default,borderColor:t.designSystem.blackOpacity12}})[n])};le.propTypes={type:U.a.string.isRequired};var ue=le,de=n(1689),pe=n(1600),fe=n(1733),me=n(1560),be=n(527),ge=n.n(be),he=n(334),ve=n.n(he),ye=Object(Q.b)("li",{target:"e1e1871h0"})("margin-bottom:16px;background:",J.b.color.white,";border-radius:4px;box-shadow:0px 1px 8px rgba(0,0,0,0.2),0px 3px 3px rgba(0,0,0,0.12),0px 3px 4px rgba(0,0,0,0.14);border:1px solid transparent;",(function(e){return e.isDisabled?"\n      cursor: not-allowed;\n    ":"\n    transition : border 200ms ease-out;\n    :hover {\n      border: 1px solid ".concat(J.b.color.grayDark,";\n    };\n  ")})),xe=Object(Q.b)("button",{target:"e1e1871h1"})("padding:",(function(e){return e._dense?"12px 12px 8px":"12px"}),";text-align:left;font-family:",J.b.font.family.workSans,";color:",(function(e){return e.isDisabled?J.b.color.designSystem.blackOpacity60:J.b.color.designSystem.blackOpacity87}),";font-size:20px;font-weight:",J.b.font.weight.semiBold,";letter-spacing:0;line-height:28px;border:none;background:inherit;pointer-events:none;"),Ee=Object(Q.b)("div",{target:"e1e1871h2"})("font-size:14px;line-height:20px;color:",J.b.color.designSystem.blackOpacity60,";padding:12px 12px 0;"),Oe=Object(Q.b)("div",{target:"e1e1871h3"})("padding:",(function(e){return e._dense?"0 12px 12px 12px":"12px"}),";color:",(function(e){return e._grade?J.b.color.green:J.b.color.designSystem.blackOpacity60}),";font-size:14px;height:20px;letter-spacing:0;line-height:20px;"),je=Object(Q.b)("div",{target:"e1e1871h4"})("background:rgba(0,0,0,0.12);height:1px;"),ke=Object(Q.b)("div",{target:"e1e1871h5"})("padding:12px 12px 0 12px;display:flex;align-items:center;"),we=Object(Q.b)(me.a,{target:"e1e1871h6"})("height:24px;padding:0 2px;min-width:auto;min-height:auto;margin-left:4px;"),Se=Object(Q.b)("div",{target:"e1e1871h7"})("display:inline-flex;justify-content:right;margin-left:auto;"),Ie=Object(Q.b)(ge.a,{target:"e1e1871h8"})("color:",J.b.color.designSystem.blackOpacity60,";font-size:20px;"),Ce=Object(Q.b)(me.a,{target:"e1e1871h9"})("color:",J.b.color.designSystem.blackOpacity60,";height:24px;padding:0;min-width:auto;min-height:auto;margin-left:4px;"),Te=Object(Q.b)(me.a,{target:"e1e1871h10"})("color:",J.b.color.designSystem.blackOpacity60,";height:",J.b.spacing.xLarge,";padding:0;min-width:auto;min-height:auto;margin-left:4px;"),Re=Object(Q.b)(ve.a,{target:"e1e1871h11"})("font-size:20px;color:",J.b.color.designSystem.blackOpacity60,";"),qe=Object(Q.b)("div",{target:"e1e1871h12"})("margin-left:4px;"),Ae=(J.b.color.green,J.b.font.weight.medium,Object(Q.b)("a",{target:"e1e1871h14"})("pointer-events:",(function(e){return e.isDisabled?"none":"auto"}),";display:block;")),De=n(1605);function Pe(e){var t=function(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=P()(e);if(t){var i=P()(this).constructor;n=r()(a,arguments,i)}else n=a.apply(this,arguments);return A()(this,n)}}var ze=function(e){R()(n,e);var t=Pe(n);function n(){return k()(this,n),t.apply(this,arguments)}return S()(n,[{key:"render",value:function(){var e=this.props,t=e.isHidden,n=e.status,a=e.title,r=e.startDate,i=e.dueDate,o=e.Logo,s=e.dense,c=e.menuItems,l=e.isSubmitted,u=e.grade,d=e.onContentClick,p=e.isGroupAssignment,f=e.customFooter,m=e.isAnonymised,b=e.parentAssignment,g=e.parentAssignmentId,h=e.isEducator,v=e.provider,y=n===de.a.upcoming?"Open on: ".concat(Object(De.a)(r)," - Due on: ").concat(Object(De.a)(i)):"Due on: ".concat(Object(De.a)(i)),x=u?"Grade - ".concat(u):f||y,E=!h&&v===pe.f&&n===de.a.closed&&!l||!d||!h&&n===de.a.upcoming,O=g&&b?b.title:a,j=g&&a;return N.a.createElement(ye,{isDisabled:E,"data-testid":"assignment-".concat(a)},N.a.createElement(ke,null,o&&N.a.createElement(o,null),n&&N.a.createElement(ue,{type:n}),l&&N.a.createElement(qe,null,N.a.createElement(ue,{type:"submitted"})),p&&N.a.createElement(H.a,{title:"This is a group assignment",position:"top"},N.a.createElement(Ce,null,N.a.createElement(Re,null))),m&&N.a.createElement(H.a,{title:"This assignment is anonymised",position:"top"},N.a.createElement(Te,null,N.a.createElement(fe.a,null))),t&&N.a.createElement(H.a,{title:"This assignment is hidden from students",position:"top"},N.a.createElement(we,null,N.a.createElement(Ie,null))),N.a.createElement(Se,null,c&&c.length>0&&N.a.createElement("div",null,N.a.createElement(re,{title:a,isHidden:t,placement:"bottom-end",menuItems:c})))),N.a.createElement(Ae,{isDisabled:E,onClick:d},j&&N.a.createElement(Ee,null,j),N.a.createElement(xe,{isDisabled:E,_dense:s},O)),!s&&N.a.createElement(je,null),N.a.createElement(Oe,{_grade:u,_dense:s},x))}}]),n}(L.PureComponent);ze.propTypes={Logo:U.a.func,isHidden:U.a.bool,isAnonymised:U.a.bool,dense:U.a.bool.isRequired,status:U.a.string.isRequired,title:U.a.string.isRequired,startDate:U.a.string.isRequired,dueDate:U.a.string.isRequired,menuItems:U.a.arrayOf(U.a.object),isSubmitted:U.a.bool,grade:U.a.string,onContentClick:U.a.func,isGroupAssignment:U.a.bool,customFooter:U.a.string,parentAssignmentId:U.a.string,parentAssignment:U.a.shape({title:U.a.string}),isEducator:U.a.bool.isRequired,provider:U.a.arrayOf(U.a.shape(["hand-in","handin","turnitin","quizzes"])).isRequired},ze.defaultProps={Logo:null,menuItems:[],isSubmitted:!1,isHidden:!1,isAnonymised:!1,grade:"",onContentClick:void 0,isGroupAssignment:!1,customFooter:void 0,parentAssignment:void 0,parentAssignmentId:void 0};var Fe=ze,Le=n(1626),Ne=n.n(Le),Me=n(529),_e=n.n(Me),Ue=n(677),Be=n.n(Ue),He=n(1691),Ge=n.n(He),Ve=n(1692),We=n.n(Ve),Ke=n(678),Qe=n.n(Ke),Ye=n(1693),Je=n.n(Ye),Ze=Object(Q.b)("div",{target:"emwee8v0"})("width:100%;background:transparent;padding:0 16px;box-sizing:border-box;min-height:100%;"),$e=Object(Q.b)("div",{target:"emwee8v1"})("height:100%;max-width:calc(584px + ",J.b.spacing.medium," + ",J.b.spacing.medium,");"),Xe=Object(Q.b)("img",{target:"emwee8v2"})("margin-right:8px;"),et=Object(Q.b)("div",{target:"emwee8v3"})("margin-top:24px;display:flex;justify-content:center;align-items:center;"),tt=Object(Q.a)("color:#cf0019;"),nt=Object(Q.a)("width:20px;height:20px;"),at=Object(Q.b)(Ne.a,{target:"emwee8v4"})(nt,";color:",J.b.color.grayDark,";"),rt=Object(Q.b)(ge.a,{target:"emwee8v5"})(nt,";color:",J.b.color.grayDark,";"),it=Object(Q.b)(_e.a,{target:"emwee8v6"})(nt,";color:",J.b.color.grayDark,";"),ot=Object(Q.b)(Ge.a,{target:"emwee8v7"})(nt,";color:",J.b.color.grayDark,";"),st=Object(Q.b)(We.a,{target:"emwee8v8"})(nt,";color:",J.b.color.grayDark,";"),ct=Object(Q.b)(Qe.a,{target:"emwee8v9"})(nt,";color:",J.b.color.grayDark,";"),lt=Object(Q.b)(Je.a,{target:"emwee8v10"})(nt,";color:",J.b.color.grayDark,";"),ut=Object(Q.b)(Be.a,{target:"emwee8v11"})(nt,";color:#cf0019;"),dt=Object(Q.b)("div",{target:"emwee8v12"})("height:489px;display:flex;justify-content:center;align-items:center;flex-direction:column;"),pt=Object(Q.b)("div",{target:"emwee8v13"})("height:372px;width:484px;background:white;border:1px solid ",J.b.color.gray,";display:flex;justify-content:center;align-items:center;flex-direction:column;"),ft=Object(Q.b)("img",{target:"emwee8v14"})("border-radius:50%;background:white;margin-bottom:20px;"),mt=Object(Q.b)("div",{target:"emwee8v15"})("color:",J.b.color.mediumBlue,";font-size:20px;font-weight:",J.b.font.weight.bold,";text-align:center;line-height:28px;margin-bottom:8px;"),bt=Object(Q.b)("div",{target:"emwee8v16"})("color:",J.b.color.grayDark,";font-size:16px;text-align:center;line-height:24px;"),gt=n(1768),ht=n(83),vt=function(e){var t=e.assignmentId,n=e.spaceId;window.open("https://success.".concat(Object(ht.b)().getState().institution.general.institution,".aula.education/").concat(n,"/assignment/").concat(t),"_blank")},yt=n(1726),xt=n(1654),Et=n.n(xt),Ot=n(1653),jt=n.n(Ot),kt=n(1655),wt=n.n(kt),St=n(1769),It=n.n(St),Ct=n(329),Tt=n(290),Rt=n(79),qt=n(198);function At(e,t){var n=o()(e);if(c.a){var a=c()(e);t&&(a=a.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):p.a?m()(e,p()(n)):At(Object(n)).forEach((function(t){g()(e,t,u()(n,t))}))}return e}function Pt(e){var t=function(){if("undefined"==typeof Reflect||!r.a)return!1;if(r.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=P()(e);if(t){var i=P()(this).constructor;n=r()(a,arguments,i)}else n=a.apply(this,arguments);return A()(this,n)}}var zt={"hand-in":{title:"Handin",image:Et.a},handin:{title:"Handin",image:Et.a},turnitin:{title:"Turnitin",image:jt.a},quizzes:{title:"Quizzes",image:wt.a}},Ft=function(e){return function(){return N.a.createElement(Xe,{width:"24px",height:"24px",src:e,alt:"assignment"})}},Lt=function(e){R()(a,e);var t,n=Pt(a);function a(e){var t;return k()(this,a),(t=n.call(this,e)).state={turnitinLaunch:null,deleteDialogOpen:!1,assignment:null,isDeleting:!1},t.launchAssignment=t.launchAssignment.bind(C()(t)),t.exportGrades=t.exportGrades.bind(C()(t)),t.launchTurnitin=t.launchTurnitin.bind(C()(t)),t.renderEmpty=t.renderEmpty.bind(C()(t)),t.renderAssignmentCard=t.renderAssignmentCard.bind(C()(t)),t.renderList=t.renderList.bind(C()(t)),t.renderErrorState=t.renderErrorState.bind(C()(t)),t.renderContent=t.renderContent.bind(C()(t)),t.renderManualAssignment=t.renderManualAssignment.bind(C()(t)),t.closeTurnItIn=t.closeTurnItIn.bind(C()(t)),t.openDeleteDialog=t.openDeleteDialog.bind(C()(t)),t.closeDeleteDialog=t.closeDeleteDialog.bind(C()(t)),t.confirmDeleteDialog=t.confirmDeleteDialog.bind(C()(t)),t.handleDeleteAssignment=t.handleDeleteAssignment.bind(C()(t)),t}return S()(a,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){return e.forceUpdate()}),3e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getVisibilityMenuItem",value:function(e){var t=this.props,n=t.user,a=t.selectedSpace,r=t.unhideAssignment,i=t.hideAssignment;return t.isEducator?e.isHidden?{id:"show-assignment",text:"Show assignment",icon:at,onClick:function(){return r(n,a.objectId,e)}}:{id:"hide-assignment",text:"Hide assignment",icon:rt,onClick:function(){return i(n,a.objectId,e)}}:null}},{key:"getToggleCloseMenuItem",value:function(e){var t=e.status,n=e.assignment,a=this.props,r=a.user,i=a.selectedSpace.objectId,o=a.closeAssignment,s=a.reopenAssignment;return a.isEducator&&n.provider===pe.c?t===de.a.closed?{id:"re-open",text:"Re-open",onClick:function(){return s(r,i,n)},icon:st}:{id:"close",text:"Close",onClick:function(){return o(r,i,n)},icon:ot}:null}},{key:"getToggleAnonymizeMenuItem",value:function(e){var t=this.props,n=t.user,a=t.selectedSpace.objectId,r=t.anonymiseStudents,i=t.revealStudents;return t.isEducator&&e.provider===pe.c?e.extensions&&e.extensions.length>0?null:e.isAnonymised?{id:"reveal-students",text:"Reveal students",onClick:function(){return i(n,a,e)},icon:ct}:{id:"anonymise-students",text:"Anonymise students",onClick:function(){return r(n,a,e)},icon:ct}:null}},{key:"launchAssignment",value:function(e){var t=this.props,n=t.selectedSpace.objectId,a=t.goToSubmissions,r=t.isEducator,i=t.accessingAsStaff,o=t.goToQuizzes,s=t.goToReports;if(r||i)a({spaceId:n,assignmentId:e.id?e.id:e.objectId});else switch(e.provider){case pe.c:Object(gt.a)({assignmentId:e.externalId,spaceId:e.classRoom?e.classRoom.objectId:n});break;case pe.h:this.launchTurnitin(e);break;case pe.f:if(e.submission){new Date>new Date(e.endDate)&&s({assignmentId:e.id,spaceId:n,submissionId:e.submission[0].objectId,reportType:"feedback"});break}o({spaceId:n,assignmentId:e.id?e.id:e.objectId})}}},{key:"exportGrades",value:function(e){var t=this;return function(){var n=t.props,a=n.selectedSpace,r=n.exportGrades,i=e.classRoom,o=i?i.objectId:a.objectId;r({assignment:e,spaceId:o})}}},{key:"launchTurnitin",value:function(e){this.setState({turnitinLaunch:e})}},{key:"closeTurnItIn",value:function(){this.setState({turnitinLaunch:null})}},{key:"openDeleteDialog",value:function(e){this.setState({deleteDialogOpen:!0,assignment:e})}},{key:"closeDeleteDialog",value:function(){this.setState({deleteDialogOpen:!1,assignment:null})}},{key:"handleDeleteAssignment",value:(t=O()(F.a.mark((function e(t){var n,a,r,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props,a=n.user,r=n.selectedSpace.objectId,i=n.deleteAssignment,this.setState({isDeleting:!0}),e.next=4,i(a,r,t);case 4:this.setState({isDeleting:!1}),this.closeDeleteDialog();case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"confirmDeleteDialog",value:function(){var e=this,t=this.state,n=t.deleteDialogOpen,a=t.assignment,r=t.isDeleting;return n?N.a.createElement(Tt.a,{id:"confirm-delete-assignment",title:"Delete assignment",message:Rt.Hb,open:n,onClose:this.closeDeleteDialog,action:{label:"Delete",onClick:function(){return e.handleDeleteAssignment(a)},danger:!0,loading:r},secondaryAction:{label:"Cancel",onClick:this.closeDeleteDialog}}):null}},{key:"renderLoader",value:function(){return N.a.createElement(Ze,null,N.a.createElement(et,null,N.a.createElement(qt.a,{size:"24px"})))}},{key:"renderEmpty",value:function(){var e=this.props,t=e.assignments,n=e.searchQuery;if(!t.length){var a=n?"Oops! No matches":"No assignments",r=n?"No assignment in your search match any assignments.":"This space contains no assignments currently.";return N.a.createElement(dt,null,N.a.createElement(pt,null,N.a.createElement(ft,{width:"220px",height:"220px",src:It.a,alt:"no_assignments"}),N.a.createElement(mt,{tabIndex:"-1","aria-live":"polite"},a),N.a.createElement(bt,null,r)))}return null}},{key:"renderErrorState",value:function(){if(this.props.isErrored){return N.a.createElement(dt,null,N.a.createElement(pt,null,N.a.createElement(mt,null,"Unable to fetch assignments"),N.a.createElement(bt,null,"Refresh the page to try again!")))}return null}},{key:"renderManualAssignment",value:function(e){var t=this.props,n=t.isEducator,a=t.selectedSpace.objectId,r=e.gradeType,i=e.submission,o="".concat(pe.i[r]," grading"),s=n?function(){return vt({assignmentId:e.id,spaceId:a})}:void 0,c=i&&i.length?i[0].displayGrade:void 0;return N.a.createElement(Fe,x()({},e,{dueDate:e.endDate,key:e.id,status:"manualAssignment",isEducator:n,dense:!0,onContentClick:s,customFooter:o,grade:c}))}},{key:"renderAssignmentCard",value:function(e){var t=this,n=this.props,a=n.onEditAssignment,r=n.isEducator,i=n.accessingAsStaff;if(e.provider===pe.d)return this.renderManualAssignment(e);var o=zt[e.provider];if(!o)return null;var s,c=Ft(o.image),l=Object(de.c)(e),u=[this.getVisibilityMenuItem(e),r&&{id:"edit",text:"Edit",onClick:function(){return a(e)},icon:it},(r||i)&&{id:"export-grades",text:"Export grades",onClick:this.exportGrades(e),icon:lt},this.getToggleCloseMenuItem({assignment:e,status:l}),this.getToggleAnonymizeMenuItem(e),r&&{id:"delete",text:"Delete",onClick:function(){return t.openDeleteDialog(e)},icon:ut,textClass:tt}].filter((function(e){return!!e}));return N.a.createElement(Fe,x()({},e,{dueDate:e.endDate,key:e.objectId,provider:e.provider,status:l,isEducator:r,dense:!0,menuItems:u,Logo:c},Object(de.b)(r,e),{onContentClick:function(){return t.launchAssignment(e)},isGroupAssignment:(s=e,!!s.groupSet)}))}},{key:"renderList",value:function(){var e=this.props,t=e.user,n=e.selectedSpace,a=e.assignments,r=e.isEducator,i=this.state.turnitinLaunch;return a.length?N.a.createElement(B.a,{"data-testid":"assignment-list"},N.a.createElement("span",{"aria-live":"polite",style:Dt({},Object(M.a)())},"".concat(a.length," assignments found")),a.map(this.renderAssignmentCard),i&&N.a.createElement(yt.a,{key:i,user:t,assignment:i,space:n,isEducator:r,onClose:this.closeTurnItIn})):null}},{key:"renderContent",value:function(){var e=this.props,t=e.isFetching,n=e.isErrored,a=e.assignments,r=e.hasFetchedAssignments;return t&&!r?this.renderLoader():n?this.renderErrorState():a.length?this.renderList():this.renderEmpty()}},{key:"render",value:function(){return this.props.accessToken?N.a.createElement($e,null,N.a.createElement(Ct.a,{autoHide:!0,style:{height:"100%"}},N.a.createElement(Ze,null,this.renderContent()),this.confirmDeleteDialog())):this.renderLoader()}}]),a}(L.PureComponent);Lt.propTypes={user:U.a.object.isRequired,assignments:U.a.array,isFetching:U.a.bool,hasFetchedAssignments:U.a.bool,isErrored:U.a.bool,searchQuery:U.a.string,selectedSpace:U.a.object,isEducator:U.a.bool.isRequired,accessingAsStaff:U.a.bool.isRequired,unhideAssignment:U.a.func.isRequired,hideAssignment:U.a.func.isRequired,closeAssignment:U.a.func.isRequired,reopenAssignment:U.a.func.isRequired,anonymiseStudents:U.a.func.isRequired,revealStudents:U.a.func.isRequired,deleteAssignment:U.a.func.isRequired,exportGrades:U.a.func.isRequired,goToSubmissions:U.a.func.isRequired,goToQuizzes:U.a.func.isRequired,onEditAssignment:U.a.func.isRequired,accessToken:U.a.string,goToReports:U.a.func.isRequired},Lt.defaultProps={selectedSpace:{},isFetching:!1,hasFetchedAssignments:!1,isErrored:!1,assignments:[],searchQuery:null,accessToken:void 0};t.b=Lt},1806:function(e,t,n){"use strict";n.d(t,"a",(function(){return Z}));var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(43),g=n.n(b),h=n(2),v=n.n(h),y=n(50),x=n.n(y),E=n(0),O=n.n(E),j=n(1),k=n.n(j),w=n(379),S=n(1687),I=n(15),C=n(198),T=n(14),R=n(520),q=n(1674),A=["size"],D=Object(T.b)(R.a,{target:"ebpcp6j0"})("padding-top:8px;padding-bottom:8px;position:absolute;z-index:1;left:0;right:0;"),P=Object(T.b)((function(e){e.size;var t=x()(e,A);return O.a.createElement(q.a,g()({component:"div"},t))}),{target:"ebpcp6j1"})("font-size:14px;font-weight:500;display:flex;flex-direction:row;align-items:center;",(function(e){return"medium"===e.size?"\n        height: 45px;\n        padding: 0;\n      ":"\n        height: 32px;\n        padding: 0px 8px;\n      "}),"};"),z=Object(T.b)("div",{target:"ebpcp6j2"})("display:block;margin:0 auto;margin-top:",I.b.spacing.xxSmall,";margin-bottom:",I.b.spacing.xxSmall,";"),F=function(e){var t=e.size,n=e.isOpen,a=e.dataset,r=e.inputValue,i=e.highlightedIndex,o=e.getItemProps,s=e.SuggestionItem,c=e.isFetching,l=e.greyedOutUsers,u=r.trim();if(!n||0===u.length)return null;return O.a.createElement(D,null,c?O.a.createElement(z,null,O.a.createElement(C.a,{size:20})):a.map((function(e,n){return O.a.createElement(P,g()({key:e.objectId||e.id,selected:n===i,suggestion:e,size:t},(a=e.id,l.includes(a)?{}:o({item:e,style:{backgroundColor:n===i?I.b.color.beige:I.b.color.white}}))),s?O.a.createElement(s,{suggestion:e}):e.label);var a})))};F.propTypes={isOpen:k.a.bool.isRequired,dataset:k.a.arrayOf(k.a.shape({id:k.a.string,label:k.a.string}).isRequired).isRequired,inputValue:k.a.string.isRequired,highlightedIndex:k.a.number,getItemProps:k.a.func.isRequired,SuggestionItem:k.a.elementType,isFetching:k.a.bool.isRequired,size:k.a.string,greyedOutUsers:k.a.arrayOf(k.a.string)},F.defaultProps={SuggestionItem:null,highlightedIndex:-1,size:"small",greyedOutUsers:[]};var L=F,N=Object(T.b)("div",{target:"e6pbb9z0"})("display:flex;flex:1;"),M=Object(T.b)("div",{target:"e6pbb9z1"})("flex-grow:1;position:relative;"),_=["onBlur","onFocus","InputProps","ref"];function U(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?U(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):u.a?p()(e,u()(n)):U(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var H=function(e){return e?e.label:""},G=function(e){var t=e.id,n=e.placeholder,a=e.hideLabel,r=e.dataset,i=e.SuggestionItem,o=e.onItemSelect,s=e.onInputChange,c=e.isFetching,l=e.isDisabled,u=e.suggestionItemSize,d=e.InputStartAdornment,p=e.greyedOutUsers,f=Object(E.useRef)(null),m="".concat(t,"-input"),b="autocomplete-".concat(Math.round(1e3*Math.random()));return O.a.createElement(N,{id:b},O.a.createElement(w.a,{ref:f,id:t,inputId:m,labelId:b,itemToString:H,onSelect:function(e){e&&(f.current.clearSelection(),o(e))},onInputValueChange:s},(function(e){var t=e.getRootProps,o=e.getInputProps,s=e.getItemProps,f=e.getLabelProps,b=e.getMenuProps,h=e.highlightedIndex,v=e.isOpen,y=e.inputValue,E=o({placeholder:n}),j=E.onBlur,k=E.onFocus,w=E.InputProps,I=E.ref,C=x()(E,_),T=O.a.createElement(S.a,g()({InputProps:B({onBlur:j,onFocus:k,inputRef:I},w),startAdornment:d,disabled:l,InputLabelProps:f({shrink:!0}),label:!a&&n},C,{id:m}));return O.a.createElement(M,t({refKey:"innerRef"}),T,O.a.createElement("div",g()({"aria-live":"polite"},b()),O.a.createElement(L,{dataset:r,inputValue:y,getItemProps:s,isOpen:v,highlightedIndex:h,SuggestionItem:i,isFetching:c,size:u,greyedOutUsers:p})))})))};G.propTypes={id:k.a.string.isRequired,placeholder:k.a.string.isRequired,dataset:k.a.arrayOf(k.a.shape({id:k.a.string,label:k.a.string}).isRequired).isRequired,onInputChange:k.a.func.isRequired,onItemSelect:k.a.func.isRequired,SuggestionItem:k.a.elementType,isFetching:k.a.bool.isRequired,isDisabled:k.a.bool,suggestionItemSize:k.a.string,greyedOutUsers:k.a.arrayOf(k.a.string),hideLabel:k.a.bool,InputStartAdornment:k.a.object},G.defaultProps={SuggestionItem:null,suggestionItemSize:"small",greyedOutUsers:[],hideLabel:!0,isDisabled:!1,InputStartAdornment:null};var V=G,W=n(1544),K=Object(T.b)("div",{target:"e4najyl0"})("padding-left:8px;font-weight:500;"),Q=Object(T.b)("span",{target:"e4najyl1"})("color:",I.b.color.secondary,";"),Y=K,J=function(e){var t=e.suggestion,n=t.label,a=t.avatar,r=t.isEducator?O.a.createElement(O.a.Fragment,null,O.a.createElement("span",null," - "),O.a.createElement(Q,null,"Educator")):null;return O.a.createElement(O.a.Fragment,null,O.a.createElement(W.a,{size:"small",name:n,src:a}),O.a.createElement(Y,null,n,r))};J.propTypes={suggestion:k.a.shape({label:k.a.string,avatar:k.a.string,isEducator:k.a.bool}).isRequired};var Z=J;t.b=V},1808:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n.n(i),s=n(3),c=n.n(s),l=n(4),u=n.n(l),d=n(5),p=n.n(d),f=n(9),m=n.n(f),b=n(8),g=n.n(b),h=n(2),v=n.n(h),y=n(6),x=n.n(y),E=n(138),O=n.n(E),j=n(49),k=n.n(j),w=n(35),S=n(81),I=n(254),C=n(12),T=n.n(C),R=n(7),q=n.n(R),A=n(70),D=n(13),P=n(16),z=n(55),F=n(216);function L(e,t){var n=x()(e);if(c.a){var a=c()(e);t&&(a=a.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):p.a?m()(e,p()(n)):L(Object(n)).forEach((function(t){g()(e,t,u()(n,t))}))}return e}var M=function(){var e=T()(q.a.mark((function e(t){var n,a,r,i;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commentId,a=t.content,e.next=3,Object(z.a)({method:"put",url:Object(P.q)(n),data:{content:a}});case 3:return r=e.sent,i=r.data.comment,e.abrupt("return",N(N({},i),{},{user:Object(F.a)(i.user)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){e({type:D.E,status:"started"})},U=function(e,t){t({type:D.E,status:"success",comment:e})},B=function(e,t){t(Object(A.b)(e,"editComment")),t({type:D.E,status:"error",error:e})},H=function(e,t){return function(){var n=T()(q.a.mark((function n(a){var r,i;return q.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t&&e){n.next=3;break}return r={message:"You need to provide the comment's object id and content"},n.abrupt("return",B(r,a));case 3:return _(a),n.prev=4,n.next=7,M({commentId:t,content:e});case 7:return i=n.sent,n.abrupt("return",U(i,a));case 11:return n.prev=11,n.t0=n.catch(4),n.abrupt("return",B(n.t0,a));case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(e){return n.apply(this,arguments)}}()},G=n(248),V=n(45),W=n.n(V),K=n(95),Q=n(1601),Y=n(290),J=n(14),Z={editorWrapper:{color:"black",marginLeft:50,marginRight:50}},$=Object(J.a)("overflow-y:hidden;"),X=n(1677),ee=n(1752),te={UBInboxMessage:"message",UBComment:"comment",UBClassRoomPost:"post"},ne=Object(a.forwardRef)((function(e,t){var n=e.isSavingPost,i=e.content,o=e.itemClass,s=e.open,c=e.onClose,l=e.updateContent,u=e.editorConfig,d=e.EditorComponent,p=t,f=JSON.parse(i),m=Object(a.useState)(!1),b=W()(m,2),g=b[0],h=b[1],v=Object(a.useState)(""),y=W()(v,2),x=y[0],E=y[1],O=Object(a.useState)(!1),j=W()(O,2),k=j[0],w=j[1],S=Object(a.useState)(f),I=W()(S,2),C=I[0],R=I[1],A=Object(a.useState)(!0),D=W()(A,2),P=D[0],z=D[1],F=n||g||k,L=function(){return c()},N=Object(a.useCallback)((function(e){R(e),h(Object(Q.l)(e)),z(!Object(X.a)(e)&&Object(Q.k)(e)&&!Object(Q.l)(e))}),[R,h,z]),M=function(){var e=T()(q.a.mark((function e(){return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),e.prev=1,e.next=4,l(C);case 4:E("The post has been saved"),setTimeout((function(){w(!1),E(""),L()}),1e3),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),E("The post has not been saved"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),_="UBClassRoomPost"===o?ee.a:[],U="UBClassRoomPost"===o?"post":null,B="message"===te[o]?"inbox":te[o];return r.a.createElement(Y.e,{id:"edit-content-modal",open:s,onClose:L,maxWidth:"md",classes:{root:$,paperScrollPaper:$},disableEnforceFocus:!0},r.a.createElement(Y.d,{id:"edit-content-modal-dialogtitle",onClose:L},"Edit ".concat(te[o])),r.a.createElement(Y.c,null,r.a.createElement("div",{style:Z.editorWrapper},s?r.a.createElement(d,{ref:p,config:u,editorState:C,onChange:N,isSubmitting:F,setSubmittingState:h,isAssignmentsEnabled:!0,templates:_,contentType:U,type:B}):null)),r.a.createElement(Y.b,{primary:{label:"Save",onClick:M,loading:k,disabled:k||!P},secondary:{label:"Cancel",onClick:L}}),r.a.createElement("div",{className:Object(G.css)([K.a.visuallyHidden()]),"aria-live":"polite",role:"status"},x))}));ne.propTypes={open:o.a.bool.isRequired,onClose:o.a.func.isRequired,updateContent:o.a.func.isRequired,content:o.a.string.isRequired,itemClass:o.a.string.isRequired};var ae=ne,re=n(25),ie=n(1649),oe=n(1680),se=n(24),ce=n(1753);function le(e,t){var n=x()(e);if(c.a){var a=c()(e);t&&(a=a.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,a)}return n}var ue=Object(S.a)((function(e){return e.data.classRooms}),(function(e){return x()(e).map((function(t){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){v()(e,t,n[t])})):p.a?m()(e,p()(n)):le(Object(n)).forEach((function(t){g()(e,t,u()(n,t))}))}return e}({},e[t])}))})),de=Object(w.b)((function(e){var t=Object(se.currentUserId)(e),n=Object(re.isInstructor)(e,t);return{classRooms:ue(e),isSaving:!1,editorConfig:Object(ce.a)(e),EditorComponent:n?ie.a:oe.a}}),(function(e,t){return{updateContent:function(n){var a;return"UBClassRoomPost"===t.itemClass?a=e(Object(I.b)({postId:t.itemId,content:O()(n)})):"UBComment"===t.itemClass&&(a=e(H(O()(n),t.itemId))),a||k.a.error()}}}))(ae),pe=function(e){var t=e.itemClass,n=e.onClose,a=e.content,i=e.open,o=e.itemId;return r.a.createElement(de,{open:i,content:a,itemClass:t,itemId:o,onClose:n})};pe.propTypes={itemClass:i.string.isRequired,onClose:i.func.isRequired,content:i.string.isRequired,open:i.bool.isRequired,itemId:i.string.isRequired};t.a=pe},1810:function(e,t,n){"use strict";var a=n(43),r=n.n(a),i=n(50),o=n.n(i),s=n(45),c=n.n(s),l=n(0),u=n.n(l),d=n(1),p=n.n(d),f=n(290),m=n(1619),b=n(432),g=n.n(b),h=n(14),v=n(15),y=v.b.color.designSystem,x=v.b.font,E=v.b.spacing,O=v.b.borderRadius,j={color:y.blackOpacity60,height:"22px",marginRight:"14px",width:"22px"},k=Object(h.b)("div",{target:"e1q6lil80"})("background:",y.background.light.warning,";border:1px solid #f1c21b;border-radius:",O.medium,";color:",y.blackOpacity87,";font-size:",x.size.small,";display:flex;line-height:",x.lineHeight.small,";margin-top:",E.medium,";padding:",E.xSmall," ",E.small,";"),w=Object(h.b)("div",{target:"e1q6lil81"})("display:flex;flex-direction:column;"),S=function(e){var t=e.children;return u.a.createElement(k,null,u.a.createElement(g.a,{style:j}),u.a.createElement(w,null,t))};S.propTypes={children:p.a.oneOfType([p.a.string,p.a.node]).isRequired};var I=S,C=Object(h.b)("div",{target:"e1rd0y9m0"})("padding-left:24px;padding-right:24px;"),T=["open","onClose"],R=function(e){var t=e.addingTitle,n=e.onAddTitle,a=e.onClose,r=Object(l.useState)(""),i=c()(r,2),o=i[0],s=i[1];return u.a.createElement(u.a.Fragment,null,u.a.createElement(f.d,{id:"add-item-title-dialogtitle",onClose:a},"Add item title"),u.a.createElement(f.c,null,u.a.createElement(C,null,u.a.createElement(I,null,"You need to add an item title to save this item.")),u.a.createElement(m.c,null,u.a.createElement(m.b,{"data-testid":"add-item-title-row"},u.a.createElement(m.e,{name:"add-item-title-name",label:"Item title",value:o,onChange:function(e){return s(e.target.value)}})))),u.a.createElement(f.b,{primary:{label:"Add item title",disabled:0===o.length,onClick:function(){return n(o)},loading:t,htmlAttributes:{"data-testid":"add-item-title-save"}},secondary:{label:"Cancel",onClick:a}}))};R.propTypes={onAddTitle:p.a.func.isRequired,addingTitle:p.a.bool.isRequired,onClose:p.a.func.isRequired};var q=function(e){var t=e.open,n=e.onClose,a=o()(e,T);return u.a.createElement(f.e,{id:"add-item-title","data-testid":"add-item-title",open:t,onClose:n},u.a.createElement(R,r()({onClose:n},a)))};q.propTypes={open:p.a.bool.isRequired,onClose:p.a.func.isRequired};t.a=q},1812:function(e,t,n){"use strict";var a,r=n(35),i=n(26),o=n.n(i),s=n(43),c=n.n(s),l=n(20),u=n.n(l),d=n(53),p=n.n(d),f=n(52),m=n.n(f),b=n(51),g=n.n(b),h=n(58),v=n.n(h),y=n(60),x=n.n(y),E=n(42),O=n.n(E),j=n(0),k=n.n(j),w=n(1),S=n.n(w),I=n(199),C=n.n(I),T=n(248),R=n(675),q=n.n(R),A=n(1589),D=n(579),P=n(561),z=n(861),F=n(1606),L=n.n(F),N=n(47),M=n(1808),_=n(1819),U=n(532),B=n(1813),H=n(102),G=n(79),V={container:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-between"},rightContainer:{position:"relative",display:"flex",flexDirection:"column",alignItems:"flex-end",flexShrink:0},addTag:{marginTop:4},optionsContainer:{marginLeft:8}},W=n(1650),K=n(290),Q=n(1754);function Y(e){var t=function(){if("undefined"==typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=O()(e);if(t){var r=O()(this).constructor;n=o()(a,arguments,r)}else n=a.apply(this,arguments);return x()(this,n)}}var J="open",Z="edit",$="makeImportant",X="delete",ee=[{key:J,getLabel:function(){return"Open"},isVisible:function(){return!0},danger:!1},{key:Z,getLabel:function(){return"Edit"},isVisible:function(e){var t=e.isAuthor;return!e.isReadOnlyUser&&t},danger:!1},{key:$,getLabel:function(e){return e.post.important?G.Eb:G.W},isVisible:function(e){var t=e.isEducator,n=e.post;return t&&(!n.scheduledFor||!!n.publishedAt)},danger:!1},{key:X,getLabel:function(){return"Delete"},isVisible:function(e){var t=e.isAuthor,n=e.isEducator;return!e.isReadOnlyUser&&(t||n)},danger:!0}],te=C()(a=function(e){v()(n,e);var t=Y(n);function n(e){var a;return p()(this,n),(a=t.call(this,e)).moreIconBtnRef=k.a.createRef(),a.state={editOpen:!1,addTagPressed:!1,deleteDialogOpen:!1},a.handleImportantPost=a.handleImportantPost.bind(g()(a)),a.handleSelectMenuItem=a.handleSelectMenuItem.bind(g()(a)),a.handleSelectMenuItemThrottled=q()(a.handleSelectMenuItem,250),a.openDeleteDialog=a.openDeleteDialog.bind(g()(a)),a.closeDeleteDialog=a.closeDeleteDialog.bind(g()(a)),a.deletePost=a.deletePost.bind(g()(a)),a.handleAddTag=a.handleAddTag.bind(g()(a)),a.changeEditOpen=a.changeEditOpen.bind(g()(a)),a.menuCollapse=a.menuCollapse.bind(g()(a)),a.openPost=a.openPost.bind(g()(a)),a.openSchedulePost=a.openSchedulePost.bind(g()(a)),a.publishPost=a.publishPost.bind(g()(a)),a.scheduledPostItems=[{label:"Change scheduled time",action:a.openSchedulePost},{label:"Publish now",action:a.publishPost}],a}return m()(n,[{key:"handleImportantPost",value:function(){var e=this.props,t=e.post,n=t.objectId,a=t.important,r=e.handleSetImportant,i=e.handleUnsetImportant;a?i(n):r(n)}},{key:"handleSelectMenuItem",value:function(e){var t=e.item;if(!this.props.isUpdatingPost)switch(t){case J:this.openPost();break;case Z:this.changeEditOpen();break;case $:this.handleImportantPost();break;case X:this.openDeleteDialog()}}},{key:"openDeleteDialog",value:function(){this.setState({deleteDialogOpen:!0})}},{key:"closeDeleteDialog",value:function(){this.setState({deleteDialogOpen:!1})}},{key:"openPost",value:function(){var e=this.props.post,t=e.objectId,n=e.classRoom;Object(N.a)("/dashboard/".concat(n,"/community/post/").concat(t))}},{key:"deletePost",value:function(){var e=this.props,t=e.post.objectId;(0,e.handleDelete)(t),this.closeDeleteDialog()}},{key:"handleAddTag",value:function(){(0,this.props.addTag)(),this.setState({addTagPressed:!0})}},{key:"changeEditOpen",value:function(){this.setState({editOpen:!0})}},{key:"confirmDeleteDialog",value:function(){var e=this.state.deleteDialogOpen,t=this.props.isSaving;if(!1!==e)return k.a.createElement(K.a,{id:"confirm-delete-post",title:"Delete post",message:G.Jb,open:e,onClose:this.closeDeleteDialog,action:{label:"Delete",onClick:this.deletePost,danger:!0,loading:t},secondaryAction:{label:"Cancel",onClick:this.closeDeleteDialog}})}},{key:"menuCollapse",value:function(){this.moreIconBtnRef&&this.moreIconBtnRef.current&&this.moreIconBtnRef.current.click()}},{key:"openSchedulePost",value:function(){var e=this.props,t=e.post;(0,e.handleOpenSchedulePost)(t.objectId)}},{key:"publishPost",value:function(){var e=this.props,t=e.post;(0,e.handlePublishPost)(t.objectId)}},{key:"addTagVisible",value:function(){var e=this.props,t=e.addTag,n=e.isAuthor,a=e.isEducator,r=e.post,i=this.state.addTagPressed;return!(!r.tags||r.tags.length>0)&&t&&!i&&(n||a)}},{key:"render",value:function(){var e=this,t=this.props.post,n=this.state.editOpen,a="post-".concat(t.objectId);return k.a.createElement("div",{id:a,style:V.container},this.confirmDeleteDialog(),Object(H.e)(t)?k.a.createElement(B.a,{scheduledFor:t.scheduledFor,items:this.scheduledPostItems}):k.a.createElement(_.a,{user:t.user,time:t.scheduledFor||t.createdAt}),k.a.createElement("div",{style:V.rightContainer},k.a.createElement(A.a,{menuListComponent:"ul",classes:{menu:W.b},anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},renderTarget:function(e){var t=e.handleTargetClick,n=e.isOpen;return k.a.createElement(D.a,{title:"Post options",position:"bottom"},k.a.createElement("div",{style:V.optionsContainer},k.a.createElement(P.a,{icon:L.a,size:"xSmall",type:"secondary",label:"Post options",onClick:t,buttonAttributes:{"aria-expanded":n}})))},onSelect:this.handleSelectMenuItemThrottled,renderChildren:function(t){var n=t.getItemProps,a=t.highlightedIndex;return ee.reduce((function(t,r,i){return r.isVisible(e.props)?[].concat(u()(t),[k.a.createElement(z.a,c()({key:r.key,className:r.danger?Object(T.cx)(W.c,W.a):W.c,primaryText:r.getLabel(e.props),highlighted:a===i},n({item:r.key,onClick:function(e){return e.stopPropagation()},"aria-selected":void 0})))]):t}),[])}}),t&&k.a.createElement(M.a,{open:n,content:t.content,itemClass:"UBClassRoomPost",itemId:t.objectId,onClose:function(){e.setState({editOpen:!1})}}),this.addTagVisible()?k.a.createElement(U.a,{containerStyles:V.addTag,label:"Add tag",onClick:this.handleAddTag}):null))}}]),n}(k.a.Component))||a;te.propTypes={post:S.a.shape({objectId:S.a.string,important:S.a.bool,content:S.a.string,classRoom:S.a.string,user:Q.a.isRequired,scheduledFor:S.a.string,createdAt:S.a.string,tags:S.a.arrayOf(S.a.shape({}))}).isRequired,isAuthor:S.a.bool.isRequired,isEducator:S.a.bool.isRequired,isReadOnlyUser:S.a.bool.isRequired,handleDelete:S.a.func.isRequired,handleSetImportant:S.a.func.isRequired,handleUnsetImportant:S.a.func.isRequired,handleOpenSchedulePost:S.a.func.isRequired,handlePublishPost:S.a.func.isRequired,addTag:S.a.func,isSaving:S.a.bool,isUpdatingPost:S.a.bool},te.defaultProps={isSaving:!1,addTag:null,isUpdatingPost:!1};var ne=te,ae=n(254),re=n(24),ie=n(25),oe=n(292),se=n(499),ce=n(1755),le=Object(r.b)((function(e,t){var n=Object(re.currentUserId)(e),a=(t.post||{}).objectId;return{isEducator:Object(oe.b)(n),isAuthor:n===t.post.user.objectId,isReadOnlyUser:Object(ie.accessingCurrentSpaceAsStaff)(e),isUpdatingPost:Object(ie.isUpdatingPostIdInSpace)(e)(a)}}),(function(e){return{handleDelete:function(t){e(Object(ae.a)(t))},handleSetImportant:function(t){e(Object(se.b)(t))},handleUnsetImportant:function(t){e(Object(se.c)(t))},handleOpenSchedulePost:function(t){return e(Object(ce.b)(t))},handlePublishPost:function(t){return e(Object(ae.b)({postId:t,scheduledFor:null}))}}}))(ne);t.a=le},1813:function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var a=n(43),r=n.n(a),i=n(1),o=n.n(i),s=n(0),c=n.n(s),l=n(1589),u=n(1575),d=n(255),p=n.n(d),f=n(1605),m=n(14),b=n(538),g=n.n(b),h=n(15),v=n(578),y=Object(m.b)("div",{target:"eky80vk0"})("color:",h.b.color.blackAlpha(.6),";display:flex;flex-direction:row;justify-content:center;align-items:center;font-family:Work Sans;font-style:normal;font-weight:normal;font-size:14px;min-width:30px;"),x=Object(m.b)(g.a,{target:"eky80vk1"})("padding-right:6px;width:20px;height:20px;"),E=Object(m.b)(v.a,{target:"eky80vk2"})("margin-left:10px;"),O=function(e){var t=e.scheduledFor,n=e.items,a=e.disabled;return c.a.createElement(y,null,c.a.createElement(x,null),"Scheduled for ",Object(f.a)(t),function(e,t){return c.a.createElement(l.a,{ariaLabelledby:"menu_feed",renderTarget:function(e){var n=e.handleTargetClick;return c.a.createElement(E,{iconRight:p.a,size:"medium",type:"primary",label:"",disabled:t,onClick:function(e){return e.preventDefault(),n(e)},tabIndex:0},"Change")},onSelect:function(e){return(0,e.item)()},renderChildren:function(t){var n=t.getItemProps;return e.map((function(e){var t=e.label,a=e.action;return c.a.createElement(u.a,r()({size:"medium",primaryText:t},n({item:a,onClick:a})))}))},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"}})}(n,a))};O.propTypes={scheduledFor:o.a.string.isRequired,items:o.a.arrayOf(o.a.shape({action:o.a.func,label:o.a.string})).isRequired,disabled:o.a.bool},O.defaultProps={disabled:!1};var j=O},1814:function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var a=n(12),r=n.n(a),i=n(7),o=n.n(i),s=n(138),c=n.n(s),l=n(70),u=n(13),d=n(16),p=n(55),f=n(239),m=function(){var e=r()(o.a.mark((function e(t){var n,a,r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.spaceId,a=t.content,r=t.scheduledFor,e.next=3,Object(p.a)({method:"post",url:Object(d.S)(n),data:{post:{content:a,scheduledFor:r}}});case 3:return i=e.sent,s=i.data.post,e.abrupt("return",Object(f.a)(s));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(e,t){t({type:u.e,status:"success",post:e})},g=function(e,t,n){n(Object(l.b)(t,"createPostError")),n({type:u.e,status:"error",postData:e,error:t})},h=function(e){return function(){var t=r()(o.a.mark((function t(n){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.content){t.next=3;break}return g(e,"Missing properties in postData",n),t.abrupt("return");case 3:return n({type:u.e,status:"started"}),t.prev=4,t.next=7,m({spaceId:e.spaceId,content:c()(e.content),scheduledFor:e.scheduledFor});case 7:a=t.sent,b(a,n),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),n(g(e,t.t0,n));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()}},1815:function(e,t,n){"use strict";var a=n(165),r=n(6),i=n.n(r),o=n(3),s=n.n(o),c=n(4),l=n.n(c),u=n(5),d=n.n(u),p=n(9),f=n.n(p),m=n(8),b=n.n(m),g=n(2),h=n.n(g),v=n(37),y=n.n(v),x=n(16),E=n(190),O=n(200);function j(e,t){var n=i()(e);if(s.a){var a=s()(e);t&&(a=a.filter((function(t){return l()(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){h()(e,t,n[t])})):d.a?f()(e,d()(n)):j(Object(n)).forEach((function(t){b()(e,t,l()(n,t))}))}return e}var w=Object(E.a)((function(e){return function(t){var n=t.sessionToken,a=t.spaceId,r=t.presentationId,i=void 0===r?void 0:r,o=t.userId;return y.a.get("".concat(Object(x.U)(),"/").concat(a,"/presentations/").concat(i),{cancelToken:e,headers:k({"x-session-token":n,"x-user-id":o},Object(O.a)())})}})),S=n(1772);t.a=function(e,t,n,r){return Object(a.useQuery)(S.a.presentationById(n),(function(){return w({sessionToken:e,spaceId:t,presentationId:n,userId:r})}),{enabled:!!(e&&t&&n&&r)})}},1817:function(e,t,n){"use strict";var a=n(1601),r=n(35),i=n(43),o=n.n(i),s=n(20),c=n.n(s),l=n(50),u=n.n(l),d=n(0),p=n.n(d),f=n(1),m=n.n(f),b=n(164),g=["forwardedRef","plugins","isTalisEnabled","isPanoptoEnabled","isPlanetEnabled","isEchoEnabled","isBigBlueButtonEnabled","isAssignmentsEnabled","isH5PEnabled","isBibliuEnabled","isQuizEnabled"],h=function(e){var t=function(t){var n=t.forwardedRef,r=t.plugins,i=t.isTalisEnabled,s=t.isPanoptoEnabled,l=t.isPlanetEnabled,f=t.isEchoEnabled,m=t.isBigBlueButtonEnabled,h=t.isAssignmentsEnabled,v=t.isH5PEnabled,y=t.isBibliuEnabled,x=t.isQuizEnabled,E=u()(t,g),O=Object(b.useFlags)(),j=O.webappFtEditorTemplatesEnabled202110,k=O.ftSelfServeLtiEnabled202204,w=Object(d.useMemo)((function(){var e=c()(r);return s&&e.push(a.m),l&&e.push(a.n),f&&e.push(a.g),i&&e.push(a.p),m&&e.push(a.d),h&&e.push(a.b),v&&e.push(a.i),y&&e.push(a.c),k&&e.push(a.h),x&&e.push(a.o),j&&e.push(a.q),e}),[r]);return p.a.createElement(e,o()({ref:n,plugins:w},E))};return t.propTypes={forwardedRef:m.a.oneOfType([m.a.func,m.a.shape({current:m.a.instanceOf(Element)})]).isRequired,plugins:m.a.arrayOf(m.a.object),isTalisEnabled:m.a.bool,isPanoptoEnabled:m.a.bool,isPlanetEnabled:m.a.bool,isEchoEnabled:m.a.bool,isBigBlueButtonEnabled:m.a.bool,isAssignmentsEnabled:m.a.bool,isH5PEnabled:m.a.bool,isBibliuEnabled:m.a.bool,isQuizEnabled:m.a.bool},t.defaultProps={isTalisEnabled:!1,isPanoptoEnabled:!1,isPlanetEnabled:!1,plugins:[],isEchoEnabled:!1,isBigBlueButtonEnabled:!1,isAssignmentsEnabled:!1,isH5PEnabled:!1,isBibliuEnabled:!1,isQuizEnabled:!1},p.a.forwardRef((function(e,n){return p.a.createElement(t,o()({},e,{forwardedRef:n}))}))},v=n(1625);t.a=Object(r.b)((function(e){return{isTalisEnabled:Object(v.h)(e),isEchoEnabled:Object(v.d)(e),isPlanetEnabled:Object(v.g)(e),isPanoptoEnabled:Object(v.f)(e),isBibliuEnabled:Object(v.b)(e),isBigBlueButtonEnabled:Object(v.c)(e),isH5PEnabled:Object(v.e)(e)}}))(h(a.a))},1818:function(e,t,n){"use strict";var a=n(45),r=n.n(a),i=n(0),o=n.n(i),s=n(1),c=n.n(s),l=n(255),u=n.n(l),d=n(564),p=n.n(d),f=n(1784),m=n(14),b=n(1816),g=n(1783),h=n(27),v=n(15),y=Object(h.a)((function(){return{root:{margin:0,padding:"".concat(v.b.spacing.xxSmall," 0"),boxShadow:"none",backgroundColor:v.b.color.designSystem.grey10,fontWeight:"normal",fontFamily:v.b.font.family.workSans,fontSize:v.b.font.size.copy,lineHeight:v.b.font.lineHeight.copy,"&:before":{height:0},"&$expanded":{margin:"auto"}},expanded:{}}}))(b.a),x=Object(m.a)("& > div{display:flex;align-items:center;margin:0 !important;}:hover{background-color:",v.b.color.designSystem.background.grey.hover,";}"),E=Object(m.b)(g.a,{target:"e1ecln6j0"})("padding:0 ",v.b.spacing.large,";"),O=Object(m.b)("div",{target:"e1ecln6j1"})("border-left:1px solid ",v.b.color.blackAlpha(.12),";padding-left:",v.b.spacing.xSmall,";padding-top:10px;width:100%;"),j=Object(m.b)("div",{target:"e1ecln6j2"})("align-items:center;display:flex;height:",v.b.spacing.xxxxLarge,";justify-content:center;width:",v.b.spacing.xxxxLarge,";"),k={color:"".concat(v.b.color.blackAlpha(.6)),fontSize:"".concat(v.b.spacing.xxxxLarge),"&:hover":{color:"".concat(v.b.color.designSystem.purple70)}},w=n(85),S=function(e){var t=e.dataSet,n=e.showDefaultExpandIcon,a=e.renderAccordionItem,s=e.AccordionTitleComponent,c=Object(i.useState)(!1),l=r()(c,2),d=l[0],m=l[1],b=d?u.a:p.a,g=function(){return m(!d)};return o.a.createElement(y,{tabIndex:"0",onClick:g,onKeyDown:function(e){return e.keyCode===w.d&&g()},expanded:d},o.a.createElement(f.a,{className:x,style:{padding:0,minHeight:0},"aria-controls":"participant-history-content",expandIcon:n&&o.a.createElement(u.a,null)},!n&&o.a.createElement(j,null,o.a.createElement(b,{style:k})),o.a.createElement(s,null)),o.a.createElement(E,null,o.a.createElement(O,null,t.map((function(e){return a(e)})))))};S.propTypes={showDefaultExpandIcon:c.a.bool,renderAccordionItem:c.a.func.isRequired,AccordionTitleComponent:c.a.elementType.isRequired,dataSet:c.a.arrayOf(c.a.shape([])).isRequired},S.defaultProps={showDefaultExpandIcon:!1};t.a=S},1819:function(e,t,n){"use strict";var a=n(1),r=n.n(a),i=n(0),o=n.n(i),s=n(292),c=n(1605),l=n(1754),u=n(293),d=n(6),p=n.n(d),f=n(3),m=n.n(f),b=n(4),g=n.n(b),h=n(5),v=n.n(h),y=n(9),x=n.n(y),E=n(8),O=n.n(E),j=n(2),k=n.n(j),w=n(15),S=n(114);function I(e,t){var n=p()(e);if(m.a){var a=m()(e);t&&(a=a.filter((function(t){return g()(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){k()(e,t,n[t])})):v.a?x()(e,v()(n)):I(Object(n)).forEach((function(t){O()(e,t,g()(n,t))}))}return e}var T={container:{display:"flex",flexDirection:"row",justifyContent:"flex-start",flexWrap:"nowrap",flexShrink:2},userImage:{flexShrink:0},userNameContainer:{marginTop:-4,marginLeft:15,height:"100%",flexWrap:"nowrap",flexShrink:2},instructor:{color:w.b.color.pink,paddingLeft:15,fontSize:14},userName:C(C({},S.a.regular),{},{fontSize:14}),time:C(C({},S.a.light),{},{fontSize:14,color:w.b.color.grey11,letterSpacing:"1px",paddingTop:"1px"}),edited:{marginLeft:12}},R=function(e){var t=e.user,n=e.time;return o.a.createElement("div",{style:T.container},o.a.createElement("div",{style:T.userImage},o.a.createElement(u.a,{user:t,size:30,isInstructor:Object(s.b)(t.objectId)})),o.a.createElement("div",{style:T.userNameContainer},o.a.createElement("span",{style:T.userName},"".concat(t.firstName," ").concat(t.lastName),Object(s.b)(t.objectId)?o.a.createElement("span",{style:T.instructor},"Educator"):null),o.a.createElement("div",{style:T.time},o.a.createElement("span",null,Object(c.a)(n)))))};R.propTypes={user:l.a.isRequired,time:r.a.string.isRequired};t.a=R},1820:function(e,t,n){"use strict";var a=n(35),r=n(26),i=n.n(r),o=n(43),s=n.n(o),c=n(50),l=n.n(c),u=n(20),d=n.n(u),p=n(12),f=n.n(p),m=n(53),b=n.n(m),g=n(52),h=n.n(g),v=n(51),y=n.n(v),x=n(58),E=n.n(x),O=n(60),j=n.n(O),k=n(42),w=n.n(k),S=n(7),I=n.n(S),C=n(49),T=n.n(C),R=n(1),q=n.n(R),A=n(0),D=n.n(A),P=n(1606),z=n.n(P),F=n(1589),L=n(579),N=n(861),M=n(1978),_=n(1759),U=n(79),B=n(1760),H=n(1761),G=n(561),V=["onExportMaterial","onImportMaterial","onCreateFolder"];function W(e){var t=function(){if("undefined"==typeof Reflect||!i.a)return!1;if(i.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(i()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=w()(e);if(t){var r=w()(this).constructor;n=i()(a,arguments,r)}else n=a.apply(this,arguments);return j()(this,n)}}var K=function(e){E()(a,e);var t,n=W(a);function a(e){var t;return b()(this,a),(t=n.call(this,e)).setMenu=t.setMenu.bind(y()(t)),t.handleFileUpload=t.handleFileUpload.bind(y()(t)),t.handleSelect=t.handleSelect.bind(y()(t)),t}return h()(a,[{key:"setMenu",value:function(e){this.menu=e}},{key:"handleFileUpload",value:(t=f()(I.a.mark((function e(t){var n,a,r,i,o,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=d()(t.target.files),a=n.map(_.a),e.next=4,T.a.all(a);case 4:r=e.sent,this.menu.handleClose(t),i=this.props,o=i.onImportMaterial,s=i.educatorOnly,o({materials:r,educatorOnly:s});case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"handleSelect",value:function(e){var t=e.item,n=e.preventClose,a=this.props,r=a.onCreateFolder,i=a.onExportMaterial,o=a.educatorOnly;switch(t){case"create-folder":r(o);break;case"import":n(),document.getElementById("upload-button").click();break;case"export":i(o)}}},{key:"render",value:function(){var e=this.props,t=(e.onExportMaterial,e.onImportMaterial,e.onCreateFolder,l()(e,V));return D.a.createElement(D.a.Fragment,null,D.a.createElement(F.a,s()({ref:this.setMenu,ariaLabelledby:"menu-materials",classes:{menu:H.c}},t,{renderTarget:function(e){var t=e.handleTargetClick,n=e.isOpen;return D.a.createElement(L.a,{title:U.qb,position:"top"},D.a.createElement("div",null,D.a.createElement(G.a,{type:"secondary",size:"xSmall",icon:z.a,label:"more options",onClick:function(e){e.stopPropagation(),t(e)},buttonAttributes:{"aria-expanded":n,"data-testid":"materials-more-options"},position:"top"})))},onSelect:this.handleSelect,renderChildren:function(e){var t=e.getItemProps,n=e.highlightedIndex;return[D.a.createElement(N.a,s()({className:H.b,key:U.X,primaryText:Object(B.a)(U.X),highlighted:0===n,attributes:{"data-testid":"materials-create-folder"}},t({item:"create-folder",onClick:function(e){return e.stopPropagation()}}))),D.a.createElement(M.a,{key:"separator",attributes:{"aria-hidden":!0}}),D.a.createElement(N.a,s()({className:H.b,key:U.C,primaryText:Object(B.a)(U.C),highlighted:1===n},t({item:"import",onClick:function(e){return e.stopPropagation()}}))),D.a.createElement(N.a,s()({className:H.b,key:U.s,primaryText:Object(B.a)(U.s),highlighted:2===n},t({item:"export",onClick:function(e){return e.stopPropagation()}})))]}})),D.a.createElement(H.a,{"aria-hidden":"true",type:"file",multiple:!0,id:"upload-button",onChange:this.handleFileUpload}))}}]),a}(D.a.PureComponent);K.propTypes={onCreateFolder:q.a.func.isRequired,onImportMaterial:q.a.func.isRequired,onExportMaterial:q.a.func.isRequired,educatorOnly:q.a.bool},K.defaultProps={educatorOnly:!1};var Q=K,Y=n(220),J=n(1610);t.a=Object(a.b)(null,(function(e){return{onCreateFolder:function(t){return e(Y.b.createFolder(t))},onImportMaterial:function(t){return e(Y.b.importMaterial(t))},onExportMaterial:function(t){return e(J.a(t))}}}))(Q)},1821:function(e,t,n){"use strict";var a=n(0),r=n.n(a),i=n(1),o=n.n(i),s=n(14),c=n(15),l=Object(s.b)("li",{target:"e1uk3xje0"})("position:relative;"),u=(c.b.color.purple,Object(s.b)("div",{target:"e1uk3xje2"})("padding-top:4px;color:",c.b.color.designSystem.blackOpacity60,";font-family:",c.b.font.family.workSans,";font-size:",c.b.font.size.copy,";line-height:",c.b.font.lineHeight.copy,";display:inline-flex;")),d=Object(s.c)("0%{transform:translateY(0);}25%{transform:translateY(-20px);}50%{transform:translateY(0);}75%{transform:translateY(-20px);}100%{transform:translateY(0);}"),p=Object(s.a)("pointer-events:none;position:absolute;right:-7px;top:-4px;font-size:32px;animation:",d,";transform-origin:center bottom;animation-iteration-count:infinite;animation-duration:2.8s;"),f=function(e){var t=e.isInstructor;return r.a.createElement(l,{id:"no-materials"},t&&r.a.createElement("span",{className:p,role:"img","aria-label":"Point up"},"👆"),r.a.createElement(u,null,function(e){return e?"Sections and pages will appear here. Start by adding a new page or by importing pre-existing materials.":"Sections and pages will appear here"}(t)))};f.propTypes={isInstructor:o.a.bool.isRequired};t.a=f},1822:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(35),v=n(220),y=n(43),x=n.n(y),E=n(50),O=n.n(E),j=n(45),k=n.n(j),w=n(0),S=n.n(w),I=n(1),C=n.n(I),T=n(290),R=n(1619),q=["open","onClose"],A=function(e){var t=e.initialName,n=e.onClose,a=e.onRename,r=e.renaming,i=e.isLocal,o=Object(w.useState)(t),s=k()(o,2),c=s[0],l=s[1];return S.a.createElement(S.a.Fragment,null,S.a.createElement(T.d,{id:"rename-folder-dialogtitle",onClose:n},"Rename section"),S.a.createElement(T.c,null,S.a.createElement(R.c,null,S.a.createElement(R.b,null,S.a.createElement(R.e,{id:"rename-folder-name",label:"New name",value:c,onChange:function(e){return l(e.target.value)}})))),S.a.createElement(T.b,{primary:{label:"Save",disabled:0===c.length||i,onClick:function(){return a(c)},loading:r,htmlAttributes:{"data-testid":"rename-folder-save"}}}))};A.propTypes={initialName:C.a.string.isRequired,onRename:C.a.func.isRequired,renaming:C.a.bool.isRequired,onClose:C.a.func.isRequired,isLocal:C.a.bool.isRequired};var D=function(e){var t=e.open,n=e.onClose,a=O()(e,q);return S.a.createElement(T.e,{id:"rename-folder","data-testid":"rename-folder",open:t,onClose:n},S.a.createElement(A,x()({onClose:n},a)))};D.propTypes={open:C.a.bool.isRequired,onClose:C.a.func.isRequired};var P=D;function z(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):z(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}t.a=Object(h.b)((function(e){var t=v.c.renameFolderDialogOpenFor(e),n=t&&v.c.getMaterial(e,t);return{folderId:t,open:!!t,initialName:n?n.title:"",renaming:v.c.isSavingFolder(e),isLocal:!!t&&t.startsWith("local.")}}),(function(e){return{onClose:function(){return e(v.b.closeRenameFolder())},onRename:function(t){return function(n){return e(v.b.editFolder(t,{title:n}))}}}}),(function(e,t,n){return F(F(F({},e),t),{},{onRename:t.onRename(e.folderId)},n)}))(P)},1823:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(35),v=n(1),y=n.n(v),x=n(0),E=n.n(x),O=n(1763),j=function(e){var t=e.open,n=e.onClose,a=e.onConfirm,r=e.deleting;return E.a.createElement(O.a,{id:"delete-section-modal","data-testid":"delete-section-modal",title:"Delete this section?",message:"All pages in this section will be permanently deleted.",open:t,onClose:n,onConfirm:a,deleting:r})};j.propTypes={deleting:y.a.bool.isRequired,open:y.a.bool.isRequired,onClose:y.a.func.isRequired,onConfirm:y.a.func.isRequired};var k=j,w=n(220),S=n(1610);function I(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):I(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}t.a=Object(h.b)((function(e){var t=w.c.deleteFolderDialogOpenFor(e);return{folderId:t,open:!!t,deleting:w.c.isDeletingFolder(e)}}),(function(e){return{onClose:function(){return e(w.b.closeDeleteFolder())},onConfirm:function(t,n){return function(){return e(w.b.deleteFolder(t,S.d,n))}}}}),(function(e,t,n){return C(C(C({},e),t),{},{onConfirm:t.onConfirm(e.folderId,n.educatorOnly)},n)}))(k)},1824:function(e,t,n){"use strict";var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(2),g=n.n(b),h=n(35),v=n(220),y=n(1610),x=n(0),E=n.n(x),O=n(1),j=n.n(O),k=n(2002),w=function(e){var t=e.open,n=e.onClose,a=e.scheduledFor,r=e.isFolder,i=e.onSchedule,o=e.onKeepHidden,s=a&&o?{label:r?"Hide section":"Hide page",onAction:o}:null;return E.a.createElement(k.a,{id:"materials-schedule-date-time-picker",open:t,onClose:n,date:a,primaryAction:{label:"Schedule",onAction:i},secondaryAction:s})};w.propTypes={open:j.a.bool.isRequired,onClose:j.a.func.isRequired,scheduledFor:j.a.string,isFolder:j.a.bool.isRequired,onSchedule:j.a.func.isRequired,onKeepHidden:j.a.func},w.defaultProps={scheduledFor:null,onKeepHidden:null};var S=E.a.memo(w);function I(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?p()(e,u()(n)):I(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}t.a=Object(h.b)((function(e){var t=v.c.scheduleMaterialDialogOpenFor(e),n=t?v.c.getMaterial(e,t):{};return{materialId:t,open:!!t,isFolder:!!n.isFolder,scheduledFor:n.scheduledFor}}),(function(e){return{onClose:function(){return e(v.b.closeScheduleMaterial())},onKeepHidden:function(t){return function(){return e(v.b.editFolder(t,{hidden:!0,scheduledFor:null}))}},onSchedule:function(t){var n=t.id,a=t.isFolder;return function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e(a?v.b.editFolder(n,{hidden:!0,scheduledFor:t}):v.b.saveSection({id:n,patch:C(C({},r),{},{hidden:!0,scheduledFor:t}),select:y.d}))}}}}),(function(e,t,n){return C(C(C(C({},e),t),n),{},{onKeepHidden:t.onKeepHidden(e.materialId),onSchedule:function(a){var r=!e.isFolder&&n.getSectionData(),i=e.materialId,o=e.isFolder;return t.onSchedule({id:i,isFolder:o})(a,r)}})}))(S)},1882:function(e,t,n){e.exports=n.p+"f7369a694ed0496fc889e2b0f09975d4.png"},1883:function(e,t,n){e.exports=n.p+"d13fe33a597e5f620308b53a4a8acc91.png"},1884:function(e,t,n){e.exports=n.p+"7fee2ee0398e8515745d18bdf223e356.svg"},1885:function(e,t,n){e.exports=n.p+"0c29bf4dbbe2904678b890250dd77119.png"},1886:function(e,t,n){"use strict";var a=n(39),r=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(41)).default)(i.createElement("path",{d:"M8 5v14l11-7z"}),"PlayArrow");t.default=o},1887:function(e,t,n){"use strict";var a=n(39),r=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(41)).default)(i.createElement("path",{d:"M15.5 14h-.79l-.28-.27c1.2-1.4 1.82-3.31 1.48-5.34-.47-2.78-2.79-5-5.59-5.34-4.23-.52-7.79 3.04-7.27 7.27.34 2.8 2.56 5.12 5.34 5.59 2.03.34 3.94-.28 5.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchRounded");t.default=o},1888:function(e,t,n){"use strict";var a=n(40),r=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.styles=void 0;var i=r(n(526)),o=r(n(1621)),s=r(n(1629)),c=a(n(0)),l=(r(n(1)),r(n(23))),u=r(n(1890)),d=r(n(1910)),p=r(n(1911)),f=function(e){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})}}};t.styles=f;var m=c.forwardRef((function(e,t){e.children;var n=e.classes,a=e.className,r=e.label,u=e.labelWidth,f=e.notched,m=e.style,b=(0,s.default)(e,["children","classes","className","label","labelWidth","notched","style"]),g="rtl"===(0,d.default)().direction?"right":"left";if(void 0!==r)return c.createElement("fieldset",(0,o.default)({"aria-hidden":!0,className:(0,l.default)(n.root,a),ref:t,style:m},b),c.createElement("legend",{className:(0,l.default)(n.legendLabelled,f&&n.legendNotched)},r?c.createElement("span",null,r):c.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var h=u>0?.75*u+8:.01;return c.createElement("fieldset",(0,o.default)({"aria-hidden":!0,style:(0,o.default)((0,i.default)({},"padding".concat((0,p.default)(g)),8),m),className:(0,l.default)(n.root,a),ref:t},b),c.createElement("legend",{className:n.legend,style:{width:f?h:.01}},c.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),b=(0,u.default)(f,{name:"PrivateNotchedOutline"})(m);t.default=b},1889:function(e,t){e.exports=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},1890:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(1621)),i=n(331),o=a(n(1785));var s=function(e,t){return(0,i.withStyles)(e,(0,r.default)({defaultTheme:o.default},t))};t.default=s},1891:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.createMuiTheme=function(){0;return b.apply(void 0,arguments)},t.default=void 0;a(n(526));var r=a(n(1629)),i=n(59),o=a(n(1892)),s=a(n(1893)),c=a(n(1894)),l=a(n(1904)),u=a(n(1905)),d=a(n(1906)),p=a(n(1907)),f=a(n(1908)),m=a(n(1909));function b(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,a=e.mixins,b=void 0===a?{}:a,g=e.palette,h=void 0===g?{}:g,v=e.spacing,y=e.typography,x=void 0===y?{}:y,E=(0,r.default)(e,["breakpoints","mixins","palette","spacing","typography"]),O=(0,c.default)(h),j=(0,o.default)(n),k=(0,p.default)(v),w=(0,i.deepmerge)({breakpoints:j,direction:"ltr",mixins:(0,s.default)(j,k,b),overrides:{},palette:O,props:{},shadows:u.default,typography:(0,l.default)(O,x),spacing:k,shape:d.default,transitions:f.default,zIndex:m.default},E),S=arguments.length,I=new Array(S>1?S-1:0),C=1;C<S;C++)I[C-1]=arguments[C];return w=I.reduce((function(e,t){return(0,i.deepmerge)(e,t)}),w)}var g=b;t.default=g},1892:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,a=e.unit,s=void 0===a?"px":a,c=e.step,l=void 0===c?5:c,u=(0,i.default)(e,["values","unit","step"]);function d(e){var t="number"==typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(s,")")}function p(e,t){var a=o.indexOf(t);return a===o.length-1?d(e):"@media (min-width:".concat("number"==typeof n[e]?n[e]:e).concat(s,") and ")+"(max-width:".concat((-1!==a&&"number"==typeof n[o[a+1]]?n[o[a+1]]:t)-l/100).concat(s,")")}return(0,r.default)({keys:o,values:n,up:d,down:function(e){var t=o.indexOf(e)+1,a=n[o[t]];return t===o.length?d("xs"):"@media (max-width:".concat(("number"==typeof a&&t>0?a:e)-l/100).concat(s,")")},between:p,only:function(e){return p(e,e)},width:function(e){return n[e]}},u)},t.keys=void 0;var r=a(n(1621)),i=a(n(1629)),o=["xs","sm","md","lg","xl"];t.keys=o},1893:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var a;return(0,i.default)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,i.default)({paddingLeft:t(2),paddingRight:t(2)},n,(0,r.default)({},e.up("sm"),(0,i.default)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(a={minHeight:56},(0,r.default)(a,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,r.default)(a,e.up("sm"),{minHeight:64}),a)},n)};var r=a(n(526)),i=a(n(1621))},1894:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.primary,n=void 0===t?{light:l.default[300],main:l.default[500],dark:l.default[700]}:t,a=e.secondary,y=void 0===a?{light:u.default.A200,main:u.default.A400,dark:u.default.A700}:a,x=e.error,E=void 0===x?{light:d.default[300],main:d.default[500],dark:d.default[700]}:x,O=e.warning,j=void 0===O?{light:p.default[300],main:p.default[500],dark:p.default[700]}:O,k=e.info,w=void 0===k?{light:f.default[300],main:f.default[500],dark:f.default[700]}:k,S=e.success,I=void 0===S?{light:m.default[300],main:m.default[500],dark:m.default[700]}:S,C=e.type,T=void 0===C?"light":C,R=e.contrastThreshold,q=void 0===R?3:R,A=e.tonalOffset,D=void 0===A?.2:A,P=(0,i.default)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function z(e){return(0,b.getContrastRatio)(e,h.text.primary)>=q?h.text.primary:g.text.primary}var F=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,r.default)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,o.formatMuiErrorMessage)(4,t));if("string"!=typeof e.main)throw new Error(_formatMuiErrorMessage(5,JSON.stringify(e.main)));return v(e,"light",n,D),v(e,"dark",a,D),e.contrastText||(e.contrastText=z(e.main)),e},L={dark:h,light:g};0;return(0,o.deepmerge)((0,r.default)({common:s.default,type:T,primary:F(n),secondary:F(y,"A400","A200","A700"),error:F(E),warning:F(j),info:F(w),success:F(I),grey:c.default,contrastThreshold:q,getContrastText:z,augmentColor:F,tonalOffset:D},L[T]),P)},t.dark=t.light=void 0;var r=a(n(1621)),i=a(n(1629)),o=n(59),s=a(n(1895)),c=a(n(1896)),l=a(n(1897)),u=a(n(1898)),d=a(n(1899)),p=a(n(1900)),f=a(n(1901)),m=a(n(1902)),b=n(1903),g={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:s.default.white,default:c.default[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}};t.light=g;var h={text:{primary:s.default.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:c.default[800],default:"#303030"},action:{active:s.default.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function v(e,t,n,a){var r=a.light||a,i=a.dark||1.5*a;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,b.lighten)(e.main,r):"dark"===t&&(e.dark=(0,b.darken)(e.main,i)))}t.dark=h},1895:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={black:"#000",white:"#fff"};t.default=a},1896:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"};t.default=a},1897:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"};t.default=a},1898:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"};t.default=a},1899:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"};t.default=a},1900:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"};t.default=a},1901:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"};t.default=a},1902:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};t.default=a},1903:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hexToRgb=i,t.rgbToHex=function(e){if(0===e.indexOf("#"))return e;var t=s(e).values;return"#".concat(t.map((function(e){return 1===(t=e.toString(16)).length?"0".concat(t):t;var t})).join(""))},t.hslToRgb=o,t.decomposeColor=s,t.recomposeColor=c,t.getContrastRatio=function(e,t){var n=l(e),a=l(t);return(Math.max(n,a)+.05)/(Math.min(n,a)+.05)},t.getLuminance=l,t.emphasize=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return l(e)>.5?d(e,t):p(e,t)},t.fade=function(e,t){0;return u(e,t)},t.alpha=u,t.darken=d,t.lighten=p;var a=n(59);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function i(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function o(e){var t=(e=s(e)).values,n=t[0],a=t[1]/100,r=t[2]/100,i=a*Math.min(r,1-r),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-i*Math.max(Math.min(t-3,9-t,1),-1)},l="rgb",u=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(l+="a",u.push(t[3])),c({type:l,values:u})}function s(e){if(e.type)return e;if("#"===e.charAt(0))return s(i(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,a.formatMuiErrorMessage)(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function c(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function l(e){var t="hsl"===(e=s(e)).type?s(o(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function u(e,t){return e=s(e),t=r(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,c(e)}function d(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function p(e,t){if(e=s(e),t=r(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return c(e)}},1904:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n="function"==typeof t?t(e):t,a=n.fontFamily,d=void 0===a?u:a,p=n.fontSize,f=void 0===p?14:p,m=n.fontWeightLight,b=void 0===m?300:m,g=n.fontWeightRegular,h=void 0===g?400:g,v=n.fontWeightMedium,y=void 0===v?500:v,x=n.fontWeightBold,E=void 0===x?700:x,O=n.htmlFontSize,j=void 0===O?16:O,k=n.allVariants,w=n.pxToRem,S=(0,i.default)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);0;var I=f/14,C=w||function(e){return"".concat(e/j*I,"rem")},T=function(e,t,n,a,i){return(0,r.default)({fontFamily:d,fontWeight:e,fontSize:C(t),lineHeight:n},d===u?{letterSpacing:"".concat(s(a/t),"em")}:{},i,k)},R={h1:T(b,96,1.167,-1.5),h2:T(b,60,1.2,-.5),h3:T(h,48,1.167,0),h4:T(h,34,1.235,.25),h5:T(h,24,1.334,0),h6:T(y,20,1.6,.15),subtitle1:T(h,16,1.75,.15),subtitle2:T(y,14,1.57,.1),body1:T(h,16,1.5,.15),body2:T(h,14,1.43,.15),button:T(y,14,1.75,.4,l),caption:T(h,12,1.66,.4),overline:T(h,12,2.66,1,l)};return(0,o.deepmerge)((0,r.default)({htmlFontSize:j,pxToRem:C,round:c,fontFamily:d,fontSize:f,fontWeightLight:b,fontWeightRegular:h,fontWeightMedium:y,fontWeightBold:E},R),S,{clone:!1})};var r=a(n(1621)),i=a(n(1629)),o=n(59);function s(e){return Math.round(1e5*e)/1e5}function c(e){return s(e)}var l={textTransform:"uppercase"},u='"Roboto", "Helvetica", "Arial", sans-serif'},1905:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;function a(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var r=["none",a(0,2,1,-1,0,1,1,0,0,1,3,0),a(0,3,1,-2,0,2,2,0,0,1,5,0),a(0,3,3,-2,0,3,4,0,0,1,8,0),a(0,2,4,-1,0,4,5,0,0,1,10,0),a(0,3,5,-1,0,5,8,0,0,1,14,0),a(0,3,5,-1,0,6,10,0,0,1,18,0),a(0,4,5,-2,0,7,10,1,0,2,16,1),a(0,5,5,-3,0,8,10,1,0,3,14,2),a(0,5,6,-3,0,9,12,1,0,3,16,2),a(0,6,6,-3,0,10,14,1,0,4,18,3),a(0,6,7,-4,0,11,15,1,0,4,20,3),a(0,7,8,-4,0,12,17,2,0,5,22,4),a(0,7,8,-4,0,13,19,2,0,5,24,4),a(0,7,9,-4,0,14,21,2,0,5,26,4),a(0,8,9,-5,0,15,22,2,0,6,28,5),a(0,8,10,-5,0,16,24,2,0,6,30,5),a(0,8,11,-5,0,17,26,2,0,6,32,5),a(0,9,11,-5,0,18,28,2,0,7,34,6),a(0,9,12,-6,0,19,29,2,0,7,36,6),a(0,10,13,-6,0,20,31,3,0,8,38,7),a(0,10,13,-6,0,21,33,3,0,8,40,7),a(0,10,14,-6,0,22,35,3,0,8,42,7),a(0,11,14,-7,0,23,36,3,0,9,44,8),a(0,11,15,-7,0,24,38,3,0,9,46,8)];t.default=r},1906:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={borderRadius:4};t.default=a},1907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,a.createUnarySpacing)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"==typeof e)return e;var n=t(e);return"number"==typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n};var a=n(1535)},1908:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.duration=t.easing=void 0;var r=a(n(1629)),i={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"};t.easing=i;var o={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function s(e){return"".concat(Math.round(e),"ms")}t.duration=o;var c={easing:i,duration:o,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,a=void 0===n?o.standard:n,c=t.easing,l=void 0===c?i.easeInOut:c,u=t.delay,d=void 0===u?0:u;(0,r.default)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"==typeof a?a:s(a)," ").concat(l," ").concat("string"==typeof d?d:s(d))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}};t.default=c},1909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};t.default=a},1910:function(e,t,n){"use strict";var a=n(39);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0;return(0,r.useTheme)()||i.default};var r=n(331),i=(a(n(0)),a(n(1785)))},1911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("string"!=typeof e)throw new Error((0,a.formatMuiErrorMessage)(7));return e.charAt(0).toUpperCase()+e.slice(1)};var a=n(59)},1912:function(e,t,n){"use strict";var a=n(39),r=n(40);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(0)),o=(0,a(n(41)).default)(i.createElement("path",{d:"M9.01 14H2v2h7.01v3L13 15l-3.99-4v3zm5.98-1v-3H22V8h-7.01V5L11 9l3.99 4z"}),"CompareArrows");t.default=o},1922:function(e,t){var n=1/0,a=17976931348623157e292,r=NaN,i="[object Symbol]",o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt,d=Object.prototype.toString;function p(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=function(e,t,f){return e&&e.length?function(e,t,n){var a=-1,r=e.length;t<0&&(t=-t>r?0:r+t),(n=n>r?r:n)<0&&(n+=r),r=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(r);++a<r;)i[a]=e[a+t];return i}(e,0,(t=f||void 0===t?1:(m=function(e){return e?(e=function(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&d.call(e)==i}(e))return r;if(p(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=p(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?r:+e}(e))===n||e===-1/0?(e<0?-1:1)*a:e==e?e:0:0===e?e:0}(t),b=m%1,m==m?b?m-b:m:0))<0?0:t):[];var m,b}},1964:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),i=n(3),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(9),p=n.n(d),f=n(8),m=n.n(f),b=n(45),g=n.n(b),h=n(20),v=n.n(h),y=n(2),x=n.n(y),E=n(88),O=n.n(E),j=n(35),k=n(81),w=n(12),S=n.n(w),I=n(7),C=n.n(I),T=n(0),R=n.n(T),q=n(1),A=n.n(q),D=n(317),P=n(578),z=n(1591),F=n(1657),L=n(43),N=n.n(L),M=n(1606),_=n.n(M),U=n(527),B=n.n(U),H=n(1626),G=n.n(H),V=n(1589),W=n(579),K=n(861),Q=n(14),Y=n(561),J=Object(Q.b)(Y.a,{target:"exldms10"})("margin-left:8px;"),Z=n(1650),$=n(15),X=$.b.color,ee=$.b.spacing,te=$.b.borderRadius,ne=X.designSystem,ae=Object(Q.b)("li",{target:"ev819gn0"})("align-items:center;background:",(function(e){return e.selected?ne.background.grey.selected:"none"}),";border:2px solid transparent;border-radius:",te.medium,";box-sizing:border-box;cursor:pointer;display:flex;justify-content:space-between;font-size:",$.b.font.size.copy,";min-height:32px;padding:",ee.xxxSmall,";padding-left:",ee.xSmall,";:hover{background:",ne.background.grey.hover,";}:focus{outline:none;border:2px solid ",ne.purple70,";background:",ne.background.grey.focus,";}:not(:last-child){margin-bottom:",ee.xSmall,";}"),re=Object(Q.b)(Y.a,{target:"ev819gn1"})("color:",$.b.color.designSystem.blackOpacity60,";opacity:0;[role='button']:hover &{opacity:1;}[role='button']:focus &{opacity:1;}&:focus{opacity:1;}&:hover{background-color:",$.b.color.designSystem.background.grey.hover,";}"),ie=Object(Q.b)("div",{target:"ev819gn2"})("display:flex;"),oe=Object(Q.b)("div",{target:"ev819gn3"})("display:flex;align-items:center;justify-content:right;"),se=Object(Q.b)("span",{target:"ev819gn4"})("max-width:",(function(e){return e.showOptions?"80px":"auto"}),";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),ce=Object(Q.b)("span",{target:"ev819gn5"})("margin-left:5px;"),le=n(79),ue="edit",de="delete",pe=[{key:ue,getLabel:function(){return"Edit"},isVisible:function(){return!0}},{key:de,getLabel:function(){return"Delete"},isVisible:function(){return!0}}],fe=function(e){var t,n=e.id,a=e.title,r=e.submissionsCount,i=e.studentsCount,o=e.selected,s=e.onClick,c=e.onClickEdit,l=e.onClickDelete,u=e.showOptions,d=e.isHidden,p=e.onVisibilityChange,f=(t={},x()(t,ue,c),x()(t,de,l),t),m=d?J:re,b=d?B.a:G.a,g=d?le.w:le.u,h=d?le.b:le.a,y=d?le.t:le.v;return R.a.createElement(ae,{selected:o,onClick:s,role:"button",tabIndex:0},R.a.createElement(oe,null,R.a.createElement(se,{showOptions:u},"".concat(a)),R.a.createElement(ce,null,"(".concat(r,"/").concat(i,")"))),R.a.createElement(V.a,{menuListComponent:"ul",classes:{menu:Z.b},anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},renderTarget:function(e){var t=e.handleTargetClick,n=e.isOpen;return R.a.createElement(ie,null,u&&R.a.createElement(W.a,{title:"Extension options",position:"bottom"},R.a.createElement(re,{icon:_.a,size:"xSmall",label:"Extension options",onClick:t,buttonAttributes:{"aria-expanded":n}})),R.a.createElement(W.a,{title:u?g:h,position:"bottom"},R.a.createElement("div",null,R.a.createElement(m,{icon:b,size:"xSmall",label:y,onClick:function(){return p(!d)},buttonAttributes:{"aria-expanded":n}}))))},renderChildren:function(e){var t=e.getItemProps,a=e.highlightedIndex;return pe.reduce((function(e,r,i){var o=r.key,s=r.isVisible,c=r.getLabel,l=f[o];return s()?[].concat(v()(e),[R.a.createElement(K.a,N()({key:r.key,className:Z.c,primaryText:c(),highlighted:a===i},t({item:o,onClick:function(e){e.stopPropagation(),l(n)}})))]):e}),[])}}))};fe.propTypes={id:A.a.string.isRequired,isHidden:A.a.bool.isRequired,title:A.a.string.isRequired,studentsCount:A.a.number.isRequired,submissionsCount:A.a.number.isRequired,selected:A.a.bool,onClick:A.a.func.isRequired,onVisibilityChange:A.a.func,onClickEdit:A.a.func,onClickDelete:A.a.func,showOptions:A.a.bool},fe.defaultProps={selected:!1,onClickEdit:void 0,onClickDelete:void 0,showOptions:!1,onVisibilityChange:void 0};var me=fe,be=n(519),ge=R.a.memo((function(e){return R.a.createElement(be.a,e,R.a.createElement("path",{d:"M6 2L6.00863 7.17499C6.00951 7.7034 6.21946 8.20999 6.59264 8.5841L10 12L6.59088 15.4262C6.21878 15.8002 6.00951 16.306 6.00863 16.8335L6 22H18V16.8284C18 16.298 17.7893 15.7893 17.4142 15.4142L14 12L17.4124 8.59609C17.7886 8.22087 18 7.71141 18 7.18011V2H6ZM15.4142 15.9142C15.7893 16.2893 16 16.798 16 17.3284V20H8V17.3284C8 16.798 8.21071 16.2893 8.58579 15.9142L12 12.5L15.4142 15.9142Z",fill:"#31405C;"}))})),he=n(50),ve=n.n(he),ye=n(1780),xe=["isHeader"],Ee=["cols","withSpaceBetween"],Oe=$.b.color,je=$.b.spacing,ke=$.b.font,we=Oe.designSystem,Se={height:"100%"},Ie=Object(Q.b)("div",{target:"e178gdg20"})("height:80%;max-width:1000px;padding-right:",je.xxGiant,";"),Ce=Object(Q.b)("div",{target:"e178gdg21"})("margin-right:",$.b.spacing.large,";align-items:center;display:flex;justify-content:space-between;padding:",je.medium," 0px;&.loader{justify-content:center;margin-top:",je.xLarge,";}"),Te={maxWidth:"200px"},Re=Object(Q.b)("div",{target:"e178gdg22"})("display:flex;flex:1;height:100%;"),qe=Object(Q.b)("ul",{target:"e178gdg23"})("border-right:1px solid ",we.blackOpacity12,";left:-8px;list-style-type:none;margin:0 ",je.medium," 0 0;min-height:380px;padding:0 ",je.small," 0 0;position:relative;overflow-y:auto;width:212px;"),Ae=Object(Q.b)("div",{target:"e178gdg24"})("display:flex;flex:1;flex-direction:column;color:",$.b.color.black,";font-size:",ke.size.copy,";font-weight:normal;line-height:",ke.lineHeight.copy,";"),De=(je.xLarge,Object(Q.b)("div",{target:"e178gdg26"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:40px;margin-top:10px;margin-right:",$.b.spacing.large,";")),Pe=Object(Q.b)("div",{target:"e178gdg27"})("color:",$.b.color.blackAlpha(.87),";font-family:",ke.family.workSans,";font-weight:",ke.weight.semiBold,";font-size:",je.large,";letter-spacing:0.15px;line-height:",ke.lineHeight.large,";"),ze=Object(Q.b)("div",{target:"e178gdg28"})("width:200px;padding-bottom:28px;"),Fe=($.b.color.black,ke.family.workSans,ke.weight.semiBold,ke.size.large,ke.lineHeight.copy,ke.weight.regular,Object(Q.b)("p",{target:"e178gdg210"})("color:",$.b.color.blackAlpha(.6),";font-weight:",ke.weight.semiBold,";font-size:",ke.size.small,";letter-spacing:0.4px;line-height:16px;")),Le=Object(Q.b)("div",{target:"e178gdg211"})("padding-bottom:35px;margin-right:",$.b.spacing.large,";"),Ne=Object(Q.b)("div",{target:"e178gdg212"})("margin-right:",$.b.spacing.large,";"),Me=Object(Q.b)((function(e){e.isHeader;var t=ve()(e,xe);return R.a.createElement("div",t)}),{target:"e178gdg213"})("align-items:center;display:flex;height:64px;margin-top:0;padding:0;width:100%;padding-right:0 !important;margin-right:",$.b.spacing.large,";&:hover{background-color:",(function(e){return e.isHeader?"":we.background.grey.hover}),";",(function(e){return!e.isHeader&&"cursor: pointer;"}),";}"),_e=Object(Q.b)("div",{target:"e178gdg214"})("align-items:center;display:flex;height:64px;margin-top:0;padding:",je.small," 0;color:",$.b.color.blackAlpha(.38),";"),Ue=function(e){var t=e.cols,n=void 0===t?2:t,a=e.gap,r=100/12*n,i=a?"gap: ".concat(a,"px;"):"";return"flex-basis: ".concat(r,"%; max-width: ").concat(r,"%; ").concat(i)},Be=Object(Q.b)((function(e){e.cols,e.withSpaceBetween;var t=ve()(e,Ee);return R.a.createElement("div",t)}),{target:"e178gdg215"})((function(e){return Ue(e)})," display:flex;align-items:center;",(function(e){return e.withSpaceBetween?"justify-content: space-between":""}),";"),He=Object(Q.b)("span",{target:"e178gdg216"})("text-align:center;"),Ge=Object(Q.b)("span",{target:"e178gdg217"})((function(e){return Ue(e)})," font-weight:",ke.weight.semiBold,";"),Ve=Object(Q.b)("p",{target:"e178gdg218"})("margin-left:12px;"),We=Object(Q.b)("div",{target:"e178gdg219"})("color:",$.b.color.blackAlpha(.6),";display:flex;justify-content:center;margin-left:17px;align-items:center;svg{padding-left:5px;padding-right:5px;}"),Ke=Object(Q.a)(":not(:focus):not(:active){clip:rect(0 0 0 0);clip-path:inset(50%);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px;}"),Qe=Object(Q.b)(ye.a,{target:"e178gdg220"})("margin:0;width:40px;height:40px;"),Ye=(je.large,{width:"200px"}),Je={height:"auto",padding:"0"},Ze=Object(Q.b)("div",{target:"e178gdg222"})("width:max-content;display:inline;margin-right:8px;"),$e=Object(Q.b)("div",{target:"e178gdg223"})("width:100%;display:flex;justify-content:center;align-items:center;padding-top:",je.large,";"),Xe=Object(Q.b)("div",{target:"e178gdg224"})("width:445px;"),et=Object(Q.b)(P.a,{target:"e178gdg225"})("background-color:",$.b.color.offWhite,";"),tt=function(e){return e},nt=function(e){var t=e.extensions,n=e.parentAssignmentSubmissions,a=e.handleClick,r=e.handleEdit,i=e.handleDelete,o=e.handleVisibilityChange,s=e.selectedExtensionId,c=e.openCreateExtensionModal,l=e.isEducator;return R.a.createElement(qe,null,t.map((function(e){var t=e.id,c=e.title,u=e.submissions,d=e.students,p=e.parentAssignmentId,f=e.isHidden,m=!!p,b=m?c:"Main cohort",g=m?function(){return r(t)}:void 0,h=m?function(){return i(e)}:void 0,v=m?function(t){return o(t,e)}:void 0,y=m?d.length:n.length;return R.a.createElement(me,{key:t,id:t,title:b,isHidden:f,submissionsCount:u.length,studentsCount:y,selected:s===t,onClick:function(){return a(t)},showOptions:m&&l,onVisibilityChange:l&&v,onClickEdit:g,onClickDelete:h})})),l&&R.a.createElement(et,{type:"text",iconLeft:ge,onClick:c},"New extension"))};nt.propTypes={extensions:A.a.arrayOf(F.a),handleClick:A.a.func,handleEdit:A.a.func,handleDelete:A.a.func,handleVisibilityChange:A.a.func,selectedExtensionId:A.a.string,parentAssignmentSubmissions:A.a.arrayOf(A.a.shape({})).isRequired,openCreateExtensionModal:A.a.func,isEducator:A.a.bool},nt.defaultProps={extensions:[],handleClick:tt,handleEdit:tt,handleDelete:tt,handleVisibilityChange:tt,selectedExtensionId:"",openCreateExtensionModal:function(){},isEducator:!1};var at=nt,rt=n(1619),it=n(2004),ot=n(2017),st=n(1978),ct=n(1658),lt=n(1544),ut=n(1600),dt=n(1781),pt=n(290),ft=n(1653),mt=n.n(ft),bt=n(1654),gt=n.n(bt),ht=n(1655),vt=n.n(ht),yt=n(1768),xt=function(e){var t=e.method,n=e.url,a=e.body,i=document.createElement("form");i.method=t,i.action=n,r()(a).forEach((function(e){var t=document.createElement("input");t.setAttribute("name",e),t.setAttribute("value",a[e]),i.appendChild(t)})),i.target="_blank",document.body.appendChild(i),i.submit(),document.body.removeChild(i)},Et=n(16),Ot=n(55),jt=function(){var e=S()(C.a.mark((function e(t){var n,a,r,i,o,s,c,l,u,d,p,f,m,b;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,a=t.assignment,r=t.spaceId,i=a.description,o=a.title,s=a.startDate,c=a.gradesReleasedAt,l=a.endDate,u=a.id||a.objectId,d=n.firstName,p=n.lastName,f=n.email,e.next=6,Object(Ot.a)({data:{assignmentId:u,spaceId:r,description:i,dueDate:l,title:o,startDate:s,gradesReleasedAt:c,firstName:d,lastName:p,email:f},method:"post",url:Object(Et.N)()});case 6:m=e.sent,b=m.data,xt(b);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kt=function(){var e=S()(C.a.mark((function e(t){var n,a,r,i;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.submissionId,a=t.spaceId,e.next=3,Object(Ot.a)({data:{submissionId:n,spaceId:a},method:"post",url:Object(Et.N)()});case 3:r=e.sent,i=r.data,xt(i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wt=n(554),St=n(570),It=Object(T.createContext)({type:"",title:"",image:null,launchSubmission:function(){},launchAssignments:function(){}}),Ct=function(e,t){return e.classRoom?e.classRoom.objectId:t},Tt=function(e){var t,n=e.assignment,a=e.spaceId,r=e.user,i=e.children,o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.submissionId,i=void 0===t?null:t,o=e.studentId,s=void 0===o?null:o;switch(n.provider){case ut.c:Object(yt.a)({assignmentId:n.externalId,spaceId:n.classRoom?n.classRoom.objectId:a,submissionId:i,studentId:s,isAnonymised:n.isAnonymised});break;case ut.h:jt({user:r,assignment:n,spaceId:a});break;case ut.f:Object(wt.a)({assignmentId:n.id,spaceId:Ct(n,a)})()}},s=function(e){var t=e.submissionId,r=e.reportType;Object(St.a)({assignmentId:n.id,spaceId:Ct(n,a),submissionId:t,reportType:r})()},c=(t={},x()(t,ut.c,{type:ut.c,title:"Handin",image:gt.a,launchAssignment:o,launchFeedback:o,launchSubmission:o}),x()(t,ut.h,{type:ut.h,title:"Turnitin",image:mt.a,launchAssignment:o,launchFeedback:o,launchSubmission:function(e){var t=e.submissionExternalId;kt({submissionId:t,spaceId:a})}}),x()(t,ut.f,{type:ut.f,title:"quizzes",image:vt.a,launchAssignment:o,launchFeedback:function(e){var t=e.submissionId;return s({submissionId:t,reportType:"feedback"})},launchSubmission:function(e){var t=e.submissionId;return s({submissionId:t,reportType:"review"})}}),t)[n.provider];return R.a.createElement(It.Provider,{value:c},i)},Rt=function(){var e=Object(T.useContext)(It);if(void 0===e)throw new Error("useAssignmentTypeProvider must be used within a AssignmentTypeProvider");return e};Tt.propTypes={assignment:A.a.shape({id:A.a.string,provider:A.a.string,externalId:A.a.string,classRoom:A.a.shape({objectId:A.a.string}),isAnonymised:A.a.bool}),user:A.a.shape({}),spaceId:A.a.string,children:A.a.element.isRequired},Tt.defaultProps={assignment:{},user:{},spaceId:""};var qt=Tt,At=n(46),Dt=n(44),Pt=n(1575),zt=n(1749),Ft=n.n(zt),Lt=Object(Q.b)(Y.a,{target:"e1sldgup0"})("margin-right:",$.b.spacing.small,";width:32px;height:32px;color:",$.b.color.designSystem.blackOpacity60,";background:transparent;"),Nt=function(e){var t=[{key:"delete",label:"Delete submission",handler:e.deleteSubmission}];return R.a.createElement(V.a,{menuListComponent:"ul",menuListAttributes:{role:"none presentation"},ariaLabelledby:"menu_submissions",renderTarget:function(e){var t=e.handleTargetClick;return R.a.createElement(Ft.a,{title:"Submissions menu",position:"bottom"},R.a.createElement("div",null,R.a.createElement(Lt,{icon:_.a,size:"medium",label:"Submissions menu",onClick:t})))},onSelect:function(e){return(0,e.item)()},renderChildren:function(e){var n=e.getItemProps;return t.map((function(e){var t=e.key,a=e.label,r=e.handler;return R.a.createElement(Pt.a,N()({key:t,size:"medium",primaryText:a},n({item:r,onClick:function(e){return e.stopPropagation()}})))}))},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"}})};Nt.propTypes={deleteSubmission:A.a.func.isRequired};var Mt=Nt;function _t(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ut=Object(T.memo)((function(e){var t=e.user,n=e.submissionDate,a=e.grade,r=e.submissionExternalId,i=e.submissionId,o=e.isGroup,s=e.assignmentId,l=e.assignmentExternalId,d=e.accessingAsStaff,f=e.deleteSubmission,b=e.groupId,h=e.spaceId,v=Rt(),y=Object(T.useState)(!1),E=g()(y,2),O=E[0],j=E[1],k=function(){return j(!1)},w=v.launchFeedback,S=v.launchSubmission,I=v.type,C=I===ut.h,q=I===ut.c,A=I===ut.f,D=!!i,P=q&&D,z=t.id,F=t.avatar,L=t.firstName,N=t.lastName,M=void 0===N?"":N,_="".concat(L," ").concat(M),U=D&&(!d||!C),B=function(){return U?(Object(At.c)(Dt.bb,{assignmentId:s}),A&&D?w({submissionId:i}):S(q?{studentId:z,submissionId:r}:{submissionExternalId:r,submissionId:i})):null},H="Not graded"!==a,G="Manual grading may be required",V="View submission by ".concat(_,", submitted on ").concat(n,", grade is ").concat(a);return H||(V+=", ".concat(G)),R.a.createElement(Me,{tabIndex:"0",onClick:B,onKeyDown:function(e){return function(e,t){e.key===dt.b&&(e.preventDefault(),t(e))}(e,B)},"data-testid":"submission-item","aria-label":V},R.a.createElement(Be,{cols:6,gap:12},R.a.createElement(Qe,{"aria-hidden":"true"},R.a.createElement(lt.a,{size:"large",name:_,src:F})),R.a.createElement("p",{"data-testid":"submission-item-full-name"},_)),R.a.createElement(Be,{cols:4},R.a.createElement("p",{"data-testid":"submission-item-date",primary:n},n)),R.a.createElement(Be,{cols:2,withSpaceBetween:!0},R.a.createElement(W.a,{title:G,position:"top",disableHoverListener:H,disableFocusListener:H,disableTouchListener:H},R.a.createElement("span",{tabIndex:"0","data-testid":"submission-item-grade"},a)),P&&R.a.createElement(He,null,R.a.createElement(Mt,{deleteSubmission:function(){return j(!0)}}))),R.a.createElement(pt.a,{id:"confirm-delete-submission",title:"Delete submission",message:"Delete ".concat(_,"'s submission?"),open:O,onClose:k,action:{label:"Delete submission",onClick:function(e){e.stopPropagation(),f(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_t(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):_t(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}({spaceId:h,assignmentId:s,assignmentExternalId:l},o?{groupId:b}:{studentId:t.id})),k()},danger:!0},secondaryAction:{label:"Cancel",onClick:k}}))}));Ut.propTypes={submissionDate:A.a.string.isRequired,grade:A.a.string,user:A.a.shape({firstName:A.a.string,lastName:A.a.string,id:A.a.oneOfType([A.a.string,A.a.number]),avatar:A.a.string}),submissionExternalId:A.a.string,submissionId:A.a.string,assignmentId:A.a.string,assignmentExternalId:A.a.string,isGroup:A.a.bool,accessingAsStaff:A.a.bool,deleteSubmission:A.a.func.isRequired,groupId:A.a.string,spaceId:A.a.string.isRequired},Ut.defaultProps={user:{firstName:"",lastName:"",id:"",avatar:""},grade:"-",submissionExternalId:"",submissionId:"",assignmentId:"",assignmentExternalId:"",isGroup:!1,accessingAsStaff:!1,groupId:""};var Bt=Ut,Ht=function(e){var t=e.count,n=e.isGroup;return R.a.createElement(_e,null,R.a.createElement(Be,{cols:6},R.a.createElement("p",null,"".concat(t," other ").concat(n?"groups":"students"))),R.a.createElement(Be,{cols:4},R.a.createElement("p",null,"No submission")),R.a.createElement(Be,{cols:2},R.a.createElement("span",null,"-")))};Ht.propTypes={count:A.a.number.isRequired,isGroup:A.a.bool},Ht.defaultProps={isGroup:!1};var Gt=Ht,Vt=n(1605),Wt=n(329),Kt=n(248),Qt=n(1782),Yt=n.n(Qt),Jt=n(85),Zt=Object(T.memo)((function(e){var t=e.name,n=e.grade,a=e.userId,r=e.submissionId,i=e.submissionDate,o=e.accessingAsStaff,s=Object(T.useState)(!1),c=g()(s,2),l=c[0],u=c[1],d=Rt(),p=d.title,f=d.type,m=d.launchSubmission,b=f===ut.h,h=!!r&&(!o||!b),v=function(){return u(!0)},y=function(){return u(!1)},x=function(e){return e.stopPropagation(),m({userId:a})};return R.a.createElement(Me,{"data-testid":"submission-item",onFocus:v,onBlur:y,onMouseEnter:v,onMouseLeave:y,isHeader:!0},R.a.createElement(Be,{cols:6},R.a.createElement(Ve,{"data-testid":"submission-item-full-name"},t)),R.a.createElement(Be,{cols:4},R.a.createElement("p",{"data-testid":"submission-item-date"},i)),R.a.createElement(Be,{cols:2},R.a.createElement("span",{"data-testid":"submission-item-grade"},n),h&&R.a.createElement(We,{tabIndex:"0",onClick:x,onKeyDown:function(e){return e.keyCode===Jt.d&&x()},"data-testid":"submission-item-link",className:Object(Kt.css)(l?"":Ke)},R.a.createElement("span",null,"Open in ",p),R.a.createElement(Yt.a,{fontSize:"small"}))))}));Zt.propTypes={name:A.a.string.isRequired,userId:A.a.string.isRequired,submissionId:A.a.string.isRequired,grade:A.a.string.isRequired,submissionDate:A.a.string.isRequired,accessingAsStaff:A.a.bool},Zt.defaultProps={accessingAsStaff:!1};var $t,Xt=Zt,en=n(1818),tn="No students are assigned to this extension",nn="To assign students, hover over this extension in the left column and click on the 3 dots to edit the extension.",an="There are no students in the main cohort",rn="To move students back to the main cohort, hover over one of extensions in the left column and click on the 3 dots to edit it and remove students.",on="noSubmissions",sn=($t={},x()($t,"lateSubmissions","Late submissions"),x()($t,"earlySubmissions","On time submissions"),x()($t,on,"No submission"),$t),cn=function(e){return e.displayGrade?e.displayGrade.includes("NaN")?"Not graded":e.displayGrade:e.receivedAt?"Not graded":"-"},ln=function(e){var t=e.loading,n=e.assignmentId,a=e.assignmentExternalId,i=e.submissionGroups,o=e.isGroupAssignment,s=e.studentsWithNoGroup,c=e.accessingAsStaff,l=e.deleteSubmission,u=e.spaceId,d=e.isExtension,p=e.isAnonymised,f=O()(i).reduce((function(e,t){return[].concat(v()(e),v()(t))}),[]);if(!t&&f&&0===f.length){if(o)return R.a.createElement("div",null,R.a.createElement(ct.a,{primaryText:"There are no submissions yet."}));var m=d?tn:an,b=d?nn:rn;return R.a.createElement(Xe,null,R.a.createElement(it.a,{onClose:null,type:"info"},R.a.createElement(ot.a,null,m),b))}var g=function(e,t){return R.a.createElement("div",{key:t},R.a.createElement(st.a,null),R.a.createElement(Fe,null,sn[t]," ",R.a.createElement("span",{"data-testid":"".concat(t,"-count")},"(",e[t].length,")")),R.a.createElement("div",{"data-testid":"".concat(t,"-container")},t===on&&p?R.a.createElement(Gt,{count:e[t].length,isGroup:o}):e[t].map((function(e){return o?R.a.createElement(en.a,{key:e.name,dataSet:e.submissions,renderAccordionItem:function(e){return R.a.createElement(Bt,{key:e.user.id,user:e.user,submissionDate:"",assignmentId:n,grade:cn(e),assignmentExternalId:a,submissionExternalId:e.externalId,submissionId:e.id,isGroup:!0,accessingAsStaff:c,deleteSubmission:l,spaceId:u,groupId:e.group.id})},AccordionTitleComponent:function(){return R.a.createElement(Xt,{name:e.name,userId:e.submissions[0].user.id||"",submissionId:e.submissions[0].externalId||"",submissionDate:e.receivedAt?Object(Vt.a)(e.receivedAt):"No submission",grade:cn(e),accessingAsStaff:c})}}):R.a.createElement(Bt,{key:e.user.id,user:e.user,grade:cn(e),assignmentId:n,assignmentExternalId:a,submissionExternalId:e.externalId,submissionId:e.id,submissionDate:e.receivedAt?Object(Vt.a)(e.receivedAt):"No submission",accessingAsStaff:c,deleteSubmission:l,spaceId:u})}))))},h=R.a.createElement($e,null,R.a.createElement(z.a,{size:25}));return t?h:R.a.createElement(R.a.Fragment,null,R.a.createElement(Ne,null,R.a.createElement(Me,{isHeader:!0},R.a.createElement(Ge,{cols:6},"Student"),R.a.createElement(Ge,{cols:4},"Submission Date"),R.a.createElement(Ge,{cols:2},"Grade"))),R.a.createElement(Wt.a,{autoHide:!0,style:Se},R.a.createElement(Le,null,r()(i).map((function(e){return g(i,e)})),o&&0!==s.length&&R.a.createElement(en.a,{dataSet:s,renderAccordionItem:function(e){return R.a.createElement(Bt,{key:e.id,user:{id:e.id,avatar:e.avatar,firstName:e.firstName,lastName:e.lastName},submissionDate:"",grade:"",submissionId:"",isGroup:!0,accessingAsStaff:c})},AccordionTitleComponent:function(){return R.a.createElement("p",null,"(Not assigned to a group)")}}))))};ln.propTypes={assignmentId:A.a.string.isRequired,spaceId:A.a.string.isRequired,loading:A.a.bool.isRequired,isGroupAssignment:A.a.bool.isRequired,assignmentExternalId:A.a.string.isRequired,studentsWithNoGroup:A.a.arrayOf(A.a.shape({})),submissionGroups:A.a.shape({}).isRequired,accessingAsStaff:A.a.bool.isRequired,isExtension:A.a.bool.isRequired,isAnonymised:A.a.bool,deleteSubmission:A.a.func.isRequired},ln.defaultProps={studentsWithNoGroup:[],isAnonymised:!1};var un=ln,dn=n(679),pn=n.n(dn),fn=Object(Q.b)("div",{target:"ejmq1sl0"})("width:100%;&:hover{background:transparent;}"),mn=Object(Q.b)("span",{target:"ejmq1sl1"})("color:",$.b.color.blackAlpha(.6),";font-family:",$.b.font.family.workSans,";font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.font.size.small,";line-height:",$.b.font.lineHeight.copy,";padding:",$.b.spacing.small," ",$.b.spacing.medium,";margin-bottom:",$.b.spacing.xxSmall,";&:hover{background:transparent;}"),bn=Object(Q.b)("span",{target:"ejmq1sl2"})("padding-left:12px;"),gn=Object(Q.b)("span",{target:"ejmq1sl3"})("color:",$.b.color.blackAlpha(.87),";display:flex;font-family:",$.b.font.family.workSans,";font-weight:",$.b.font.weight.regular,";font-size:",$.b.font.size.copy,";justify-content:space-between;line-height:",$.b.font.lineHeight.copy,";padding:",$.b.spacing.small," ",$.b.spacing.medium,";",(function(e){return e.isSelected&&"background: ".concat($.b.color.blackAlpha(.04),";")})," label{color:",$.b.color.blackAlpha(.6),";margin-left:0;}span{color:",$.b.color.blackAlpha(.6),";}&:hover{background:",$.b.color.blackAlpha(.04),";}"),hn=Object(Q.b)("div",{target:"ejmq1sl4"})("border-top:1px solid ",$.b.color.grey3,";color:",$.b.color.blackAlpha(.87),";display:flex;font-family:",$.b.font.family.workSans,";font-weight:",$.b.font.weight.regular,";font-size:",$.b.font.size.copy,";line-height:",$.b.font.lineHeight.large,";padding:",$.b.spacing.small," ",$.b.spacing.medium,";",(function(e){return e.isSelected&&"background: ".concat($.b.color.blackAlpha(.04),";")})," width:100%;span{padding-left:14px;}&:hover{background:",$.b.color.blackAlpha(.04),";}"),vn=Object(Q.b)("div",{target:"ejmq1sl5"})("border-top:1px solid ",$.b.color.grey3,";display:flex;justify-content:flex-end;padding:",$.b.spacing.xSmall," ",$.b.spacing.medium,";",(function(e){return e.isSelected&&"background: ".concat($.b.color.blackAlpha(.04),";")})," width:100%;"),yn=n(1725),xn="manage-groups",En="footer-actions",On=function(){},jn=Object(T.memo)((function(e){var t=e.isHeader,n=e.label,a=e.students,r=e.selected;return n===xn?function(e){return R.a.createElement(hn,{isSelected:e},R.a.createElement(pn.a,null)," ",R.a.createElement("span",null,"Manage groups"))}(r):n===En?function(e){return R.a.createElement(vn,{isSelected:e},R.a.createElement(P.a,{type:"text",size:"small"},"Clear"))}(r):R.a.createElement(fn,null,t?R.a.createElement(mn,null,n):R.a.createElement("span",null,R.a.createElement(gn,{isSelected:r},R.a.createElement(yn.a,{value:n,label:R.a.createElement(bn,null,n),ariaLabel:n,handleChange:On,isSelected:r,name:"".concat(n,"-radio")}),R.a.createElement("span",null,a.length))))}));jn.propTypes={label:A.a.string.isRequired,selected:A.a.bool.isRequired,isHeader:A.a.bool.isRequired,students:A.a.arrayOf(A.a.shape({}))},jn.defaultProps={students:[]};var kn=jn,wn=function(e,t){var n=[],a=[],r=[];return e.map((function(e){return e.id?new Date(e.receivedAt)<=new Date(t)?n.push(e):a.push(e):r.push(e)})),{earlySubmissions:n,lateSubmissions:a,noSubmissions:r}},Sn=n(1666);function In(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?In(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):In(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Tn=function(e){var t=function(e){return e.reduce((function(e,t){var n=t.group,a=t.receivedAt,r=void 0===a?"":a,i=t.displayGrade,o=void 0===i?"":i;if(e[n.id]){var s=e[n.id],c=s.receivedAt,l=s.displayGrade;e[n.id]=Cn(Cn({},e[n.id]),{},{receivedAt:c||r,displayGrade:l!==o?"(Mixed)":o,submissions:[].concat(v()(e[n.id].submissions),[t])})}else e[n.id]=Cn({name:n.name,receivedAt:r,displayGrade:o,submissions:[t]},t.id&&{id:t.id});return e}),{})}(e);return r()(t).map((function(e){return Cn({},t[e])}))},Rn=n(517),qn=n(1497),An=n(2016),Dn=n(2010),Pn=($.b.spacing.medium,$.b.spacing.xLarge,Object(Q.b)("div",{target:"ea8npwp1"})("height:100%;display:flex;flex-direction:column;")),zn=Object(Q.b)("div",{target:"ea8npwp2"})("display:flex;justify-content:",(function(e){return e.isEditing?"space-between":"flex-end"}),";align-items:center;max-width:inherit;border-top:1px solid ",$.b.color.designSystem.blackOpacity12,";"),Fn=Object(Q.b)(P.a,{target:"ea8npwp3"})("margin-left:",$.b.spacing.large,";"),Ln=Object(Q.b)(Dn.a,{target:"ea8npwp4"})("border:none;"),Nn="students-view",Mn="group-view",_n="mainStep",Un="studentsListStep",Bn="propertiesStep",Hn=n(1726),Gn={id:A.a.string.isRequired,avatar:A.a.string,fullName:A.a.string},Vn={provider:A.a.string.isRequired,startDate:A.a.string.isRequired,endDate:A.a.string.isRequired,gradesReleasedAt:A.a.string,description:A.a.string.isRequired,isHidden:A.a.bool.isRequired,students:A.a.arrayOf(A.a.shape(Gn)),parentAssignmentId:A.a.string,isAnonymised:A.a.bool.isRequired},Wn={userId:A.a.string.isRequired,avatar:A.a.string,firstName:A.a.string,lastName:A.a.string,email:A.a.string},Kn={key:A.a.string.isRequired,value:A.a.string.isRequired,students:A.a.arrayOf(A.a.shape(Gn))},Qn={navigationView:A.a.oneOf([Nn,Mn]),students:A.a.arrayOf(A.a.shape(Gn)),groups:A.a.arrayOf(A.a.shape(Kn)),startDate:Vn.startDate,endDate:Vn.endDate,gradesReleasedAt:Vn.gradesReleasedAt,description:Vn.description,isHidden:Vn.isHidden,spaceId:A.a.string.isRequired},Yn=n(1592),Jn=Object(Q.b)("div",{target:"e14pwrzq0"})("margin-top:",$.b.spacing.large,";"),Zn=Object(Q.b)("div",{target:"e14pwrzq1"})("font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.font.size.copy,";color:",$.b.color.designSystem.blackOpacity87,";margin-bottom:",$.b.spacing.small,";"),$n=Object(Q.b)(Yn.a,{target:"e14pwrzq2"})("margin:0;font-weight:",(function(e){return e.isConversion?400:$.b.font.weight.medium}),";& .fieldset-textfield-label{transform:translate(14px,11px) scale(1);}& .fieldset-textfield-label.fieldset-textfield-shrunkLabel{transform:translate(14px,-6px) scale(0.75);}"),Xn=function(e){var t=e.extensionName,n=e.onExtensionNameChange,a=e.hasTitle,r=e.isConversion;return R.a.createElement(Jn,null,a&&R.a.createElement(Zn,null,"Extension info"),R.a.createElement($n,{isConversion:r,label:"Extension name",value:t,onChange:function(e){var t=e.target.value;n(t)}}))};Xn.propTypes={extensionName:A.a.string,onExtensionNameChange:A.a.func,hasTitle:A.a.bool,isConversion:A.a.bool},Xn.defaultProps={extensionName:"",onExtensionNameChange:function(){},hasTitle:!0,isConversion:!1};var ea=R.a.memo(Xn),ta=n(563),na=n.n(ta),aa=Object(Q.b)("div",{target:"emjppot0"})("margin-bottom:10px;"),ra=Object(Q.b)("div",{target:"emjppot1"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:",$.b.spacing.xSmall,";"),ia=Object(Q.b)("span",{target:"emjppot2"})("font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.font.size.copy,";color:",$.b.color.designSystem.blackOpacity87,";"),oa=Object(Q.b)("div",{target:"emjppot3"})("font-weight:",$.b.font.weight.regular,";font-size:",$.b.font.size.small,";color:",$.b.color.designSystem.blackOpacity87,";"),sa=Object(Q.b)(P.a,{target:"emjppot4"})(),ca=function(e){var t=e.selectedStudentsNumber,n=e.leftStudentsNumber,a=e.navigationView,r=e.setStep,i=e.isConversion,o=i?"Assign students to this extension (".concat(t,")"):"Assign students (".concat(t,")"),s=!i&&a===Nn&&!!n;return R.a.createElement(aa,null,R.a.createElement(ra,null,R.a.createElement(ia,null,o),s&&R.a.createElement(sa,{type:"text",size:"small",iconRight:na.a,onClick:function(){return r(Un)}},n," in other cohorts")),!i&&R.a.createElement(oa,null,"Students added here will be removed from their original cohort"))};ca.propTypes={setStep:A.a.func,selectedStudentsNumber:A.a.number,leftStudentsNumber:A.a.number,isConversion:A.a.bool,navigationView:A.a.oneOf([Nn,Mn]).isRequired},ca.defaultProps={setStep:void 0,selectedStudentsNumber:0,leftStudentsNumber:0,isConversion:!1};var la=R.a.memo(ca),ua=n(1594),da=Object(Q.b)("div",{target:"eis0x1o0"})("margin-bottom:",$.b.spacing.xxSmall,";"),pa=Object(Q.b)("span",{target:"eis0x1o1"})("display:inline-block;margin-right:",$.b.spacing.small,";"),fa=[{key:Nn,label:"Students"}],ma=function(e){var t=e.onChange,n=e.selected;return R.a.createElement(da,null,fa.map((function(e){var a=e.key,r=e.label,i=n===a;return R.a.createElement(pa,{key:a},R.a.createElement(ua.a,{isSelected:i,onClick:function(){return!i&&t(a)}},r))})))};ma.propTypes={onChange:A.a.func,selected:A.a.oneOf([Nn,Mn]).isRequired},ma.defaultProps={onChange:function(){}};var ba=R.a.memo(ma),ga=Object(Q.b)("div",{target:"e16bzqyn0"})("padding:",$.b.spacing.medium," ",$.b.spacing.xLarge,";flex-grow:2;overflow:auto;"),ha=n(1979),va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.reduce((function(e,n){var a=t.find((function(e){return e.value===n}));return a?[].concat(v()(e),v()(a.students.map((function(e){var t=e.firstName,n=e.lastName;return"".concat(t," ").concat(n)})))):[]}),[])},ya=n(1628),xa=n.n(ya),Ea=n(1582),Oa=n(524),ja=n.n(Oa),ka=n(1806),wa=n(1887),Sa=n.n(wa),Ia=n(106),Ca=n(289);const Ta=`\n  font-family: ${$.b.font.family.workSans};\n  padding-left: ${$.b.spacing.xxSmall};\n  font-weight: ${$.b.font.weight.semiBold};\n  font-size: ${$.b.font.size.small};\n`,Ra=Object(Ia.a)("span",{target:"es2h3iw0",label:"Educator"})(Ta," color:",$.b.color.pink,";"),qa=Object(Ia.a)("span",{target:"es2h3iw1",label:"StudentAdded"})(Ta," color:",$.b.color.designSystem.success,";"),Aa=Object(Ia.a)(K.a,{target:"es2h3iw2",label:"StyledListItem"})({name:"7jvjjv",styles:"border-radius:4px;padding:4px;display:flex;flex:1;justify-content:space-between;background:transparent;"}),Da=Object(Ia.a)(lt.a,{shouldForwardProp:e=>"userInfoGreyedOut"!==e,target:"es2h3iw3",label:"StyledAvatar"})("flex-shrink:0;&::after{",(({userInfoGreyedOut:e})=>e?'\n    content: "";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    background: white;\n    opacity: 0.6;\n':""),"}"),Pa=Object(Ia.a)("div",{target:"es2h3iw4",label:"ParticipantContainer"})({name:"70qvj9",styles:"display:flex;align-items:center;"}),za=Object(Ia.a)("div",{target:"es2h3iw5",label:"ParticipantLeftInfo"})("display:flex;flex-direction:column;flex-wrap:nowrap;padding-left:",$.b.spacing.small,";"),Fa=Object(Ia.a)(Ca.a,{shouldForwardProp:e=>"userInfoGreyedOut"!==e,target:"es2h3iw6",label:"ParticipantName"})("font-family:",$.b.font.family.workSans,";font-weight:",$.b.font.weight.regular,";font-size:",$.b.font.size.copy,";color:",(({userInfoGreyedOut:e})=>e?$.b.color.designSystem.blackOpacity60:$.b.color.designSystem.blackOpacity87),";"),La=Object(Ia.a)("span",{target:"es2h3iw7",label:"ParticipantEmail"})("font-family:",$.b.font.family.workSans,";font-size:",$.b.font.size.small,";font-weight:",$.b.font.weight.regular,";color:",$.b.color.designSystem.blackOpacity60,";");var Na=n(10);const Ma=({avatar:e,fullName:t,isInstructor:n,isDisabled:a,icon:r,onClick:i,tooltip:o,isReadOnly:s,userInfoGreyedOut:c,email:l})=>{let u=!s&&r&&Object(Na.e)(Y.a,{icon:r,onClick:i,label:"action-group",size:"small"});u&&o&&(u=Object(Na.e)(W.a,{title:o,position:"top"},Object(Na.e)("div",null,u)));const d=Object(Na.e)(Pa,null,Object(Na.e)(Da,{size:"medium",name:t,src:e,userInfoGreyedOut:c||a}),Object(Na.e)(za,null,Object(Na.e)(Fa,{userInfoGreyedOut:c||a},Object(Na.e)("span",null,t),Object(Na.e)("span",null,n?" - ":""," "),n&&Object(Na.e)(Ra,null,"Educator"),c&&!a?" - ":"",c&&!a&&Object(Na.e)(qa,null,"Added")),Object(Na.e)(La,null,l)));return Object(Na.e)(Aa,{leftDecoration:d,rightDecoration:u})};Ma.propTypes={fullName:A.a.string,avatar:A.a.string,email:A.a.string,isInstructor:A.a.bool,isReadOnly:A.a.bool,isDisabled:A.a.bool,userInfoGreyedOut:A.a.bool,icon:A.a.elementType,tooltip:A.a.string,onClick:A.a.func},Ma.defaultProps={avatar:null,fullName:"",email:"",isInstructor:!1,onClick:void 0,icon:null,tooltip:null,isReadOnly:!1,isDisabled:!1,userInfoGreyedOut:!1};var _a=R.a.memo(Ma),Ua=Object(Q.b)("div",{target:"emuachd0"})("width:100%;margin:",$.b.spacing.xxSmall," 0;list-style-type:none;"),Ba=Object(Q.a)("margin:0;"),Ha=function(e){var t=e.fullName,n=e.email,a=e.onActionClick,r=e.actionIcon,i=e.tooltip,o=e.userAdded,s=e.avatar,c=e.isDisabled,l=e.disabledText,u=function(){return R.a.createElement(_a,{fullName:t,email:n,avatar:s,icon:r,tooltip:i,userInfoGreyedOut:o,onClick:a,isDisabled:c})};return R.a.createElement(Ua,null,l?R.a.createElement(W.a,{title:l,position:"top",classes:{tooltip:Ba}},R.a.createElement("div",null,u())):u())};Ha.propTypes={fullName:A.a.string.isRequired,email:A.a.string,onActionClick:A.a.func,actionIcon:A.a.elementType,tooltip:A.a.string,avatar:A.a.string,userAdded:A.a.bool,isDisabled:A.a.bool,disabledText:A.a.oneOfType([A.a.string,A.a.node])},Ha.defaultProps={email:"",tooltip:"",userAdded:!1,isDisabled:!1,onActionClick:function(){},disabledText:"",actionIcon:null,avatar:null};var Ga=R.a.memo(Ha),Va=Object(Q.b)(Sa.a,{target:"elujrpg0"})("font-size:18px;color:",$.b.color.designSystem.blackOpacity60,";"),Wa=Object(Q.b)(Ga,{target:"elujrpg1"})("padding:12px;background:transparent;"),Ka=function(e,t){return function(n){return t(n?e.filter((function(e){return-1!==e.label.toLowerCase().indexOf(n.toLowerCase())})):e)}},Qa=function(e){var t=e.users,n=e.selectedUsers,a=e.isFetching,r=e.onChange,i=e.greyedOutUsers,o=function(e,t){return e.filter((function(e){var n=e.id;return!t.find((function(e){return e.id===n}))}))}(function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((function(e){var t=e.id,n=e.fullName;return{id:t,avatar:e.avatar,email:e.email,label:n}}))}(t),n),s=R.a.useState(o),c=g()(s,2),l=c[0],u=c[1],d=function(e){return i.includes(e)};return R.a.createElement(ka.b,{id:"group-participant-autocomplete",placeholder:"Search for students",hideLabel:!0,dataset:l,suggestionItemSize:"medium",SuggestionItem:function(e){var t=e.suggestion,n=t.id,a=t.label,r=t.email,i=t.avatar;return R.a.createElement(Wa,{fullName:a,email:r,avatar:i,isDisabled:d(n),actionIcon:d(n)?null:ja.a,tooltip:d(n)?void 0:"Add to extension",disabledText:d(n)?R.a.createElement(R.a.Fragment,null,R.a.createElement("div",null,"This student can't be added because they already"),R.a.createElement("div",null,"have a submission in the destination assignment")):void 0})},greyedOutUsers:i,onItemSelect:function(e){r([].concat(v()(n),[{id:e.id,avatar:e.avatar,email:e.email,fullName:e.label}]))},onInputChange:Ka(o,u),isFetching:a,isDisabled:a,InputStartAdornment:R.a.createElement(Ea.a,{position:"start"},R.a.createElement(Va,null))})};Qa.propTypes={users:A.a.arrayOf(A.a.shape(Gn)).isRequired,selectedUsers:A.a.arrayOf(A.a.shape(Gn)).isRequired,onChange:A.a.func.isRequired,greyedOutUsers:A.a.arrayOf(A.a.string),isFetching:A.a.bool},Qa.defaultProps={greyedOutUsers:[],isFetching:!1};var Ya=R.a.memo(Qa),Ja=function(e){var t=e.users,n=e.onActionClick,a=e.actionIcon,r=e.tooltip,i=e.selectedUsers,o=void 0===i?[]:i,s=e.disabledText;return t.map((function(e){var t=e.id,i=e.fullName,c=e.avatar,l=e.email,u=e.userActionDisabled,d=o.find((function(e){return e.id===t}));return R.a.createElement(Ga,{key:t,onActionClick:!u&&function(){return n(e)}||void 0,actionIcon:!d&&a,tooltip:r,avatar:c,email:l,isReadOnly:d,userAdded:d,fullName:i,isDisabled:u,disabledText:u?s:void 0})}))};Ja.propTypes={users:A.a.arrayOf(A.a.shape(Gn)),selectedUsers:A.a.arrayOf(A.a.shape(Gn)),actionIcon:A.a.elementType,tooltip:A.a.string,onActionClick:A.a.func,disabledText:A.a.string},Ja.defaultProps={users:[],selectedUsers:[],actionIcon:null,tooltip:"",onActionClick:function(){},disabledText:""};var Za=R.a.memo(Ja),$a=n(2015),Xa=function(e){var t=e.spaceGroups,n=e.selectedGroups,a=e.onChange;return R.a.createElement($a.a,{name:"group",label:"Group",data:t,value:n,hasMultiSelect:!0,handleChange:a})};Xa.propTypes={spaceGroups:A.a.arrayOf(A.a.shape(Kn)).isRequired,selectedGroups:A.a.arrayOf(A.a.shape(Kn)).isRequired,onChange:A.a.func.isRequired};var er=R.a.memo(Xa),tr=Object(Q.b)("div",{target:"e38bevt0"})("font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.font.size.copy,";margin-top:",$.b.spacing.medium,";"),nr=Object(Q.b)("div",{target:"e38bevt1"})("font-weight:",$.b.font.weight.regular,";font-size:",$.b.font.size.copy,";"),ar=function(e){var t=e.students;return t.length?R.a.createElement(R.a.Fragment,null,R.a.createElement(tr,null,"These students will be added to this extension:"),R.a.createElement(nr,null,t.join(", "))):null};ar.propTypes={students:A.a.arrayOf(A.a.shape(Gn)).isRequired};var rr=R.a.memo(ar),ir=Object(Q.b)("div",{target:"ee6ah5v0"})("padding:",$.b.spacing.xLarge,";flex-grow:2;overflow:auto;"),or=Object(Q.b)("div",{target:"ee6ah5v1"})("font-family:",$.b.font.family.workSans,";font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.font.size.large,";line-height:",$.b.font.lineHeight.copy,";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),sr=Object(Q.b)("div",{target:"ee6ah5v2"})("margin-top:",$.b.spacing.medium,";"),cr=Object(Q.b)("div",{target:"ee6ah5v3"})("display:flex;flex-wrap:wrap;justify-content:space-between;"),lr=Object(Q.b)("div",{target:"ee6ah5v4"})("width:calc(50% - ",$.b.spacing.small,");margin-top:",$.b.spacing.small,";min-height:70px;"),ur=Object(Q.b)("div",{target:"ee6ah5v5"})("display:flex;justify-content:space-between;align-items:center;margin-top:",$.b.spacing.xSmall,";margin-bottom:",$.b.spacing.medium,";"),dr=Object(Q.b)("div",{target:"ee6ah5v6"})("color:",$.b.color.designSystem.blackOpacity87,";font-size:",$.b.font.size.copy,";font-weight:",$.b.font.weight.regular,";margin-left:",$.b.spacing.small,";"),pr=Object(Q.b)("div",{target:"ee6ah5v7"})("display:flex;align-items:center;"),fr=Object(Q.b)(B.a,{target:"ee6ah5v8"})("font-size:",$.b.font.size.headline,";"),mr=Object(Q.b)(Yn.a,{target:"ee6ah5v9"})("height:auto;& .fieldset-textfield-input{font-size:14px;height:",$.b.spacing.xSmall,";}"),br=Object(Q.b)(Yn.a,{target:"ee6ah5v10"})("height:auto;min-height:152px;"),gr=Object(Q.b)("div",{target:"ee6ah5v11"})(),hr=Object(Q.b)("div",{target:"ee6ah5v12"})("margin-top:",$.b.spacing.xSmall,";"),vr=Object(Q.b)("div",{target:"ee6ah5v13"})("color:",$.b.color.blackAlpha(.6),";font-size:0.75rem;margin-left:14px;min-height:14px;margin-top:7px;");function yr(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?yr(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):yr(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Er=ut.b,Or=function(e){var t=e.data,n=t.students,a=t.groups,r=t.spaceUsers,i=e.setData,o=e.spaceGroups,s=e.navigationView,c=e.hasError,l=e.greyedOutUsers,u=e.isLoadingStudents;return R.a.createElement(R.a.Fragment,null,s===Nn&&R.a.createElement(R.a.Fragment,null,R.a.createElement(Ya,{users:r,selectedUsers:n,greyedOutUsers:l,isFetching:u,onChange:function(e){var t=function(e,t){return e.reduce((function(e,n){return t.some((function(e){return e.id===n.id}))?e:[].concat(v()(e),[n])}),[])}(r,e);i({students:e,spaceUsers:t})}}),c&&R.a.createElement(hr,null,R.a.createElement(it.a,{type:"error"},Er)),R.a.createElement(Za,{users:n,onActionClick:function(e){var t,a=e.id;r.find((function(e){return e.id===a}))||(t=[].concat(v()(r),[e])),i(xr(xr({},t&&{spaceUsers:t}),{},{students:n.filter((function(e){return e.id!==a}))}))},actionIcon:xa.a,disabledText:"Student submission exists in this assignment."})),s===Mn&&R.a.createElement(R.a.Fragment,null,R.a.createElement(er,{selectedGroups:a,spaceGroups:o,onChange:function(e){return i({groups:e.target.value})}}),R.a.createElement(rr,{students:a.students})))};Or.propTypes={spaceUsers:A.a.arrayOf(A.a.shape(Gn)).isRequired,spaceGroups:A.a.arrayOf(A.a.shape(Kn)).isRequired,data:A.a.shape({students:A.a.arrayOf(A.a.shape(Gn)),groups:A.a.arrayOf(A.a.shape(Kn)),spaceUsers:A.a.arrayOf(A.a.shape(Gn))}).isRequired,setData:A.a.func.isRequired,navigationView:A.a.string.isRequired,hasError:A.a.bool,isLoadingStudents:A.a.bool,greyedOutUsers:A.a.arrayOf(A.a.string)},Or.defaultProps={greyedOutUsers:[],hasError:!1,isLoadingStudents:!1};var jr=R.a.memo(Or),kr=function(e){var t=e.title,n=e.data,a=n.extensionName,r=n.navigationView,i=n.students,o=n.groups,s=n.spaceUsers,c=e.setData,l=e.setStep,u=e.spaceGroups,d=e.isLoadingStudents,p=va(o,u),f=r===Nn?i.length:p.length;return R.a.createElement(R.a.Fragment,null,R.a.createElement(ha.a,{closeIcon:!1,padding:"".concat($.b.spacing.large," ").concat($.b.spacing.xLarge,"\n    ").concat($.b.spacing.medium)},t,R.a.createElement(ea,{extensionName:a,onExtensionNameChange:function(e){return c({extensionName:e})}})),R.a.createElement(ga,null,R.a.createElement(la,{selectedStudentsNumber:f,leftStudentsNumber:s.length,navigationView:r,setStep:l}),R.a.createElement(ba,{selected:r,onChange:function(e){return c({navigationView:e})}}),R.a.createElement(jr,{spaceUsers:s,data:{students:i,groups:o,spaceUsers:s},setData:c,spaceGroups:u,navigationView:r,isLoadingStudents:d})))};kr.propTypes={title:A.a.string.isRequired,spaceUsers:A.a.arrayOf(A.a.shape(Gn)).isRequired,spaceGroups:A.a.arrayOf(A.a.shape(Kn)).isRequired,data:A.a.shape(Qn).isRequired,setData:A.a.func.isRequired,setStep:A.a.func.isRequired,isLoadingStudents:A.a.bool.isRequired};var wr=R.a.memo(kr),Sr=n(384),Ir=n.n(Sr),Cr=Object(Q.b)("div",{target:"e1r2xkkj0"})("padding:",$.b.spacing.medium,";flex-grow:2;overflow:auto;"),Tr=Object(Q.b)("div",{target:"e1r2xkkj1"})("padding:",$.b.spacing.medium,";padding-top:0;"),Rr=Object(Q.b)("div",{target:"e1r2xkkj2"})("#space-settings-tabs > div{border-bottom:1px solid ",$.b.color.designSystem.blackOpacity12,";}div > button > span.wrapper > span{padding:0;}"),qr=Object(Q.b)(Ir.a,{target:"e1r2xkkj3"})("font-size:14px;"),Ar=n(283),Dr=function(e){var t=e.setStep,n=e.data,a=n.extensionName,r=n.students,i=n.spaceUsers,o=e.setData,s=[].concat(v()(r),v()(i));return R.a.createElement(Cr,null,R.a.createElement(P.a,{type:"text",size:"small",iconLeft:qr,onClick:function(){return t(_n)}},"Back","".concat(a?" to ".concat(a):"")),R.a.createElement(Tr,null,R.a.createElement(Rr,null,R.a.createElement(Ar.b,{id:"space-settings-tabs",value:0},R.a.createElement(Ar.a,{label:"Main cohort (".concat(i.length,")")}))),R.a.createElement(Za,{users:s,selectedUsers:r,onActionClick:function(e){return o({students:[].concat(v()(r),[e]),spaceUsers:i.filter((function(t){return t.id!==e.id}))})},actionIcon:ja.a,tooltip:"Add".concat(a?" to ".concat(a):"")})))};Dr.propTypes={data:A.a.shape(Qn).isRequired,spaceUsers:A.a.arrayOf(A.a.shape(Gn)).isRequired,setData:A.a.func.isRequired,setStep:A.a.func.isRequired};var Pr=R.a.memo(Dr),zr=n(138),Fr=n.n(zr),Lr=n(1574),Nr=n(19),Mr=n.n(Nr),_r=n(1601),Ur=n(1495),Br=n(68),Hr=n(1511),Gr=n(1888),Vr=n.n(Gr);const Wr=Object(Ia.a)("div",{target:"e104xjxt0",label:"Container"})({name:"79elbk",styles:"position:relative;"}),Kr=Object(Ia.a)(Hr.a,{target:"e104xjxt1",label:"InputLabel"})({name:"159fsp7",styles:"position:absolute;left:0;top:0;transform:translate(0,24px) scale(1);font-size:14px;"}),Qr=Object(Ia.a)("div",{target:"e104xjxt2",label:"Root"})({name:"79elbk",styles:"position:relative;"}),Yr=Object(Ia.a)("div",{target:"e104xjxt3",label:"Content"})("overflow-y:auto;height:130px;margin-left:",$.b.spacing.xxSmall,";"),Jr=Object(Ia.a)(Vr.a,{target:"e104xjxt4",label:"NotchedOutline"})("border-radius:",$.b.borderRadius.medium,";border:",(e=>e.focused?`2px solid ${$.b.color.designSystem.purple70}`:`1px solid ${$.b.color.grey10}`),";"),Zr=({id:e,label:t,children:n,onClick:a})=>{const[r,i]=Object(T.useState)(0),[o,s]=Object(T.useState)(!1),c=Object(T.useRef)(null);return Object(T.useLayoutEffect)((()=>{const e=Object(Br.findDOMNode)(c.current);i(null!=e?e.offsetWidth:0)}),[t]),Object(Na.e)(Ur.a,{onClickAway:()=>s(!1)},Object(Na.e)(Wr,null,Object(Na.e)(Kr,{ref:c,htmlFor:e,variant:"outlined",shrink:!0,focused:o},t),Object(Na.e)(Qr,null,Object(Na.e)(Yr,{"aria-label":t,id:e,onClick:()=>{s(!0),a()}},n,Object(Na.e)(Jr,{notched:!0,labelWidth:r,focused:+o})))))};Zr.propTypes={id:A.a.string.isRequired,label:A.a.string.isRequired,onClick:A.a.func,children:A.a.node},Zr.defaultProps={onClick:()=>{},children:null};var $r=R.a.memo(Zr),Xr=n(2002),ei=Object(Q.b)(P.a,{target:"e1pdoq7d0"})("padding:0;background-color:transparent;&:hover{background-color:transparent;}");function ti(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ni(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):ti(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var ai={description:"Assignment description",startDate:"Open date",endDate:"Due date",gradesReleasedAt:"Grades release date",isHidden:"Visibility settings"},ri=function(e,t){return t[e]?"Edited":""},ii=function(e){var t=e.editedFields,n=e.onRestoreData,a=r()(t);return 0===a.length?R.a.createElement(it.a,{type:"info"},"You haven't edited any assignment properties yet."):R.a.createElement(it.a,{type:"info"},R.a.createElement("div",null,R.a.createElement("span",null,"Properties edited: "),R.a.createElement("span",null,a.map((function(e){return ai[e]})).join(", "))),R.a.createElement(ei,{type:"text",size:"small",onClick:n},"Restore original properties"))};ii.propTypes={editedFields:A.a.shape({}).isRequired,onRestoreData:A.a.func.isRequired};var oi=R.a.memo(ii),si=n(1727);function ci(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function li(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ci(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):ci(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var ui=function(e){var t=e.config,n=e.editorState,a=e.onChange,r=e.spaceId;return R.a.createElement(si.a,{config:li(li({},t),{},{spaceId:r}),editorState:n,onChange:a,type:"assignmentExtensions"})};ui.propTypes={config:A.a.shape({sessionToken:A.a.string.isRequired,filesUrl:A.a.string.isRequired,apiUrl:A.a.string.isRequired}).isRequired,editorState:A.a.object.isRequired,onChange:A.a.func.isRequired,spaceId:A.a.string.isRequired};var di=ui,pi=n(24),fi=Object(j.b)((function(e){return{config:{sessionToken:Object(pi.sessionToken)(e),filesUrl:Object(Et.x)(),apiUrl:Object(Et.d)()}}}))(di),mi=function(e,t){var n=t.startDate,a=t.endDate;switch(e){case"startDate":return{maxDate:a};case"endDate":return{minDate:n};case"gradesReleasedAt":return{minDate:a};default:return{}}},bi=function(e){var t,n,a,i=e.data,o=e.data,s=o.extensionName,c=o.startDate,l=o.endDate,u=o.gradesReleasedAt,d=o.isHidden,p=o.description,f=o.spaceId,m=e.setData,b=e.assignment,h=e.assignment.provider,v=e.assignmentCreationError,y=Object(T.useState)(null),E=g()(y,2),O=E[0],j=E[1],k=Object(T.useState)(null),w=g()(k,2),S=w[0],I=w[1],C=(t=b,n=i,r()(ai).reduce((function(e,a){return t[a]!==n[a]?ni(ni({},e),{},x()({},a,ai[a])):e}),{}));(Object(T.useEffect)((function(){I(i.editorState)}),[]),v)&&(a="extension-of-an-extension"===v.errorMessage?ut.a:ut.b);var q=b.provider===ut.h,A=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e}return e}(p);return R.a.createElement(R.a.Fragment,null,R.a.createElement(ir,null,R.a.createElement(or,{closeIcon:!1},"Edit properties for '",s,"'"),R.a.createElement(sr,null,h===ut.c&&R.a.createElement(gr,null,R.a.createElement($r,{label:"Assignment description",id:"extension-editor-container"},R.a.createElement(fi,{spaceId:f,editorState:A||_r.e,onChange:function(e){m({description:Fr()(e)})}})),R.a.createElement(vr,null,ri("description",C))),h===ut.h&&R.a.createElement(br,{label:"Assignment description",value:p,multiline:!0,rows:5,maxRows:5,onChange:function(e){return m({description:e.target.value})},helperText:ri("description",C)}),R.a.createElement(cr,null,R.a.createElement(lr,{onClick:function(){return j("startDate")}},R.a.createElement(mr,{id:"Open date",label:"Open date",value:Mr()(c).format("lll"),helperText:ri("startDate",C)})),R.a.createElement(lr,{onClick:function(){return j("endDate")}},R.a.createElement(mr,{id:"Due date",label:"Due date",value:Mr()(l).format("lll"),helperText:ri("endDate",C)})),q&&R.a.createElement(lr,{onClick:function(){return j("gradesReleasedAt")}},R.a.createElement(mr,{id:"Grades release date",label:"Grades release date",value:Mr()(u).format("lll"),helperText:ri("gradesReleasedAt",C)}))),R.a.createElement(ur,{checked:d},R.a.createElement(pr,null,R.a.createElement(fr,null),R.a.createElement(dr,null,"Hide this extension")),R.a.createElement(Lr.a,{checked:d,onChange:function(){return m({isHidden:!d})},color:"primary"})),R.a.createElement(oi,{editedFields:C,onRestoreData:function(){m({startDate:b.startDate,endDate:b.endDate,gradesReleasedAt:b.gradesReleasedAt,description:b.description,isHidden:b.isHidden}),undefined.editor.setEditorState(S)}}),v&&v.errorCode&&R.a.createElement(hr,null,R.a.createElement(it.a,{type:"error"},a)))),R.a.createElement(Xr.a,{id:"extension-dates",date:i[O],open:!!O,onClose:function(){return j(null)},secondaryAction:{label:"Cancel",onAction:function(){return j(null)}},primaryAction:{label:"Save",onAction:function(e){return m(x()({},O,new Date(e).toISOString()))}},DateTimePickerProps:mi(O,i)}))};bi.propTypes={data:A.a.shape(Qn).isRequired,setData:A.a.func.isRequired,assignment:A.a.shape(Vn).isRequired,assignmentCreationError:A.a.shape({errorMessage:A.a.string,errorCode:A.a.string})},bi.defaultProps={assignmentCreationError:null};var gi,hi=R.a.memo(bi),vi=(gi={},x()(gi,_n,{component:wr,actions:{primary:{label:function(){return"Next"},stepId:Bn,isDisabled:function(e,t){return!t.extensionName||!t.students.length&&!t.groups.length}},secondary:{label:function(){return"Cancel"}}},getRequiredProps:function(e){return{title:e.title,spaceUsers:e.spaceUsers,spaceGroups:e.spaceGroups,onClose:e.onClose,isLoadingStudents:e.isLoadingStudents}}}),x()(gi,Un,{component:Pr,actions:{primary:{label:function(){return"Next"},stepId:Bn,isDisabled:function(e,t){return!t.extensionName||!t.students.length&&!t.groups.length}},secondary:{label:function(){return"Cancel"}}},getRequiredProps:function(e){return{spaceUsers:e.spaceUsers}}}),x()(gi,Bn,{component:hi,actions:{primary:{label:function(e){return e?"Apply changes":"Create extension"},stepId:"createExtensionStep"},secondary:{label:function(){return"Back"},stepId:_n}},getRequiredProps:function(e){return{assignment:e.assignment,onClose:e.onClose,assignmentCreationError:e.assignmentCreationError}}}),gi),yi=n(1991),xi=Object(Q.b)("div",{target:"ezzps3v0"})("margin-top:16px;"),Ei=function(e){var t="The operation couldn’t be completed because the\n  following students have submissions";if(e){return"".concat(t," ").concat("in the destination assignment",".")}return"".concat(t,".")},Oi=function(e){var t=e.provider,n=e.students,a=e.onClose,r=e.isConversion,i=e.errorCode,o=t===ut.c?function(e){return"".concat(Ei(e),"\n  Please delete one of the submissions for these students and try again.\n")}(r):function(e){return"".concat(Ei(e),"\n  Please open this assignment in Turnitin and delete one of the submissions for these students before trying again.\n")}(r),s="extension-submissions-exist"===i?"The operation couldn’t be completed because the following students still have a submission in the extension. Please delete their submission before removing them from this extension.":o;return R.a.createElement(An.a,{id:"duplicate-submission",width:"400",height:"272",onClose:a,open:!0},R.a.createElement(ha.a,null,"Existing submissions found"),R.a.createElement(yi.a,null,R.a.createElement("div",null,s),R.a.createElement(xi,null,n.map((function(e){var t=e.userId,n=e.email,a=e.firstName,r=e.lastName,i=e.avatar;return R.a.createElement(Ga,{isReadOnly:!0,key:t,onActionClick:function(){},email:n,fullName:"".concat(a," ").concat(r),avatar:i})})))))};Oi.propTypes={provider:A.a.string.isRequired,students:A.a.instanceOf(Array),onClose:A.a.func,isConversion:A.a.bool,errorCode:A.a.string},Oi.defaultProps={students:[],onClose:function(){},isConversion:!1,errorCode:""};var ji=R.a.memo(Oi),ki=n(572);function wi(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Si(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wi(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):wi(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Ii=Object(Rn.a)({typography:{fontFamily:$.b.font.family.workSans},palette:{primary:{main:$.b.color.purple},text:{hint:$.b.color.grey11}}}),Ci=function(e){var t=e.assignment,n=t.startDate,a=t.endDate,r=t.gradesReleasedAt,i=t.description,o=t.isHidden,s=t.extensionName,c=t.provider,l=t.students,u=t.isAnonymised,d=e.studentsWithExistingSubmissions,p=e.user,f=e.spaceId,m=e.accessToken,b=e.spaceUsers,h=e.isEditing,v=e.saveAssignmentExtension,y=e.openExtension,x=e.open,E=e.onClose,O=e.assignmentCreationError,j=e.assignmentUpdateError,k=Object(T.useState)(!1),w=g()(k,2),I=w[0],q=w[1],A=Object(T.useState)(!1),D=g()(A,2),P=D[0],z=D[1],F=Object(T.useState)(_n),L=g()(F,2),M=L[0],_=L[1],U=Object(T.useState)(!1),B=g()(U,2),H=B[0],G=B[1],V=Object(T.useState)({navigationView:Nn,students:l,groups:[],startDate:n,endDate:a,gradesReleasedAt:r,description:i,isHidden:o,extensionName:s,spaceUsers:u?[]:b,user:p,spaceId:f,accessToken:m,editorState:c===ut.c?i&&JSON.parse(i):i}),W=g()(V,2),K=W[0],Q=W[1],Y=Object(T.useState)(null),J=g()(Y,2),Z=J[0],$=J[1],X=Object(ki.a)({url:Object(Et.ab)({spaceId:f,role:"student"})},{enabled:!!u,onSuccess:function(e){var t=e.participants;Q((function(e){return Si(Si({},e),{},{spaceUsers:t.map((function(e){var t=e.id,n=e.firstName,a=e.lastName;return{id:t,avatar:e.avatar,email:e.email,fullName:"".concat(n," ").concat(a)}}))})}))}}).isLoading;Object(T.useEffect)((function(){e.resetErrorState()}),[]);var ee=function(){var t=S()(C.a.mark((function t(n){var a,r,i,o,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=K.students.map((function(e){return e.id})),q(!0),"trash"===n&&z(!0),r={title:K.extensionName,description:K.description,startDate:K.startDate,endDate:K.endDate,gradesReleasedAt:K.gradesReleasedAt,isHidden:K.isHidden},i=Si(Si(Si(Si({},e.assignment),r),{},{students:a},"trash"===n?{status:"trash"}:{status:"live"}),{},{parentAssignmentId:e.parentAssignmentId}),o=function(){G(!1),z(!1),"trash"===n&&y(e.parentAssignmentId)},t.next=8,v(p,f,i,m);case 8:s=t.sent,o(),s?c===ut.h?(y(s.objectId),$(s)):(y(s.id),e.onClose()):q(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),te=vi[M];if(!te)return null;var ne,ae=te.component,re=te.getRequiredProps,ie=void 0===re?function(){return{}}:re,oe=te.actions;return d.length?R.a.createElement(ji,{students:d,provider:c,onClose:E,errorCode:h?null==j?void 0:j.errorCode:null==O||null===(ne=O.errorCode)||void 0===ne?void 0:ne.code}):R.a.createElement(qn.a,{theme:Ii},R.a.createElement(An.a,{id:"extension-modal",open:x,onClose:E},R.a.createElement(Pn,null,R.a.createElement(ae,N()({data:K,step:M,setData:function(e){Q((function(t){return Si(Si({},t),e)}))},setStep:_},ie(Si(Si({},e),{},{isLoadingStudents:X})))),R.a.createElement(zn,{isEditing:h},h&&R.a.createElement(Fn,{type:"text",onClick:function(){return G(!0)}},"Delete extension"),R.a.createElement("div",null,function(t){if(!oe)return null;var n=oe.primary,a=oe.secondary,r={primary:n&&{label:n.label(h),onClick:n.stepId?function(){return _(n.stepId)}:null,disabled:n.isDisabled&&n.isDisabled(e,K),loading:I},secondary:a&&{label:a.label(),onClick:a.stepId?function(){_(a.stepId)}:null,disabled:a.isDisabled&&a.isDisabled(e,K)}};switch(t){case Bn:r.primary.onClick=ee;break;default:r.secondary.onClick=e.onClose}return R.a.createElement(Ln,{primary:r.primary,secondary:r.secondary,border:!1})}(M))),H&&R.a.createElement(pt.a,{id:"confirm-delete-extension",title:'Delete extension "'.concat(K.extensionName,'"'),message:le.Ib,open:H,onClose:function(){return G(!1)},action:{label:"Delete",onClick:function(){return ee("trash")},danger:!0,loading:P},secondaryAction:{label:"Cancel",onClick:function(){return G(!1)}}}))),Z&&R.a.createElement(Hn.a,{user:p,assignment:Z,space:{objectId:f},isEducator:!0,onClose:function(){$(null),e.onClose()}}))};Ci.propTypes={open:A.a.bool.isRequired,onClose:A.a.func,openExtension:A.a.func,saveAssignmentExtension:A.a.func.isRequired,resetErrorState:A.a.func.isRequired,user:A.a.shape({}).isRequired,accessToken:A.a.string,spaceId:A.a.string.isRequired,title:A.a.string.isRequired,assignment:A.a.shape(Vn),spaceUsers:A.a.arrayOf(A.a.shape(Gn)),spaceGroups:A.a.arrayOf(A.a.shape(Kn)),parentAssignmentId:A.a.string.isRequired,studentsWithExistingSubmissions:A.a.arrayOf(A.a.shape(Wn)).isRequired,assignmentCreationError:A.a.shape({errorCode:A.a.shape({code:A.a.string})}),assignmentUpdateError:A.a.shape({errorCode:A.a.string}),isEditing:A.a.bool},Ci.defaultProps={onClose:function(){},openExtension:function(){},isEditing:!1,assignment:{},spaceUsers:[],spaceGroups:[],assignmentCreationError:null,assignmentUpdateError:null,accessToken:null};var Ti=R.a.memo(Ci),Ri=n(328);function qi(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qi(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):qi(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Di={saveAssignmentExtension:function(e,t,n,a){return Ri.b.createAssignment({currentUser:e,spaceId:t,assignment:Ai(Ai({},n),{},{status:"live"}),accessToken:a})},resetErrorState:function(){return Ri.b.resetErrorState()}},Pi=Object(j.b)((function(e,t){var n=t.assignmentId,a=e.user.user,i=e.data.groups.groups,o=Ri.c.assignment(e,n),s=o.provider,c=o.startDate,l=o.endDate,u=o.gradesReleasedAt,d=o.description,p=o.isHidden,f=o.gradeType,m=o.shouldCloseOnDueDate,b=o.isAnonymised,g=o.id,h=(e.assignments||{}).selectedSpace,v=Ri.c.assignmentCreationError(e),y=Ri.c.hasSubmissionInParent(e)?v.errorCode.students:[];return{title:"New extension",assignment:{provider:s,startDate:c,endDate:l,gradesReleasedAt:u,description:d,isHidden:p,gradeType:f,shouldCloseOnDueDate:m,isAnonymised:b,students:[]},parentAssignmentId:g,spaceUsers:Ri.c.getStudentsInAssignment(e,n),spaceGroups:r()(i).map((function(e){return{key:e,value:i[e].name,students:i[e].students}})),spaceId:h,accessToken:Object(pi.accessToken)(e,h),user:a,studentsWithExistingSubmissions:y,assignmentCreationError:v}}),Di)(Ti);function zi(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zi(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):zi(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Li=Object(k.a)([Ri.c.getExtension],(function(e){return e||{}})),Ni={saveAssignmentExtension:function(e,t,n,a,r){return Ri.b.editAssignment({currentUser:e,spaceId:t,assignment:n,accessToken:a,openExtension:r})},resetErrorState:function(){return Ri.b.resetErrorState()}},Mi=Object(j.b)((function(e,t){var n=t.extensionId,a=t.assignmentId,i=e.user.user,o=e.data.groups.groups,s=Li(e,n),c=(e.assignments||{}).selectedSpace,l=Ri.c.getStudentsInAssignment(e,n),u=Ri.c.getStudentsInAssignment(e,a),d=Ri.c.assignmentUpdateError(e),p=Ri.c.hasSubmissionsInCurrentExtension(e),f=Ri.c.hasSubmissionInParentOnUpdate(e),m=p||f?d.students:[];return{title:'Edit "'.concat(s.title,'"'),isEditing:!0,id:s.id,assignment:Fi(Fi({},s),{},{extensionName:s.title,students:l}),parentAssignmentId:s.parentAssignmentId,spaceUsers:u,spaceGroups:r()(o).map((function(e){return{key:e,value:o[e].name,students:o[e].students}})),spaceId:c,accessToken:Object(pi.accessToken)(e,c),studentsWithExistingSubmissions:m,assignmentUpdateError:d,user:i}}),Ni)(Ti),_i=n(1760),Ui=Object(Q.b)("div",{target:"e1ix2luq0"})("align-items:center;display:flex;justify-content:space-between;margin-top:",$.b.spacing.xxSmall,";&:hover{cursor:pointer;}"),Bi=Object(Q.b)("span",{target:"e1ix2luq1"})("align-items:center;color:",$.b.color.designSystem.purple70,";display:flex;font-family:",$.b.font.family.workSans,";font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.font.size.copy,";line-height:",$.b.spacing.medium,";svg{margin-left:5px;}"),Hi=n(1805),Gi=function(){var e=Rt(),t=e.launchAssignment,n=e.title,a=e.image,r=a?Object(Hi.a)(a):"";return R.a.createElement(Ui,{as:"button",onClick:t},R.a.createElement(r,null),R.a.createElement(Bi,null,"Open in ",n,R.a.createElement(Yt.a,{fontSize:"small"})))},Vi=Object(Q.b)("div",{target:"e64gfha0"})("display:flex;flex-direction:column;align-items:center;flex-shrink:0;",Ae," &{margin-bottom:35px;margin-right:",$.b.spacing.large,";}"),Wi=Object(Q.b)("div",{target:"e64gfha1"})("display:flex;width:100%;align-items:flex-start;gap:10%;"),Ki=Object(Q.b)(Wi,{target:"e64gfha2"})("justify-content:space-between;margin-bottom:35px;"),Qi=Object(Q.b)("div",{target:"e64gfha3"})("display:flex;flex-direction:column;"),Yi=Object(Q.b)("span",{target:"e64gfha4"})("font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.spacing.small,";color:",$.b.color.blackAlpha(.6),";line-height:16px;"),Ji=Object(Q.b)("div",{target:"e64gfha5"})("display:flex;flex-wrap:wrap;font-size:",$.b.font.size.copy,";color:",$.b.color.blackAlpha(.87),";line-height:16px;margin-left:-5px;> span{margin-left:5px;}"),Zi=Object(Q.b)("span",{target:"e64gfha6"})("font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.font.size.small,";display:inline-block;"),$i=Object(Q.b)("span",{target:"e64gfha7"})("font-weight:",$.b.font.weight.semiBold,";font-size:",$.b.spacing.medium,";color:",$.b.color.black,";line-height:",$.b.font.lineHeight.copy,";transform:translate(0,4px);span{font-weight:",$.b.font.weight.regular,";}"),Xi=function(e){var t=e.extensionName,n=e.submissionCount,a=e.totalStudentsCount,r=e.accessingAsStaff,i=e.isQuizSubmission,o=0===a?"0 students":"".concat(n,"/").concat(a," submissions");return R.a.createElement(Ki,null,t?R.a.createElement($i,{"data-testid":"extension-name"},t,R.a.createElement("span",null," (".concat(o,")"))):R.a.createElement($i,null,o),r||i?null:R.a.createElement(Gi,null))};Xi.propTypes={extensionName:A.a.string,submissionCount:A.a.number,totalStudentsCount:A.a.number,accessingAsStaff:A.a.bool,isQuizSubmission:A.a.bool},Xi.defaultProps={extensionName:null,submissionCount:null,totalStudentsCount:null,accessingAsStaff:!0,isQuizSubmission:!1};var eo=Xi,to=function(e,t){var n={};if(!t||0===r()(t).length)return n;var a={startDate:{type:"date"},endDate:{type:"date"},gradesReleasedAt:{type:"date"}};return r()(a).forEach((function(r){if("date"===a[r].type){var i,o,s,c,l=e[r],u=t[r];if(l&&u)i=l,o=u,s=Mr()(i),c=Mr()(o),s.isSame(c)||(n[r]=!0)}})),n},no=function(e){return!e.parentAssignmentId},ao=function(e){var t,n,a=e.assignment,r=e.submissionCount,i=e.totalStudentsCount,o=e.accessingAsStaff,s=e.parentAssignment;no(a)||(t=a.title),no(a)&&(void 0===(n=a.extensions)?[]:n).length>0&&(t="Main cohort");var c=to(a,s),l=R.a.createElement(Zi,null,"Edited"),u=function(e){var t=a[e];if(!t)return null;var n=c[e];return R.a.createElement(Ji,null,R.a.createElement("span",null,Object(Vt.a)(t)),n?l:null)};return R.a.createElement(Vi,null,R.a.createElement(eo,{extensionName:t,submissionCount:r,totalStudentsCount:i,accessingAsStaff:o,isQuizSubmission:a.provider===ut.f}),R.a.createElement(Wi,null,R.a.createElement(Qi,null,R.a.createElement(Yi,null,"Open date"),u("startDate")),R.a.createElement(Qi,null,R.a.createElement(Yi,null,"End date"),u("endDate")),a.provider===ut.h?R.a.createElement(Qi,null,R.a.createElement(Yi,null,"Grades release date"),u("gradesReleasedAt")):null,R.a.createElement(Qi,null,R.a.createElement(Yi,null,"Grade type"),R.a.createElement(Ji,null,R.a.createElement("span",null,Object(_i.a)(a.gradeType||""))))))};ao.propTypes={assignment:A.a.shape(),parentAssignment:A.a.shape(),submissionCount:A.a.number,totalStudentsCount:A.a.number,accessingAsStaff:A.a.bool},ao.defaultProps={parentAssignment:{},assignment:{},submissionCount:null,totalStudentsCount:null,accessingAsStaff:!1};var ro=ao,io=Object(Q.b)("div",{target:"esrr3at0"})("font-weight:",$.b.font.weight.regular,";font-size:",$.b.font.size.copy,";margin-top:20px;"),oo=function(e){var t=e.assignments,n=e.value,a=e.onChange;return R.a.createElement(io,{"data-testid":"select-assignment"},R.a.createElement($a.a,{value:n||"",name:"SelectInput",label:"Destination assignment",data:t,handleChange:function(e){return a(e.target.value)}}))};oo.propTypes={assignments:A.a.arrayOf(A.a.object).isRequired,onChange:A.a.func.isRequired,value:A.a.string.isRequired};var so=R.a.memo(oo),co=Object(Q.b)("div",{target:"e37mx890"})("margin-top:11px;> div:first-child{margin-top:20px;}"),lo=Object(Q.b)("span",{target:"e37mx891"})("font-size:12px;font-weight:400;"),uo=Object(Q.b)("div",{target:"e37mx892"})("font-size:12px;"),po=Object(Q.b)("div",{target:"e37mx893"})("margin-top:10px;"),fo=Object(Q.b)("div",{target:"e37mx894"})("font-size:12px;font-weight:400;line-height:16px;letter-spacing:0.4px;color:rgba(0,0,0,0.6);"),mo=function(e){var t=e.currentTitle,n=e.convertedExtensionTitle,a=e.parentAssignmentTitle;return R.a.createElement(co,null,R.a.createElement(po,null,R.a.createElement(lo,null,"Existing assignment: "),R.a.createElement(uo,null,'"',t,'"')),R.a.createElement(po,null,R.a.createElement(lo,null,"Will be turned into an extension called: "),R.a.createElement(uo,null,'"',n,'"')),R.a.createElement(po,null,R.a.createElement(lo,null,"As a part of the assignment:"),a?R.a.createElement(uo,null,'"',a,'"'):R.a.createElement(fo,null,"Select a destination assignment above")))};mo.propTypes={currentTitle:A.a.string.isRequired,convertedExtensionTitle:A.a.string,parentAssignmentTitle:A.a.string},mo.defaultProps={convertedExtensionTitle:null,parentAssignmentTitle:null};var bo=R.a.memo(mo),go=function(e,t){if(!t)return"Extension 1";var n=e.find((function(e){return e.id===t})).extensions;if(!n||0===n.length)return"Extension 1";var a=n.find((function(e){return"Extension 1"===e.title})),r=n.find((function(e){return"Extension 2"===e.title}));return a?r?"".concat(n[0].title," 1"):"Extension 2":"Extension 1"},ho=function(e,t){return e.value.localeCompare(t.value)},vo=function(e,t){return e.filter((function(e){return e.provider===t.provider&&e.gradeType===t.gradeType&&e.isAnonymised===t.isAnonymised&&e.groupSet===t.groupSet&&e.id!==t.id})).map((function(e){return{key:e.id,value:e.title}})).sort(ho)},yo=function(e){var t=e.dialogTitle,n=e.spaceUsers,a=e.data,r=a.parentAssignmentTitle,i=a.destinationAssignmentId,o=e.assignmentData,s=o.title,c=o.students,l=o.groups,u=e.assignments,d=e.assignment,p=e.setData,f=e.setAssignmentData,m=e.setStep,b=e.spaceGroups,h=e.onClose,v=e.hasError,y=e.greyedOutUsers,x=Nn,E=(va(l,b),c.length),O=Object(T.useState)(!1),j=g()(O,2),k=j[0],w=j[1],S=function(e){var t=u.find((function(t){return t.id===e})).title;p({parentAssignmentTitle:t,destinationAssignmentId:e}),f({title:k?s:go(u,e)})};if(r||S(vo(u,d)[0].key),!s&&!k){var I=go(u);f({title:I})}return R.a.createElement(R.a.Fragment,null,R.a.createElement(ha.a,{onClose:h},t,R.a.createElement(ea,{isConversion:!0,hasTitle:!1,extensionName:s,onExtensionNameChange:function(e){f({title:e}),w(!0)}}),R.a.createElement(so,{assignments:vo(u,d),value:i||vo(u,d)[0].key,onChange:function(e){S(e)}}),R.a.createElement(bo,{currentTitle:d.title,convertedExtensionTitle:s,parentAssignmentTitle:r})),R.a.createElement(ga,null,R.a.createElement(la,{selectedStudentsNumber:E,leftStudentsNumber:n.length-c.length,navigationView:x,setStep:m,isConversion:!0}),R.a.createElement(ba,{selected:x,onChange:function(e){return p({navigationView:e})}}),R.a.createElement(jr,{spaceUsers:n,data:{students:c,groups:l,spaceUsers:n},setData:f,spaceGroups:b,navigationView:x,hasError:v,greyedOutUsers:y})))};yo.propTypes={dialogTitle:A.a.string.isRequired,spaceUsers:A.a.arrayOf(A.a.shape(Gn)).isRequired,spaceGroups:A.a.arrayOf(A.a.shape(Kn)).isRequired,data:A.a.object.isRequired,assignmentData:A.a.object.isRequired,assignments:A.a.arrayOf(A.a.object).isRequired,assignment:A.a.shape(Vn).isRequired,setData:A.a.func.isRequired,setStep:A.a.func,setAssignmentData:A.a.func.isRequired,onClose:A.a.func.isRequired,hasError:A.a.bool,greyedOutUsers:A.a.arrayOf(A.a.string).isRequired},yo.defaultProps={hasError:!1,setStep:void 0};var xo=R.a.memo(yo),Eo=function(e){return e.filter((function(e){return!!e.id}))};function Oo(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oo(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):Oo(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var ko=Object(Rn.a)({typography:{fontFamily:$.b.font.family.workSans},palette:{primary:{main:$.b.color.purple},text:{hint:$.b.color.grey11}}}),wo=function(e){return e&&e.errorCode&&(e.errorCode===ut.e||e.errorCode===ut.g)},So=function(e){var t,n,a=e.spaceUsers,r=e.spaceGroups,i=e.onClose,o=e.assignments,s=e.dialogTitle,c=e.assignment,l=e.assignmentCreationError,u=e.redirectToSubmissions,d=e.resetErrorState,p=e.open,f=e.getSubmissions,m=e.fetchAllSubmissionsIncludingExtensions,b=c.provider,h=c.id,y=Object(T.useState)({}),x=g()(y,2),E=x[0],O=x[1],j=Eo(f(h)).map((function(e){return e.user.id})),k=(t=o.find((function(e){return e.id===E.destinationAssignmentId})),n=t&&t.extensions?t.extensions.map((function(e){return e.id})):[],[].concat(v()(n),[E.destinationAssignmentId]).map((function(e){return Eo(f(e)).map((function(e){return e.user.id}))})).reduce((function(e,t){return[].concat(v()(e),v()(t))}),[])),w=j.filter((function(e){return!k.find((function(t){return t===e}))})).reduce((function(e,t){var n=a.find((function(e){return e.id===t}));return n?[].concat(v()(e),[jo(jo({},n),{},{userActionDisabled:!0})]):e}),[]),I=Object(T.useState)(!1),q=g()(I,2),A=q[0],D=q[1],P=Object(T.useState)({students:w,groups:[]}),z=g()(P,2),F=z[0],L=z[1];Object(T.useEffect)((function(){d()}),[]);var N,M,_=function(){var t=S()(C.a.mark((function t(){var n,a,r,o,s,c,l;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.user,a=e.spaceId,r=e.accessToken,o=e.convertToExtension,s=F.students.map((function(e){return e.id})),D(!0),c=jo(jo({},F),{},{parentAssignmentId:E.destinationAssignmentId,classId:a}),l=jo(jo(jo({},e.assignment),c),{},{students:s,submissions:[]}),t.next=7,o(a,l,r,n);case 7:t.sent&&i((function(){return u(a,E.destinationAssignmentId)}));case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),U={primary:{label:"Convert",isDisabled:function(e,t){return!t.title||!t.students.length||!e.parentAssignmentTitle}},secondary:{label:"Cancel"}},B=l&&!wo(l)&&!!l.errorCode;return B&&A&&D(!1),wo(l)?R.a.createElement(ji,{students:l.students,provider:b,onClose:i,isConversion:!0}):R.a.createElement(qn.a,{theme:ko},R.a.createElement(An.a,{id:"extension-modal",open:p,onClose:i},R.a.createElement(Pn,null,R.a.createElement(xo,{data:E,assignmentData:F,setData:function(t){if(t.destinationAssignmentId){var n=o.find((function(e){return e.id===t.destinationAssignmentId})),a=n.extensions?n.extensions.map((function(e){return e.id})):[],r=[].concat(v()(a),[t.destinationAssignmentId]);m({accessToken:e.accessToken,assignmentsIds:r})}O((function(e){return jo(jo({},e),t)}))},setAssignmentData:function(e){L((function(t){return jo(jo({},t),e)}))},spaceUsers:a,spaceGroups:r,onClose:i,assignments:o,assignment:c,dialogTitle:s,hasError:B,greyedOutUsers:(N=k,M=j,N.filter((function(e){return!M.includes(e)})))}),function(){if(!U)return null;var e=U.primary,t=U.secondary,n={primary:e&&{label:e.label,onClick:function(){return _()},disabled:e.isDisabled&&e.isDisabled(E,F),loading:A},secondary:t&&{label:t.label,onClick:function(){i()}}};return R.a.createElement(Dn.a,{primary:n.primary,secondary:n.secondary})}())))};So.propTypes={dialogTitle:A.a.string.isRequired,open:A.a.bool.isRequired,onClose:A.a.func,convertToExtension:A.a.func.isRequired,redirectToSubmissions:A.a.func.isRequired,resetErrorState:A.a.func.isRequired,user:A.a.shape({id:A.a.oneOfType([A.a.string,A.a.number]),firstName:A.a.string,sessionToken:A.a.string}).isRequired,accessToken:A.a.string,spaceId:A.a.string.isRequired,assignment:A.a.shape(Vn).isRequired,spaceUsers:A.a.arrayOf(A.a.shape(Gn)),spaceGroups:A.a.arrayOf(A.a.shape(Kn)),getSubmissions:A.a.func.isRequired,fetchAllSubmissionsIncludingExtensions:A.a.func.isRequired,assignments:A.a.arrayOf(A.a.object),assignmentCreationError:A.a.shape()},So.defaultProps={onClose:function(){},spaceUsers:[],spaceGroups:[],accessToken:"",assignments:[],assignmentCreationError:{}};var Io=R.a.memo(So),Co=n(47);function To(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ro(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?To(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):To(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var qo=Object(j.b)((function(e,t){var n=t.assignmentId,a=e.user.user,i=(e.assignments||{}).selectedSpace,o=e.data.groups.groups,s=Ri.c.assignment(e,n),c=Ri.c.assignments(e),l=Ri.c.assignmentCreationError(e);return{dialogTitle:"Turn into an extension of another assignment",assignment:s,spaceUsers:Ri.c.submissions(e,n).map((function(e){var t=e.user,n=t.id,a=t.firstName,r=t.lastName;return{id:n,avatar:t.avatar,email:t.email,fullName:"".concat(a," ").concat(r)}})),spaceGroups:r()(o).map((function(e){return{key:e,value:o[e].name,students:o[e].students}})),spaceId:i,accessToken:Object(pi.accessToken)(e,i),user:a,assignments:c,assignmentCreationError:l,getSubmissions:function(t){return Ri.c.submissions(e,t)}}}),(function(e){return{convertToExtension:function(t,n,a,r){return e(Ri.b.convertAssignmentToExtension({spaceId:t,assignment:Ro(Ro({},n),{},{objectId:n.id,status:"live"}),accessToken:a,currentUser:r}))},redirectToSubmissions:function(t,n){return e(function(e,t){return function(){return Object(Co.a)("/dashboard/".concat(e,"/journey/assignments/").concat(t,"/submissions"))}}(t,n))},resetErrorState:function(){return e(Ri.b.resetErrorState())},fetchSubmissions:function(t){return e(Ri.b.fetchSubmissions(t))},fetchAllSubmissionsIncludingExtensions:function(t){return e(Ri.b.fetchAllSubmissionsIncludingExtensions(t))}}}))(Io),Ao=n(1912),Do=n.n(Ao),Po=function(e){var t=e.hasExtensions,n=e.assignment,a=e.assignments,r=e.setIsConvertingExtension;if(!n)return null;var i=!t&&!n.groupSet&&!n.isAnonymised,o=!!(vo(a,n).length>0),s=o?$.b.color.designSystem.blackOpacity60:$.b.color.designSystem.blackOpacity38,c=o?R.a.createElement("span",null,R.a.createElement("div",null,"Turn into an extension",R.a.createElement("div",null,"of another assignment"))):R.a.createElement("div",null,"There are no destination assignments available");return R.a.createElement(R.a.Fragment,null,i&&R.a.createElement("span",null,R.a.createElement(W.a,{title:c,position:"top"},R.a.createElement(Ze,null,R.a.createElement(Y.a,{icon:function(){return R.a.createElement(Do.a,{style:{color:s}})},size:"small",type:"secondary",label:"conversion",onClick:function(){return r(!!o)}})))))};Po.propTypes={hasExtensions:A.a.bool.isRequired,assignment:A.a.oneOfType([A.a.shape({}),F.a]),assignments:A.a.arrayOf(A.a.object).isRequired,setIsConvertingExtension:A.a.func.isRequired},Po.defaultProps={assignment:null};var zo=Po,Fo=n(164),Lo=function(e){var t=e.provider,n=e.isAnonymised,a=Object(Fo.useFlags)(),r=a.webappFtTurnitinAnonymousExtensions202110,i=a.webappFtHandinAnonymousExtensions202110;return!n||(t===ut.c?i:t===ut.h&&r)};function No(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?No(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):No(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var _o=Object(D.a)((function(e){return Tn(e)})),Uo=Object(D.a)((function(e,t){return t.find((function(t){return t.key===e}))})),Bo=Object(T.memo)((function(e){var t=e.user,n=e.sets,a=e.spaceName,r=e.accessToken,i=e.assignmentId,o=e.parentAssignmentSubmissions,s=e.isFetchingSubmissions,c=e.fetchSubmissionsErrored,l=e.hasFetchedSubmissions,u=e.fetchSubmissions,d=e.assignment,p=e.assignments,f=e.hasFetchedAssignments,m=e.fetchAssignmentsErrored,b=e.isFetchingAssignments,h=e.fetchAssignments,v=e.accessingAsStaff,y=e.deleteSubmission,x=e.spaceId,E=e.getSubmissions,O=e.extensions,j=e.hasExtensions,k=e.getSubmissionsFetchedStatus,w=e.editExtension,I=e.isEducator,q=e.goToQuizzes,A=Object(T.useState)(null),D=g()(A,2),F=D[0],L=D[1],N=Object(T.useState)(d.id),M=g()(N,2),_=M[0],U=M[1],B=Object(T.useState)(!1),H=g()(B,2),G=H[0],V=H[1],W=Object(T.useState)(null),K=g()(W,2),Q=K[0],Y=K[1],J=Object(T.useState)(!1),Z=g()(J,2),$=Z[0],X=Z[1],ee=Object(T.useState)(!1),te=g()(ee,2),ne=te[0],ae=te[1],re=Object(T.useState)(!1),ie=g()(re,2),oe=ie[0],se=ie[1],ce=function(e){s||u({accessToken:r,assignmentId:e}),U(e)},ue=function(){var e=S()(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s||u({accessToken:r,assignmentId:t}),Y(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=S()(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),e.next=3,w({currentUser:t,spaceId:x,assignment:Mo(Mo({},ne),{},{status:"trash"}),accessToken:r});case 3:se(!1),ae(!1),ce(d.id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pe=function(){var e=S()(C.a.mark((function e(){var n,a,i=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=i.length>0&&void 0!==i[0]&&i[0],a=i.length>1?i[1]:void 0,w({currentUser:t,spaceId:x,assignment:Mo(Mo({},a),{},{isHidden:n}),accessToken:r});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=S()(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f||b||h({user:t,accessToken:r,spaceId:x});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=S()(C.a.mark((function e(){var t,n=arguments;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.length>0&&void 0!==n[0]?n[0]:null,s||u({accessToken:r,assignmentId:i,group:t}),t?Object(At.c)(Dt.w,{activeClassroom:x,assignmentId:i,groupId:t}):L(null);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=Object(T.useRef)();Object(T.useEffect)((function(){r&&!be.current&&(fe(),me(),be.current=r)}),[r]),Object(T.useEffect)((function(){i&&me()}),[i]),Object(T.useEffect)((function(){me(F)}),[d]),Object(T.useEffect)((function(){var e;e=a?"".concat(a," - "):"",document.title="Submissions - ".concat(e,"Aula")}),[a]),Object(T.useEffect)((function(){ce(d.id)}),[d.id]);var he=function(t){switch(t){case En:L(null),me();break;case xn:(0,e.openGroups)(x);break;default:L(t),me(t)}};if(c||m)return R.a.createElement(Ie,null,R.a.createElement(Ce,null,R.a.createElement(Sn.a,{style:Te,prevPage:"all assignments"})),R.a.createElement(Ce,{className:"loader"},R.a.createElement("p",null,"An error occured while loading submissions. Please refresh!")));var ve=Object(T.useCallback)((function(e){return e.id===_}),[_]),ye=j?O.find(ve):d,xe=ye?E(ye.id):o,Ee=!!d.groupSet,Oe=d.isAnonymised,je=d.provider,ke=Ee?_o(o):xe,we=wn(ke,(ye||d).endDate),Se=we.earlySubmissions,qe=we.lateSubmissions,Fe=we.noSubmissions,Le=Se.length+qe.length+Fe.length,Ne=Se.length+qe.length,Me=ye&&ye.provider===ut.f,_e=Lo({provider:je,isAnonymised:Oe}),Ue=!Me&&!Ee&&!j&&_e&&I,Be=!f||!l||ye&&!k(ye.id),He=(Uo(d.groupSet,n)||{studentsWithNoGroup:[]}).studentsWithNoGroup;return R.a.createElement(qt,{assignment:ye,spaceId:x,user:t},R.a.createElement(Ie,null,R.a.createElement(Ce,null,R.a.createElement(Sn.a,{style:Te,prevPage:"all assignments"}),Me&&R.a.createElement(P.a,{type:"primary",onClick:q({spaceId:x,assignmentId:i}),size:"small",disabled:v,"data-testid":"submissions-edit-quiz"},"Edit quiz")),!j&&Be?R.a.createElement(Ce,{className:"loader"},R.a.createElement(z.a,{size:25})):R.a.createElement(R.a.Fragment,null,R.a.createElement(De,null,R.a.createElement(Pe,{"data-testid":"assignment-title"},d.title),R.a.createElement("div",null,!Me&&I&&R.a.createElement(zo,{assignment:ye,hasExtensions:j,setIsConvertingExtension:X,assignments:p}),Ue&&R.a.createElement(P.a,{type:"primary",iconLeft:ge,onClick:!v&&function(){return V(!0)},size:"small",disabled:v},"New extension"))),R.a.createElement(Re,null,j&&R.a.createElement(at,{extensions:O,handleClick:ce,openExtension:ce,handleEdit:ue,openCreateExtensionModal:function(){return V(!0)},handleDelete:function(e){ae(e)},handleVisibilityChange:pe,selectedExtensionId:_,parentAssignmentSubmissions:o,isEducator:I}),ye&&R.a.createElement(Ae,null,!Be&&R.a.createElement(R.a.Fragment,null,R.a.createElement(ro,{assignment:ye,submissionCount:Ne,totalStudentsCount:Le,parentAssignment:d,loading:Be}),R.a.createElement(ze,{id:"group-dropdown"},R.a.createElement(rt.d,{label:"Filter by group",id:"tags-select",selectedKey:F,onChange:he,onDismiss:F&&he,dataSet:n,DropdownStyle:Ye,DropdownItemType:kn,headerTextTruncate:!0,isLoading:!1,headerFontSize:"medium",showKeyInHeader:!0,ariaLabelledby:"group-dropdown",DropdownItemStyle:Je}))),R.a.createElement(un,{submissions:xe,submissionGroups:we,loading:Be,assignmentId:ye.id,assignmentExternalId:ye.externalId,isGroupAssignment:Ee,studentsWithNoGroup:He,accessingAsStaff:v,deleteSubmission:y,spaceId:x,isExtension:!!ye.parentAssignmentId,isAnonymised:Oe})))),G&&R.a.createElement(Pi,{open:G,assignmentId:i,openExtension:ce,onClose:function(){return V(!1)}}),Q&&R.a.createElement(Mi,{open:!!Q,extensionId:Q,assignmentId:i,openExtension:ce,onClose:function(){Y(null)}}),$&&R.a.createElement(qo,{open:$,assignmentId:i,onClose:function(e){X(!1),e&&"function"==typeof e&&e()}}),ne&&R.a.createElement(pt.a,{id:"confirm-delete-extension",title:'Delete extension "'.concat(ne.title,'"'),message:le.Ib,open:!!ne,onClose:function(){return ae(!1)},action:{label:"Delete",onClick:function(){return de()},danger:!0,loading:oe},secondaryAction:{label:"Cancel",onClick:function(){return ae(!1)}}})))}));Bo.propTypes={sets:A.a.arrayOf(A.a.shape({})).isRequired,user:A.a.shape({id:A.a.oneOfType([A.a.string,A.a.number]),firstName:A.a.string,sessionToken:A.a.string}).isRequired,spaceId:A.a.string,assignment:A.a.oneOfType([A.a.shape({}),F.a]),assignments:A.a.arrayOf(A.a.object).isRequired,parentAssignmentSubmissions:A.a.arrayOf(A.a.shape({})).isRequired,isFetchingSubmissions:A.a.bool.isRequired,fetchSubmissionsErrored:A.a.bool.isRequired,hasFetchedSubmissions:A.a.bool.isRequired,accessToken:A.a.string,spaceName:A.a.string,assignmentId:A.a.string.isRequired,openGroups:A.a.func.isRequired,fetchSubmissions:A.a.func.isRequired,editExtension:A.a.func.isRequired,hasFetchedAssignments:A.a.bool.isRequired,fetchAssignmentsErrored:A.a.bool,isFetchingAssignments:A.a.bool.isRequired,fetchAssignments:A.a.func.isRequired,deleteSubmission:A.a.func.isRequired,accessingAsStaff:A.a.bool.isRequired,isEducator:A.a.bool.isRequired,extensions:A.a.arrayOf(F.a),hasExtensions:A.a.bool.isRequired,getSubmissions:A.a.func.isRequired,getSubmissionsFetchedStatus:A.a.func.isRequired,goToQuizzes:A.a.func.isRequired},Bo.defaultProps={accessToken:void 0,assignment:{},spaceId:"",spaceName:"",extensions:void 0,fetchAssignmentsErrored:!1};var Ho=Bo,Go=n(113),Vo=n(25),Wo=n(569);function Ko(e,t){var n=r()(e);if(o.a){var a=o()(e);t&&(a=a.filter((function(t){return c()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Qo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ko(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):u.a?p()(e,u()(n)):Ko(Object(n)).forEach((function(t){m()(e,t,c()(n,t))}))}return e}var Yo=function(e,t){return new Date(e.createdAt)-new Date(t.createdAt)},Jo=function(e,t,n){return O()(e).filter((function(e){return!n||e.space===n})).map((function(e){return Qo(Qo({},e),{},{groups:e.groups.map((function(e){return t[e]}))})}))},Zo=Object(k.a)([function(e){return e}],(function(e){var t=e.reduce((function(e,t){return t.groups.length&&e.push.apply(e,[{isHeader:!0,key:t.id,label:t.name,studentsWithNoGroup:t.studentsWithNoGroup}].concat(v()(t.groups.map((function(e){return Qo(Qo({},e),{},{isHeader:!1,key:e.id,label:e.name})}))))),e}),[]).sort(Yo);return t.push({label:xn,key:xn,isHeader:!1},{label:En,key:En,isHeader:!1}),t})),$o=Object(j.b)((function(){var e=Object(k.a)(Jo,(function(e){return e}));return function(t){var n=(t.assignments||{}).selectedSpace,a=t.user.user,r=Object(Go.d)(t).pathname?Object(Go.d)(t).pathname.split("/").slice(-2):[""],i=g()(r,1)[0],o=Object(Vo.currentClassRoomId)(t),s=Ri.c.assignment(t,i)||{},c=s.extensions,l=void 0===c?[]:c,u=!!l.length,d=u?[s].concat(v()(l)):[],p=Ri.c.assignments(t);return{sets:Zo(e(t.data.groups.sets,t.data.groups.groups,o)),spaceId:n,user:a,assignmentId:i,getSubmissions:function(e){return Ri.c.submissions(t,e)},assignment:s,extensions:d,assignments:p,hasExtensions:u,getSubmissionsFetchedStatus:function(e){return Ri.c.hasFetchedSubmissions(t,e)},spaceName:Object(Vo.classRoomName)(t),selectedSpace:t.data.classRooms[t.assignments.selectedSpace],accessToken:Object(pi.accessToken)(t,n),parentAssignmentSubmissions:Ri.c.submissions(t,i),hasFetchedAssignments:Ri.c.hasFetchedAssignments(t),isFetchingAssignments:Ri.c.isFetchingAssignments(t),fetchAssignmentsErrored:Ri.c.isErrored(t),fetchSubmissionsErrored:Ri.c.fetchSubmissionsErrored(t,i),hasFetchedSubmissions:Ri.c.hasFetchedSubmissions(t,i),isFetchingSubmissions:Ri.c.isFetchingSubmissions(t,i),accessingAsStaff:Object(Vo.accessingCurrentSpaceAsStaff)(t),isEducator:Object(Vo.isInstructor)(t)}}}),(function(e){return{deleteSubmission:function(t){return e(Ri.b.deleteSubmission(t))},editExtension:function(t){return e(Ri.b.editAssignment(t))},fetchAssignments:function(t){return e(Ri.b.fetchAssignments)(t)},fetchSubmissions:function(t){return e(Ri.b.fetchSubmissions(t))},goToQuizzes:wt.a,launchTurnitinAssignment:jt,launchTurnitinSubmission:kt,openGroups:function(t){return e(Object(Wo.a)(t))}}}))(Ho);t.default=$o},1965:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(0),i=n.n(r),o=n(1),s=n.n(o),c=n(1811),l=n(26),u=n.n(l),d=n(12),p=n.n(d),f=n(53),m=n.n(f),b=n(52),g=n.n(b),h=n(51),v=n.n(h),y=n(58),x=n.n(y),E=n(60),O=n.n(E),j=n(42),k=n.n(j),w=n(7),S=n.n(w),I=n(253),C=n.n(I),T=n(579),R=n(14),q=n(15),A=Object(R.a)("display:flex;justify-content:center;align-items:center;"),D=Object(R.b)("div",{target:"ewzghzj0"})("flex-grow:1;justify-content:flex-end;display:flex;"),P=Object(R.b)("div",{target:"ewzghzj1"})("flex-grow:1;display:flex;justify-content:space-between;align-items:center;"),z=Object(R.b)("div",{target:"ewzghzj2"})("width:32px;height:32px;",A,";color:",q.b.color.grayDark,";cursor:pointer;"),F=Object(R.b)("div",{target:"ewzghzj3"})(A,";flex-grow:1;justify-content:flex-start;"),L=Object(R.b)("input",{target:"ewzghzj4"})("border:none;font-size:14px;margin-left:8px;width:100%;background:transparent;padding:4px;border-bottom:1px solid ",q.b.color.grayDark,";font-family:",q.b.font.family.workSans,";&::placeholder{color:",q.b.color.grayDark,";}&:focus{outline:none;}"),N=n(561);function M(e){var t=function(){if("undefined"==typeof Reflect||!u.a)return!1;if(u.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=u()(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var _=function(e){x()(n,e);var t=M(n);function n(){return m()(this,n),t.apply(this,arguments)}return g()(n,[{key:"render",value:function(){return i.a.createElement(D,null,i.a.createElement(T.a,{title:"Search"},i.a.createElement("div",null,i.a.createElement(N.a,{label:"Search",onClick:this.props.onClick,size:"small",icon:C.a}))))}}]),n}(r.PureComponent),U=n(143),B=n.n(U);function H(e){var t=function(){if("undefined"==typeof Reflect||!u.a)return!1;if(u.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=u()(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var G=function(e){x()(n,e);var t=H(n);function n(e){var a;return m()(this,n),(a=t.call(this,e)).onChange=a.onChange.bind(v()(a)),a.onClose=a.onClose.bind(v()(a)),a}return g()(n,[{key:"onChange",value:function(e){(0,this.props.search)(e.target.value)}},{key:"onClose",value:function(){var e=this.props,t=e.search,n=e.onClose;t(""),n()}},{key:"render",value:function(){return i.a.createElement(P,null,i.a.createElement(F,null,i.a.createElement(z,null,i.a.createElement(C.a,null)),i.a.createElement(L,{onChange:this.onChange,autoFocus:!0,type:"text",placeholder:"Search..."})),i.a.createElement(z,null,i.a.createElement(B.a,{onClick:this.onClose})))}}]),n}(r.PureComponent);G.propTypes={search:s.a.func.isRequired,onClose:s.a.func.isRequired};var V=G,W=n(328),K=Object(a.b)((function(e){return{query:W.c.assignmentQuery(e)}}),(function(e){return{search:W.b.search(e)}}))(V),Q=n(578),Y=(n(524),Object(R.b)("div",{target:"evgimip1"})("margin-left:8px;")),J=function(e){var t=e.onShowCreateAssignment;return i.a.createElement(Y,null,i.a.createElement(Q.a,{onClick:t,"data-testid":"new-assignment-button",size:"small",type:"primary"},"New assignment"))};J.propTypes={onShowCreateAssignment:s.a.func.isRequired};var Z=J,$=Object(R.b)("div",{target:"e1osvi720"})("width:100%;background:transparent;display:flex;justify-content:space-between;align-items:center;padding-top:0px;padding-bottom:",q.b.spacing.small,";padding-left:",q.b.spacing.medium,";padding-right:",q.b.spacing.medium,";box-sizing:border-box;max-width:calc(584px + ",q.b.spacing.medium," + ",q.b.spacing.medium,");"),X=Object(R.b)("div",{target:"e1osvi721"})("font-weight:600;font-size:20px;");function ee(e){var t=function(){if("undefined"==typeof Reflect||!u.a)return!1;if(u.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=u()(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var te=function(e){x()(n,e);var t=ee(n);function n(e){var a;return m()(this,n),(a=t.call(this,e)).state={isSearching:!1},a.toggleSearch=a.toggleSearch.bind(v()(a)),a}return g()(n,[{key:"toggleSearch",value:function(){this.setState((function(e){return{isSearching:!e.isSearching}}))}},{key:"render",value:function(){var e=this.state.isSearching,t=this.props,n=t.isInstructor,a=t.onShowCreateAssignment;return i.a.createElement($,null,e?i.a.createElement(K,{onClose:this.toggleSearch}):[i.a.createElement(X,{key:"assignment-page"},"Assignments"),i.a.createElement(_,{key:"search-btn_".concat(Math.random()),onClick:this.toggleSearch}),n?i.a.createElement(Z,{key:"create-btn_".concat(Math.random()),onShowCreateAssignment:a}):null])}}]),n}(r.PureComponent),ne=n(25),ae=Object(a.b)((function(e){return{isInstructor:Object(ne.isInstructor)(e)}}))(te),re=n(6),ie=n.n(re),oe=n(3),se=n.n(oe),ce=n(4),le=n.n(ce),ue=n(5),de=n.n(ue),pe=n(9),fe=n.n(pe),me=n(8),be=n.n(me),ge=n(2),he=n.n(ge),ve=n(1805),ye=n(292),xe=n(20),Ee=n.n(xe),Oe=n(551),je=n.n(Oe),ke=n(104),we=n(24),Se=n(567),Ie=n(46),Ce=n(44);function Te(e,t){var n=ie()(e);if(se.a){var a=se()(e);t&&(a=a.filter((function(t){return le()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(n),!0).forEach((function(t){he()(e,t,n[t])})):de.a?fe()(e,de()(n)):Te(Object(n)).forEach((function(t){be()(e,t,le()(n,t))}))}return e}var qe=["firstName","lastName","email","grade","externalId"],Ae=function(e){var t=e.assignment,n=t.objectId,a=t.title,r=t.extensions,i=void 0===r?[]:r,o=e.spaceId;return function(){var e=p()(S.a.mark((function e(t,r){var s,c,l,u,d;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=r(),c=[n].concat(Ee()(i.map((function(e){return e.id})))).join(","),e.next=4,Object(ke.f)({assignmentId:c,spaceId:o,accessToken:Object(we.accessToken)(s,o),sessionToken:Object(we.sessionToken)(s)});case 4:l=e.sent,u=l.data,d=u.grades[n].filter((function(e){return!!e.grade})).map((function(e){return Re(Re({},e),{},{externalId:e.studentExternalId,assignmentExternalId:e.externalId})})),Object(Ie.c)(Ce.s,{assignment:{objectId:n,title:a},activeClassroom:o}),je()(Object(Se.a)(qe,d),"".concat(a,".csv"),"text/csv;charset=utf-8;");case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},De=n(1689),Pe=n(92);function ze(e,t){var n=ie()(e);if(se.a){var a=se()(e);t&&(a=a.filter((function(t){return le()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){he()(e,t,n[t])})):de.a?fe()(e,de()(n)):ze(Object(n)).forEach((function(t){be()(e,t,le()(n,t))}))}return e}var Le,Ne=function(e,t){return null===e?t:e},Me=function(e){return{provider:e.provider,status:e.status,isHidden:e.isHidden,title:e.title,description:e.description,startDate:e.startDate,endDate:e.endDate,assessment:e.assessment,objectId:e.objectId,externalId:Ne(e.externalId,void 0),groupSet:e.groupSet,isAnonymised:Ne(e.isAnonymised,!1),shouldCloseOnDueDate:Ne(e.shouldCloseOnDueDate,!1)}},_e=function(e){return function(t,n,a){return W.b.editAssignment({currentUser:t,spaceId:n,assignment:Fe(Fe({},Me(a)),e),accessToken:void 0})}},Ue={hideAssignment:_e({isHidden:!0}),unhideAssignment:_e({isHidden:!1}),closeAssignment:function(e,t,n){return W.b.closeAssignment({currentUser:e,spaceId:t,assignment:n})},reopenAssignment:function(e,t,n){return W.b.reopenAssignment({currentUser:e,spaceId:t,assignment:n})},anonymiseStudents:_e({isAnonymised:!0}),revealStudents:_e({isAnonymised:!1}),deleteAssignment:_e({status:"trash"}),exportGrades:Ae,goToSubmissions:Pe.p,goToQuizzes:Pe.m,goToReports:Pe.n},Be=Object(a.b)((function(e){var t=e.user.user,n=W.c.selectedSpace(e),a=W.c.isFetchingAssignments(e),r=W.c.assignmentQuery(e);return{user:t,assignments:W.c.assignments(e).filter(De.d).filter(Object(De.e)(r)),isErrored:W.c.isErrored(e),isFetching:a||e.accessTokens.isFetching,hasFetchedAssignments:W.c.hasFetchedAssignments(e),isEducator:Object(ye.c)(t.objectId,n),accessingAsStaff:Object(ne.accessingCurrentSpaceAsStaff)(e),accessToken:Object(we.accessToken)(e,n)}}),Ue)(ve.b),He=n(530),Ge=n.n(He),Ve=n(1593),We=n(1653),Ke=n.n(We),Qe=n(1654),Ye=n.n(Qe),Je=n(1655),Ze=n.n(Je),$e=function(e){var t=e.baseDomain,n=e.space,a=e.assignment,r=e.search,i="https://handin.".concat(t,"/").concat(n);return"cypress"===Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).TEST_ENV&&(i="http://localhost:9090/".concat(n)),a&&(i+="/".concat(a)),r&&(i+="?".concat(r)),i},Xe=n(1726),et=n(88),tt=n.n(et),nt=n(285),at=n(1652),rt=n(1639),it=1e3,ot=function(e){return!e||""===e},st=function(e){var t=e.title,n=e.startDate,a=e.endDate,r=e.isGroupAssignment,i=e.groupSet;return{title:ot(t),startDate:ot(n),endDate:ot(a)||Object(nt.a)(Object(at.a)(a),Object(at.a)(n)),isGroupAssignment:r&&ot(i)}},ct=function(e){var t=e.title,n=e.startDate,a=e.endDate,r=e.gradesReleasedAt,i=e.gradeType,o=e.maxGrade;return{title:ot(t)||t.length<2,startDate:ot(n),endDate:ot(a)||Object(nt.a)(Object(at.a)(a),Object(at.a)(n)),gradesReleasedAt:ot(r)||Object(nt.a)(Object(at.a)(r),Object(at.a)(n)),maxGrade:i===rt.a.points.value&&(!o||o<1||o>1e3)}},lt=function(e){var t=e.title,n=e.startDate,a=e.endDate,r=e.gradeType,i=e.description;return{title:ot(t),startDate:ot(n),endDate:ot(a)||Object(nt.a)(Object(at.a)(a),Object(at.a)(n)),gradeType:ot(r)||void 0===r,description:i.length>it}},ut=function(e){return tt()(e).some((function(e){return!!e}))},dt=n(1883),pt=n.n(dt),ft=n(1884),mt=n.n(ft),bt=n(1600),gt=Object(R.b)("div",{target:"e17886060"})("display:flex;flex-direction:column;justify-content:space-between;background-color:",q.b.color.white,";background:",(function(e){var t=e.background;return t?"".concat(q.b.color.white," url(").concat(t,") top right no-repeat"):q.b.color.white}),";background-size:contain;width:493px;min-height:583px;max-height:700px;box-shadow:0 0 30px 0 rgba(0,0,0,0);border-radius:8px;overflow:auto;max-height:100vh;"),ht=Object(R.b)("div",{target:"e17886061"})("flex:1;display:flex;flex-direction:column;justify-content:flex-start;height:100%;padding-bottom:",(function(e){return function(e,t,n){return t&&n===bt.f?0:e?16:t?40:30}(e.compact,e.createstep,e.provider)}),"px;",(function(e){return function(e,t,n){return n?"align-items: center; justify-content: flex-end;":e&&!t?"":e&&t?"align-items: center; justify-content: center":"align-items: flex-start;"}(e.createstep,e.isSaving,e.saved)})," padding-left:",(function(e){return e.createstep?"0px":"40px"}),";margin-top:",(function(e){return e.createstep?"0px":"240px"}),";"),vt=Object(R.b)("div",{target:"e17886062"})("display:flex;flex:none;height:72px;width:100%;border-top-left-radius:",q.b.borderRadius.large,";border-top-right-radius:",q.b.borderRadius.large,";align-items:center;padding-left:30px;padding-right:30px;align-self:center;font-weight:500;font-size:16px;box-sizing:border-box;justify-content:space-between;"),yt=Object(R.b)("div",{target:"e17886063"})("display:flex;flex:none;align-items:center;justify-content:space-between;height:56px;width:100%;border-bottom-left-radius:",q.b.borderRadius.large,";border-bottom-right-radius:",q.b.borderRadius.large,";border-top:1px solid ",q.b.color.grayLight,";background-color:#fff;padding-left:12px;padding-right:12px;box-sizing:border-box;"),xt=Object(R.b)("div",{target:"e17886064"})("display:flex;flex:none;flex-direction:column;align-items:center;justify-content:space-between;height:70px;padding-bottom:36px;padding-top:20px;"),Et=Object(R.b)("button",{target:"e17886065"})("border-radius:",q.b.borderRadius.medium,";border:none;padding:6px 16px;background-color:",(function(e){return e.primary?q.b.color.purple:q.b.color.beige}),";color:",(function(e){return e.primary?q.b.color.white:q.b.color.black}),";font-size:14px;font-weight:",q.b.font.weight.medium,";letter-spacing:0;line-height:20px;cursor:pointer;font-family:",q.b.font.family.workSans,";transition:background-color ",q.b.transition.speed.xFast," ",q.b.transition.easing.easeOut,";:hover{background-color:",(function(e){return e.primary?q.b.color.purple0:q.b.color.beige}),";}"),Ot=Object(R.b)("div",{target:"e17886066"})("display:flex;color:",q.b.color.purple,";font-family:",q.b.font.family.workSans,";font-size:12px;cursor:pointer;"),jt=Object(R.b)("div",{target:"e17886067"})("width:48px;height:48px;border-radius:",q.b.borderRadius.medium,";color:",q.b.color.purple,";background-color:rgba(133,67,192,0.08);display:flex;flex-shrink:0;align-items:center;justify-content:center;cursor:pointer;transition:background-color ",q.b.transition.speed.xFast," ",q.b.transition.easing.easeOut,";&:hover{background-color:rgba(133,67,192,0.2);}&:active{background-color:rgba(133,67,192,0.08);svg{opacity:0.56;}}"),kt=Object(R.b)("div",{target:"e17886068"})("display:flex;flex-direction:row;justify-content:space-between;width:70px;"),wt=Object(R.b)("div",{target:"e17886069"})("width:30px;height:4px;border-radius:",q.b.borderRadius.small,";background-color:",(function(e){return e.active?q.b.color.purple:q.b.color.gray}),";"),St=Object(R.b)("h2",{target:"e178860610"})("font-weight:500;font-size:16px;margin:0;"),It=Object(R.b)("p",{target:"e178860611"})("font-family:",q.b.font.family.workSans,";font-size:",q.b.font.size.copy,";font-weight:",q.b.font.weight.regular,";line-height:",q.b.font.lineHeight.copy,";margin:0 0 14px -10px;color:",q.b.color.designSystem.blackOpacity87,";"),Ct=(q.b.font.family.workSans,q.b.font.size.large,q.b.color.mediumBlue,Object(R.b)("div",{target:"e178860613"})("width:65px;")),Tt=n(1544),Rt=Object(R.b)("div",{target:"e1sjtr2j0"})("display:flex;flex-direction:column;gap:12px;"),qt=Object(R.b)("div",{target:"e1sjtr2j1"})("display:flex;flex-direction:row;align-items:center;padding-left:15px;"),At=Object(R.b)("p",{target:"e1sjtr2j2"})("font-size:",q.b.font.size.copy,";color:black;line-height:12px;margin:0;"),Dt=Object(R.b)("p",{target:"e1sjtr2j3"})("font-size:",q.b.font.size.small,";color:",q.b.color.designSystem.blackOpacity60,";margin:0;"),Pt=Object(R.b)("div",{target:"e1sjtr2j4"})("display:flex;flex-direction:column;align-items:self-start;padding-left:8px;margin-top:5px;"),zt=n(1725),Ft=Math.random().toString(36).substr(2,9),Lt=(Le={},he()(Le,bt.c,"Recommended for text or multimedia submissions"),he()(Le,bt.h,"Recommended when plagiarism checking is required"),he()(Le,bt.f,"Recommended for creating quizzes, short tests or polls"),Le),Nt=function(e){var t=e.currentTool,n=e.tools,a=e.onToolChange,r=function(e){return i.a.createElement(qt,null,i.a.createElement(Tt.a,{src:e.logo,name:e.logo,size:"small"}),i.a.createElement(Pt,null,i.a.createElement(At,null,e.name),i.a.createElement(Dt,null,Lt[e.key])))};return i.a.createElement("div",{id:"menu-tool-".concat(Ft)},i.a.createElement(Rt,null,n.map((function(e){return i.a.createElement(zt.a,{"data-testid":"tools-selector-".concat(e.key),key:e.name,label:r(e),ariaLabel:e.name,handleChange:function(){return a(e)},isSelected:e.key===t.key,name:"".concat(e.name,"-radio"),value:e.name})}))))};Nt.propTypes={currentTool:s.a.shape().isRequired,tools:s.a.arrayOf(s.a.shape({key:s.a.string,logo:s.a.string,name:s.a.string})).isRequired,onToolChange:s.a.func.isRequired};var Mt=Nt,_t=n(19),Ut=n.n(_t),Bt=n(1574),Ht=n(2002),Gt=n(1497),Vt=n(1674),Wt=n(198),Kt=n(1733),Qt=n(1974),Yt=(n(334),n(527)),Jt=n.n(Yt),Zt=n(1592),$t=n(517),Xt=n(1583),en="rgb(102,102,102)",tn=Object($t.a)({palette:{primary:{main:q.b.color.purple}},typography:{fontFamily:q.b.font.family.workSans,fontSize:14},overrides:{MuiSwitch:{switchBase:{color:"#666666"}}}}),nn="\n  input {\n    font-size: 14px;\n  }\n\n  label {\n    font-size: 14px;\n  }\n",an=Object(R.b)("div",{target:"e1dyuopz0"})("color:#31405c;font-size:22px;font-weight:600;text-align:center;"),rn=Object(R.b)("div",{target:"e1dyuopz1"})("color:#4a4a4a;font-size:16px;font-weight:400;text-align:center;margin-top:12px;"),on=Object(R.b)(Qt.a,{target:"e1dyuopz2"})("width:calc(50% - 6px);margin-right:6px;margin-top:20px;",nn),sn=Object(R.b)("div",{target:"e1dyuopz3"})("z-index:9999999999;"),cn=Object(R.b)(Qt.a,{target:"e1dyuopz4"})("width:calc(50% - 7px);margin-left:7px;margin-top:20px;",nn),ln=Object(R.b)("div",{target:"e1dyuopz5"})("display:flex;justify-content:space-between;align-items:center;height:38px;margin-top:",(function(e){return e.isTop?"15px":"0"}),";"),un=Object(R.b)("label",{target:"e1dyuopz6"})("display:block;color:","rgb(33,33,33)",";font-size:14px;margin-left:",(function(e){return e.noIndent?"0":"12px"}),";"),dn=Object(R.b)(Zt.a,{target:"e1dyuopz7"})("margin-top:24px;",nn),pn=Object(R.b)(Zt.a,{target:"e1dyuopz8"})(nn),fn=Object(R.b)(Zt.a,{target:"e1dyuopz9"})("margin-top:24px;width:100px;",nn),mn=Object(R.b)(Xt.a,{target:"e1dyuopz10"})("margin-top:24px;width:100%;",nn),bn=Object(R.b)("div",{target:"e1dyuopz11"})("padding:0 30px;overflow:hidden auto;align-self:stretch;padding-bottom:30px;",dn,":nth-child(1){margin-top:10px;color:red;}"),gn=Object(R.b)("div",{target:"e1dyuopz12"})("display:flex;align-items:center;"),hn=Object(R.b)(Jt.a,{target:"e1dyuopz14"})("font-size:24px;color:",en,";"),vn=Object(R.b)(Kt.a,{target:"e1dyuopz15"})("fill:",en,";"),yn=Object(R.b)(Xt.a,{target:"e1owvuiz0"})("margin-top:24px;font-family:",q.b.font.family.workSans,";width:100%;"),xn=Object(R.b)("div",{target:"e1owvuiz1"})("display:flex;flex-wrap:wrap;justify-content:space-between;"),En=Object(R.b)("div",{target:"e1owvuiz2"})("width:calc(50% - ",q.b.spacing.small,");margin-top:20px;height:48px;"),On=n(45),jn=n.n(On),kn=n(2004),wn=function(){var e=Object(r.useState)(0),t=jn()(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("assignmentCreationAttempts"))||0;a(e),e<3&&localStorage.setItem("assignmentCreationAttempts",e+1)}),[]),n<3?i.a.createElement(kn.a,{type:"announcement"},i.a.createElement("span",{"data-testid":"upcoming-assignment-message"},"Before an assignment opens, students will be able to see the assignment title and dates only. Access to the assignment itself is disabled until the open date. You can still hide it completely as before.")):null};function Sn(e){var t=function(){if("undefined"==typeof Reflect||!u.a)return!1;if(u.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=u()(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var In=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(an,null,"Excellent!"),i.a.createElement(rn,null,"Your assignment has been saved."))},Cn=function(e){x()(n,e);var t=Sn(n);function n(e){var a;return m()(this,n),(a=t.call(this,e)).state={editingDateType:null},a}return g()(n,[{key:"renderAnonymiseSwitch",value:function(){var e=this.props,t=e.assignment,n=e.handleSwitch,a=e.isEditing,r=e.hasAnonymizedError,o=t.isAnonymised,s=t.extensions,c=!a||a&&"boolean"==typeof o,l=t&&t.submissions.length>0,u=new Date(t.gradesReleasedAt)<new Date,d=s&&s.length>0,p=l||r||u||d,f=p?"The anonymise setting cannot be modified because the assignment ".concat(d?"contains extensions.":"already received submissions or grades released date is in the past."):"By default, student submissions will not be anonymised. Change this setting here.";return c?i.a.createElement(T.a,{position:"right",title:f},i.a.createElement(ln,{isTop:!0},i.a.createElement(gn,null,i.a.createElement(Kt.a,null),i.a.createElement(un,null,"Anonymise student submissions")),i.a.createElement(Bt.a,{disabled:p,checked:o,onChange:n("isAnonymised"),color:"primary"}))):null}},{key:"renderForm",value:function(){var e=this,t=this.props,n=t.errors,a=t.assignment,r=t.handleChange,o=t.handleDateTimePicker,s=t.handleSwitch,c=t.isEditing,l=t.tiiMaxGrade,u=t.handleGradeTypeChange,d=t.handleMaxGradeChange,p=a.title,f=a.startDate,m=a.endDate,b=a.gradesReleasedAt,g=a.isHidden,h=a.description,v=a.gradeType,y=a.maxGrade,x=f?Ut()(f).format("lll"):"",E=m?Ut()(m).format("lll"):"",O=b?Ut()(b).format("lll"):"",j=this.state.editingDateType;return i.a.createElement(i.a.Fragment,null,i.a.createElement(bn,{"data-testid":"new-assignment-info"},i.a.createElement(Gt.a,{theme:tn},i.a.createElement(wn,null),i.a.createElement(dn,{label:"Title","data-testid":"new-assignment-title",value:p,onChange:r("title"),error:n.title}),i.a.createElement(dn,{label:"Description","data-testid":"new-assignment-description",value:h,onChange:r("description"),error:n.description}),i.a.createElement(xn,null,i.a.createElement(En,{onClick:function(){return e.setState({editingDateType:"startDate"})}},i.a.createElement(pn,{label:"Open date",value:x,error:n.startDate,"data-testid":"new-assignment-start-button",DialogProps:{"data-testid":"new-assignment-start-date-picker"}})),i.a.createElement(En,{onClick:function(){return e.setState({editingDateType:"endDate"})}},i.a.createElement(pn,{label:"Due date",value:E,error:n.endDate,"data-testid":"new-assignment-due-button",DialogProps:{"data-testid":"new-assignment-due-date-picker"}})),i.a.createElement(En,{onClick:function(){return e.setState({editingDateType:"gradesReleasedAt"})}},i.a.createElement(pn,{label:"Grades release date",value:O,error:n.gradesReleasedAt,"data-testid":"new-assignment-released-button",DialogProps:{"data-testid":"new-assignment-released-date-picker"}}))),l&&i.a.createElement("div",null,i.a.createElement(yn,{select:!0,label:"Grading type",value:v,onChange:u,margin:"normal",disabled:c,variant:"outlined","data-testid":"new-assignment-grading-type"},tt()(rt.a).map((function(e){return i.a.createElement(Vt.a,{key:e.value,value:e.value,"data-testid":"grading-type-".concat(e.value)},e.displayValue)}))),v===rt.a.points.value&&i.a.createElement(fn,{value:y,type:"number",label:"Max grade",onChange:d,error:n.maxGrade,InputProps:{inputProps:{min:1,max:1e3}},disabled:c,"data-testid":"new-assignment-max-grade"})),i.a.createElement(T.a,{position:"right",title:"By default, assignments are hidden from students until you are ready to make them visible."},i.a.createElement(ln,{checked:g,isTop:!0},i.a.createElement(gn,null,i.a.createElement(hn,null),i.a.createElement(un,null,"Assignment is hidden")),i.a.createElement(Bt.a,{checked:g,onChange:s("isHidden"),color:"primary","data-testid":"hidden-switch"}))),this.renderAnonymiseSwitch())),i.a.createElement(Ht.a,{id:"new-assignment-dates",date:j&&a[j]||null,open:!!j,onClose:function(){return e.setState({editingDateType:null})},secondaryAction:{label:"Cancel",onAction:function(){return e.setState({editingDateType:null})}},primaryAction:{label:"Save",onAction:function(e){return o(j,new Date(e).toISOString())}}}))}},{key:"render",value:function(){var e=this.props,t=e.isSaving,n=e.done;return t||n?t?i.a.createElement(Wt.a,null):n?i.a.createElement(In,null):null:this.renderForm()}}]),n}(r.PureComponent);Cn.defaultProps={tiiMaxGrade:void 0},Cn.propTypes={errors:s.a.object.isRequired,isSaving:s.a.bool.isRequired,isEditing:s.a.bool.isRequired,tiiMaxGrade:s.a.number,done:s.a.bool.isRequired,hasAnonymizedError:s.a.bool.isRequired,assignment:s.a.object.isRequired,handleChange:s.a.func.isRequired,handleDateTimePicker:s.a.func.isRequired,handleSwitch:s.a.func.isRequired,handleGradeTypeChange:s.a.func.isRequired,handleMaxGradeChange:s.a.func.isRequired};var Tn=Cn,Rn=n(1513),qn=n(1770),An=Object(R.b)("div",{target:"ediwdc90"})("align-items:center;display:flex;height:38px;justify-content:space-between;margin-left:auto;margin-top:8px;margin-right:0;width:calc(50% - 6px);"),Dn=Object(R.a)("left:16px !important;"),Pn=Object(R.a)("max-width:400px;"),zn=Object(R.b)("h3",{target:"ediwdc91"})("font-weight:600;font-size:14px;line-height:20px;margin:25px 0 0 0;"),Fn=Object(R.a)("margin-top:15px;");function Ln(e){var t=function(){if("undefined"==typeof Reflect||!u.a)return!1;if(u.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=u()(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var Nn="This is the name of your quiz that students will see",Mn="Describe your Quiz for reference purposes.",_n="Submissions will be accepted from this date",Un="Students will be told to submit by this date",Bn="By default, assignments will not automatically close on due date. Change this setting here.",Hn="Select the grade type for displaying the student’s grade",Gn="Assignment will not be visible to students",Vn=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(an,null,"Excellent!"),i.a.createElement(rn,null,"Your assignment has been saved."))},Wn=function(e){x()(n,e);var t=Ln(n);function n(e){var a;return m()(this,n),(a=t.call(this,e)).state={descriptionLength:0},a.setDescriptionLength=a.setDescriptionLength.bind(v()(a)),a}return g()(n,[{key:"setDescriptionLength",value:function(e){this.setState({descriptionLength:e.target.value.length})}},{key:"renderAnonymiseSwitch",value:function(){var e=this.props,t=e.assignment,n=e.handleSwitch,a=e.isEditing,r=e.hasAnonymizedError,o=t.isAnonymised,s=!a||a&&"boolean"==typeof o,c=t&&t.submissions.length>0,l=new Date(t.gradesReleasedAt)<new Date,u=c||r||l,d=u?"The anonymise setting cannot be modified because it has already received submissions or grades released date is in the past.":"By default, student submissions will not be anonymised. Change this setting here.";return s?i.a.createElement(T.a,{enterDelay:1e3,title:d,position:"top",classes:{arrow:Dn}},i.a.createElement(ln,null,i.a.createElement(gn,null,i.a.createElement(vn,null),i.a.createElement(un,{htmlFor:"quizAssignmentIsAnon"},"Anonymise student submissions")),i.a.createElement(Bt.a,{id:"quizAssignmentIsAnon",disabled:u,checked:o,onChange:n("isAnonymised"),color:"primary"}))):null}},{key:"renderForm",value:function(){var e=this.props,t=e.errors,n=e.assignment,a=e.handleChange,r=e.handleDateTimePicker,o=e.handleSwitch,s=e.isEditing,c=e.handleGradeTypeChange,l=n.title,u=n.startDate,d=n.endDate,p=n.isHidden,f=n.shouldCloseOnDueDate,m=n.description,b=n.gradeType,g=this.state.descriptionLength>it,h=g?"Maximum length of description exceeded":"Max ".concat(it," characters");return i.a.createElement(bn,{"data-testid":"new-assignment-info"},i.a.createElement(wn,null),i.a.createElement(Gt.a,{theme:tn},i.a.createElement(T.a,{enterDelay:1e3,position:"top",title:Nn,classes:{tooltip:Pn}},i.a.createElement(dn,{id:"quizAssignmentTitle",label:"Title","data-testid":"new-assignment-title",value:l,onChange:a("title"),error:t.title,variant:"outlined",margin:"dense"})),i.a.createElement(T.a,{enterDelay:1e3,position:"top",title:Mn},i.a.createElement(dn,{id:"quizAssignmentDescription",label:"Description","data-testid":"new-assignment-description",value:m,onChange:a("description"),error:t.description||g,onKeyUp:this.setDescriptionLength,onPaste:this.setDescriptionLength,variant:"outlined",multiline:!0,rows:4,helperText:h})),s&&i.a.createElement(zn,null,"Submission settings"),i.a.createElement("div",null,i.a.createElement(T.a,{enterDelay:1e3,position:"top",title:_n},i.a.createElement(on,{autoOk:!0,ampm:!0,id:"quizAssignmentStartDate",value:u,ViewContainerComponent:sn,onChange:r("startDate"),label:"Open date",error:t.startDate,"data-testid":"new-assignment-start-button",variant:"dialog",inputVariant:"outlined",DialogProps:{"data-testid":"new-assignment-start-date-picker"}})),i.a.createElement(T.a,{enterDelay:1e3,position:"top",title:Un},i.a.createElement(cn,{autoOk:!0,ampm:!0,id:"quizAssignmentEndDate",value:d,onChange:r("endDate"),label:"Due date",error:t.endDate,"data-testid":"new-assignment-due-button",variant:"dialog",inputVariant:"outlined",DialogProps:{"data-testid":"new-assignment-due-date-picker"}}))),i.a.createElement(T.a,{enterDelay:1e3,title:Bn,position:"top"},i.a.createElement(An,null,i.a.createElement(gn,null,i.a.createElement(un,{htmlFor:"quizAssignmentClose"},"Close on due date")),i.a.createElement(Bt.a,{id:"quizAssignmentClose",checked:f,onChange:o("shouldCloseOnDueDate"),color:"primary"}))),i.a.createElement(T.a,{enterDelay:1e3,title:Hn,position:"top",classes:{tooltip:Pn}},i.a.createElement(mn,{select:!0,id:"quizAssignmentGradingType",label:"Grade type",value:b,onChange:c,margin:"normal",disabled:s,variant:"outlined","data-testid":"new-assignment-grading-type",error:t.gradeType,InputLabelProps:{shrink:!!b}},tt()(rt.a).map((function(e){return i.a.createElement(Vt.a,{key:e.value,value:e.value,"data-testid":"grading-type-".concat(e.value)},e.displayValue)})))),i.a.createElement("div",{className:Fn},this.renderAnonymiseSwitch(),i.a.createElement(T.a,{enterDelay:1e3,title:Gn,position:"top-start",classes:{arrow:Dn}},i.a.createElement(ln,null,i.a.createElement(gn,null,i.a.createElement(hn,null),i.a.createElement(un,{htmlFor:"quizAssignmentIsHidden"},"Assignment is hidden")),i.a.createElement(Bt.a,{id:"quizAssignmentIsHidden",checked:p,onChange:o("isHidden"),color:"primary"}))))))}},{key:"render",value:function(){var e=this.props,t=e.isSaving,n=e.done;return i.a.createElement(Rn.a,{utils:qn.a},!t&&!n&&this.renderForm(),t&&i.a.createElement(Wt.a,null),n&&i.a.createElement(Vn,null))}}]),n}(r.PureComponent);Wn.propTypes={errors:s.a.object.isRequired,isSaving:s.a.bool.isRequired,isEditing:s.a.bool.isRequired,done:s.a.bool.isRequired,hasAnonymizedError:s.a.bool.isRequired,assignment:s.a.object.isRequired,handleChange:s.a.func.isRequired,handleDateTimePicker:s.a.func.isRequired,handleSwitch:s.a.func.isRequired,handleGradeTypeChange:s.a.func.isRequired};var Kn=Wn;function Qn(e,t){var n=ie()(e);if(se.a){var a=se()(e);t&&(a=a.filter((function(t){return le()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Qn(Object(n),!0).forEach((function(t){he()(e,t,n[t])})):de.a?fe()(e,de()(n)):Qn(Object(n)).forEach((function(t){be()(e,t,le()(n,t))}))}return e}function Jn(e){var t=function(){if("undefined"==typeof Reflect||!u.a)return!1;if(u.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=u()(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var Zn={currentStep:1,currentTool:0,turnitinLaunch:null,saving:!1,saved:!1,editing:!1,errors:{},hasAnonymizedError:!1,assignment:{title:"",startDate:null,endDate:null,gradesReleasedAt:void 0,isHidden:!0,shouldCloseOnDueDate:!1,description:"",submissions:[],isAnonymised:!1}},$n=function(){return document.getElementById("user-profile-container")},Xn=function(e){x()(r,e);var t,n,a=Jn(r);function r(e){var t;m()(this,r),(t=a.call(this,e)).tools=[{logo:Ye.a,name:"Handin",key:bt.c,validator:st,externalUrl:$e}],e.isTurnitinEnabled&&t.tools.push({logo:Ke.a,name:"Turnitin",key:bt.h,validator:ct,render:function(){var e=rt.a.percentage,n=t.props.tiiMaxGrade,a=t.state,r=a.currentSpace,o=a.assignment,s=a.saving,c=a.editing,l=a.saved,u=a.errors,d=a.hasAnonymizedError;return i.a.createElement(Tn,{space:r.objectId,handleChange:t.handleTextFieldChange,handleDateTimePicker:t.handleDateTimePickerForTII,handleGradeTypeChange:t.handleGradeTypeChange,handleMaxGradeChange:t.handleMaxGradeChange,tiiMaxGrade:n,handleSwitch:t.handleSwitch,assignment:n?Yn(Yn({},o),{},{gradeType:o.gradeType||e.value}):o,hasAnonymizedError:d,isSaving:s,isEditing:c,done:l,errors:u})}}),t.tools.push({logo:Ze.a,name:"Quiz",key:bt.f,validator:lt,render:function(){var e=t.state,n=e.currentSpace,a=e.assignment,r=e.saving,o=e.editing,s=e.saved,c=e.errors,l=e.hasAnonymizedError;return i.a.createElement(Kn,{space:n.objectId,handleChange:t.handleTextFieldChange,handleDateTimePicker:t.handleDateTimePicker,handleGradeTypeChange:t.handleGradeTypeChange,handleSwitch:t.handleSwitch,assignment:a,hasAnonymizedError:l,isSaving:r,isEditing:o,done:s,errors:c})}});var n=e.spaces.some((function(t){return t.objectId===e.currentSpace.objectId}));return t.state=Yn(Yn({},Zn),{},{currentSpace:n?e.currentSpace:e.spaces[0]},!!e.editingAssignment&&{currentStep:2,assignment:Yn({},e.editingAssignment),editing:!0,currentTool:t.tools.map((function(e){return e.key})).indexOf(e.editingAssignment.provider)}),t.backgrounds=[pt.a],t.profileModal=i.a.createRef(),t.nextStep=t.nextStep.bind(v()(t)),t.onSpaceChange=t.onSpaceChange.bind(v()(t)),t.onToolChange=t.onToolChange.bind(v()(t)),t.getNextButtonContent=t.getNextButtonContent.bind(v()(t)),t.handleTextFieldChange=t.handleTextFieldChange.bind(v()(t)),t.handleSwitch=t.handleSwitch.bind(v()(t)),t.handleDateTimePicker=t.handleDateTimePicker.bind(v()(t)),t.handleDateTimePickerForTII=t.handleDateTimePickerForTII.bind(v()(t)),t.handleGradeTypeChange=t.handleGradeTypeChange.bind(v()(t)),t.handleMaxGradeChange=t.handleMaxGradeChange.bind(v()(t)),t.launchTurnitin=t.launchTurnitin.bind(v()(t)),t.launchAssignment=t.launchAssignment.bind(v()(t)),t.prevStep=t.prevStep.bind(v()(t)),t.closeTurnItIn=t.closeTurnItIn.bind(v()(t)),t}return g()(r,[{key:"onSpaceChange",value:function(e){this.setState({currentSpace:e})}},{key:"onToolChange",value:function(e){this.setState({currentTool:this.tools.map((function(e){return e.key})).indexOf(e.key),errors:{}})}},{key:"getNextButtonContent",value:function(){return 2===this.state.currentStep?"Save":"Next"}},{key:"handleTextFieldChange",value:function(e){var t=this;return function(n){var a=t.state,r=a.assignment,i=a.errors,o=n.target.value;t.setState({errors:Yn(Yn({},i),{},he()({},e,!1)),assignment:Yn(Yn({},r),{},he()({},e,o))})}}},{key:"handleSwitch",value:function(e){var t=this;return function(){var n=t.state.assignment,a=n[e];t.setState({assignment:Yn(Yn({},n),{},he()({},e,!a))})}}},{key:"handleDateTimePickerForTII",value:function(e,t){var n=this.state,a=n.assignment,r=n.errors;this.setState({errors:Yn(Yn({},r),{},he()({},e,!1)),assignment:Yn(Yn({},a),{},he()({},e,t))})}},{key:"handleDateTimePicker",value:function(e){var t=this;return function(n){var a=t.state,r=a.assignment,i=a.errors;t.setState({errors:Yn(Yn({},i),{},he()({},e,!1)),assignment:Yn(Yn({},r),{},he()({},e,n))})}}},{key:"handleGradeTypeChange",value:function(e){var t=e.target.value,n=this.props.tiiMaxGrade,a=this.state,r=a.assignment,i=a.errors,o=r.maxGrade||n;this.setState({errors:Yn(Yn({},i),{},{gradeType:!1}),assignment:Yn(Yn({},r),{},{gradeType:t},t===rt.a.points.value?{maxGrade:o}:{maxGrade:void 0})})}},{key:"handleMaxGradeChange",value:function(e){var t=e.target.value,n=this.state,a=n.assignment,r=n.errors,i=Ge()(t,10);this.setState({errors:Yn(Yn({},r),{},{maxGrade:!1}),assignment:Yn(Yn({},a),{},{maxGrade:i})})}},{key:"launchTurnitin",value:function(e){this.setState({turnitinLaunch:e})}},{key:"closeTurnItIn",value:function(){this.setState({turnitinLaunch:null})}},{key:"launchAssignment",value:function(e){e.provider===bt.h?this.launchTurnitin(e):e.provider===bt.f&&Object(Pe.m)({spaceId:e.space,assignmentId:e.id})()}},{key:"prevStep",value:function(){var e=this.state.currentStep;e>1&&this.setState({currentStep:e-1})}},{key:"nextStep",value:(n=p()(S.a.mark((function e(){var t,n,a,r,i,o,s,c,l,u;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.state,r=a.currentStep,i=a.currentTool,o=a.currentSpace.objectId,s=this.props.baseDomain,!(c=null===(t=(n=this.tools[i]).externalUrl)||void 0===t?void 0:t.call(n,{baseDomain:s,space:o,search:"createAssignment=true&source=ma"}))){e.next=6;break}return window.location.href=c,e.abrupt("return");case 6:if(!(r<2)){e.next=10;break}this.setState({currentStep:r+1}),e.next=22;break;case 10:return e.prev=10,this.setState({saving:!0}),e.next=14,this.save();case 14:(l=e.sent)?(this.setState(Yn(Yn({},Zn),{},{currentTool:i,currentStep:2,saving:!1,saved:!0,newAssignment:l})),this.tools[i].key===bt.f?console.log("Placeholder for launching the Quiz Authoring tool"):this.launchAssignment(l)):this.setState({saving:!1}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(10),u=e.t0&&e.t0.message&&"cannot-update-anonymous-status"===e.t0.message,this.setState(Yn(Yn({},Zn),{},{currentTool:i,currentStep:2,saving:!1,hasAnonymizedError:u}));case 22:case"end":return e.stop()}}),e,this,[[10,18]])}))),function(){return n.apply(this,arguments)})},{key:"save",value:(t=p()(S.a.mark((function e(){var t,n,a,r,i,o,s,c,l,u,d,p,f,m,b,g;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,n=t.currentTool,a=t.currentSpace,r=t.assignment,i=t.editing,o=this.props,s=o.user,c=o.createAssignment,l=o.editAssignment,u=o.fetchAccessToken,d=this.tools[n],p=d.key,f=d.validator,m=f(r),!ut(m)){e.next=7;break}return this.setState({errors:m}),e.abrupt("return",!1);case 7:return e.next=9,u(a.objectId);case 9:return b=e.sent,g=i?l:c,e.abrupt("return",g(s,p,a,r,b));case 12:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"renderStepOne",value:function(){var e=this.state.currentTool;return i.a.createElement(i.a.Fragment,null,i.a.createElement(It,null,"Choose how you would like to create the assignment:"),i.a.createElement(Mt,{onToolChange:this.onToolChange,currentTool:this.tools[e],tools:this.tools}))}},{key:"renderStepTwo",value:function(){var e=this.state.currentTool;return this.tools[e].render()}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.onClose,r=n.isVisible,o=n.user,s=this.state,c=s.currentStep,l=s.editing,u=s.saved,d=s.turnitinLaunch,p=s.newAssignment,f=s.currentSpace,m=s.currentTool,b=s.saving,g=u?mt.a:this.backgrounds[c-1],h=1!==c&&!l,v=this.getNextButtonContent(),y=!!f&&Object(ye.c)(o.objectId,f.objectId),x="user-profile-modal_".concat(f?f.objectId:o.objectId),E=this.tools[m].key===bt.f;return e=p?"":l&&E?"Quiz settings":c>1?E?"Set up your quiz":"Set up your assignment":"Create assignment",i.a.createElement(Ve.a,{id:x,container:$n,open:r,onClose:a},i.a.createElement(gt,{background:g},i.a.createElement(vt,null,i.a.createElement(St,null,e),i.a.createElement(jt,{onClick:a,role:"button",tabIndex:0,"aria-label":"Close create assignment dialog.",onKeyPress:function(e){"Enter"===e.key&&a()}},i.a.createElement(B.a,null))),i.a.createElement(ht,{createstep:2===c,compact:u,provider:this.tools[m].key,isSaving:b,saved:u},1===c&&this.renderStepOne(),2===c&&this.renderStepTwo()),!u&&i.a.createElement(yt,null,h&&i.a.createElement(Et,{onClick:this.prevStep,"aria-label":"Back"},"Back"),!h&&i.a.createElement(Ct,null),!l&&i.a.createElement(kt,null,i.a.createElement(wt,{active:c>=1,role:"button",tabIndex:c>=1?"0":"-1","aria-label":"Step 1 from 2"}),i.a.createElement(wt,{active:c>=2,role:"button",tabIndex:c>=2?"0":"-1","aria-label":"Step 2 from 2"})),i.a.createElement(Et,{primary:!0,onClick:this.nextStep,"aria-label":v,tabIndex:0,"data-testid":"next-assignment-create-step"},v)),u&&i.a.createElement(xt,null,i.a.createElement(Et,{primary:!0,onClick:function(){return t.launchAssignment(p)},"aria-label":"View Assignment"},"View Assignment"),i.a.createElement(Ot,{onClick:a,"aria-label":"Close","data-testid":"close-assignment-create-button"},"Close"))),d&&i.a.createElement(Xe.a,{key:d,user:o,assignment:d,space:f,isEducator:y,onClose:this.closeTurnItIn}))}}]),r}(r.PureComponent);Xn.defaultProps={tiiMaxGrade:void 0},Xn.propTypes={isVisible:s.a.bool.isRequired,onClose:s.a.func.isRequired,currentSpace:s.a.object.isRequired,editingAssignment:s.a.object,isTurnitinEnabled:s.a.bool.isRequired,tiiMaxGrade:s.a.number,user:s.a.object.isRequired,spaces:s.a.array.isRequired,createAssignment:s.a.func.isRequired,editAssignment:s.a.func.isRequired,fetchAccessToken:s.a.func.isRequired,baseDomain:s.a.string.isRequired},Xn.defaultProps={editingAssignment:null};var ea=Xn,ta=n(249),na=n(1625);function aa(e,t){var n=ie()(e);if(se.a){var a=se()(e);t&&(a=a.filter((function(t){return le()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aa(Object(n),!0).forEach((function(t){he()(e,t,n[t])})):de.a?fe()(e,de()(n)):aa(Object(n)).forEach((function(t){be()(e,t,le()(n,t))}))}return e}var ia=function(e,t){return null===e?t:e},oa=function(e){return{classId:e.classId,classRoom:e.classRoom,description:e.description,endDate:e.endDate,externalId:ia(e.externalId,void 0),gradeType:e.gradeType,gradesReleasedAt:ia(e.gradesReleasedAt,void 0),groupSet:ia(e.groupSet,void 0),groups:ia(e.groups,void 0),instructor:e.instructor,isAnonymised:ia(e.isAnonymised,!1),isHidden:ia(e.isHidden,!1),objectId:e.objectId,provider:e.provider,shouldCloseOnDueDate:ia(e.shouldCloseOnDueDate,!1),space:e.space,startDate:e.startDate,status:e.status,students:ia(e.students,void 0),submissions:e.submissions,title:e.title,user:e.user}},sa={editAssignment:function(e,t,n,a,r){return W.b.editAssignment({currentUser:e,spaceId:n.objectId,assignment:ra(ra({},oa(a)),{},{provider:t}),accessToken:r})},createAssignment:function(e,t,n,a,r){return W.b.createAssignment({spaceId:n.objectId,assignment:ra(ra({},a),{},{provider:t,status:"live"}),accessToken:r,currentUser:e})}},ca=Object(a.b)((function(e){var t=Object(ye.d)();return{user:Object(we.currentUser)(e),spaces:t,isTurnitinEnabled:Object(na.i)(e),tiiMaxGrade:Object(na.j)(e),baseDomain:Object(ta.a)(e)}}),sa)(ea);function la(e){var t=function(){if("undefined"==typeof Reflect||!u.a)return!1;if(u.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(u()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=k()(e);if(t){var r=k()(this).constructor;n=u()(a,arguments,r)}else n=a.apply(this,arguments);return O()(this,n)}}var ua=function(e){x()(r,e);var t,n,a=la(r);function r(e){var t;return m()(this,r),(t=a.call(this,e)).state={isCreating:!1,editingAssignment:null},t.handleFetchAssignments=t.handleFetchAssignments.bind(v()(t)),t.handleFetchAccessToken=t.handleFetchAccessToken.bind(v()(t)),t.clearEditModal=t.clearEditModal.bind(v()(t)),t.handleToggleCreateAssignment=t.handleToggleCreateAssignment.bind(v()(t)),t.handleEditing=t.handleEditing.bind(v()(t)),t}return g()(r,[{key:"componentDidMount",value:function(){this.handleFetchAssignments()}},{key:"componentDidUpdate",value:function(e){var t=this.props.selectedSpace.objectId,n=e.selectedSpace.objectId;t&&t!==n&&this.handleFetchAssignments()}},{key:"clearEditModal",value:function(){this.state.isCreating||this.setState({editingAssignment:null})}},{key:"handleToggleCreateAssignment",value:function(){var e=this,t=!this.state.isCreating;this.setState({isCreating:t},(function(){e.clearEditModal()}))}},{key:"handleEditing",value:function(e){var t=this.props.baseDomain;if(e.provider===bt.c){var n=e.space,a=e.classId,r=e.externalId,i=n||a;window.location.href=$e({baseDomain:t,space:i,assignment:r,search:"editAssignment=true&source=ma"})}else this.setState({editingAssignment:e,isCreating:!0})}},{key:"handleFetchAccessToken",value:(n=p()(S.a.mark((function e(t){var n,a,r,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.props,a=n.fetchAccessToken,r=n.user,!(i=n.accessTokens)[t]){e.next=5;break}e.t0=i[t].token,e.next=8;break;case 5:return e.next=7,a({spaceId:t,sessionToken:r.sessionToken});case 7:e.t0=e.sent;case 8:return o=e.t0,e.abrupt("return",o);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"handleFetchAssignments",value:(t=p()(S.a.mark((function e(){var t,n,a,r,i,o;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.isFetching,a=t.selectedSpace.objectId,r=t.fetchAssignments,i=t.user,!n&&a){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this.handleFetchAccessToken(a);case 5:(o=e.sent)&&r({user:i,accessToken:o,spaceId:a});case 7:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"render",value:function(){var e=this.props,t=e.selectedSpace,n=e.isEducator,a=this.state,r=a.isCreating,o=a.editingAssignment;return[i.a.createElement(ae,{key:"top-bar",onShowCreateAssignment:this.handleToggleCreateAssignment}),i.a.createElement(Be,{key:"assignments-list",onEditAssignment:this.handleEditing,selectedSpace:t}),n&&i.a.createElement(ca,{key:r,isVisible:r,onClose:this.handleToggleCreateAssignment,currentSpace:t,editingAssignment:o,fetchAccessToken:this.handleFetchAccessToken})]}}]),r}(r.Component);ua.propTypes={user:s.a.object.isRequired,selectedSpace:s.a.object,isFetching:s.a.bool,isEducator:s.a.bool.isRequired,accessTokens:s.a.object.isRequired,fetchAccessToken:s.a.func.isRequired,fetchAssignments:s.a.func.isRequired,baseDomain:s.a.string.isRequired},ua.defaultProps={selectedSpace:{},isFetching:!1};var da=ua,pa=n(392),fa=Object(a.b)((function(e){var t=Object(we.currentUserId)(e),n=W.c.selectedSpace(e);return{user:e.user.user,selectedSpace:e.data.classRooms[n],isFetching:W.c.isFetchingAssignments(e)||e.accessTokens.isFetching,accessTokens:e.accessTokens,baseDomain:Object(ta.a)(e),isEducator:Object(ne.isInstructorInSpace)(e)(t,n)}}),(function(e){return{fetchAssignments:e(W.b.fetchAssignments),fetchAccessToken:Object(pa.a)(e)}}))(da),ma=n(1885),ba=n.n(ma),ga=n(383),ha=n.n(ga),va=Object(R.b)(ha.a,{target:"e1lh4va10"})("margin-left:",q.b.spacing.small,";color:",q.b.color.designSystem.blackOpacity60,";width:18px;opacity:0;"),ya=Object(R.b)("a",{target:"e1lh4va11"})("color:inherit;text-decoration:inherit;display:block;margin-top:",q.b.spacing.xLarge,";padding:",q.b.spacing.xSmall,";&:hover{background-color:",q.b.color.designSystem.background.grey.hover,";",va,"{opacity:1;}}"),xa=Object(R.b)("div",{target:"e1lh4va12"})("margin-right:",q.b.spacing.small,";width:24px;height:24px;"),Ea=Object(R.b)("div",{target:"e1lh4va13"})("font-weight:",q.b.font.weight.semiBold,";font-size:",q.b.font.size.copy,";flex:1;"),Oa=Object(R.b)("div",{target:"e1lh4va14"})("display:flex;flex-direction:row;align-items:center;"),ja=Object(R.b)("div",{target:"e1lh4va15"})("margin-top:",q.b.spacing.xSmall,";font-size:",q.b.font.size.small,";color:",q.b.color.grey11,";line-height:16px;"),ka={handin:Ye.a,ssa:ba.a,quizzes:Ze.a},wa=function(e){var t=e.id,n=e.title,a=e.description,r=e.url,o=e.target,s=e.opensInNew,c=ka[t];return i.a.createElement(ya,{href:r,target:o,rel:"noopener noreferrer"},i.a.createElement(Oa,null,c&&i.a.createElement(xa,null,i.a.createElement(Tt.a,{src:c,name:n,size:"small"})),i.a.createElement(Ea,null,n),s&&i.a.createElement(va,null)),i.a.createElement(ja,null,a))};wa.propTypes={id:s.a.string.isRequired,title:s.a.string.isRequired,description:s.a.string.isRequired,url:s.a.string.isRequired,target:s.a.string.isRequired,opensInNew:s.a.bool},wa.defaultProps={opensInNew:!1};var Sa=wa,Ia=Object(R.b)("div",{target:"e1omnjv60"})("height:100%;display:flex;flex-direction:row;justify-content:flex-start;max-width:1300px;"),Ca=Object(R.b)("div",{target:"e1omnjv61"})("flex-grow:1;max-width:calc( 584px + ",q.b.spacing.medium," + ",q.b.spacing.medium," + 100px );display:flex;flex-direction:column;"),Ta=Object(R.b)("div",{target:"e1omnjv62"})("width:230px;padding:",q.b.spacing.xSmall," ",q.b.spacing.xxGiant," ",q.b.spacing.xSmall," ",q.b.spacing.xSmall,";"),Ra=Object(R.b)("div",{target:"e1omnjv63"})("font-weight:",q.b.font.weight.semiBold,";font-size:",q.b.font.size.large,";margin-top:",q.b.spacing.large,";"),qa={ssa:"Understand how students are progressing, view all assignments and grades in one place and pass back grades to the student record system.",handin:"Aula’s assessment tool: here you can create and manage Handin assignments, grade submissions and provide feedback to students."},Aa={ssa:"View all your assignments and grades in one place, understand how assignments contribute to your final grade and keep track of how you’re progressing in your learning journey.",handin:"Aula’s assessment tool: here you can view upcoming, current and past Handin assignments, submit your work and view grades and feedback."},Da=function(e){var t=e.baseDomain,n=e.isInstructor,a=e.spaceId;return i.a.createElement(Ia,null,i.a.createElement(Ca,null,i.a.createElement(fa,null)),i.a.createElement(Ta,{"data-testid":"assignments-tools-links"},i.a.createElement(c.a,{autoHide:!0,style:{height:"100%"}},i.a.createElement(Ra,null,"Go to"),i.a.createElement(Sa,{id:"ssa",title:"Student Success App",target:"_blank",description:n?qa.ssa:Aa.ssa,url:"https://success.".concat(t,"/").concat(a),opensInNew:!0}),i.a.createElement(Sa,{id:"handin",title:"Handin",target:"_blank",description:n?qa.handin:Aa.handin,url:"https://handin.".concat(t,"/").concat(a),opensInNew:!0}),n&&i.a.createElement(Sa,{id:"quizzes",title:"Quiz item bank",target:"_self",description:"Import questions from Moodle to your quiz item bank or add questions directly to your quiz item bank.",url:"#/dashboard/".concat(a,"/journey/quizzes/item-bank")}))))};Da.propTypes={baseDomain:s.a.string.isRequired,isInstructor:s.a.bool.isRequired,spaceId:s.a.string},Da.defaultProps={spaceId:null};var Pa=Da,za=Object(a.b)((function(e){return{baseDomain:Object(ta.a)(e),isInstructor:Object(ne.isInstructor)(e),spaceId:Object(ne.currentClassRoomId)(e)}}),null)(Pa);t.default=za},1966:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(54),i=n(25),o=n(164),s=n(0),c=n.n(s),l=n(1),u=n.n(l),d=n(517),p=n(1497),f=n(15),m=n(578),b=n(579),g=n(170),h=n(1886),v=n.n(h),y=n(14),x=Object(y.b)("div",{target:"e1px9ajk0"})("display:inline-flex;gap:",f.b.spacing.medium,";margin-left:",f.b.spacing.medium,";"),E=(f.b.spacing.xxSmall,Object(y.b)("span",{target:"e1px9ajk2"})("white-space:nowrap;")),O=Object(y.b)(m.a,{target:"e1px9ajk3"})("height:100%;"),j=("".concat(f.b.color.designSystem.blackOpacity60),n(6)),k=n.n(j),w=n(3),S=n.n(w),I=n(4),C=n.n(I),T=n(5),R=n.n(T),q=n(9),A=n.n(q),D=n(8),P=n.n(D),z=n(2),F=n.n(z),L=n(50),N=n.n(L),M=n(165),_=n(16),U=n(531),B=["onSuccess"];function H(e,t){var n=k()(e);if(S.a){var a=S()(e);t&&(a=a.filter((function(t){return C()(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){F()(e,t,n[t])})):R.a?A()(e,R()(n)):H(Object(n)).forEach((function(t){P()(e,t,C()(n,t))}))}return e}var V=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=n.onSuccess,r=N()(n,B),i=Object(M.useQueryClient)();return Object(U.a)({url:"".concat(Object(_.U)(),"/").concat(e,"/presentations/").concat(t,"/start"),method:"POST"},G({onSuccess:function(){for(var t="".concat(Object(_.U)(),"/").concat(e,"/presentations?live=true"),n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=r[0];i.setQueryData(t,[s]),a&&a.apply(void 0,r)}},r))},W=n(528),K=n(92),Q=n(113),Y=n(1602),J=function(){var e=Object(a.c)(),t=Object(a.d)(Q.d).pathname,n=Object(Y.b)((function(e){return e.presentationId})),r=Object(Y.b)((function(e){return e.saveIsLoading})),i=Object(Y.b)((function(e){return e.saveSlidesToAPI})),o=Object(Y.b)((function(e){return e.spaceId})),s=Object(Y.b)((function(e){return e.areSlidesDirty})),l=Object(W.a)(o),u=l.presentation,d=l.currentSession,p=Boolean(u&&d),f=p&&u.id!==n,h=V(o,n,{onSuccess:function(){return Object(K.d)(o,n)()}}).mutate;return c.a.createElement(x,null,c.a.createElement(m.a,{loading:r,onClick:function(){if(!t.endsWith("saved")){var n=new URLSearchParams({editingCompleted:"true"});e(Object(g.push)("".concat(t,"/saved?").concat(n.toString())))}i()},type:"secondary",disabled:!s},"Save"),c.a.createElement(b.a,{title:s?"You have unsaved changes":null},c.a.createElement("span",null,c.a.createElement(O,{type:"primary",iconLeft:v.a,onClick:function(){p?Object(K.d)(o,n)():h({})},disabled:s||f},c.a.createElement(E,null,"Present to class")))))},Z=n(1542),$=Object(y.b)("div",{target:"e12n9qw20"})("padding-top:6px;"),X=n(47),ee=function(){return c.a.createElement(Z.a.ArrowBackIosIcon,{style:{height:10,width:10}})},te=function(e){var t=e.spaceId;return c.a.createElement($,null,c.a.createElement(m.a,{type:"text",iconLeft:ee,onClick:function(){return Object(X.a)("/dashboard/".concat(t,"/journey/slides?editingCompleted=true"))}},"Back to Slides"))};te.propTypes={spaceId:u.a.string.isRequired};var ne=te,ae=Object(y.b)("div",{target:"e13saanq0"})("display:flex;justify-content:space-between;padding:20px 0 32px 0;align-items:flex-start;"),re=n(45),ie=n.n(re),oe=n(561),se=n(1582),ce=n(1583),le=Object(y.b)("div",{target:"e1tnqx1a0"})("display:flex;align-items:center;"),ue=Object(y.b)(ce.a,{target:"e1tnqx1a1"})("padding-top:",f.b.spacing.xxSmall,";"),de=Object(y.b)("div",{target:"e1tnqx1a2"})("margin-left:",f.b.spacing.xSmall,";"),pe=Object(y.a)("font-size:20px;font-weight:",f.b.font.weight.semiBold,";line-height:32px;font-family:",f.b.font.family.workSans,";"),fe=Object(y.b)("p",{target:"e1tnqx1a3"})("overflow:hidden;margin-top:0;margin-bottom:0;"),me=Object(y.b)("div",{target:"e1tnqx1a4"})("height:3px;"),be=Object(y.b)("div",{target:"e1tnqx1a5"})("display:flex;flex-direction:column;padding-top:6px;"),ge=Object(y.b)("div",{target:"e1tnqx1a6"})("display:flex;align-items:flex-start;"),he=n(198),ve=function(){var e,t=Object(Y.b)((function(e){return e.presentationId})),n=Object(Y.b)((function(e){return e.presentationTitle})),a=Object(Y.b)((function(e){return e.spaceId})),r=Object(s.useState)(!0),i=ie()(r,2),o=i[0],l=i[1],u=Object(s.useState)(n),d=ie()(u,2),p=d[0],f=d[1],m=Object(s.useState)(n),b=ie()(m,2),g=b[0],h=b[1];Object(s.useEffect)((function(){f(n)}),[n]);var v=Object(s.useRef)();Object(s.useEffect)((function(){v.current&&(v.current.focus(),v.current.setSelectionRange(0,0))}),[o]);var y=Object(U.a)({url:"".concat(Object(_.U)(),"/").concat(a,"/presentations/").concat(t),method:"PATCH"}),x=y.mutate,E=y.isLoading;return c.a.createElement(le,null,o?c.a.createElement(be,null,c.a.createElement(ge,null,c.a.createElement(fe,{className:pe},p),c.a.createElement(de,null,c.a.createElement(oe.a,{label:"Edit",icon:Z.a.EditIcon,type:"secondary",size:"small",onClick:function(){l(!o)}}))),c.a.createElement(me,null)):c.a.createElement(ue,{inputRef:v,"data-testid":"presentation-title",placeholder:"Presentation title",value:p||"",onChange:function(e){return f(e.target.value)},InputProps:{autoFocus:!0,className:pe,inputProps:{size:null!==(e=null==p?void 0:p.length)&&void 0!==e?e:20},endAdornment:c.a.createElement(se.a,{position:"end"},E?c.a.createElement(he.a,{size:"24px"}):c.a.createElement(c.a.Fragment,null,c.a.createElement(oe.a,{label:"Check",icon:Z.a.CheckIcon,onClick:function(){var e={title:null==p?void 0:p.trim()};x(e,{onSuccess:function(e){h(e.title),l(!o)},onError:function(){f(g),l(!o)}})}}),c.a.createElement(oe.a,{label:"Close",icon:Z.a.Close,onClick:function(){l(!o),f(g)}})))}}))},ye=function(){var e=Object(Y.b)((function(e){return e.spaceId}));return c.a.createElement("div",null,c.a.createElement(ne,{spaceId:e}),c.a.createElement(ae,null,c.a.createElement(ve,null),c.a.createElement(J,null)))},xe=n(1642),Ee=Object(y.b)("div",{target:"e1qhm3880"})("padding-right:54px;max-height:700px;"),Oe=Object(y.b)(Z.a.ErrorIcon,{target:"e1qhm3881"})("position:absolute;bottom:0;right:0;width:20px;height:20px;padding:2px;background-color:",f.b.color.error,";color:white;border-radius:4px 0 4px 0;"),je=Object(y.b)(Z.a.QuestionMark,{target:"e1qhm3882"})("padding-top:3px;color:white;width:8px;height:14px;"),ke=Object(y.b)("div",{target:"e1qhm3883"})("position:absolute;bottom:0;right:0;width:20px;height:20px;padding:",f.b.spacing.xxxSmall,";background-color:",f.b.color.purple3,";border-radius:",f.b.borderRadius.medium," 0 ",f.b.borderRadius.medium," 0;text-align:center;"),we=Object(y.b)("div",{target:"e1qhm3884"})("background-color:white;border-radius:4px;border:1px solid;border-color:",(function(e){return e.isErrored?f.b.color.error:e.isActiveSlide?f.b.color.purple1:f.b.color.designSystem.blackOpacity12}),";height:76px;width:135px;background-image:",(function(e){return e.isBackgroundThumbnailActive?"url('../../../../../../static/backgroundThumbnail.png')":null}),";"),Se=Object(y.b)("div",{target:"e1qhm3885"})("display:flex;gap:16px;& .react-pdf__Page__annotations{width:0px !important;height:0px !important;}"),Ie=Object(y.b)("div",{target:"e1qhm3886"})("border-right:1px solid ",f.b.color.designSystem.blackOpacity12,";flex-basis:auto;flex-shrink:0;"),Ce=Object(y.b)("div",{target:"e1qhm3887"})("padding-right:",f.b.spacing.xSmall,";overflow:scroll;border-bottom:1px solid ",f.b.color.designSystem.blackOpacity12,";height:",(function(e){return e.open?"calc(100vh - ".concat(370,"px)"):"calc(100vh - ".concat(330,"px)")}),";"),Te=Object(y.b)("div",{target:"e1qhm3888"})((function(e){return t=e.isActiveSlide,n=f.b.color.grey0,a=f.b.color.designSystem.blackOpacity12,t&&(n=f.b.color.purple2,a=f.b.color.purple1),"\n    border-radius: ".concat(f.b.borderRadius.medium,";\n    background: ").concat(n,";\n    & .react-pdf__Page__canvas {\n      border-radius: 4px;\n      border: 1px solid ").concat(a,";\n    }\n  ");var t,n,a})," display:flex;gap:23px;padding:",f.b.spacing.xSmall,";"),Re=Object(y.b)("div",{target:"e1qhm3889"})("color:rgba(0,0,0,0.87);font-size:14px;min-width:14px;"),qe=Object(y.b)("div",{target:"e1qhm38810"})("cursor:pointer;position:relative;"),Ae=Object(y.b)("div",{target:"e1qhm38811"})("background-color:",f.b.color.white,";padding:",f.b.spacing.xSmall,";border-radius:",f.b.borderRadius.medium,";box-shadow:0px 1px 8px rgba(0,0,0,0.2),0px 3px 3px ",f.b.color.designSystem.blackOpacity12,",0px 3px 4px rgba(0,0,0,0.14);width:100%;height:100%;"),De=Object(y.b)("div",{target:"e1qhm38812"})("margin-right:'116px';width:'100%';height:'100%';"),Pe=n(20),ze=n.n(Pe),Fe=n(208),Le=Object(y.b)("div",{target:"e10hheqp0"})("text-align:center;padding-top:",f.b.spacing.xxSmall,";"),Ne=n(1695),Me=function(){var e=Object(Y.b)((function(e){return e.activeSlide})),t=Object(Y.b)((function(e){return e.setActiveSlide})),n=Object(Y.b)((function(e){return e.setSlides}));return c.a.createElement(Le,null,c.a.createElement(m.a,{onClick:function(){var a=e+1;n((function(e){var t=ze()(e);return t.splice(a,0,{id:Object(Fe.a)(),type:"mcq",data:{stimulus:"",options:Ne.a.map((function(e){return{key:e,label:""}}))}}),t})),t(a)},type:"text",iconLeft:Z.a.AddIcon},"New Question"))},_e=Object(y.b)("ul",{target:"eu17ev40"})("position:fixed;background:#ffffff;z-index:1;box-shadow:0px 6px 10px rgba(0,0,0,0.14),0px 1px 18px rgba(0,0,0,0.12),0px 3px 5px rgba(0,0,0,0.2);list-style-type:none;padding:0;"),Ue=Object(y.b)("li",{target:"eu17ev41"})("padding:0;"),Be=Object(y.b)(m.a,{target:"eu17ev42"})("color:",f.b.color.grey11,";width:100%;justify-content:flex-start;padding:",f.b.spacing.medium,";"),He=function(e){var t=e.options,n=e.onOptionClick,a=e.children,r=Object(s.useState)({x:0,y:0}),i=ie()(r,2),o=i[0],l=i[1],u=Object(s.useState)(!1),d=ie()(u,2),p=d[0],f=d[1];Object(s.useEffect)((function(){if(!p)return function(){};var e=function(){f(!1)};return document.addEventListener("click",e),document.addEventListener("contextmenu",e),function(){document.removeEventListener("click",e),document.removeEventListener("contextmenu",e)}}),[p]);return c.a.createElement("div",{onContextMenu:function(e){e.preventDefault(),l({x:e.clientX,y:e.clientY}),f(!0)}},a,p?c.a.createElement(_e,{onClick:function(e){e.stopPropagation(),e.preventDefault()},style:{left:o.x,top:o.y}},t.map((function(e){var t=e.key,a=e.label,r=e.icon;return c.a.createElement(Ue,{key:t},c.a.createElement(Be,{onClick:function(){return n(t)},type:"text",iconLeft:r},a))}))):null)};He.propTypes={options:u.a.arrayOf(u.a.shape({key:u.a.string.isRequired,label:u.a.string.isRequired,icon:u.a.func})),onOptionClick:u.a.func.isRequired,children:u.a.node.isRequired},He.defaultProps={options:[]};var Ge=He,Ve=n(85),We=function(e){return e+1},Ke=function(e){return!("slide"===e.type||!e.data.stimulus)&&e.data.options.filter((function(e){return!e.label})).length<=0},Qe=function(e){var t=e.index,n=e.slide,a=Object(Y.b)((function(e){return e.activeSlide})),r=Object(Y.b)((function(e){return e.setActiveSlide})),i=Object(s.useRef)([]),o=Object(Y.b)((function(e){return k()(e.validationErrors).map((function(e){return Number(e)}))}));return Object(s.useEffect)((function(){var e,t;e=a,null===(t=i.current[e])||void 0===t||t.scrollIntoView({behavior:"smooth",block:"nearest"})}),[a]),c.a.createElement(Te,{isActiveSlide:a===t,onClick:function(){return r(t)},onKeyDown:function(e){return e.keyCode===Ve.d&&r(t)},tabIndex:We(t),ariaLabel:"Slide-".concat(We(t))},c.a.createElement(Re,null,We(t)),c.a.createElement(qe,{innerRef:function(e){i.current[t]=e}},"slide"===n.type?c.a.createElement("div",{"aria-label":"Slide ".concat(t).concat(a===t?" selected":"")},c.a.createElement(xe.b,{pageNumber:We(n.srcPage),width:135,height:76})):c.a.createElement(c.a.Fragment,null,c.a.createElement(we,{isErrored:o.includes(t),isActiveSlide:a===t,isBackgroundThumbnailActive:Ke(n),"aria-label":Ke(n)?"Interactive Slide ".concat(t).concat(a===t?" selected":""):"Incomplete Interactive Slide ".concat(t).concat(a===t?" selected":"")}),o.includes(t)?c.a.createElement(Oe,{"aria-label":"This slide has errors"}):c.a.createElement(ke,null,c.a.createElement(je,{"aria-label":"This slide is an interactive slide"})))))},Ye=[{key:"delete",label:"Delete",icon:Z.a.Delete}],Je=function(){var e=Object(Y.b)((function(e){return e.slides})),t=Object(Y.b)((function(e){return e.setSlides})),n=Object(Y.b)((function(e){return e.activeSlide})),a=Object(Y.b)((function(e){return e.setActiveSlide}));return e.map((function(r,i){return c.a.createElement(Ge,{key:r.id,options:Ye,onOptionClick:(o=i,function(r){"delete"===r&&(t((function(e){return e.filter((function(e,t){return t!==o}))})),(n===e.length-1||n>o)&&a(n-1))})},c.a.createElement(Qe,{slide:r,index:i}));var o}))},Ze=function(){var e=Object(Y.b)((function(e){return e.spaceId})),t=Object(W.a)(e),n=t.presentation,a=t.currentSession,r=!t.isLoading&&void 0!==a;return c.a.createElement(Ie,null,c.a.createElement(Ce,{open:r&&n},c.a.createElement(Je,null)),c.a.createElement(Me,null))},$e=n(1698),Xe=function(){var e=Object(s.useState)({width:0,height:0}),t=ie()(e,2),n=t[0],a=t[1],r=Object(s.useRef)(null),i=Object(s.useCallback)((function(e){r.current&&r.current.disconnect(),e&&(r.current=new $e.a((function(e){if(e&&e.length){var t=e[0].contentRect,n=t.width,r=t.height;a({width:n,height:r})}})),r.current.observe(e))}),[]);return Object(s.useEffect)((function(){return function(){r.current.disconnect()}}),[]),{ref:i,width:n.width,height:n.height}},et=n(2004),tt=n(1725),nt=n(335),at=n(1771),rt=n(1773),it=n(1592),ot=Object(y.b)("div",{target:"ehzfbjb0"})("margin-bottom:12px;"),st=Object(y.b)("ul",{target:"ehzfbjb1"})("margin:0;"),ct=Object(y.b)("form",{target:"ehzfbjb2"})("flex:1;text-align:'center';"),lt=Object(y.b)("div",{target:"ehzfbjb3"})("align-items:center;display:flex;justify-content:space-between;margin-bottom:8px;"),ut=Object(y.b)("table",{target:"ehzfbjb4"})("width:100%;"),dt=Object(y.b)("div",{target:"ehzfbjb5"})("display:flex;justify-content:center;margin-left:20px;margin-top:2px;"),pt=Object(y.b)("div",{target:"ehzfbjb6"})("font-weight:600;"),ft=Object(y.b)("div",{target:"ehzfbjb7"})("align-items:center;display:flex;"),mt=Object(y.b)(it.a,{target:"ehzfbjb8"})("width:100%;input{padding-bottom:10px;padding-top:10px;}"),bt=Object(y.b)("th",{target:"ehzfbjb9"})("color:rgba(0,0,0,0.6);font-size:14px;font-weight:400;padding-right:20px;text-align:left;");function gt(e,t){var n=k()(e);if(S.a){var a=S()(e);t&&(a=a.filter((function(t){return C()(e,t).enumerable}))),n.push.apply(n,a)}return n}var ht=function(){var e,t,n,a,r=Object(Y.b)((function(e){return e.activeSlide})),i=Object(Y.b)((function(e){return e.slides[e.activeSlide]})),o=Object(Y.b)((function(e){return e.setSlides})),l=Object(Y.b)((function(e){return e.validationErrors[e.activeSlide]})),u=Object(Y.b)((function(e){return e.questionRef})),d=Object(Y.b)((function(e){return e.optionRefs})),p=Object(Y.b)((function(e){return e.hasCorrectRef})),f=Object(Y.b)((function(e){return e.correctRef})),m=Object(Y.b)((function(e){return e.setAreSlidesDirty})),b=Object(s.useState)("mcq"===i.type),g=ie()(b,2),h=g[0],v=g[1],y=Object(s.useState)((null==i||null===(e=i.data)||void 0===e||null===(t=e.validation)||void 0===t||null===(n=t.validResponse)||void 0===n||null===(a=n[0])||void 0===a?void 0:a.key)||Ne.a[0]),x=ie()(y,2),E=x[0],O=x[1],j=Object(s.useCallback)((function(){m(!0)}),[m]);return Object(s.useEffect)((function(){p.current=h}),[h]),Object(s.useEffect)((function(){f.current=E}),[E]),Object(s.useEffect)((function(){u.current.value=i.data.stimulus,Ne.a.forEach((function(e,t){var n=i.data.options.find((function(t){return t.key===e}));n&&(d.current[t].value=n.label)}))}),[]),Object(s.useEffect)((function(){return function(){o(Object(at.a)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gt(Object(n),!0).forEach((function(t){F()(e,t,n[t])})):R.a?A()(e,R()(n)):gt(Object(n)).forEach((function(t){P()(e,t,C()(n,t))}))}return e}({activeSlide:r,currentSlideId:i.id},Object(rt.a)(u,d,p,f))))}}),[]),c.a.createElement(ct,null,null!=l&&l.length?c.a.createElement(ot,null,c.a.createElement(et.a,{type:"error"},"Please fix the following errors before saving:",c.a.createElement(st,null,l.map((function(e){return c.a.createElement("li",null,e)}))||null))):null,c.a.createElement("div",null,c.a.createElement(pt,null,"Question"),c.a.createElement(mt,{id:"question-text",placeholder:"Write your question",onChange:j,inputRef:u})),c.a.createElement(lt,null,c.a.createElement(pt,null,"Answer options"),c.a.createElement(ft,null,c.a.createElement("span",null,"Set correct answer"),c.a.createElement(nt.a,{checked:h,onChange:function(){v(!h),j()},inputProps:{"aria-label":"Set correct answer"}}))),c.a.createElement(ut,null,c.a.createElement("thead",null,c.a.createElement("tr",null,h?c.a.createElement(bt,{width:80},"Set correct"):null,c.a.createElement(bt,null,"Write options"))),c.a.createElement("tbody",null,Ne.a.map((function(e,t){return c.a.createElement("tr",{key:e},h?c.a.createElement("td",null,c.a.createElement(dt,null,c.a.createElement(tt.a,{isSelected:e===E,handleChange:function(){O(e),j()},name:"correct",value:e,ariaLabel:"Set option ".concat(e," as correct")}))):null,c.a.createElement("td",null,c.a.createElement(mt,{ariaLabel:"Option ".concat(e," text"),id:"option-".concat(e),placeholder:"Option ".concat(e),inputRef:function(e){d.current[t]=e},onChange:j})))})))))},vt=function(e){var t,n=e.file,a=Object(Y.b)((function(e){return e.activeSlide})),r=Object(Y.b)((function(e){return e.slides})),i=Xe(),o=i.ref,s=i.width,l=i.height,u=r[a];switch(u.type){case"slide":return c.a.createElement(Ae,{innerRef:o},c.a.createElement(De,null,c.a.createElement(xe.a,{file:n,loading:"Your document is loading",error:"Failed to load your document"},c.a.createElement(xe.b,{pageNumber:(t=u.srcPage,t+1),width:s,height:l}))));case"mcq":case"poll":return c.a.createElement(ht,{key:u.id});default:return null}};vt.propTypes={file:u.a.object.isRequired};var yt=vt,xt=function(e){var t=e.url,n=Object(Y.b)((function(e){return e.isEducator})),r=Object(Y.b)((function(e){return e.spaceId})),i=Object(a.c)();if(!n)return i(Object(g.push)("/dashboard/".concat(r,"/community/feed"))),null;var o=Object(s.useMemo)((function(){return{url:t,withCredentials:!0}}),[t]);return c.a.createElement(xe.a,{file:o},c.a.createElement(Se,null,c.a.createElement(Ze,null),c.a.createElement(yt,{file:o})))};xt.propTypes={url:u.a.string.isRequired};var Et=xt,Ot=function(){var e=Object(Y.b)((function(e){return e.slidesData})),t=Object(Y.b)((function(e){return e.slidesIsSuccess})),n=Object(Y.b)((function(e){return e.spaceId}));if(!t)return null;var a,r=e.data.files.find((function(e){return"application/pdf"===e.mediaType})),i=r?r.mediaType:"unknown",o=null==r?void 0:r.src;if(i)switch(i){case"application/pdf":a=Et;break;default:throw new Error("".concat(i," not supported"))}return n&&t&&o?c.a.createElement(Ee,null,c.a.createElement(ye,null),c.a.createElement(a,{url:o})):null},jt=Object(y.b)("div",{target:"e1eqatss0"})("padding-top:16px;"),kt=f.b.color,wt=f.b.font,St=Object(d.a)({typography:{fontFamily:wt.family.workSans,useNextVariants:!0},palette:{primary:{main:kt.designSystem.purple70},text:{hint:kt.grey11}}}),It=function(e){var t=e.id,n=e.spaceId,a=e.sessionToken,r=e.userId,i=e.isEducator;return Object(o.useFlags)().isSlidePresentationEnabled?c.a.createElement(p.a,{theme:St},c.a.createElement(Y.a,{presentationId:t,sessionToken:a,spaceId:n,userId:r,isEducator:i},c.a.createElement(Ot,null))):c.a.createElement(jt,null,"Page under construction")};It.propTypes={id:u.a.string.isRequired,spaceId:u.a.string.isRequired,sessionToken:u.a.string.isRequired,userId:u.a.string.isRequired,isEducator:u.a.bool.isRequired};var Ct=It,Tt=n(24),Rt=Object(r.f)(Object(a.b)((function(e,t){return{id:t.params.presentationId,spaceId:Object(i.currentClassRoomId)(e),isEducator:Object(i.isInstructor)(e),sessionToken:Object(Tt.sessionToken)(e),userId:Object(Tt.currentUserId)(e)}}))(Ct));t.default=Rt},1967:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ct}));var a=n(35),r=n(12),i=n.n(r),o=n(45),s=n.n(o),c=n(7),l=n.n(c),u=n(0),d=n.n(u),p=n(1),f=n.n(p),m=n(164),b=n(14),g=n(15),h=Object(b.c)("0%{left:-45%;}100%{left:100%;}"),v=Object(b.b)("div",{target:"e3k732v0"})("padding-right:54px;"),y=Object(b.b)("div",{target:"e3k732v1"})("display:flex;gap:",g.b.spacing.xSmall,";"),x=Object(b.b)("div",{target:"e3k732v2"})("padding:6px 8px;background-color:",g.b.color.designSystem.background.light.information,";border-radius:",g.b.borderRadius.medium,";font-size:",g.b.font.size.copy,";font-weight:",g.b.font.weight.semiBold,";font-family:",g.b.font.family.workSans,";align-self:flex-start;"),E=Object(b.b)("h1",{target:"e3k732v3"})("font-family:",g.b.font.family.workSans,";font-size:20px;padding:0;margin:0;font-weight:",g.b.font.weight.semiBold,";align-self:flex-start;"),O=Object(b.b)("div",{target:"e3k732v4"})("display:flex;justify-content:space-between;"),j=Object(b.b)("div",{target:"e3k732v5"})("display:grid;padding-top:24px;grid-template-columns:repeat(auto-fill,minmax(432px,1fr));grid-auto-rows:94px;gap:24px;"),k=Object(b.b)("div",{target:"e3k732v6"})("background-color:",g.b.color.designSystem.grey20,";border-radius:",g.b.borderRadius.medium,";z-index:44;overflow:hidden;"),w=Object(b.b)("div",{target:"e3k732v7"})("position:absolute;left:-45%;height:100%;width:45%;background-image:linear-gradient( to left,rgba(251,251,251,0.05),rgba(251,251,251,0.3),rgba(251,251,251,0.6),rgba(251,251,251,0.3),rgba(251,251,251,0.05) );background-image:-moz-linear-gradient( to left,rgba(251,251,251,0.05),rgba(251,251,251,0.3),rgba(251,251,251,0.6),rgba(251,251,251,0.3),rgba(251,251,251,0.05) );background-image:-webkit-linear-gradient( to left,rgba(251,251,251,0.05),rgba(251,251,251,0.3),rgba(251,251,251,0.6),rgba(251,251,251,0.3),rgba(251,251,251,0.05) );animation:",h," 1s infinite;z-index:45;"),S=Object(b.b)("div",{target:"e3k732v8"})("margin-top:20px;font-family:Work Sans;font-weight:600;font-size:14px;line-height:16px;color:#6929c4;display:flex;justify-content:flex-end;align-items:center;"),I=n(568),C=n(16),T=n(6),R=n.n(T),q=n(3),A=n.n(q),D=n(4),P=n.n(D),z=n(5),F=n.n(z),L=n(9),N=n.n(L),M=n(8),_=n.n(M),U=n(2),B=n.n(U),H=n(37),G=n.n(H),V=n(200);function W(e,t){var n=R()(e);if(A.a){var a=A()(e);t&&(a=a.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,a)}return n}function K(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):F.a?N()(e,F()(n)):W(Object(n)).forEach((function(t){_()(e,t,P()(n,t))}))}return e}var Q=function(e,t,n,a){return G.a.post("".concat(Object(C.U)(),"/").concat(t,"/presentations"),K({},n),{headers:K({"x-session-token":e,"x-user-id":a},Object(V.a)())})},Y=["application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.ms-powerpoint","application/pdf"],J=function(){var e=i()(l.a.mark((function e(t){var n,a,r,i,o,s,c,u,d,p;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sessionToken,a=t.spaceId,r=t.userId,i=t.file,o=t.title,e.next=3,Object(I.upload)({sessionToken:n,file:i,uploadUrl:Object(C.w)(),storage:"parse"});case 3:if(s=e.sent,c=i.type,Y.includes(c)){e.next=7;break}return e.abrupt("return",null);case 7:return u=s.fileUrl,d={title:o,authorId:r,hidden:!1,src:{mediaType:c,url:u}},e.next=11,Q(n,a,d,r);case 11:return p=e.sent,e.abrupt("return",p);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=n(20),$=n.n(Z),X=n(165),ee=n(190);function te(e,t){var n=R()(e);if(A.a){var a=A()(e);t&&(a=a.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):F.a?N()(e,F()(n)):te(Object(n)).forEach((function(t){_()(e,t,P()(n,t))}))}return e}var ae=Object(ee.a)((function(e){return function(t){var n=t.sessionToken,a=t.spaceId,r=t.userId;return G.a.get("".concat(Object(C.U)(),"/").concat(a,"/presentations"),{cancelToken:e,headers:ne({"x-session-token":n,"x-user-id":r},Object(V.a)())})}})),re=n(1772),ie=function(e,t,n){return Object(X.useQuery)(re.a.presentations(),(function(){return ae({sessionToken:e,spaceId:t,userId:n})}),{enabled:!!e&&!!t&&!!n})},oe=function(e){var t=e.numberOfPlaceholders;return d.a.createElement(j,null,Array(t).fill().map((function(e,t){return t+1})).map((function(e){return d.a.createElement(k,{key:e},d.a.createElement(w,null))})))};oe.propTypes={numberOfPlaceholders:f.a.number},oe.defaultProps={numberOfPlaceholders:8};var se=oe,ce=function(){return d.a.createElement(j,null,d.a.createElement("h1",null,"An error has occurred"))},le=n(19),ue=n.n(le),de=n(1542),pe=n(561),fe=Object(b.b)("div",{target:"et89y040"})("align-self:stretch;justify-self:stretch;box-shadow:0px 4px 5px rgba(0,0,0,0.14),0px 1px 10px rgba(0,0,0,0.12),0px 2px 4px rgba(0,0,0,0.2);border-radius:4px;.edit-activity{display:none;}&:hover .edit-activity{display:block;}&:hover,&:focus{cursor:pointer;background:rgba(98,0,238,0.04);}pointer-events:",(function(e){return e.thumbnail?"pointer":"none"}),";"),me=Object(b.b)("a",{target:"et89y041"})("padding:12px 8px 12px 16px;display:flex;"),be=Object(b.b)("div",{target:"et89y042"})("width:108px;height:70px;border:1.3px solid rgba(0,0,0,0.12);box-sizing:border-box;border-radius:5.2px;background-image:",(function(e){var t=e.thumbnail;return t?"url(".concat(t,")"):null}),";background-size:108px 70px;display:flex;align-items:center;justify-content:center;"),ge=Object(b.b)("div",{target:"et89y043"})("height:84px;padding-bottom:12px;padding-left:",g.b.font.size.small,";width:100%;display:flex;flex-direction:column;justify-content:space-between;"),he=Object(b.b)("div",{target:"et89y044"})("font-family:",g.b.font.family.workSans,";font-weight:",g.b.font.weight.semiBold,";font-size:",g.b.font.size.copy,";line-height:",g.b.font.lineHeight.copy,";-webkit-line-clamp:2;word-wrap:break-word;text-overflow:ellipsis;overflow:hidden;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;"),ve=Object(b.b)("div",{target:"et89y045"})("font-family:",g.b.font.family.workSans,";font-size:13px;line-height:",g.b.font.lineHeight.copy,";color:",g.b.color.grey11,";"),ye=Object(b.b)("div",{target:"et89y046"})("font-family:",g.b.font.family.workSans,";font-size:",g.b.font.size.copy,";line-height:",g.b.font.lineHeight.copy,";color:",g.b.color.grey11,";"),xe=Object(b.b)("div",{target:"et89y047"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:6px;"),Ee=n(198),Oe=function(){return d.a.createElement(de.a.Delete,{style:{marginTop:"4px"}})},je=function(e){var t=e.thumbnail,n=e.title,a=e.lastEdited,r=e.goToPresentation,i=e.deletePresentation,o=ue()(a).fromNow();return d.a.createElement(fe,{"data-testid":"slide-item-".concat(n),thumbnail:t},d.a.createElement(me,{onClick:r},t?d.a.createElement(be,{thumbnail:t}):d.a.createElement(be,null,d.a.createElement(Ee.a,{"aria-label":"circular-progress","data-testid":"circular-progress-".concat(n),size:"18px"})),d.a.createElement(ge,null,d.a.createElement("div",null,d.a.createElement(he,null,n),d.a.createElement(ve,null,t?"Edited: ".concat(o):"Processing...")," "),d.a.createElement(xe,null,d.a.createElement(ye,{className:"edit-activity","data-testid":"edit-".concat(n)}," ","Click to edit"," "),d.a.createElement(pe.a,{className:"edit-activity",icon:Oe,"data-testid":"delete-".concat(n),label:"delete slides",size:"small",onClick:i})))))};je.propTypes={thumbnail:f.a.string,title:f.a.string,goToPresentation:f.a.func.isRequired,deletePresentation:f.a.func.isRequired,lastEdited:f.a.string.isRequired},je.defaultProps={title:void 0,thumbnail:void 0};var ke=je,we=n(208),Se=Object(b.b)("div",{target:"ejsf8e90"})("align-items:center;display:flex;flex-direction:column;"),Ie=Object(b.b)("div",{target:"ejsf8e91"})("background-image:url('../../../../../static/empty-state-sep-21.png');background-size:contain;width:444px;height:374px;"),Ce=Object(b.b)("span",{target:"ejsf8e92"})("margin-top:",g.b.spacing.xSmall,";margin-bottom:",g.b.spacing.medium,";color:",g.b.color.designSystem.blackOpacity87,";"),Te=n(578),Re=function(e){var t=e.title,n=e.onChangeFile,a=e.disabled,r=Object(u.useRef)(null);return d.a.createElement(d.a.Fragment,null,d.a.createElement("input",{type:"file",id:"file","data-testid":"upload-file-input",ref:r,style:{display:"none"},onChange:n}),d.a.createElement(Te.a,{type:"primary",size:"medium","aria-label":t,disabled:a,iconLeft:de.a.CloudUploadIcon,onClick:function(){r.current.value="",r.current.click()}},t))};Re.propTypes={title:f.a.string.isRequired,onChangeFile:f.a.func.isRequired};var qe=Re,Ae=function(e){var t=e.onChangeFile;return d.a.createElement(d.a.Fragment,null,d.a.createElement(y,null,d.a.createElement(E,null,"Slides"),d.a.createElement(x,null,"BETA")),d.a.createElement(Se,null,d.a.createElement(Ie,null),d.a.createElement(Ce,null,"Upload your first slides to Aula and make them interactive"),d.a.createElement(qe,{title:"Upload new slides",onChangeFile:t})))};Ae.propTypes={onChangeFile:f.a.func.isRequired};var De=Ae,Pe=n(43),ze=n.n(Pe),Fe=n(1589),Le=n(861),Ne=n(79),Me=function(){return d.a.createElement(de.a.SortDescending,{style:{fill:"purple",width:"20px",height:"20px"}})},_e=function(e){var t=e.sortedBy,n=e.onChangeSortBy,a=e.onChangeFile,r=e.disableUploadButton,i=[{key:"updatedAt",text:Ne.T,id:"last-edited",fn:n,info:"",showIcon:!1},{key:"title",text:Ne.Kb,id:"title-sort",fn:n,info:"Learn about new and upcoming features",showIcon:!0}],o=function(e){return d.a.createElement("div",null,e)};return d.a.createElement("div",null,d.a.createElement(qe,{title:"Upload new slides",onChangeFile:a,disabled:r}),d.a.createElement(S,null,d.a.createElement(Fe.a,{spacing:"0",menuListComponent:"ul",menuListAttributes:{role:"listbox","aria-label":"Sort"},renderTarget:function(e){var n=e.handleTargetClick;return d.a.createElement(Te.a,{iconRight:Me,type:"text",label:"Feed menu",onClick:n,size:"small"},"title"===t?"Title":"Last edited")},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},onSelect:function(e){var t=e.item;return null==t?void 0:t()},renderChildren:function(e){var t=e.getItemProps;return i.map((function(e){var n=e.key,a=e.text,r=e.id,i=(e.showIcon,e.fn);return d.a.createElement(Le.a,ze()({size:"medium",key:n,primaryText:o(a),attributes:{id:r,"aria-label":a,"data-testid":n.toLowerCase()}},t({item:function(){return i(n)}})))}))}})))};_e.propTypes={sortedBy:f.a.string.isRequired,onChangeSortBy:f.a.func.isRequired,onChangeFile:f.a.func.isRequired,disableUploadButton:f.a.bool.isRequired};var Ue=_e,Be=n(316),He=n(69);function Ge(e,t){var n=R()(e);if(A.a){var a=A()(e);t&&(a=a.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):F.a?N()(e,F()(n)):Ge(Object(n)).forEach((function(t){_()(e,t,P()(n,t))}))}return e}var We=function(e){if(!e.slides)return null;if(!e.slides.length)return null;var t=e.slides[0];if(!t.files)return null;for(var n=0;n<t.files.length;n++){var a=t.files[n];if("image/png"===a.mediaType)return a.src}return null},Ke=function(e,t){var n=e.title.toUpperCase(),a=t.title.toUpperCase();return n.localeCompare(a)},Qe=function(e){var t=e.spaceId,n=e.userId,r=e.sessionToken,i=e.goToPresentation,o=e.deletePresentation,c=e.onChangeFile,l=e.loadingState,p=e.uploadingState,f=e.deletingState,m=e.fileName,b=ie(r,t,n),g=b.isError,h=b.isLoading,v=b.data,k=b.refetch,w=Object(u.useState)("updatedAt"),S=s()(w,2),I=S[0],C=S[1],T=Object(u.useState)(!1),R=s()(T,2),q=R[0],A=R[1],D=Object(a.c)(),P=Object(Be.a)("Presentation:UploadComplete"),z=Object(Be.a)("Presentation:ConversionError"),F=Object(u.useMemo)((function(){var e;return"LOADING"===l&&m&&(e={title:m,id:Object(we.a)(),updatedAt:(new Date).toISOString(),temporary:!0}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if("title"===(arguments.length>1?arguments[1]:void 0)){return e.map((function(e){return e.title?e:Ve(Ve({},e),{},{title:"Untitled ".concat(e.updatedAt)})})).sort((function(e,t){return Ke(e,t)}))}return e.sort((function(e,t){return t.updatedAt.localeCompare(e.updatedAt)}))}([].concat($()((null==v?void 0:v.data)||[]),[e]).filter(Boolean),I)}),[l,m,v,I,f]),L=function(e,t){k(),function(e,t,n){return e.some((function(e){return e.id===t.id&&e.userId===n}))}(null==v?void 0:v.data,e.presentation,n)&&(A(!1),D(Object(He.a)({emoji:t.emoji,message:t.message})))};Object(u.useEffect)((function(){P&&L(P,{emoji:"✅",message:"".concat(P.presentation.title," uploaded.")})}),[P]),Object(u.useEffect)((function(){z&&L(z,{emoji:"❌",message:"Can't upload slides ".concat(z.presentation.title,".")})}),[z]),Object(u.useEffect)((function(){"LOADING"===l&&A(!0),"ERROR"===l&&(A(!1),D(Object(He.a)({emoji:"❌",message:"Can't upload slides ".concat(m,".")})))}),[l]),Object(u.useEffect)((function(){"LOADED"!==l&&"UPLOAD_COMPLETE"!==p||"IN_PROGRESS"===f||k()}),[l,p,f]);return g?d.a.createElement(ce,null):h?d.a.createElement(se,null):0===v.data.length&&"LOADING"!==l?d.a.createElement(De,{onChangeFile:c}):d.a.createElement(d.a.Fragment,null,d.a.createElement(O,null,d.a.createElement(y,null,d.a.createElement(E,null,"Slides"),d.a.createElement(x,null,"BETA")),d.a.createElement(Ue,{sortedBy:I,onChangeSortBy:function(e){return C(e)},onChangeFile:c,disableUploadButton:q})),d.a.createElement(j,null,null==F?void 0:F.map((function(e){return d.a.createElement(ke,{key:e.id,id:e.id,title:e.title,thumbnail:e.slides?We(e):void 0,lastEdited:e.updatedAt,goToPresentation:function(){return i(t,e.id)},deletePresentation:function(t){o(t,e.id,e.title)}})}))))};Qe.propTypes={spaceId:f.a.string.isRequired,sessionToken:f.a.string.isRequired,userId:f.a.string.isRequired,goToPresentation:f.a.func.isRequired,deletePresentation:f.a.func.isRequired,onChangeFile:f.a.func.isRequired,loadingState:f.a.string.isRequired,uploadingState:f.a.string.isRequired,deletingState:f.a.string.isRequired,fileName:f.a.string.isRequired};var Ye,Je=Qe;function Ze(e,t){var n=R()(e);if(A.a){var a=A()(e);t&&(a=a.filter((function(t){return P()(e,t).enumerable}))),n.push.apply(n,a)}return n}function $e(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){B()(e,t,n[t])})):F.a?N()(e,F()(n)):Ze(Object(n)).forEach((function(t){_()(e,t,P()(n,t))}))}return e}var Xe=function(e){var t=e.sessionToken,n=e.spaceId,a=e.presentationId,r=e.userId;return Ye&&Ye.cancel(),Ye=G.a.CancelToken.source(),G.a.delete("".concat(Object(C.U)(),"/").concat(n,"/presentations/").concat(a),{headers:$e({"x-session-token":t,"x-user-id":r},Object(V.a)()),cancelToken:Ye.token})},et=function(){var e=i()(l.a.mark((function e(t){var n,a,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.sessionToken,a=t.userId,r=t.spaceId,i=t.presentationId,e.next=3,Xe({sessionToken:n,spaceId:r,presentationId:i,userId:a});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=n(580),nt=/\.[^/.]+$/,at=function(e){var t=e.spaceId,n=e.userId,a=e.sessionToken,r=e.goToPresentation,o=Object(m.useFlags)().isSlidePresentationEnabled,c=Object(u.useState)(""),p=s()(c,2),f=p[0],b=p[1],g=Object(u.useState)(""),h=s()(g,2),y=h[0],x=h[1],E=Object(u.useState)(void 0),O=s()(E,2),j=O[0],k=O[1],w=Object(u.useState)(""),S=s()(w,2),I=S[0],C=S[1],T=Object(u.useState)(void 0),R=s()(T,2),q=R[0],A=R[1],D=Object(u.useState)(""),P=s()(D,2),z=P[0],F=P[1],L=function(){var e=i()(l.a.mark((function e(r){var i,o,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.stopPropagation(),r.preventDefault(),i=r.target.files[0],o=i.name.replace(nt,""),x(o),b("LOADING"),F("IN_PROGRESS"),e.prev=7,e.next=10,J({file:i,title:o,sessionToken:a,spaceId:t,userId:n});case 10:s=e.sent,b("LOADED"),s||(b("ERROR"),console.error("Type is not supported")),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(7),b("ERROR"),F("ERROR");case 19:case"end":return e.stop()}}),e,null,[[7,15]])})));return function(t){return e.apply(this,arguments)}}(),N=Object(Be.a)("Presentation:UploadComplete");Object(u.useEffect)((function(){"UPLOAD_COMPLETE"!==f&&F("UPLOAD_COMPLETE")}),[N]);var M=function(){var e=i()(l.a.mark((function e(r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C("IN_PROGRESS"),e.next=3,et({sessionToken:a,userId:n,spaceId:t,presentationId:r});case 3:C("DELETE_COMPLETED"),k(void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();if(!o)return d.a.createElement(v,null,"Page Under Construction");var _=d.a.createElement("span",null,"Are you sure you want to delete this presentation"," ",d.a.createElement("b",null,q&&q.length>50?"".concat(q.substring(0,50),"..."):q),"?");return d.a.createElement(v,null,d.a.createElement(Je,{spaceId:t,userId:n,sessionToken:a,goToPresentation:r,deletePresentation:function(e,t,n){e.stopPropagation(),k(t),A(n)},onChangeFile:L,loadingState:f,fileName:y,deletingState:I,uploadingState:z}),j&&d.a.createElement(tt.a,{id:"delete-prresentation",title:"Delete presentation",message:_,open:function(){},onClose:function(){},action:{label:"Delete",onClick:function(){return M(j)},danger:!0,loading:"IN_PROGRESS"===I},secondaryAction:{label:"Cancel",onClick:function(){return k(void 0)}}}))};at.propTypes={spaceId:f.a.string.isRequired,sessionToken:f.a.string.isRequired,userId:f.a.string.isRequired,goToPresentation:f.a.func.isRequired};var rt=d.a.memo(at),it=n(25),ot=n(24),st=n(92),ct=Object(a.b)((function(e){return{spaceId:Object(it.currentClassRoomId)(e),sessionToken:Object(ot.sessionToken)(e),userId:Object(ot.currentUserId)(e)}}),(function(e){return{goToPresentation:function(t,n){e(Object(st.l)(t,n))}}}))(rt)},1968:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return _e}));var a=n(20),r=n.n(a),i=n(35),o=n(81),s=n(12),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(0),m=n.n(f),b=n(579),g=n(373),h=n.n(g),v=n(1802),y=n(14),x=n(578),E=n(15),O=n(1590),j=Object(y.b)(x.a,{target:"e1juechi0"})("width:215px;"),k=Object(y.b)("span",{target:"e1juechi1"})("width:202px;margin-bottom:35px;margin-right:54px;"),w=Object(y.a)("display:flex;flex-direction:column;height:100%;"),S=Object(y.a)("display:flex;justify-content:flex-start;-webkit-box-align:center;align-items:center;"),I=Object(y.a)("display:flex;justify-content:space-between;-webkit-box-align:center;align-items:center;height:72px;padding-left:16px;"),C=Object(y.a)("font-family:",E.b.font.family.workSans,";font-weight:",E.b.font.weight.semiBold,";font-size:20px;line-height:24px;margin:0px 15px 6px 0;"),T=Object(y.a)("display:flex;justify-content:flex-start;-webkit-box-align:center;align-items:center;"),R=Object(y.a)("font-size:14px;color:",E.b.color.grey6,";"),q=Object(y.b)(O.a,{target:"e1juechi2"})("flex-shrink:0;flex-grow:0;flex-basis:25%;height:100%;padding-top:0;padding-left:0;"),A=Object(y.b)("div",{target:"e1juechi3"})("display:flex;flex-direction:row;height:100%;"),D=Object(y.b)("div",{target:"e1juechi4"})("flex-basis:75%;height:100%;"),P=n(45),z=n.n(P),F=n(1593),L=n(1922),N=n.n(L),M=n(1544),_=Object(y.a)("display:flex;align-items:center;"),U=Object(y.a)("margin-left:25px;"),B=function(e){var t=e.name,n=e.src,a=e.online,r=e.colourSeed,i=e.fullName;return e.isFull?m.a.createElement("div",{className:_},m.a.createElement(M.a,{name:t,src:n,online:a,colourSeed:r,size:"small"}),m.a.createElement("span",{className:U},i)):m.a.createElement(b.a,{title:i,position:"bottom"},m.a.createElement("div",null,m.a.createElement(M.a,{name:t,src:n,online:a,colourSeed:r,size:"small"})))};B.propTypes={name:p.a.string.isRequired,fullName:p.a.string.isRequired,src:p.a.string,online:p.a.bool.isRequired,colourSeed:p.a.string.isRequired,isFull:p.a.bool},B.defaultProps={isFull:!1,src:""};var H=B,G=n(560),V=n(327),W=Object(i.b)((function(e,t){var n=t.participantId.id,a=V.c(e,n)||{objectId:n};return{name:a.firstName,src:a.avatar,online:Object(G.a)(e,n),colourSeed:n,fullName:"".concat(a.firstName," ").concat(a.lastName)}}),(function(){return{}}))(H),K=n(79),Q=Object(y.a)("display:flex;justify-content:flex-start;list-style:none;padding:0;margin:0;"),Y=Object(y.a)("flex-direction:column;justify-content:center;margin:0;padding:24px 20px;"),J=Object(y.a)("margin-right:8px;"),Z=Object(y.a)("margin-right:0;margin-bottom:20px;"),$=Object(y.a)("min-width:340px;"),X=Object(y.a)("overflow:auto;height:340px;"),ee=Object(y.b)("span",{target:"e1xexss90"})("font:inherit;font-size:",E.b.font.size.copy,";font-weight:",E.b.font.weight.semiBold," background-color:transparent;border:0;margin:0;padding:0;outline:0;margin-top:4px;color:",E.b.color.designSystem.purple70,";cursor:pointer;"),te="educator-menu-show-participants",ne=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return!!e})).join(" ")},ae=function(e){var t,n=Object(f.useState)(!1),a=z()(n,2),r=a[0],i=a[1],o=e.educators,s=function(e,t){var n=t?ne(J,Z):J;return m.a.createElement("li",{key:e.id,className:n},m.a.createElement(W,{key:e.id,participantId:e,isFull:t}))},c=o?o.length:0,l=c&&N()(o,6)||[],u=c-l.length;return m.a.createElement(m.a.Fragment,null,m.a.createElement("ul",{className:Q},l.map((function(e){return s(e,false)})),!function(e){return!e.length||1===e.length}(o)&&u>0&&m.a.createElement("li",{key:te,id:te,className:J},(t=u,m.a.createElement(b.a,{title:K.n,position:"bottom"},m.a.createElement(ee,{onClick:function(){return i(!0)}},"+".concat(t," ").concat(t>1?"others":"other")))))),m.a.createElement(F.a,{id:"view-educator-participants-modal",container:function(){return document.getElementById("user-profile-container")},classes:{paper:$},open:r,headerData:{title:"Educators in this space"},onClose:function(){return i(!1)}},m.a.createElement("div",{className:X},m.a.createElement("ul",{className:ne(Q,Y)},o&&o.length&&o.map((function(e){return s(e,true)}))))))};ae.propTypes={educators:p.a.arrayOf(p.a.object)},ae.defaultProps={educators:[]};var re=ae,ie=n(519),oe=Object(y.b)("div",{target:"e1sn04aa0"})("margin-left:-4px;"),se=function(){return m.a.createElement(oe,null,m.a.createElement(ie.a,{viewBox:"-6 -4 30 30",htmlColor:E.b.color.avatarBlue},m.a.createElement("path",{d:"M7 16L3 12L4.41 10.59L7 13.17L13.59 6.58L15 8L7 16ZM9 0L0 4V10C0 15.55 3.84 20.74 9 22C14.16 20.74 18 15.55 18 10V4L9 0Z"})))},ce=n(1601),le=n(524),ue=n.n(le),de=n(1803),pe=n(1820),fe=n(1822),me=n(1823),be=n(1821),ge=n(561),he=n(1977),ve=n(1503),ye=(E.b.color.grayDark,Object(y.b)(ge.a,{target:"eyijs5b0"})("margin-left:6px;")),xe=Object(y.b)(he.a,{target:"eyijs5b1"})("font-family:",E.b.font.family.workSans,";font-size:20px;padding:0;margin-bottom:17px;"),Ee=Object(y.b)("div",{target:"eyijs5b2"})("height:100%;width:100%;"),Oe=Object(y.b)("div",{target:"eyijs5b3"})("border-right:1px solid ",E.b.color.blackAlpha(.12),";padding:",E.b.spacing.medium,";"),je=Object(y.b)(ve.a,{target:"eyijs5b4"})("padding:0;"),ke=n(329),we=function(e){var t=e.onAddClick,n=e.materialEducatorOnlyIds,a=e.isFetchingSections,r=e.isReadOnlyUser;return m.a.createElement(Ee,null,m.a.createElement(ke.a,{autoHide:!0},m.a.createElement(Oe,null,m.a.createElement(xe,{component:"div",title:"Materials",testID:"menu-materials"},!r&&m.a.createElement(m.a.Fragment,null,m.a.createElement(pe.a,{educatorOnly:!0}),m.a.createElement(b.a,{title:"New page",space:4,position:"right"},m.a.createElement(ye,{type:"secondary",size:"xSmall",icon:ue.a,label:"Create page",onClick:t})))),m.a.createElement(je,null,n.length||a?n.map((function(e,t){return m.a.createElement(de.a,{key:e,materialId:e,educatorOnly:!0,"data-testid":"educator-material-".concat(t+1)})})):m.a.createElement(be.a,{isInstructor:!0})),m.a.createElement(fe.a,null),m.a.createElement(me.a,{educatorOnly:!0}))))};we.propTypes={onAddClick:p.a.func.isRequired,materialEducatorOnlyIds:p.a.arrayOf(p.a.string),isFetchingSections:p.a.bool.isRequired,isReadOnlyUser:p.a.bool.isRequired},we.defaultProps={materialEducatorOnlyIds:[]};var Se=m.a.memo(we),Ie=n(1610),Ce=n(220),Te=n(25),Re=Object(o.c)({materialEducatorOnlyIds:Ce.c.topLevelMaterialEducatorOnlyIds,isFetchingSections:Ce.c.isFetchingSections,isMaterialEducatorOnlyExpanded:Ce.c.isMaterialEducatorOnlyExpanded,staffAccess:Te.accessingCurrentSpaceAsStaff}),qe=Object(o.a)(Re,(function(e){var t=e.materialEducatorOnlyIds;return{isFetchingSections:e.isFetchingSections,materialEducatorOnlyIds:t,isMaterialEducatorOnlyExpanded:e.isMaterialEducatorOnlyExpanded,isReadOnlyUser:e.staffAccess}})),Ae=Object(i.b)(qe,(function(e){return{toggleMaterialEducatorOnly:function(){return e(Ce.b.toggleMaterialEducatorOnly())},onAddClick:function(){return e(Ce.b.createSection({content:ce.e,educatorOnly:!0,hidden:!1,onSelect:Ie.d}))}}}))(Se),De=function(e){var t=e.spaceId,n=e.educators,a=e.educatorsIds,r=e.fetchUsers,i=e.fetching,o=e.creating,s=e.createConversation,l=e.selectConversation,d=e.route,p=e.isReadOnlyUser;Object(f.useEffect)((function(){i||n.length===a.length||r(a)}),[n,a,i]);var g=function(){var e=c()(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s(t);case 2:n=e.sent,l(n.objectId);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=!n.length||n.length<2,x=m.a.createElement(k,null,m.a.createElement(j,{type:"primary",size:"medium",loading:o,iconLeft:h.a,onClick:g,disabled:y,"data-testid":"educator-area-conversation-button"},"Educator conversation")),E=y?m.a.createElement(b.a,{title:"At least 2 educators are required for a conversation"},x):x;return m.a.createElement("div",{className:w},m.a.createElement("div",{className:I},m.a.createElement("div",null,m.a.createElement("div",{className:S},m.a.createElement("span",{className:C},"Educator area"),m.a.createElement(re,{educators:n})),m.a.createElement("div",{className:T},m.a.createElement(se,null),m.a.createElement("span",{className:R},"The educator area is not visible to students"))),!p&&E),m.a.createElement(A,null,m.a.createElement(q,null,m.a.createElement(Ae,null)),m.a.createElement(D,null,m.a.createElement(v.a,{route:d,educatorOnly:!0}))))};De.propTypes={spaceId:p.a.string.isRequired,educatorsIds:p.a.arrayOf(p.a.string),educators:p.a.arrayOf(p.a.object),fetchUsers:p.a.func.isRequired,fetching:p.a.bool,creating:p.a.bool,createConversation:p.a.func,selectConversation:p.a.func,route:p.a.shape({childRoutes:p.a.array,path:p.a.string}).isRequired,isReadOnlyUser:p.a.bool.isRequired},De.defaultProps={educatorsIds:[],educators:[],fetching:!1,creating:!1,createConversation:function(){},selectConversation:function(){}};var Pe=m.a.memo(De),ze=n(173),Fe=n(63),Le=n(56),Ne=n(1669),Me=Object(o.a)(V.b,Te.instructorUsers,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.reduce((function(t,n){return t||e[n]}),!1)})),_e=Object(i.b)((function(e){return{educatorsIds:Te.instructorUsers(e),educators:Te.instructorUsers(e).reduce((function(t,n){var a=Object(V.c)(e,n);return[].concat(r()(t),r()(a?[a]:[]))}),[]),fetching:Me(e),spaceId:Te.currentClassRoomId(e),creating:Object(Le.isCreatingConversation)(e),isReadOnlyUser:Te.accessingCurrentSpaceAsStaff(e)}}),(function(e){return{createConversation:function(t){return e(Fe.b.createConversation({spaceId:t,educatorOnly:!0}))},selectConversation:function(t){return e(ze.c(t))},fetchUsers:function(t){return e(Object(Ne.b)(t))}}}))(Pe)},1969:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(0),i=n.n(r),o=n(1),s=n.n(o),c=n(1591),l=n(1702),u=n(45),d=n.n(u),p=n(3),f=n.n(p),m=n(4),b=n.n(m),g=n(5),h=n.n(g),v=n(9),y=n.n(v),x=n(8),E=n.n(x),O=n(2),j=n.n(O),k=n(12),w=n.n(k),S=n(7),I=n.n(S),C=n(6),T=n.n(C),R=n(1630),q=n(14),A=n(15),D=n(1701),P=A.b.borderRadius,z=A.b.color,F=z.designSystem,L=F.buttonStates,N=Object(q.a)("background:transparent;border:none;&:hover{background:",F.grey30,";}"),M=Object(q.b)("div",{target:"e1sjp7kv0"})("max-width:98%;overflow:auto;height:95%;clear:both;position:relative;",D.b,";#learnosity_assess{height:95%;}.lrn-dialog-header{h2{margin-top:40px;}}.lrn.lrn-assess{.subtitle{white-space:normal;text-overflow:unset;padding-top:8px;max-height:50px;overflow-y:scroll;}.test_title_element{padding:15px;.subtitle{overflow:hidden;max-height:unset;}}.lrn-dialog .lrn-dialog-body[id^='end-page-']{top:90px;}.dialogs{.lrn-dialogs-close-btn{",N," border-radius:",P.extraLarge,";&:focus .lrn-dialogs-close-btn-label{border-color:",F.purple50,";border-radius:",P.extraLarge,";}}.lrn_btn_blue{border-radius:",P.medium,";text-transform:none;border:1px solid rgba(0,0,0,0.38) !important;color:#7b42ca !important;background:transparent !important;height:40px;font-weight:500;}.lrn-start-page .start-test-btn,.lrn-end-page .test-dialog-quit{",Object(D.c)({selected:!1}),"}.review-screen{.panel-header{h2:focus{outline:none;}.lrn-assess-close-review-screen-btn{",N,"}}}.app-panel[id^='test-save-']{.lrn_btn.test-dialog-cancel,.lrn_btn_blue.test-dialog-save-submit{",Object(D.d)({selected:!1}),"}}}.lrn-group-middle{.lrn-right-region{.menu-buttons[role='navigation'] button.lrn_btn{border-radius:4px;&.lrn_active{border-color:",L.primary.active,";&:before{color:",L.primary.active,";}}&:focus{border-color:",F.purple50,";}}}}.lrn-group-top{.lrn-top-right-region{.lrn_btn.pos-right.test-pause{",Object(D.d)({selected:!1}),"}}}.lrn-group-bottom{.lrn-bottom-right-region{.lrn_btn.pos-right{&.item-prev{",Object(D.d)({selected:!1}),"}&.item-next,&.test-review-screen{&:not([style*='display']),&:not([style*='none']){",Object(D.c)({selected:!1}),":before{display:none;}}}}}}}.lrn.lrn-assess .app-panel.review-screen .panel-content .panel-footer button,.lrn.lrn-assess .bottom-right-wrapper button{background-color:",L.primary.active," !important;border-color:",L.primary.active," !important;border-radius:",P.medium,";color:#fff !important;}.lrn.lrn-assess .app-panel.review-screen .item-card.active:before{background-color:",L.primary.active," !important;}.lrn.lrn-assess .app-panel.review-screen .item-card.active:after{border-color:transparent transparent transparent ",L.primary.active," !important;}.lrn.lrn-assess .app-layout .lrn_btn_blue:after{border-color:transparent !important;border-radius:",P.medium," !important;}.lrn-assess .items .progress span{background-color:",L.primary.active,";}.lrn.lrn-assess .lrn-vertical-toc .pagination-active:before{background-color:",L.primary.active,";}.lrn.lrn-assess .lrn-vertical-toc .pagination-active:after{border-color:transparent transparent transparent ",L.primary.active,";}"),_=Object(q.b)("div",{target:"e1sjp7kv1"})("position:absolute;top:10px;bottom:10px;left:10px;right:10px;z-index:10000;background:",z.white,";display:",(function(e){return e.busy?"flex":"none"}),";justify-content:center;align-items:center;"),U=["button:[name]:clicked","dynamic:item:changed","focused","item:changed","item:changing","item:goto","items:lazyload:batch","items:lazyload:complete","items:lazyload:error","item:load","item:setAttemptedResponse","item:beforeunload","item:unload","item:warningOnChange","items:fetch","items:fetch:done","section:changed","test:finished:discard","test:finished:save","test:finished:submit","test:panel:hide","test:panel:show","test:pause","test:reading:end","test:reading:start","test:ready","test:resume","test:save","test:save:error","test:save:success","test:start","test:submit","test:submit:error","test:submit:success","time:end","test:proctor:exitAndSubmit","test:proctor:goto","test:proctor:paused","test:proctor:resumed","test:proctor:save","test:proctor:terminated","unfocused","changed","beforeValidate","validated","masked","playback:assetLoaded","playback:complete","playback:paused","playback:resumed","playback:started","playback:stopped","recording:paused","recording:resumed","recording:started","recording:stopped","begin","complete","playback:started","playback:assetLoaded","playback:complete","playback:paused","playback:resumed","playback:stopped"],B=n(46),H=n(44),G=n(1703);function V(e,t){var n=T()(e);if(f.a){var a=f()(e);t&&(a=a.filter((function(t){return b()(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?y()(e,h()(n)):V(Object(n)).forEach((function(t){E()(e,t,b()(n,t))}))}return e}var K=function(e){var t=e.assignmentId,n=e.baseDomain,a=e.goToAssignments,o=e.sessionToken,s=e.spaceId,l=Object(G.d)(G.b),u=Object(r.useState)(!1),p=d()(u,2),f=p[0],m=p[1],b=Object(r.useState)(!0),g=d()(b,2),h=g[0],v=g[1];return Object(r.useEffect)((function(){w()(I.a.mark((function e(){var a,r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l){e.next=6;break}return e.next=3,Object(R.b)({baseDomain:n,path:R.a.ASSESS,sessionToken:o,params:{assignmentId:t}});case 3:a=e.sent,r=a.data.learnosityResponse,i=window.LearnosityItems.init(r,{readyListener:function(){v(!1),i.on("test:finished:submit",(function(){v(!0),m(!0)})),U.forEach((function(e){i.on(e,(function(n){Object(B.c)(H.O,W({activeClassroom:s,assignmentId:t,learnosityEventName:e,learnositySessionId:r.request.session_id},n&&n.data&&T()(n.data).length&&{learnosityEventData:n.data}))}))}))}});case 6:case"end":return e.stop()}}),e)})))()}),[l]),Object(r.useEffect)((function(){w()(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!f){e.next=4;break}return e.next=3,Object(R.b)({baseDomain:n,path:R.a.SUBMISSIONS,sessionToken:o,params:{assignmentId:t,spaceId:s}});case 3:a(s);case 4:case"end":return e.stop()}}),e)})))()}),[f]),i.a.createElement(M,null,i.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),i.a.createElement(_,{busy:h},i.a.createElement(c.a,{size:40})),i.a.createElement("div",{id:"learnosity_assess"}))};K.propTypes={baseDomain:s.a.string.isRequired,sessionToken:s.a.string.isRequired,assignmentId:s.a.string.isRequired,spaceId:s.a.string.isRequired,goToAssignments:s.a.func.isRequired};var Q=i.a.memo(K),Y=n(92),J=n(25),Z=n(249),$=n(24),X=n(113),ee=Object(a.b)((function(e){var t=Object(X.d)(e).pathname?Object(X.d)(e).pathname.split("/").slice(-1):[""],n=d()(t,1)[0];return{baseDomain:Object(Z.a)(e),sessionToken:Object($.sessionToken)(e),spaceId:Object(J.currentClassRoomId)(e),assignmentId:n}}),(function(e){return{goToAssignments:function(t){e(Object(Y.c)(t))}}}))(Q),te=n(164),ne=n(578),ae=n(286),re=n.n(ae),ie=n(290),oe=Object(q.b)("div",{target:"e1yr3sao0"})("display:flex;justify-content:space-between;max-width:98%;margin:17px 0px;"),se=Object(q.b)("div",{target:"e1yr3sao1"})("max-height:calc(100vh - 200px);max-width:1300px;.lrn-dialog-header{h2{margin-top:40px;}}.lrn-assess .lrn-dialog .lrn-dialog-body[id^='end-page-']{top:90px;}"),ce=Object(q.b)("div",{target:"e1yr3sao2"})("max-width:98%;overflow:auto;height:100%;clear:both;"),le=n(1789),ue=n(1810),de=n(1729),pe=n(2004),fe=n(2017),me=Object(q.b)("div",{target:"e62je640"})("max-width:98%;padding-bottom:",A.b.spacing.medium,";"),be=Object(q.b)("ul",{target:"e62je641"})("padding-inline-start:",A.b.spacing.xLarge,";margin-block-start:0px;margin-block-end:0px;"),ge=function(e){var t=e.triggerText,n=e.onTrigger;return i.a.createElement(me,null,i.a.createElement(pe.a,{type:"warning",triggerText:t,onTrigger:n},i.a.createElement(fe.a,null,"Please remember:"),i.a.createElement(be,null,i.a.createElement("li",null,"Set a maximum score for all questions, including auto scored and manual scored ones."),i.a.createElement("li",null,"Don’t edit the quiz if it has submissions."))))};ge.propTypes={onTrigger:s.a.func.isRequired,triggerText:s.a.string.isRequired};var he=ge;function ve(e,t){var n=T()(e);if(f.a){var a=f()(e);t&&(a=a.filter((function(t){return b()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ve(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?y()(e,h()(n)):ve(Object(n)).forEach((function(t){E()(e,t,b()(n,t))}))}return e}var xe=function(e,t){var n=e.getLocation().location.split("/"),a=d()(n,3)[2];return a&&a===t},Ee=function(e){var t=e.spaceId,n=e.assignmentId,a=e.sessionToken,o=e.baseDomain,s=Object(G.d)(G.a),u=Object(r.useState)(),p=d()(u,2),f=p[0],m=p[1],b=Object(r.useState)(!1),g=d()(b,2),h=g[0],v=g[1],y=Object(r.useState)([]),x=d()(y,2),E=x[0],O=x[1],j=Object(r.useState)([]),k=d()(j,2),S=k[0],C=k[1],q=Object(r.useState)("Save quiz"),A=d()(q,2),P=A[0],z=A[1],F=Object(r.useState)(!1),L=d()(F,2),N=L[0],M=L[1],_=Object(r.useState)(!1),U=d()(_,2),V=U[0],W=U[1],K=Object(r.useState)(!1),Q=d()(K,2),Y=Q[0],J=Q[1],Z=Object(r.useState)(!1),$=d()(Z,2),X=$[0],ee=$[1],ae=Object(r.useState)(!1),pe=d()(ae,2),fe=pe[0],me=pe[1],be=Object(r.useState)(),ge=d()(be,2),ve=ge[0],Ee=ge[1],Oe=Object(r.useState)(),je=d()(Oe,2),ke=je[0],we=je[1],Se=Object(r.useState)(),Ie=d()(Se,2),Ce=Ie[0],Te=Ie[1],Re=Object(r.useState)([]),qe=d()(Re,2),Ae=qe[0],De=qe[1],Pe=Object(r.useState)([]),ze=d()(Pe,2),Fe=ze[0],Le=ze[1],Ne=Object(r.useState)(!1),Me=d()(Ne,2),_e=Me[0],Ue=Me[1];Object(r.useEffect)((function(){var e=function(){window.scrollTo(0,0)};return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}}),[]);var Be=function(){return h&&Boolean(f.getItemTitle())?ee(!0):f.navigate("activities/".concat(n))};Object(r.useEffect)((function(){if(Ce&&Ce.location){var e=Ce.location.split("/");if(e.length>2){z("Save item"),O([{title:"Quiz",onClick:Be}]),C([{items:"Item",searchItems:"Item bank"}[e[2]]]),M(!0)}else z("Save Quiz"),C(["Quiz"]),O([]),M(!1)}}),[Ce,h]),Object(r.useEffect)((function(){ve&&(V&&(W(!1),J(!1)),X&&(ee(!1),me(!1),f.navigate("activities/".concat(n))),Ee(void 0))}),[ve]),Object(r.useEffect)((function(){ke&&(xe(f,"searchItems")&&f.navigate("activities/".concat(n)),we(void 0))}),[ke]),Object(r.useEffect)((function(){re()(Ae,Fe)&&Ue(!0),Le(Ae)}),[Ae]);var He=Object(te.useFlags)().ftLearnosityCustomTemplatesEnabled202111;Object(r.useEffect)((function(){_e&&Ae.length&&Object(R.b)({baseDomain:o,path:R.a.UPDATE_QUESTIONS,sessionToken:a,params:{assignmentId:n,spaceId:t,itemRefs:Ae,enableCustomTemplates:He}}).then((function(){Ue(!1)}))}),[_e]);var Ge=Object(r.useCallback)((function(e,a){var r,i;e&&"save:activity:success"===e.name&&"non-pauseable-standard-template"===(null==e||null===(r=e.data)||void 0===r||null===(i=r.metadata)||void 0===i?void 0:i.player_template_reference)&&Object(B.c)(H.Q,ye({activeClassroom:t,assignmentId:n,learnosityEventName:a},e&&e.data&&T()(e.data).length&&{learnosityEventData:e.data}))}),[n,t]);return Object(r.useEffect)((function(){w()(I.a.mark((function e(){var r,i;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=5;break}return e.next=3,Object(R.b)({baseDomain:o,path:R.a.ACTIVITY_EDIT,sessionToken:a,params:{assignmentId:n,spaceId:t,enableCustomTemplates:He}});case 3:r=e.sent,i=window.LearnosityAuthor.init(r.data.learnosityResponse,{readyListener:function(){var e=w()(I.a.mark((function e(){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(i),i.on("navigate",(function(e){Te(e.data)})),i.on("render:activity",(function(){De(i.getActivityItems().map((function(e){return e.reference})))})),i.on("save:success",(function(){Ee(!0)})),i.on("save:activity:success",function(){var e=w()(I.a.mark((function e(t){var n;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.data,De(n.data.items.map((function(e){return e.reference}))),we(!0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),i.on("activityedit:saveable:changed",(function(e){v(e.data.saveable)})),i.on("widgetedit:widget:ready",(function(){var e=i.editorApp();if(e.attribute("validation").getValue){var t=e.attribute("validation").getValue();i.once("save",(function(){var n=e.attribute("validation").getValue();re()(t,n)&&Ue(!0)}))}})),i.on("render:item",(function(){i.off("save")})),i.on("render:activity",(function(){i.off("save")})),le.a.forEach((function(e){i.on(e,(function(a){Ge(a,e),Object(B.c)(H.N,ye({activeClassroom:t,assignmentId:n,learnosityEventName:e},a&&a.data&&T()(a.data).length&&{learnosityEventData:a.data}))}))}));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),errorListener:function(){}});case 5:case"end":return e.stop()}}),e)})))()}),[s,Ge]),i.a.createElement(se,null,i.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),i.a.createElement(oe,null,i.a.createElement(de.a,{spaceId:t,routes:E,staticRoutes:S}),i.a.createElement(l.b,null,N&&i.a.createElement(ne.a,{type:"secondary",onClick:Be},"Return to quiz"),i.a.createElement(ne.a,{"data-testid":"quiz-author-save-button",type:"primary",disabled:!h,onClick:function(){var e=Boolean(f.getItemTitle());xe(f,"items")&&!e?W(!0):f.saveActivity()}},P))),i.a.createElement(he,{triggerText:"Learn more",onTrigger:function(){return window.open("https://aula.zendesk.com/hc/en-us/articles/360022112719-Quiz-Creating-quizzes","_blank")}}),i.a.createElement(ce,null,i.a.createElement(D.a,null,i.a.createElement("div",{id:"learnosity-author"}),!f&&i.a.createElement(l.a,null,i.a.createElement(c.a,null)))),i.a.createElement(ue.a,{addingTitle:Y,open:V,onAddTitle:function(e){f.setItemTitle(e),J(!0),f.saveActivity()},onClose:function(){return W(!1)}}),i.a.createElement(ie.a,{id:"confirm-return-to-quiz",title:"Return to Quiz",message:"You have unsaved changes to this item. Are you sure you want to return to the item list view?",open:X,onClose:function(){return ee(!1)},action:{label:"Save and return",onClick:function(){f.saveActivity(),me(!0)},danger:!0,loading:fe},secondaryAction:{label:"Cancel",onClick:function(){return ee(!1)}}}))};Ee.propTypes={baseDomain:s.a.string.isRequired,sessionToken:s.a.string.isRequired,spaceId:s.a.string.isRequired,assignmentId:s.a.string.isRequired};var Oe=i.a.memo(Ee),je=Object(a.b)((function(e){var t=Object(X.d)(e).pathname?Object(X.d)(e).pathname.split("/").slice(-1):[""],n=d()(t,1)[0];return{baseDomain:Object(Z.a)(e),sessionToken:Object($.sessionToken)(e),spaceId:Object(J.currentClassRoomId)(e),assignmentId:n}}),null)(Oe),ke=function(e){var t=e.isEducator;return e.spaceId?t?i.a.createElement(je,null):i.a.createElement(ee,null):i.a.createElement(l.a,null,i.a.createElement(c.a,null))};ke.propTypes={spaceId:s.a.string.isRequired,isEducator:s.a.bool.isRequired};var we=ke,Se=n(328);t.default=Object(a.b)((function(e){var t=Object($.currentUserId)(e),n=Se.c.selectedSpace(e);return{isEducator:Object(J.isInstructorInSpace)(e)(t,n),spaceId:n}}),null)(we)},1970:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(54),i=n(2),o=n.n(i),s=n(12),c=n.n(s),l=n(45),u=n.n(l),d=n(7),p=n.n(d),f=n(88),m=n.n(f),b=n(49),g=n.n(b),h=n(6),v=n.n(h),y=n(3),x=n.n(y),E=n(4),O=n.n(E),j=n(5),k=n.n(j),w=n(9),S=n.n(w),I=n(8),C=n.n(I),T=n(0),R=n.n(T),q=n(1),A=n.n(q),D=n(1497),P=n(578),z=n(1591),F=n(2004),L=n(1996),N=n(572),M=n(16),_=n(108),U=function(e){var t=e.assignmentId,n=e.accessToken,a=e.enabled;return Object(N.a)({url:Object(M.e)({assignmentId:t}),headers:Object(_.a)(n)},{enabled:a,staleTime:6e4})},B=n(1630),H=function(e){return new g.a((function(t,n){e({success:t,error:n})}))},G=n(92),V=n(1729),W=n(14),K=n(517),Q=n(15),Y=Object(K.a)({palette:{primary:{main:Q.b.color.designSystem.purple70}},typography:{fontFamily:Q.b.font.family.workSans},overrides:{MuiSwitch:{switchBase:{color:"#666666"}}}}),J=Object(W.b)("div",{target:"ew2zfe10"})("padding:",Q.b.spacing.large," 0px;position:sticky;top:0;background-color:",Q.b.color.designSystem.grey10,";z-index:12;display:flex;justify-content:space-between;ul{margin:0;}"),Z=Object(W.b)("span",{target:"ew2zfe11"})("display:block;background:",Q.b.color.designSystem.blackOpacity12,";height:1px;width:100%;position:sticky;top:",(function(e){return e.isEducator?"81px":"64px"}),";z-index:10;"),$=Object(W.b)("span",{target:"ew2zfe12"})("display:block;background:",Q.b.color.designSystem.grey10,";height:2px;width:100%;position:relative;top:-1px;z-index:11;"),X=Object(W.a)(".lrn-report-item-title{font-family:",Q.b.font.family,";font-weight:",Q.b.font.weight.semiBold,";font-size:",Q.b.font.size.large,";line-height:",Q.b.font.lineHeight.copy,";.lrn-circle{display:none;}}.aula-text-input{label{font-weight:400;}width:35%;min-width:76px;fieldset{border-style:solid;border-width:1px;padding-right:calc(100% - 50px);padding-left:7px;}legend{border:0;}input{font:inherit;color:currentColor;margin:0;box-sizing:content-box !important;}}.lrn_texteditor textarea{overflow-y:auto !important;}"),ee=Object(W.b)("div",{target:"ew2zfe13"})("margin-right:",Q.b.spacing.xxxxGiant,";min-height:100px;#session-detail{",X,"}"),te=Object(W.a)("border-bottom:1px solid ",Q.b.color.grayLight,";display:flex;margin-bottom:",Q.b.spacing.large,";padding-bottom:",Q.b.spacing.large,";> div{flex:1;&:nth-of-type(1){margin-right:",Q.b.spacing.small,";}&:nth-of-type(2){margin-left:",Q.b.spacing.small,";}}"),ne=Object(W.b)("div",{target:"ew2zfe14"})("display:flex;padding-top:30px;justify-content:center;pointer-events:none;position:absolute;top:80px;left:0;width:100%;"),ae=Object(W.b)("div",{target:"ew2zfe15"})("display:flex;justify-content:space-between;gap:20px;align-items:center;p{margin:0;}button{flex-shrink:0;svg{fill:",Q.b.color.designSystem.purple80," !important;}}"),re=Object(W.b)("div",{target:"ew2zfe16"})("> div > div{align-items:center;}margin-bottom:",Q.b.spacing.large,";"),ie=Object(W.b)("div",{target:"ew2zfe17"})("display:flex;gap:24px;border-bottom:1px solid ",Q.b.color.grayLight,";padding-bottom:",Q.b.spacing.xxLarge,";> div{flex:1;}"),oe=Object(W.b)("h2",{target:"ew2zfe18"})("font-weight:",Q.b.font.weight.semiBold,";font-size:20px;line-height:",Q.b.font.lineHeight.large,";letter-spacing:0.15px;color:",Q.b.color.text,";margin:0;"),se=Object(W.b)("p",{target:"ew2zfe19"})("margin-top:4px;font-size:",Q.b.font.size.copy,";line-height:",Q.b.font.lineHeight.copy,";"),ce=Object(W.b)("div",{target:"ew2zfe110"})("margin:10px 0;max-width:650px;"),le=n(571),ue=n(68),de=n(1583),pe=n(1651),fe=n(1574),me=Object(W.a)("background-color:white;box-shadow:0px 4px 4px rgba(0,0,0,0.25);border-radius:",Q.b.borderRadius.medium,";"),be=Object(W.b)("div",{target:"eddw6gu0"})((function(e){return e.isEducator?me:""})," margin-right:4px;"),ge=Object(W.b)("div",{target:"eddw6gu1"})("display:flex;justify-content:space-between;padding-left:20px;padding-right:20px;padding-bottom:20px;padding-top:",(function(e){return e.isEducator?"20px":"0"}),";"),he=Object(W.b)("div",{target:"eddw6gu2"})("flex:1;"),ve=Object(W.b)("p",{target:"eddw6gu3"})("margin-bottom:0px !important;font-family:",Q.b.font.family.workSans,";font-weight:",Q.b.font.weight.regular,";font-size:",Q.b.font.size.copy,";line-height:",Q.b.font.lineHeight.copy,";color:",Q.b.color.designSystem.blackOpacity60,";"),ye=Object(W.b)("p",{target:"eddw6gu4"})("font-family:",Q.b.font.family.workSans,";font-weight:",Q.b.font.weight.regular,";font-size:",Q.b.font.size.copy,";line-height:",Q.b.font.lineHeight.copy,";color:",Q.b.color.text,";"),xe=Object(W.a)(".lrn_widget .lrn_texteditor_editable{background-color:transparent;}"),Ee=Object(W.b)("div",{target:"eddw6gu5"})("padding-left:20px;padding-right:20px;",(function(e){return e.isStudent?xe:""})),Oe=Object(W.b)("div",{target:"eddw6gu6"})("border-top:1px solid rgba(0,0,0,0.12);padding:20px;display:flex;justify-content:flex-end;align-items:center;label{margin-bottom:0 !important;}"),je=Object(W.b)("p",{target:"eddw6gu8"})("padding-left:14px;color:",Q.b.color.designSystem.blackOpacity60,";"),ke=function(e){var t=e.feedbackRef,n=e.cardRenderId,a=e.score,r=e.onChange,i=e.isEducator,o=e.autoScored,s=Object(T.useState)(!1),c=u()(s,2),l=c[0],d=c[1],p=Object(T.useState)(a.score||""),f=u()(p,2),m=f[0],b=f[1],g="".concat(n,"-grade"),h="add-feedback-".concat(t),v="add-feedback-".concat(t,"-panel"),y=R.a.createElement("div",{"data-testid":"report-scoring-card-container"},R.a.createElement(ge,null,R.a.createElement(he,null,R.a.createElement(ve,null,"Score"),"number"==typeof a.score&&"number"==typeof a.max_score?R.a.createElement(ye,null,a.score,"/",a.max_score):R.a.createElement(ye,null,"--"))),R.a.createElement(Ee,{isStudent:!0,className:"learnosity-item","data-reference":t})),x=R.a.createElement(be,{className:"card",isEducator:!0,"data-testid":"report-scoring-card-container"},R.a.createElement(ge,{isEducator:!0},R.a.createElement(he,null,o?R.a.createElement(R.a.Fragment,null,R.a.createElement(ve,null,"Automatic score"),R.a.createElement("p",null,a.score,"/",a.max_score)):R.a.createElement("div",null,R.a.createElement(ve,null,"Manual score"),R.a.createElement(de.a,{className:"aula-text-input",inputProps:{min:"0",max:a.max_score&&String(a.max_score)},variant:"outlined",margin:"dense",id:g,label:"Score",type:"number",value:m,onChange:function(e){b(e.target.value),r(e.target.value)}}),R.a.createElement(je,null,"Maximum score: ",a.max_score||"--")))),R.a.createElement(pe.a,{in:l,id:v},R.a.createElement(Ee,{className:"learnosity-item","data-reference":t})),R.a.createElement(Oe,null,R.a.createElement("label",{htmlFor:h},"Add feedback"),R.a.createElement(fe.a,{"data-testid":"feedback-toggle-switch",color:"primary",id:h,checked:l,inputProps:{"aria-controls":v,"aria-expanded":l},onChange:function(){d(!l)}}))),E=i?x:y;return Object(ue.createPortal)(E,document.getElementById(n))};ke.defaultProps={score:{}},ke.propTypes={feedbackRef:A.a.string.isRequired,cardRenderId:A.a.string.isRequired,score:A.a.shape({max_score:A.a.number,score:A.a.number}),onChange:A.a.func.isRequired,isEducator:A.a.bool.isRequired,autoScored:A.a.bool.isRequired};var we=ke,Se=n(1639),Ie=Object(W.b)("div",{target:"e79h1g30"})("color:",Q.b.color.text,";"),Ce=Object(W.b)("p",{target:"e79h1g31"})("font-weight:",Q.b.font.weight.semiBold,";font-size:",Q.b.font.size.copy,";line-height:",Q.b.font.lineHeight.copy,";margin-top:0;"),Te=Object(W.b)("div",{target:"e79h1g32"})("border-radius:99999px;width:99px;height:99px;background:#e8daff;display:flex;align-items:center;justify-content:center;flex-wrap:wrap;align-content:center;text-align:center;margin-left:-8px;"),Re=Object(W.b)("span",{target:"e79h1g33"})("font-size:30px;line-height:1;letter-spacing:-0.334459px;"),qe=Object(W.b)("span",{target:"e79h1g34"})("font-size:16px;line-height:1;letter-spacing:0.120405px;flex-basis:100%;"),Ae=Object(W.b)("span",{target:"e79h1g35"})("font-size:16px;line-height:1;margin-top:9px;"),De=function(e){var t=e.gradeType,n=e.displayGrade,a=e.isEducator,r=e.studentName,i=function(e,t){if(!t||t.includes("NaN"))return R.a.createElement(Re,null,"--");if(e===Se.a.percentage.value)return R.a.createElement(R.a.Fragment,null,R.a.createElement(Re,null,t.replace("%","")),R.a.createElement(Ae,null,"%"));var n=t.split("/"),a=u()(n,2),r=a[0],i=a[1];return R.a.createElement(R.a.Fragment,null,R.a.createElement(Re,null,r),R.a.createElement(qe,null,"/",i))}(t,n),o=a&&r?"".concat(r,"'s grade"):"Your grade";return R.a.createElement(Ie,null,R.a.createElement(Ce,null,o),R.a.createElement(Te,{"data-testid":"report-score"},i))};De.propTypes={gradeType:A.a.oneOf([Se.a.percentage.value,Se.a.points.value]).isRequired,displayGrade:A.a.string,isEducator:A.a.bool.isRequired,studentName:A.a.string},De.defaultProps={studentName:null,displayGrade:null};var Pe=De,ze=n(1657);function Fe(e,t){var n=v()(e);if(x.a){var a=x()(e);t&&(a=a.filter((function(t){return O()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):k.a?S()(e,k()(n)):Fe(Object(n)).forEach((function(t){C()(e,t,O()(n,t))}))}return e}var Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.reduce((function(e,t){return Le(Le({},e),{},o()({},t.response_id,t))}),{})},Me=function(e,t){return(!t||!0===t.automarkable)&&(!(!e.max_score&&!e.score)&&("number"!=typeof e.max_score||null!==e.score))},_e=function(e,t,n){return Me(e,t)?e:{score:t.score,max_score:null==n?void 0:n.max_score}},Ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.getQuestions()||{},a=[],r=0,i=m()(n).map((function(n){var i,o=n.response_id,s="default_feedback",c="".concat(o,"_").concat(s),l="scoring-container-".concat(c),u=document.getElementById(o).parentElement,d=document.createElement("div");if(d.id=l,u.appendChild(d),null!==(i=n.validation)&&void 0!==i&&i.unscored)return!1;var p=e.question(n.response_id).getScore()||{};p&&null===p.score&&(p.score=0);var f=t[o],m=_e(p,f,n.validation);return m.responseId=o,m.max_score||(r+=1),a.push({containerId:l,feedbackRef:c,score:m,responseId:o,autoScored:Me(p,f)}),{id:c,reference:s}})).filter((function(e){return!1!==e}));return{items:i,scoringData:a,withoutMaxScores:r}},Be=function(e,t){var n=document.querySelector(e);null!=n&&n.parentElement&&n.parentElement.classList.add(t)},He=n(1703);function Ge(e,t){var n=v()(e);if(x.a){var a=x()(e);t&&(a=a.filter((function(t){return O()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):k.a?S()(e,k()(n)):Ge(Object(n)).forEach((function(t){C()(e,t,O()(n,t))}))}return e}var We=function(e){var t,n=e.sessionToken,a=e.baseDomain,r=e.spaceId,i=e.submissionId,s=e.isEducator,l=e.assignmentId,d=e.fetchAssignments,f=e.fetchSubmissions,b=e.assignment,h=e.accessToken,y=e.user,x=e.submissions,E=e.isFetchingAssignments,O=e.hasFetchedAssignments,j=e.isFetchingSubmissions,k=e.hasFetchedSubmissions,w=Object(He.d)(He.c),S=Object(T.useState)(!0),I=u()(S,2),C=I[0],q=I[1],A=Object(T.useState)(!1),N=u()(A,2),M=N[0],_=N[1],W=Object(T.useState)({items:[],scoringData:[],withoutMaxScores:0}),K=u()(W,2),Q=K[0],X=K[1],ue=Object(T.useState)({}),de=u()(ue,2),pe=de[0],fe=de[1],me=Object(T.useState)(null),be=u()(me,2),ge=be[0],he=be[1],ve=Object(T.useState)(!1),ye=u()(ve,2),xe=ye[0],Ee=ye[1],Oe=Object(T.useState)(!1),je=u()(Oe,2),ke=je[0],Se=je[1],Ie=U({assignmentId:null==b?void 0:b.id,accessToken:h,enabled:!!b&&!!h&&!1===s}),Ce=Object(T.useState)(!1),Te=u()(Ce,2),Re=Te[0],qe=Te[1],Ae=function(){Q.withoutMaxScores>0?Se(!1):Se(!0)};Object(T.useEffect)((function(){!b&&h&&y&&r&&!O&&!E&&d({user:y,accessToken:h,spaceId:r})}),[b,O,h,r,y,E]),Object(T.useEffect)((function(){s&&h&&l&&!k&&!j&&f({accessToken:h,assignmentId:l})}),[s,h,l,j,k]),Object(T.useEffect)((function(){c()(p.a.mark((function e(){var t,o;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(Q.items.length>0)){e.next=7;break}return e.next=4,Object(B.b)({baseDomain:a,path:B.a.FEEDBACK,sessionToken:n,params:{items:Q.items,spaceId:r,submissionId:i}});case 4:t=e.sent,o=window.LearnosityItems.init(t.data.learnosityResponse,{errorListener:function(){},readyListener:function(){s&&m()(o.questions()).forEach((function(e){e.on("changed",(function(){Ae()}))}))}}),he(o);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),Ee(!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}),[Q]),Object(T.useEffect)((function(){if(null!==s&&w&&b){var e=function(){var e=c()(p.a.mark((function e(){var t,o,s,c,l,d,f;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.all([Object(B.b)({baseDomain:a,path:B.a.GET_SESSION_SCORES,sessionToken:n,params:{submissionId:i}}),Object(B.b)({baseDomain:a,path:B.a.SESSION_DETAIL,sessionToken:n,params:{submissionId:i}})]);case 3:t=e.sent,o=u()(t,2),s=o[0],c=o[1],l=Ne(null==s?void 0:s.data),d=c.data,f=window.LearnosityReports.init(d.learnosityResponse,{readyListener:function(){q(!1),f.getReport("session-detail").on("ready:itemsApi",(function(e){Be(".lrn_widget",te);var t=Ue(e,l);X(t)}))},errorListener:function(){}}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),403===e.t0.response.status?Object(G.c)(r)():Ee(!0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();X({items:[],scoringData:[],withoutMaxScores:0}),fe({}),qe(!1),e()}}),[w,s,b]);var De,ze,Fe=function(){var e=c()(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=v()(pe).map((function(e){return{response_id:e,score:pe[e].score,max_score:pe[e].max_score}}))).length>0)){e.next=5;break}return e.next=4,Object(B.b)({baseDomain:a,path:B.a.UPDATE_SESSION_SCORES,sessionToken:n,params:{responses:t,spaceId:r,submissionId:i,sessionId:ge.getActivity().session_id}});case 4:qe(!0);case 5:return e.abrupt("return",{});case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=c()(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _(!0),e.prev=1,e.next=4,Fe();case 4:return e.next=6,H(ge.save);case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Ee(!0);case 11:Se(!1),_(!1);case 13:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),Me=s?[{title:"Submissions",onClick:Object(le.a)({spaceId:r,assignmentId:l})}]:[],_e="",Ge=function(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).find((function(t){return t.id===e}))}(i,x);if(Ge&&s){var We=Ge.user,Ke=We.firstName,Qe=We.lastName;ze=Qe,_e=(De=Ke)||ze?ze?"".concat(De," ").concat(ze):De:""}return R.a.createElement(D.a,{theme:Y},R.a.createElement(ee,{"data-testid":"report-container"},R.a.createElement(J,null,R.a.createElement(V.a,{spaceId:r,routes:Me,staticRoutes:["Score & feedback"]}),s&&R.a.createElement(P.a,{"data-testid":"report-save-button",type:"primary",onClick:Le,disabled:null===ge||!ke,loading:M},"Save")),R.a.createElement(Z,{isEducator:s}),R.a.createElement($,null),R.a.createElement("div",null,C&&R.a.createElement(ne,null,R.a.createElement(z.a,{size:40})),Q.withoutMaxScores>0&&s&&R.a.createElement(re,null,R.a.createElement(F.a,{type:"warning"},R.a.createElement(ae,null,R.a.createElement("p",null,"Saving is disabled because this quiz contains questions that require manual scoring and a maximum score was not specified when the question was created."),R.a.createElement(P.a,{type:"text",iconRight:L.a,"data-testid":"report-edit-quiz",onClick:function(){Object(G.m)({spaceId:r,assignmentId:l})()}},"Edit quiz")))),xe&&R.a.createElement(re,null,R.a.createElement(F.a,{type:"error"},"An error occurred, please refresh or try again. If the problem persists please contact Aula support."))),R.a.createElement(ie,null,R.a.createElement("div",null,(null==b?void 0:b.title)&&R.a.createElement(oe,null,b.title),_e&&R.a.createElement(se,null,"Submitted by ",_e)),R.a.createElement("div",null,b&&null!==s&&R.a.createElement(Pe,{isEducator:s,studentName:_e,gradeType:b.gradeType,displayGrade:(null==Ge?void 0:Ge.displayGrade)||(null===(t=Ie.data)||void 0===t?void 0:t.displayGrade)}),Re&&R.a.createElement(ce,null,R.a.createElement(F.a,{type:"loading"},"Grades may take some time to update, feel free to navigate away from the page.")))),R.a.createElement("div",{id:"session-detail"}),Q.scoringData.map((function(e){var t=e.containerId,n=e.feedbackRef,a=e.score,r=e.responseId,i=e.autoScored;return R.a.createElement(we,{key:n,feedbackRef:n,cardRenderId:t,score:a,isEducator:s,autoScored:i,onChange:function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Ae(),fe((function(a){return Ve(Ve({},a),{},o()({},e,{score:t,max_score:n}))}))}(r,e,a.max_score)}})}))))};We.defaultProps={isEducator:null,assignment:void 0,spaceId:void 0,accessToken:void 0,user:void 0,submissions:[]},We.propTypes={baseDomain:A.a.string.isRequired,sessionToken:A.a.string.isRequired,spaceId:A.a.string,submissionId:A.a.string.isRequired,isEducator:A.a.bool,assignmentId:A.a.string.isRequired,fetchAssignments:A.a.func.isRequired,fetchSubmissions:A.a.func.isRequired,assignment:ze.a,accessToken:A.a.string,user:A.a.shape({id:A.a.oneOfType([A.a.string,A.a.number]),firstName:A.a.string,lastName:A.a.string,sessionToken:A.a.string}),submissions:A.a.arrayOf(A.a.shape({id:A.a.string,user:A.a.shape({firstName:A.a.string,lastName:A.a.string})})),isFetchingAssignments:A.a.bool.isRequired,hasFetchedAssignments:A.a.bool.isRequired,isFetchingSubmissions:A.a.bool.isRequired,hasFetchedSubmissions:A.a.bool.isRequired};var Ke=R.a.memo(We),Qe=n(24),Ye=n(249),Je=n(25),Ze=n(328);t.default=Object(r.f)(Object(a.b)((function(e,t){var n=t.params,a=n.submissionId,r=n.assignmentId,i=Object(Qe.currentUserId)(e),o=Ze.c.selectedSpace(e),s=Ze.c.assignment(e,r),c=null;return o&&i&&(c=Object(Je.isInstructorInSpace)(e)(i,o)),{baseDomain:Object(Ye.a)(e),sessionToken:Object(Qe.sessionToken)(e),spaceId:Object(Je.currentClassRoomId)(e),submissionId:a,isEducator:c,assignmentId:r,assignment:s,accessToken:Object(Qe.accessToken)(e,o),user:Object(Qe.currentUser)(e),submissions:Ze.c.submissions(e,r),isFetchingAssignments:Ze.c.isFetchingAssignments(e),hasFetchedAssignments:Ze.c.hasFetchedAssignments(e),isFetchingSubmissions:Ze.c.isFetchingSubmissions(e,r),hasFetchedSubmissions:Ze.c.hasFetchedSubmissions(e,r)}}),(function(e){return{fetchAssignments:function(t){return e(Ze.b.fetchAssignments)(t)},fetchSubmissions:function(t){return e(Ze.b.fetchSubmissions(t))}}}))(Ke))},1971:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return ne}));var a=n(35),r=n(45),i=n.n(r),o=n(0),s=n.n(o),c=n(1),l=n.n(c),u=n(6),d=n.n(u),p=n(3),f=n.n(p),m=n(4),b=n.n(m),g=n(5),h=n.n(g),v=n(9),y=n.n(v),x=n(8),E=n.n(x),O=n(2),j=n.n(O),k=n(12),w=n.n(k),S=n(7),I=n.n(S),C=n(37),T=n.n(C),R=n(16),q=n(200);function A(e,t){var n=d()(e);if(f.a){var a=f()(e);t&&(a=a.filter((function(t){return b()(e,t).enumerable}))),n.push.apply(n,a)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){j()(e,t,n[t])})):h.a?y()(e,h()(n)):A(Object(n)).forEach((function(t){E()(e,t,b()(n,t))}))}return e}var P=function(e){var t=e.spaceId,n=e.granularity,a=e.sessionToken,r=e.userId;return w()(I.a.mark((function e(){var i,o;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T.a.get(Object(R.s)(),{params:{spaceId:t,granularity:n},headers:D(D({},Object(q.a)()),{},{"x-session-token":a,"x-user-id":r})});case 2:return i=e.sent,o=i.data.url,e.abrupt("return",o);case 5:case"end":return e.stop()}}),e)})))},z=n(14),F=n(15),L=Object(z.b)("div",{target:"ecmr43a0"})("padding-right:54px;height:100%;"),N=Object(z.b)("div",{target:"ecmr43a1"})("display:flex;justify-content:space-between;align-items:center;padding-bottom:",F.b.spacing.xLarge,";"),M=Object(z.b)("div",{target:"ecmr43a2"})("display:flex;"),_=Object(z.b)("div",{target:"ecmr43a3"})("font-family:",F.b.font.family,";font-weight:",F.b.font.weight.semiBold,";font-size:20px;color:",F.b.color.black,";"),U=(F.b.spacing.xSmall,F.b.color.designSystem.background.light.warning,F.b.spacing.xxSmall,F.b.font.family.workSans,F.b.font.size.small,Object(z.b)("iframe",{target:"ecmr43a6"})("width:100%;height:100%;")),B=Object(z.b)("button",{target:"e1siawjv0"})("font-family:",F.b.font.family.workSans,";border:1px solid ",F.b.color.grayDark,";color:",F.b.color.grey13,";background:transparent;border-color:",F.b.color.grey4,";padding:6px 12px;cursor:pointer;margin-left:-1px;&.active{color:",F.b.color.purple3,";background:",F.b.color.purple2,";border-color:",F.b.color.purple3,";}:not(:first-child){:not(.active){border-left-width:0px;margin-left:0px;}}:first-child{border-top-left-radius:4px;border-bottom-left-radius:4px;}:last-child{border-top-right-radius:4px;border-bottom-right-radius:4px;}:hover,:focus{:not(.active){background:rgba(0,0,0,0.04);border-color:rgba(0,0,0,0.14);}}"),H=function(e){var t=e.title,n=e.onClick,a=e.active;return s.a.createElement(B,{className:"".concat(a?"active":""),type:"submit",onClick:n},t)};H.defaultProps={active:!1},H.propTypes={title:c.string.isRequired,onClick:c.func.isRequired,active:c.bool};var G=H,V=function(e){var t=e.tabs,n=e.defaultTab,a=e.onChangeTab,r=Object(o.useState)(n||(t.length?t[0].id:"")),c=i()(r,2),l=c[0],u=c[1];return s.a.createElement("div",null,t.map((function(e){var t=e.id,n=e.title;return s.a.createElement(G,{key:t,title:n,active:l===t,onClick:function(){return function(e){u(e),a(e)}(t)}})})))};V.defaultProps={defaultTab:"",onChangeTab:function(){}},V.propTypes={tabs:c.array.isRequired,defaultTab:c.string,onChangeTab:c.func};var W=V,K="STUDENT_LEVEL",Q=[{id:"space",title:"Space",granularity:"SPACE_LEVEL"},{id:"individual-students",title:"Individual students",granularity:K}],Y="metabase-iframe",J=function(e){var t=e.spaceId,n=e.userId,a=e.sessionToken,r=e.trackClickStudentTabEvent,c=Object(o.useState)(""),l=i()(c,2),u=l[0],d=l[1],p=Object(o.useState)(Q[0].granularity),f=i()(p,2),m=f[0],b=f[1],g=Object(o.useCallback)(P({spaceId:t,granularity:m,userId:n,sessionToken:a}),[t,m]);Object(o.useEffect)((function(){g().then(d)}),[g]);return s.a.createElement(L,null,s.a.createElement(N,null,s.a.createElement(M,null,s.a.createElement(_,null,"Engagement analytics")),s.a.createElement(W,{tabs:Q,defaultTab:Q[0].id,onChangeTab:function(e){var t=Q.find((function(t){return t.id===e})).granularity;b(t),t===K&&r()}})),s.a.createElement(U,{title:"metabase",src:u,name:Y,frameBorder:"0","data-testid":Y},"Loading..."))};J.propTypes={spaceId:l.a.string.isRequired,userId:l.a.string.isRequired,sessionToken:l.a.string.isRequired,trackClickStudentTabEvent:l.a.func.isRequired};var Z=s.a.memo(J),$=n(24),X=n(25),ee=n(46),te=n(44),ne=Object(a.b)((function(e){var t=Object($.currentUserId)(e),n=Object(X.currentClassRoomId)(e),a=Object($.sessionToken)(e);return{userId:t,spaceId:n,sessionToken:a,trackClickStudentTabEvent:function(){return Object(ee.c)(te.f,{activeClassroom:n})}}}),null)(Z)},1972:function(e,t,n){"use strict";n.r(t);var a=n(35),r=n(81),i=n(220),o=n(25),s=n(0),c=n.n(s),l=n(1),u=n.n(l),d=n(1601),p=n(579),f=n(222),m=n(1820),b=n(14),g=n(561),h=n(15),v=n(1977),y=n(524),x=n.n(y),E=n(1503),O=Object(b.b)(g.a,{target:"e54yx990"})("margin-left:6px;"),j=Object(b.b)(x.a,{target:"e54yx991"})("font-size:",h.b.font.size.headline,";color:",h.b.color.designSystem.blackOpacity60,";font-weight:",h.b.font.weight.semiBold,";"),k=Object(b.b)(v.a,{target:"e54yx992"})("font-family:Work Sans;font-size:20px;padding:0;margin-bottom:14px;font-weight:",h.b.font.weight.semiBold,";"),w=Object(b.b)("div",{target:"e54yx993"})("@media screen and (max-width:",f.a.md-1,"px){margin-right:",h.b.spacing.xxxLarge,";padding-bottom:",h.b.spacing.medium,";border-bottom:1px solid ",h.b.color.blackAlpha(.12),";}"),S=Object(b.b)("div",{target:"e54yx994"})("border-right:1px solid ",h.b.color.blackAlpha(.12),";padding-right:",h.b.spacing.medium,";padding-bottom:",h.b.spacing.medium,";"),I=Object(b.b)(E.a,{target:"e54yx995"})("padding:0;"),C=n(1803),T=n(1821),R=n(1822),q=n(1823),A=n(1824),D=n(329),P=function(e){var t=e.isInstructor,n=e.onAddClick,a=e.materialIds,r=e.isFetchingSections,i=Object(f.b)().md,o=c.a.createElement(w,null,c.a.createElement(k,{component:"div",title:"Materials",testID:"menu-materials"},t&&c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,null),c.a.createElement(p.a,{title:"New page",space:4,position:"right"},c.a.createElement("div",null,c.a.createElement(O,{type:"secondary",size:"xSmall",icon:j,label:"Create page",onClick:n}))))),c.a.createElement(I,null,a.length||r?a.map((function(e,t){return c.a.createElement(C.a,{key:e,materialId:e,"data-testid":"material-".concat(t+1)})})):c.a.createElement(T.a,{isInstructor:t})),c.a.createElement(R.a,null),c.a.createElement(q.a,null),c.a.createElement(A.a,null));return i?c.a.createElement(D.a,{autoHide:!0,resetScrollOnMount:!1},c.a.createElement(S,{"data-testid":"material-list"},o)):o};P.propTypes={isInstructor:u.a.bool,onAddClick:u.a.func.isRequired,materialIds:u.a.arrayOf(u.a.string),isFetchingSections:u.a.bool.isRequired},P.defaultProps={isInstructor:!1,materialIds:[]};var z=c.a.memo(P),F=n(1610),L=Object(r.c)({isInstructor:o.isInstructor,materialIds:i.c.topLevelMaterialIds,isFetchingSections:i.c.isFetchingSections}),N=Object(r.a)(L,(function(e){var t=e.isInstructor,n=e.materialIds;return{isFetchingSections:e.isFetchingSections,isInstructor:t,materialIds:n}})),M=Object(a.b)(N,(function(e){return{toggleMaterialEducatorOnly:function(){return e(i.b.toggleMaterialEducatorOnly())},onAddClick:function(){return e(i.b.createSection({content:d.e,educatorOnly:!1,hidden:!0,onSelect:F.d}))}}}))(z),_=n(1802),U=n(1590),B=Object(b.b)("div",{target:"e9zdclk0"})("display:flex;flex-direction:row;height:100%;@media screen and (max-width:",f.a.md-1,"px){flex-direction:column;}"),H=Object(b.b)(U.a,{target:"e9zdclk1"})("padding-top:0;padding-left:0;min-width:270px;@media screen and (min-width:calc(",f.a.md,"px){height:100%;flex-shrink:0;flex-grow:0;flex-basis:25%;}"),G=Object(b.b)("div",{target:"e9zdclk2"})("padding:0;height:100%;@media screen and (min-width:",f.a.md,"px){padding:0 ",h.b.spacing.xxxxGiant," 0 ",h.b.spacing.large,";flex-basis:75%;}@media screen and (min-width:",f.a.lg,"px){padding:0 110px 0 101px;}"),V=n(864),W=function(e){var t=e.shouldDisplaySectionsLoader,n=e.route;return t?c.a.createElement(V.a,null):c.a.createElement(B,null,c.a.createElement(H,null,c.a.createElement(M,null)),c.a.createElement(G,null,c.a.createElement(_.a,{route:n})))};W.propTypes={shouldDisplaySectionsLoader:u.a.bool.isRequired,route:u.a.shape({childRoutes:u.a.array,path:u.a.string}).isRequired},W.default={shouldDisplaySectionsLoader:!0};var K=W,Q=Object(r.a)(o.classRoom,(function(e){return e.isChangingClassRoom})),Y=Object(r.a)(i.c.hasFetchedSections,i.c.isFetchingSections,Q,(function(e,t,n){return!e||t||n})),J=Object(a.b)((function(e){return{shouldDisplaySectionsLoader:Y(e)}}))(K);t.default=J},1973:function(e,t,n){"use strict";n.r(t);var a=n(20),r=n.n(a),i=n(35),o=n(81),s=n(3),c=n.n(s),l=n(4),u=n.n(l),d=n(5),p=n.n(d),f=n(9),m=n.n(f),b=n(8),g=n.n(b),h=n(12),v=n.n(h),y=n(2),x=n.n(y),E=n(45),O=n.n(E),j=n(7),k=n.n(j),w=n(6),S=n.n(w),I=n(0),C=n.n(I),T=n(1),R=n.n(T),q=n(1591),A=n(2015),D=n(578),P=n(290),z=n(46),F=n(44),L=n(1630),N=n(1788),M=n(1701),_=n(14),U=n(15),B=Object(_.b)("div",{target:"enxxc0j0"})("max-height:calc(100vh - 300px);max-width:900px;@media only screen and (max-width:1300px){max-width:600px;}"),H=Object(_.b)("div",{target:"enxxc0j1"})("display:flex;justify-content:space-between;margin:10px 15px 10px 0;.title{font-weight:600;font-size:",U.b.font.size.headline,";}a{font-weight:600;color:",U.b.color.primary,";font-size:",U.b.font.size.copy,";margin-right:27px;text-decoration:none;display:flex;svg{margin-left:10px;}}"),G=Object(_.b)("div",{target:"enxxc0j2"})("overflow:auto;height:100%;.lrn-list-view-item{background-color:#ffffff !important;border-radius:",U.b.borderRadius.medium," !important;border-width:0 !important;box-shadow:0 1px 1px rgb(0 0 0 / 14%),0 2px 1px rgb(0 0 0 / 12%),0 1px 3px rgb(0 0 0 / 20%) !important;margin:20px 3px !important;}.lrn-pagination ul:first-of-type{background:none !important;margin:14px 0 !important;border-top:0 !important;padding-bottom:11px !important;}.lrn-tool-panel{background:none !important;}"),V=Object(_.a)("min-width:150px;fieldset{top:0;}legend{display:none !important;}"),W=Object(_.a)("margin-top:0;"),K=Object(_.a)("top:0;font-size:19px;margin-top:17px;line-height:20px;margin-left:-2px;"),Q=n(1789),Y=n(1729),J=n(1702),Z=n(1810),$=n(1809),X=n(11),ee=n(129),te=n(18),ne=n(23),ae=n(27),re=I.forwardRef((function(e,t){var n=e.classes,a=e.className,r=e.row,i=void 0!==r&&r,o=Object(te.a)(e,["classes","className","row"]);return I.createElement("div",Object(X.a)({className:Object(ne.default)(n.root,a,i&&n.row),ref:t},o))})),ie=Object(ae.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(re),oe=n(61),se=n(201),ce=n(1624),le=n(372),ue=I.forwardRef((function(e,t){var n=e.actions,a=e.children,r=e.name,i=e.value,o=e.onChange,s=Object(te.a)(e,["actions","children","name","value","onChange"]),c=I.useRef(null),l=Object(se.a)({controlled:i,default:e.defaultValue,name:"RadioGroup"}),u=Object(ee.a)(l,2),d=u[0],p=u[1];I.useImperativeHandle(n,(function(){return{focus:function(){var e=c.current.querySelector("input:not(:disabled):checked");e||(e=c.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var f=Object(oe.a)(t,c),m=Object(le.a)(r);return I.createElement(ce.a.Provider,{value:{name:m,onChange:function(e){p(e.target.value),o&&o(e,e.target.value)},value:d}},I.createElement(ie,Object(X.a)({role:"radiogroup",ref:f},s),a))})),de=n(1748),pe=n(1506),fe=n(1593),me=n(1544),be=n(1497),ge=n(517),he=Object(ge.a)({palette:{primary:{main:U.b.color.purple}},typography:{fontFamily:U.b.font.family.workSans,fontSize:U.b.font.size.large,fontWeightRegular:U.b.font.weight.semiBold,color:"rgba(0, 0, 0, ".concat(U.b.opacity.alpha87,")")}}),ve=Object(_.a)("border-radius:",U.b.borderRadius.medium,";min-width:500px;max-width:90vw;font-weight:",U.b.font.weight.semiBold,";font-size:",U.b.font.size.large,";line-height:",U.b.font.lineHeight.copy,";color:rgba(0,0,0,",U.b.opacity.alpha87,");"),ye=Object(_.a)("padding-left:",U.b.spacing.xLarge,";padding-right:",U.b.spacing.xLarge,";padding-top:",U.b.spacing.large,";padding-bottom:",U.b.spacing.large,";"),xe=Object(_.b)("h2",{target:"e1axpcp00"})(ye," font-weight:inherit;font-size:inherit;margin:0;"),Ee=Object(_.b)("h3",{target:"e1axpcp01"})("font-weight:inherit;font-size:inherit;margin-top:7px;"),Oe=Object(_.b)("div",{target:"e1axpcp02"})(ye," max-height:60vh;overflow-y:auto;overflow-x:hidden;position:relative;",(function(e){return e.withBorder?"\n      border-bottom: 1px solid rgba(0, 0, 0, 0.12);\n      border-top: 1px solid rgba(0, 0, 0, 0.12);\n      ":"padding-top: 0;  padding-bottom: 0;"})),je=Object(_.b)("div",{target:"e1axpcp03"})(ye," display:flex;justify-content:flex-end;button,a{cursor:pointer;margin-left:16px;}button[disabled]:hover{cursor:not-allowed;}"),ke=Object(_.b)("fieldset",{target:"e1axpcp04"})("margin:0;padding:0;border:none;background:none;"),we=Object(_.a)("display:flex;align-items:center;margin:8px;> div:first-child{margin-right:19px;}"),Se=Object(_.b)("div",{target:"e1axpcp05"})("position:absolute;z-index:10;top:0;left:0;width:100%;height:100%;background-color:rgba(255,255,255,0.9);display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;"),Ie=Object(_.b)("p",{target:"e1axpcp06"})("font-weight:normal;font-size:",U.b.font.size.copy,";"),Ce=n(389),Te="error",Re="success",qe="ready",Ae=Te,De=Re,Pe=qe,ze=function(e){var t=e.onClose,n=e.show,a=e.currentSpaceId,r=e.spaces,i=e.baseDomain,o=e.sessionToken,s=Object(I.useState)(""),c=O()(s,2),l=c[0],u=c[1],d=Object(I.useState)(Pe),p=O()(d,2),f=p[0],m=p[1],b=Object(I.useState)(!0),g=O()(b,2),h=g[0],y=g[1];Object(I.useEffect)((function(){i&&o&&a&&y(!1)}),[i,o,a]);var x,E=function(){m(Pe),y(!1),u(""),t(f)},j=function(){var e=v()(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,Object(L.b)({baseDomain:i,path:L.a.DUPLICATE_ITEMS,sessionToken:o,params:{spaceFrom:l,spaceTo:a}});case 4:m(De),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),m(Ae);case 10:y(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();switch(f){case De:x="Your import was successful";break;case Ae:x="Your import was not successful";break;default:x="Select an item bank to import"}return C.a.createElement(be.a,{theme:he},C.a.createElement(fe.a,{id:"importFromSpaceModal",onClose:E,open:n,container:function(){return document.getElementById("user-profile-container")},classes:{paper:ve}},C.a.createElement(xe,{"data-testid":"import-space-title"},x),C.a.createElement(Oe,{withBorder:f===Pe},h&&C.a.createElement(Se,{"data-testid":"import-space-loader"},C.a.createElement(q.a,{size:40})),C.a.createElement("div",null,f===De&&C.a.createElement(Ie,{"data-testid":"import-space-success"},"All the items associated with the space you selected, will now appear inside your item bank."),f===Ae&&C.a.createElement(Ie,{"data-testid":"import-space-error"},"An error occured, please contact the Aula Help Centre."),f===Pe&&C.a.createElement(C.a.Fragment,null,C.a.createElement(Ee,{"data-testid":"import-space-num"},r.length," spaces"),C.a.createElement(pe.a,{component:ke},C.a.createElement(ue,{"aria-label":"Select an item bank to import","data-testid":"import-space-RadioGroup",name:"space",value:l,onChange:function(e){u(e.target.value)}},r.map((function(e){return C.a.createElement(de.a,{key:e.id,value:e.id,"data-testid":"import-space-radio-container",control:C.a.createElement($.a,{"data-testid":"import-space-radio",color:"primary"}),label:C.a.createElement(C.a.Fragment,null,C.a.createElement(me.a,{name:e.name,src:e.avatar,size:"medium"}),C.a.createElement("span",{"aria-hidden":!!e.avatar},e.name)),classes:{label:we}})}))))))),C.a.createElement(je,null,C.a.createElement(D.a,{"data-testid":"import-space-cancel-or-done",size:"small",type:f===Pe?"secondary":"primary",onClick:E},f===Pe?"Cancel":"Done"),f===Pe&&C.a.createElement(D.a,{"data-testid":"import-space-submit",size:"small",type:"primary",disabled:0===l.length,onClick:j},"Import item bank"))))};ze.propTypes={onClose:R.a.func.isRequired,currentSpaceId:R.a.string,show:R.a.bool,spaces:R.a.arrayOf(R.a.shape(Ce.a)),baseDomain:R.a.string,sessionToken:R.a.string},ze.defaultProps={spaces:[],show:!1,baseDomain:null,sessionToken:null,currentSpaceId:null};var Fe=ze;function Le(e,t){var n=S()(e);if(c.a){var a=c()(e);t&&(a=a.filter((function(t){return u()(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ne="items",Me=function(e){var t=e.spaceId,n=e.sessionToken,a=e.baseDomain,r=e.spaces,i=e.goToImportFromMoodle,o=Object(I.useState)(!1),s=O()(o,2),c=s[0],l=s[1],d=Object(I.useState)(),f=O()(d,2),b=f[0],h=f[1],y=Object(I.useState)([]),E=O()(y,2),j=E[0],w=E[1],T=Object(I.useState)([]),R=O()(T,2),_=R[0],U=R[1],$=Object(I.useState)(!1),X=O()($,2),ee=X[0],te=X[1],ne=Object(I.useState)(!1),ae=O()(ne,2),re=ae[0],ie=ae[1],oe=Object(I.useState)(!1),se=O()(oe,2),ce=se[0],le=se[1],ue=Object(I.useState)(!1),de=O()(ue,2),pe=de[0],fe=de[1],me=Object(I.useState)(!1),be=O()(me,2),ge=be[0],he=be[1],ve=Object(I.useState)(!1),ye=O()(ve,2),xe=ye[0],Ee=ye[1],Oe=Object(I.useState)(),je=O()(Oe,2),ke=je[0],we=je[1],Se=Object(I.useState)(),Ie=O()(Se,2),Ce=Ie[0],Ae=Ie[1],De=Object(I.useState)(null),Pe=O()(De,2),ze=Pe[0],Me=Pe[1],_e=Object(I.useState)(Ne),Ue=O()(_e,2),Be=Ue[0],He=Ue[1],Ge=Object(I.useState)(!1),Ve=O()(Ge,2),We=Ve[0],Ke=Ve[1],Qe=function(){return ee&&Boolean(b.getItemTitle())?he(!0):b.navigate(Ne)},Ye=[{key:"moodle",value:"Import from Moodle"}];r.length>0&&Ye.push({key:"space",value:"Import from another space"}),Object(I.useEffect)((function(){window.LearnosityAuthor?l(!0):Object(N.a)({src:"https://authorapi.learnosity.com/?v2021.1.LTS",onLoad:function(){l(!0)}})}),[t]),Object(I.useEffect)((function(){ke&&(ce&&(He(Ne),le(!1),fe(!1)),ge&&(He(Ne),he(!1),Ee(!1)),we(void 0),b.navigate(Be))}),[ke]),Object(I.useEffect)((function(){Ce&&Ce.location&&(Ce.location.split("/").length>1?(w([{title:"Item bank",onClick:Qe}]),U(["Item"]),ie(!0)):(U(["Item bank"]),w([]),ie(!1),te(!1)))}),[Ce,ee]);var Je=function(e){var n=window.LearnosityAuthor.init(e,{errorListener:function(){},readyListener:function(){h(n),n.on("navigate",(function(e){Ae(e.data)})),n.on("save:success",(function(){te(!1),we(!0)})),n.on("itemedit:changed",(function(){te(!0)})),n.on("render:item",(function(){n.off("widgetedit:editor:ready"),n.once("widgetedit:editor:ready",(function(){n.once("widgetedit:widget:ready",(function(){te(!0),n.on("widgetedit:editor:ready",(function(){te(!1),n.once("widgetedit:widget:ready",(function(){te(!0)}))}))}))}))})),Q.a.forEach((function(e){n.on(e,(function(n){Object(z.c)(F.P,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Le(Object(n),!0).forEach((function(t){x()(e,t,n[t])})):p.a?m()(e,p()(n)):Le(Object(n)).forEach((function(t){g()(e,t,u()(n,t))}))}return e}({activeClassroom:t,learnosityEventName:e},n&&n.data&&S()(n.data).length&&{learnosityEventData:n.data}))}))}))}})};Object(I.useEffect)((function(){v()(k.a.mark((function e(){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c||!t){e.next=6;break}return e.next=3,Object(L.b)({baseDomain:a,path:L.a.ITEM_LIST,sessionToken:n,params:{spaceId:t}});case 3:r=e.sent,Me(r.data.learnosityResponse),Je(r.data.learnosityResponse);case 6:case"end":return e.stop()}}),e)})))()}),[c,t]);var Ze=function(){return C.a.createElement(J.a,null,C.a.createElement(q.a,null))};return t?C.a.createElement(B,null,C.a.createElement("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"}),C.a.createElement(H,null,C.a.createElement(Y.a,{spaceId:t,routes:j,staticRoutes:_})),C.a.createElement(H,{className:J.c},C.a.createElement("div",{className:"title"},"Item bank"),!re&&C.a.createElement("div",null,C.a.createElement(A.a,{name:"quizItemsImport",classes:{root:V,rootOpen:V,formControl:W,selectInputLabel:K,selectInputLabelInLine:K,selectInputLabelFocused:K},id:"quizItemsImportSelect","data-testid":"quiz-items-import-select",label:"Import item(s)",data:Ye,handleChange:function(e){"moodle"===e.target.value?i(t):Ke(!0)}})),re&&C.a.createElement(J.b,null,C.a.createElement(D.a,{"data-testid":"item-bank-return",type:"secondary",onClick:Qe},"Return to item bank"),C.a.createElement(D.a,{disabled:!ee,"data-testid":"item-bank-save-item",type:"primary",onClick:function(){Boolean(b.getItemTitle())?(b.questionsApp()&&He("items/".concat(b.getItemReference())),b.save({navigate:!0})):le(!0)}},"Save item"))),C.a.createElement(G,null,C.a.createElement(M.a,null,C.a.createElement("div",{id:"learnosity-author"}),!b&&C.a.createElement(Ze,null))),C.a.createElement(Z.a,{addingTitle:pe,open:ce,onAddTitle:function(e){b.setItemTitle(e),He("items/".concat(b.getItemReference())),fe(!0),b.save({navigate:!0})},onClose:function(){return le(!1)}}),C.a.createElement(P.a,{id:"confirm-return-to-item-bank",title:"Return to Item bank",message:"You have unsaved changes to this item. Are you sure you want to return to the item list view?",open:ge,onClose:function(){return he(!1)},action:{label:"Save and return",onClick:function(){Ee(!0),b.save({navigate:!0})},danger:!0,loading:xe},secondaryAction:{label:"Cancel",onClick:function(){return he(!1)}}}),C.a.createElement(Fe,{show:We,baseDomain:a,sessionToken:n,currentSpaceId:t,spaces:r,onClose:function(){var e=v()(k.a.mark((function e(t){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==qe){e.next=3;break}return Ke(!1),e.abrupt("return");case 3:if(t!==Re){e.next=8;break}return Ke(!1),b.destroy(),e.next=8,Je(ze);case 8:t===Te&&Ke(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})):C.a.createElement(Ze,null)};Me.propTypes={baseDomain:R.a.string,sessionToken:R.a.string,spaceId:R.a.string,goToImportFromMoodle:R.a.func.isRequired,spaces:R.a.arrayOf(R.a.shape({id:R.a.string.isRequired,name:R.a.string.isRequired,avatar:R.a.string}))},Me.defaultProps={spaces:[],baseDomain:null,sessionToken:null,spaceId:null};var _e=C.a.memo(Me),Ue=n(24),Be=n(137),He=n(249),Ge=n(92),Ve=Object(o.c)({space:Be.space,spacesData:Be.spacesData,baseDomain:He.a,sessionToken:Ue.sessionToken}),We=Object(o.a)(Ve,(function(e){var t=e.space,n=e.spacesData,a=e.baseDomain,i=e.sessionToken;return{spaceId:t.current,spaces:Be.alphabeticallySorted(n).reduce((function(e,n){return a=t.current,o=(i=n).objectId,i.archived||o===a?e:[].concat(r()(e),[{id:n.objectId,name:n.name,avatar:n.avatar}]);var a,i,o}),[]),baseDomain:a,sessionToken:i}}));t.default=Object(i.b)(We,(function(e){return{goToImportFromMoodle:function(t){e(Object(Ge.h)(t))}}}))(_e)},1996:function(e,t,n){"use strict";var a=n(0),r=n(121);t.a=Object(r.a)(a.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight")},2017:function(e,t,n){"use strict";n(0);var a=n(1),r=n.n(a),i=n(106);const o=Object(i.a)("div",{target:"e1caue7w0",label:"AlertTitleRoot"})({name:"10rvbm3",styles:"font-weight:500;"});var s=n(10);const c=({children:e})=>Object(s.e)(o,null,e);c.propTypes={children:r.a.node.isRequired};t.a=c},331:function(e,t,n){"use strict";n.r(t),n.d(t,"createGenerateClassName",(function(){return a.a})),n.d(t,"createStyles",(function(){return r.a})),n.d(t,"getThemeProps",(function(){return i.a})),n.d(t,"jssPreset",(function(){return o.a})),n.d(t,"makeStyles",(function(){return s.a})),n.d(t,"mergeClasses",(function(){return c.a})),n.d(t,"ServerStyleSheets",(function(){return g})),n.d(t,"styled",(function(){return O})),n.d(t,"StylesProvider",(function(){return b.b})),n.d(t,"sheetsManager",(function(){return j.b})),n.d(t,"StylesContext",(function(){return j.a})),n.d(t,"ThemeProvider",(function(){return k.a})),n.d(t,"useTheme",(function(){return w.a})),n.d(t,"withStyles",(function(){return S.a})),n.d(t,"withTheme",(function(){return C})),n.d(t,"withThemeCreator",(function(){return I}));var a=n(1492),r=n(1994),i=n(1493),o=n(949),s=n(1509),c=n(1561),l=n(11),u=n(521),d=n(247),p=n(0),f=n.n(p),m=n(110),b=n(1522),g=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(u.a)(this,e),this.options=t}return Object(d.a)(e,[{key:"collect",value:function(e){var t=new Map;this.sheetsRegistry=new m.b;var n=Object(a.a)();return f.a.createElement(b.b,Object(l.a)({sheetsManager:t,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),e)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(e){return f.a.createElement("style",Object(l.a)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},e))}}]),e}(),h=n(18),v=n(23),y=n(210),x=n.n(y);function E(e,t){var n={};return Object.keys(e).forEach((function(a){-1===t.indexOf(a)&&(n[a]=e[a])})),n}function O(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=n.name,r=Object(h.a)(n,["name"]);var i,o=a,c="function"==typeof t?function(e){return{root:function(n){return t(Object(l.a)({theme:e},n))}}}:{root:t},u=Object(s.a)(c,Object(l.a)({Component:e,name:a||e.displayName,classNamePrefix:o},r));t.filterProps&&(i=t.filterProps,delete t.filterProps),t.propTypes&&(t.propTypes,delete t.propTypes);var d=f.a.forwardRef((function(t,n){var a=t.children,r=t.className,o=t.clone,s=t.component,c=Object(h.a)(t,["children","className","clone","component"]),d=u(t),p=Object(v.default)(d.root,r),m=c;if(i&&(m=E(m,i)),o)return f.a.cloneElement(a,Object(l.a)({className:Object(v.default)(a.props.className,p)},m));if("function"==typeof a)return a(Object(l.a)({className:p},m));var b=s||e;return f.a.createElement(b,Object(l.a)({ref:n,className:p},m),a)}));return x()(d,e),d}}var j=n(1518),k=n(1497),w=n(422),S=n(1491);function I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.defaultTheme,n=function(e){var n=f.a.forwardRef((function(n,a){var r=n.innerRef,i=Object(h.a)(n,["innerRef"]),o=Object(w.a)()||t;return f.a.createElement(e,Object(l.a)({theme:o,ref:r||a},i))}));return x()(n,e),n};return n}var C=I()},59:function(e,t,n){"use strict";function a(e,t){return function(){return null}}n.r(t),n.d(t,"chainPropTypes",(function(){return a})),n.d(t,"deepmerge",(function(){return r.a})),n.d(t,"elementAcceptingRef",(function(){return c})),n.d(t,"elementTypeAcceptingRef",(function(){return l})),n.d(t,"exactProp",(function(){return u})),n.d(t,"formatMuiErrorMessage",(function(){return d.a})),n.d(t,"getDisplayName",(function(){return v})),n.d(t,"HTMLElementType",(function(){return y})),n.d(t,"ponyfillGlobal",(function(){return x})),n.d(t,"refType",(function(){return E}));var r=n(957),i=n(1),o=n.n(i);var s=(o.a.element,function(){return null});s.isRequired=(o.a.element.isRequired,function(){return null});var c=s;var l=(i.elementType,function(){return null});n(66),n(11);function u(e){return e}var d=n(676),p=n(221),f=n(251),m=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function b(e){var t="".concat(e).match(m);return t&&t[1]||""}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||b(e)||t}function h(e,t,n){var a=g(t);return e.displayName||(""!==a?"".concat(n,"(").concat(a,")"):n)}function v(e){if(null!=e){if("string"==typeof e)return e;if("function"==typeof e)return g(e,"Component");if("object"===Object(p.a)(e))switch(e.$$typeof){case f.ForwardRef:return h(e,e.render,"ForwardRef");case f.Memo:return h(e,e.type,"memo");default:return}}}function y(e,t,n,a,r){return null}var x="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),E=o.a.oneOfType([o.a.func,o.a.object])}}]);
//# sourceMappingURL=common.a0cab518f817b950f367.js.map