!function(t){function e(e){for(var r,i,c=e[0],u=e[1],s=e[2],f=0,d=[];f<c.length;f++)i=c[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&d.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);for(l&&l(e);d.length;)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,c=1;c<n.length;c++){var u=n[c];0!==a[u]&&(r=!1)}r&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},a={33:0},o=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(t){var e=[],n=a[t];if(0!==n)if(n)e.push(n[2]);else{var r=new Promise((function(e,r){n=a[t]=[e,r]}));e.push(n[2]=r);var o,c=document.createElement("script");c.charset="utf-8",c.timeout=120,i.nc&&c.setAttribute("nonce",i.nc),c.src=function(t){return i.p+""+({0:"common"}[t]||t)+"."+{0:"a0cab518f817b950f367",1:"9b24dec9a049d751cd04",2:"f63a68a1ea9dac239407",3:"01b7258df9d162090b20",4:"32efb533fbbaaa6cbb53",5:"b563a0ccb9c5fa929da4",6:"74d93a8dfcbbbf15fcf3",7:"4d8e2afc44232c4d5e0a",8:"dc38f4e0c571ea7e006e",9:"cf5701cf5e7ca0ad8329",10:"9cd4a4aa26853b705b99",11:"fa34a1306b4a210161d2",12:"92da26ce638b2f0ef529",13:"f1add3b4b1f758c98168",14:"d98d5f7e276c2fd241d0",15:"70b8e01485414cf3f3cf",16:"45dcbd1605f83d17394f",17:"d2a18216894ef2dfd901",18:"a44bfef84448b198048b",19:"001ec4b53f0b9ca40a0e",20:"69405f5a6d6fb446722f",21:"d2d962f222dc9d94f13a",22:"98fcca65060cc6cd4bf3",23:"0a51cebb873c0a80dede",24:"ee5cc194a1f50a85c762",25:"06d470ef25b7ac7d732f",26:"c5cd15304ce509a40c87",27:"2314f0b74ff69684272a",28:"33e4ddfabb95d92d603e",29:"171dc6ee067dbee51e9c",30:"7a2e06237a50a1a46eb5",31:"fab6dbf17ce2d31ae65f",32:"519b3355d64b1f61e917",35:"06b1996c2f0f27bd2824",36:"d8edc53e53183809ff2d",37:"a87b1342c5fad8d29058"}[t]+".js"}(t);var u=new Error;o=function(e){c.onerror=c.onload=null,clearTimeout(s);var n=a[t];if(0!==n){if(n){var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",u.name="ChunkLoadError",u.type=r,u.request=o,n[1](u)}a[t]=void 0}};var s=setTimeout((function(){o({type:"timeout",target:c})}),12e4);c.onerror=c.onload=o,document.head.appendChild(c)}return Promise.all(e)},i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/",i.oe=function(t){throw console.error(t),t};var c=window.webpackJsonp=window.webpackJsonp||[],u=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var l=u;o.push([969,34]),n()}({102:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"f",(function(){return u})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return l}));var r=n(20),a=n.n(r),o=function(t){return!!t.scheduledFor&&!t.publishedAt},i=function(t){return function(e,n){var r=new Date(e.scheduledFor||e.createdAt),a=new Date(n.scheduledFor||n.createdAt);return t*(r.getTime()-a.getTime())}},c=function(t){var e=t.state,n=t.id,r=e.postIdsUpdating,o=void 0===r?[]:r;return!n||o&&o.includes(n)?o:[].concat(a()(o),[n])},u=function(t){var e=t.state,n=t.id,r=e.postIdsUpdating,a=void 0===r?[]:r;return n&&a.length&&a.includes(n)?a.filter((function(t){return t!==n})):a},s=function(t){var e=t.posts,n=void 0===e?[]:e,r=t.newPost,o=t.importantPosts;if(!o)return null;var i=r.objectId,c=n[i],u=!!c&&c.important,s=a()(o);return u&&!r.important&&(s=o.filter((function(t){return t!==i}))),!u&&r.important&&s.push(i),function(t,e){return t?t.sort((function(t,n){return new Date(null==e?void 0:e[n].createdAt)-new Date(null==e?void 0:e[t].createdAt)})):null}(s,n)},l=function(t){var e=t.posts,n=void 0===e?[]:e,r=t.newPost,a=t.importantPostCount,o=n[r.objectId],i=!!o&&o.important;return i&&!r.important?Math.max((a||0)-1,0):!i&&r.important?(a||0)+1:a}},104:function(t,e,n){"use strict";n.d(e,"a",(function(){return j})),n.d(e,"b",(function(){return S})),n.d(e,"d",(function(){return k})),n.d(e,"e",(function(){return A})),n.d(e,"f",(function(){return _})),n.d(e,"i",(function(){return L})),n.d(e,"g",(function(){return U})),n.d(e,"h",(function(){return G})),n.d(e,"c",(function(){return z}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(37),m=n.n(g),y=n(108),O=n(16);function E(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}var j=function(t){var e=t.accessToken,n=t.spaceId,r=t.assignment,a=r.externalId,o="".concat(Object(O.f)(),"/").concat(a,"/close");return m.a.post(o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):E(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({classId:n},r),{headers:Object(y.a)(e)})};function x(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):x(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var S=function(t,e,n,r){return m.a.post("".concat(Object(O.f)()),I({classId:e},n),{headers:I(I({},Object(y.a)(t)),{},{"x-session-token":r})})};function w(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):w(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var k=function(t,e,n,r){return m.a.put("".concat(Object(O.f)(),"/").concat(n.objectId||n.externalId),C({classId:e},n),{headers:C(C({},Object(y.a)(t)),{},{"x-session-token":r})})},R=n(190),T=function(t){return function(e){var n=e.accessToken,r=e.spaceId,a=e.page,o=void 0===a?0:a,i=e.assignmentId,c=void 0===i?void 0:i,u=e.externalId,s=void 0===u?void 0:u;return m.a.get(Object(O.f)(),{params:{spaceId:r,assignmentId:c,page:o,externalId:s,displayLimit:1e3},headers:Object(y.a)(n),cancelToken:t})}},A=(T(),Object(R.a)(T));function N(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):N(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var _=function(t){var e=t.accessToken,n=t.assignmentId,r=t.spaceId,a=t.sessionToken;return m.a.get("".concat(Object(O.f)(),"/grades/").concat(r,"?assignments=").concat(n),{headers:P(P({},Object(y.a)(e)),{},{"x-session-token":a})})};function D(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}var M,F,L=function(t){var e=t.accessToken,n=t.spaceId,r=t.assignment,a=r.externalId,o="".concat(Object(O.f)(),"/").concat(a,"/re-open");return m.a.post(o,function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):D(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({classId:n},r),{headers:Object(y.a)(e)})},U=function(t){var e=t.accessToken,n=t.assignmentId,r=t.group;return M&&M.cancel(),M=m.a.CancelToken.source(),m.a.get("".concat(Object(O.db)(n),"?page=0&displayLimit=2000&fetchCount=1").concat(r?"&group=".concat(r):""),{headers:Object(y.a)(e),cancelToken:M.token})},G=function(t){var e=t.accessToken,n=t.assignmentId,r=t.group;return m.a.get("".concat(Object(O.db)(n),"?page=0&displayLimit=2000&fetchCount=1").concat(r?"&group=".concat(r):""),{headers:Object(y.a)(e)})},z=function(t){var e=t.accessToken,n=t.assignmentExternalId,r=t.studentId,a=t.groupId;return F&&F.cancel(),F=m.a.CancelToken.source(),m.a.delete(function(t){var e=t.assignmentExternalId,n=t.studentId,r=t.groupId,a="".concat(Object(O.E)(),"?assignmentId=").concat(e);return n?"".concat(a,"&studentId=").concat(n):"".concat(a,"&groupId=").concat(r)}({assignmentExternalId:n,studentId:r,groupId:a}),{headers:Object(y.a)(e),cancelToken:F.token})}},105:function(t,e,n){"use strict";n.d(e,"g",(function(){return k})),n.d(e,"b",(function(){return R})),n.d(e,"f",(function(){return T})),n.d(e,"d",(function(){return A})),n.d(e,"a",(function(){return D})),n.d(e,"e",(function(){return M})),n.d(e,"c",(function(){return F})),n.d(e,"h",(function(){return G})),n.d(e,"i",(function(){return z}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(16),u=n(6),s=n.n(u),l=n(3),f=n.n(l),d=n(4),p=n.n(d),h=n(5),v=n.n(h),b=n(9),g=n.n(b),m=n(8),y=n.n(m),O=n(2),E=n.n(O),j=n(37),x=n.n(j),I=n(200);function S(t,e){var n=s()(t);if(f.a){var r=f()(t);e&&(r=r.filter((function(e){return p()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){E()(t,e,n[e])})):v.a?g()(t,v()(n)):S(Object(n)).forEach((function(e){y()(t,e,p()(n,e))}))}return t}var C=function(){var t=a()(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=w(w({},n.headers),{},{Authorization:"Bearer ".concat(e)},Object(I.a)()),t.next=3,x()(w(w({},n),{},{headers:r}));case 3:return a=t.sent,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),k=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.spaceId,a={method:"get",url:Object(c.D)({spaceId:r})},t.next=4,C(e,a);case 4:return o=t.sent,t.abrupt("return",o.data.sets);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),R=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o,u,s,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.space,a=n.name,o=n.isHidden,u={method:"post",url:Object(c.D)({}),data:{set:{space:r,name:a,isHidden:o}}},t.next=4,C(e,u);case 4:return s=t.sent,l=s.data.set,t.abrupt("return",l);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),T=function(){var t=a()(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"patch",url:Object(c.D)({setId:n.id}),data:{set:{isHidden:n.isHidden,name:n.name,space:n.space}}},t.next=3,C(e,r);case 3:return a=t.sent,t.abrupt("return",a.data.set);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),A=function(t,e){return C(t,{method:"delete",url:Object(c.C)(e)})};function N(t,e){var n=s()(t);if(f.a){var r=f()(t);e&&(r=r.filter((function(e){return p()(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){E()(t,e,n[e])})):v.a?g()(t,v()(n)):N(Object(n)).forEach((function(e){y()(t,e,p()(n,e))}))}return t}var _={avatar:"",educators:[],students:[],hasConversation:!1,conversationIncludesEducators:!1},D=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o,u,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"post",url:Object(c.B)(),data:{group:P(P(P({},_),n),{},{avatar:n.avatar||""})}},t.next=3,C(e,r);case 3:return a=t.sent,o=a.data,u=o.group,s=o.studentsWithNoGroup,t.abrupt("return",{group:u,studentsWithNoGroup:s});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),M=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o,u,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"patch",url:Object(c.A)(n.id),data:{group:n}},t.next=3,C(e,r);case 3:return a=t.sent,o=a.data,u=o.group,s=o.studentsWithNoGroup,t.abrupt("return",{group:u,studentsWithNoGroup:s});case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),F=function(){var t=a()(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,C(e,{method:"delete",url:Object(c.A)(n)});case 2:return r=t.sent,a=r.data.studentsWithNoGroup,t.abrupt("return",{studentsWithNoGroup:a});case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();function L(t,e){var n=s()(t);if(f.a){var r=f()(t);e&&(r=r.filter((function(e){return p()(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){E()(t,e,n[e])})):v.a?g()(t,v()(n)):L(Object(n)).forEach((function(e){y()(t,e,p()(n,e))}))}return t}var G=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o,u,s,l,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.set,a=n.generateParams,o={method:"post",url:Object(c.z)(r),data:U(U({},a),{},{theme:"numbers"})},t.next=4,C(e,o);case 4:return u=t.sent,s=u.data,l=s.groups,f=s.studentsWithNoGroup,t.abrupt("return",{groups:l,studentsWithNoGroup:f});case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),z=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.emails,a=n.spaceId,o={method:"post",url:Object(c.hb)({spaceId:a}),data:{emails:r,spaceId:a}},t.next=4,C(e,o);case 4:return u=t.sent,t.abrupt("return",u.data);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},108:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return{Authorization:"Bearer ".concat(t)}}},111:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o}));var r="NOTIFICATIONS_NEW_NOTIFICATION",a="NOTIFICATION_SETTINGS_FETCH",o="NOTIFICATION_SETTINGS_SAVE"},113:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"e",(function(){return a})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u}));var r=function(t){return function(t){return t.routing}(t).locationBeforeTransitions},a=function(t){var e=r(t).pathname.split("/").filter((function(t){return!!t}));return e.length>3?e[3]:"participants"},o=function(t){var e=r(t).pathname.split("/").filter((function(t){return!!t})),n=e.includes("assignments")||e.includes("educatorArea")||e.includes("engagement")||e.includes("item-bank")||e.includes("materials")||e.includes("quizzes")||e.includes("reports")||e.includes("slides")||e.includes("presentation")||e.includes("submissions"),a=e.includes("import-from-moodle"),o=e.includes("groups")||e.includes("participants");return n||a?"journey":o?"people":"community"},i=function(t){var e=r(t).pathname.split("/").filter((function(t){return!!t}));return e.includes("materials")?"materials":e.includes("submissions")?"submissions":e.includes("reports")?"reports":e.includes("item-bank")?"itemBank":e.includes("presentation")?"presentation":e.includes("assignments")?"assignments":e.includes("educatorArea")?"educatorArea":e.includes("slides")?"slides":e.includes("engagement")?"engagement":e.includes("quizzes")?"quizzes":"materials"},c=function(t){return!!r(t).query.notifications},u=function(t){return r(t).pathname.includes("settings")}},114:function(t,e,n){"use strict";e.a={light:{fontFamily:"Work Sans",fontWeight:400},regular:{fontFamily:"Work Sans",fontWeight:500},bold:{fontFamily:"Work Sans",fontWeight:700},mono:{fontFamily:"Hack"}}},116:function(t,e,n){"use strict";n.d(e,"b",(function(){return O})),n.d(e,"a",(function(){return E}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v);function g(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):g(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var y=null,O=function(t){y=t},E=function(){return m(m({},y),{},{id:y.id||y.objectId})}},118:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));var r={post:"post",material:"material"},a={post:"posts",material:"materials"},o={UBClassRoomPost:r.post,UBClassRoomMaterialModule:r.material};e.c=r},119:function(t,e,n){"use strict";n.r(e),n.d(e,"lastNotification",(function(){return i})),n.d(e,"lastNotificationId",(function(){return c})),n.d(e,"notifications",(function(){return u})),n.d(e,"culpritData",(function(){return s})),n.d(e,"notificationData",(function(){return l})),n.d(e,"hasFetchedSettings",(function(){return f})),n.d(e,"isFetchingSettings",(function(){return d})),n.d(e,"isSavingSettings",(function(){return p})),n.d(e,"notificationSettings",(function(){return h})),n.d(e,"mutedConversations",(function(){return v})),n.d(e,"isConversationMuted",(function(){return b})),n.d(e,"mutedSpaces",(function(){return g})),n.d(e,"isSpaceMuted",(function(){return m})),n.d(e,"hasUnreadNotifications",(function(){return y}));var r=n(6),a=n.n(r),o=n(25).isInstructor,i=function(t){return t.liveNotifications.newNotification},c=function(t){var e=i(t);return e&&e.id},u=function(t){return t.data.notifications},s=function(t,e){var n=e.firstName,r=e.lastName,a=e.avatar;return{isInstructor:o(t,e.objectId),firstName:n,lastName:r,avatar:a}},l=function(t){var e=t.actionText,n=t.actionData,r=t.alert,o=t.content,i=t.action,c=t.parentItemId,u=t.itemId;if(e&&n)return{actionType:i,action:a()(n).reduce((function(t,e){return"culprit"===e?t.replace("{{culprit}} ",""):t.replace("{{".concat(e,"}}"),n[e])}),e),content:o.replace(/<br \/>/g,""),parentItemId:c,itemId:u};var s=r.split(/: (.+)/);return{content:s[1]&&s[1].replace(/<br \/>/g,""),actionType:i,action:{newPost:"just posted",newComment:"just commented on your post",newCommentReply:"just replied to your comment",newCommentOnCommentedPost:"also commented on this post"}[i],parentItemId:c,itemId:u}},f=function(t){return!!t.liveNotifications.isFetched},d=function(t){return!!t.liveNotifications.isFetchingNotificationsSettings},p=function(t){return!!t.liveNotifications.isSavingNotificationsSettings},h=function(t){return t.data.liveNotifications.settings},v=function(t){return h(t).mutedConversations},b=function(t,e){return v(t)&&!!v(t)[e]},g=function(t){return h(t).mutedSpaces},m=function(t,e){return g(t)&&!!g(t)[e]},y=function(t){return t.ui.navBarNoticiationsBadge}},126:function(t,e,n){"use strict";n.d(e,"b",(function(){return Pt})),n.d(e,"c",(function(){return _t}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(111);function m(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):m(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var O=function(t,e){return y(y({},t),{},{newNotification:y({},e.payload.notification)})};function E(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):E(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var x=function(t,e){switch(e.status){case"started":return j(j({},t),{},{isFetchingNotificationsSettings:!0,isErrored:!1});case"success":return j(j({},t),{},{isFetchingNotificationsSettings:!1,isFetched:!0,isErrored:!1});case"error":return j(j({},t),{},{isFetchingNotificationsSettings:!1,isErrored:!0});default:return t}};function I(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):I(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var w,C=function(t,e){switch(e.status){case"started":return S(S({},t),{},{isErrored:!1,isSavingNotificationsSettings:!0});case"success":return S(S({},t),{},{isSavingNotificationsSettings:!1,isErrored:!1});case"error":return S(S({},t),{},{isSavingNotificationsSettings:!1,isErrored:!0});default:return t}},k={newNotification:null,isFetchingNotificationsSettings:!1,isSavingNotificationsSettings:!1,isErrored:!1,isFetched:!1},R=(w={},b()(w,g.a,O),b()(w,g.b,x),b()(w,g.c,C),w),T=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0,n=R[e.type];return void 0===n?t:n(t,e)};function A(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):A(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var P=function(t,e){if("success"!==e.status)return t;var n=e.payload.notificationSettings;return N(N({},t),{},{settings:n})};function _(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):_(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var M,F=function(t,e){switch(e.status){case"started":case"success":var n=e.payload.notificationSettings;return D(D({},t),{},{settings:n});case"error":var r=e.payload.oldSettings;return D(D({},t),{},{settings:r});default:return t}},L={settings:{push:{messages:!1,posts:!1,comments:!1},email:{messages:!1,posts:!1,comments:!1}}},U=(M={},b()(M,g.b,P),b()(M,g.c,F),M),G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0,n=U[e.type];return void 0===n?t:n(t,e)},z=n(13),q=n(119),B=function(t){var e=t.displayNotification;return function(t){return function(n,r){var a=r();q.lastNotificationId(a)===t.id||(n({type:g.a,status:"success",payload:{notification:t}}),["newPost","newComment","newCommentReply"].includes(t.notification.action)&&n({type:z.lb,hasUnread:!0}),e({notification:t,getState:r,selectors:q}))}}},H=n(408),W=n(12),V=n.n(W),K=n(7),Y=n.n(K),X=n(514),Q=n.n(X),J=n(418);function Z(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Z(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var tt=function(t,e){t({type:g.c,status:"started",payload:e})},et=function(t,e){t({type:g.c,status:"success",payload:e})},nt=function(t,e){t({type:g.c,status:"error",payload:e})},rt=function(t){return function(){var e=V()(Y.a.mark((function e(n,r){var a,o,i,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=q.notificationSettings(r()),o=$($({},a),t),tt(n,{notificationSettings:o}),e.prev=3,e.next=6,Object(J.b)(t);case 6:i=e.sent,et(n,{notificationSettings:i}),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),c={error:e.t0,oldSettings:a},nt(n,c);case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t,n){return e.apply(this,arguments)}}()},at=function(t){return function(){var e=V()(Y.a.mark((function e(n,r){var a,o,i,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(),o=q.isConversationMuted(a,t),i=q.mutedConversations(a),c=o?Q()(i,t):$($({},i),{},b()({},t,!0)),n(rt({mutedConversations:c}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},ot=function(t){return function(){var e=V()(Y.a.mark((function e(n,r){var a,o,i,c;return Y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r(),o=q.isSpaceMuted(a,t),i=q.mutedSpaces(a),c=o?Q()(i,t):$($({},i),{},b()({},t,!0)),n(rt({mutedSpaces:c}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},it=rt,ct=function(t){var e=t.onNewNotification;return function(t){return function(n){t.on("Notification:UserCreated",(function(t){return n(e(t))}))}}};function ut(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function st(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ut(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):ut(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var lt=function(t){var e,n,r={appReducer:T,dataReducer:G,operations:(e=t,n=e.displayNotification,{onNewNotification:B({displayNotification:n}),fetchNotificationSettings:H.a,saveNotificationSettings:it,toggleMuteConversation:at,toggleMuteSpace:ot}),selectors:q};return st(st({},r),{},{registerLive:ct(r.operations)})},ft=n(65),dt=n.n(ft),pt=n(53),ht=n.n(pt),vt=n(52),bt=n.n(vt),gt=n(49),mt=n.n(gt),yt=n(913),Ot=n.n(yt),Et=n(96),jt=n(118),xt=n(275),It=n(914),St=n.n(It),wt=Ot.a.default,Ct=new(function(){function t(){ht()(this,t),this.hasPermission=!wt.needsPermission,this.hasPermission?this.isSupported=!0:this.isSupported=wt.isSupported()}return bt()(t,[{key:"askPermissions",value:function(){var t=this;return new mt.a((function(e,n){t.isSupported&&t.hasPermission?e():t.isSupported&&!t.hasPermission?wt.requestPermission((function(){t.hasPermission=!0,e()}),(function(){t.hasPermission=!1,n()})):n()}))}},{key:"notify",value:function(t,e){this.askPermissions().then((function(){!function(t,e){var n=t.title,r=t.body,a=t.path,o=Et.b,i={body:r,timeout:8,icon:"desktop"!==o?St.a:void 0,notifyClick:function(){"desktop"!==o&&(window.focus(),window.open("https://".concat(e().institution.general.base_domain,"/#").concat(a),"_self"))}};new wt(n,i).show()}(t,e)}),(function(){console.log("Desktop notifications permission denied or not supported")}))}},{key:"notifyFromNotificationObject",value:function(t,e){var n=t.space,r=t.itemId,a=t.parentItemId,o=t.action,i=t.title,c=t.parentItemType,u="";switch(o){case"newMessage":var s=e().routing.locationBeforeTransitions.pathname;u="".concat(s,"?inbox=").concat(a);break;case"newPost":u="/dashboard/".concat(n,"/community/post/").concat(r);break;case"newCommentOnCommentedPost":case"newComment":case"newCommentReply":u=Object(xt.a)({spaceId:n,entityId:a,entityType:jt.b[c]});break;default:u="/"}this.notify({title:i,body:"Click here to view.",path:u},e)}}]),t}()),kt=function(t){return t.focus.focused},Rt=new dt.a(["newComment","newCommentOnCommentedPost","newCommentReply"]),Tt=new dt.a(["newPost"]),At=new dt.a(["newMessage"]),Nt=lt({displayNotification:function(t){var e=t.notification,n=t.getState,r=t.selectors,a=n(),o=a.routing.locationBeforeTransitions,i=a.classRoom.current;(function(t){var e=t.notification,n=t.location,r=t.query;if(!t.hasFocus)return!1;var a=e.action,o=e.parentItemId,i=Tt.has(a),c=function(t,e){var n=t.split("/");return e.inbox?"inbox=".concat(e.inbox):"feed"===n[n.length-1]?"feed":""}(n,r);return!(!i||"feed"!==c)||!(!At.has(a)||0!==c.indexOf("inbox=")||c.split("=")[1]!==o)})({notification:e.notification,location:o.pathname,query:o.query,currentSpaceId:i,hasFocus:kt(a)})||(function(t){var e=t.notification,n=t.settings,r=e.action,a=e.classRoom,o=e.culpritIsEducator,i=e.parentItemId,c=n.push,u=Rt.has(r),s=Tt.has(r),l=u||s,f=At.has(r);if(u&&!c.comments)return!0;if(s&&!c.posts)return!0;if(f&&!c.messages)return!0;var d=a&&!!n.mutedSpaces[a.objectId];if(l&&d&&!o)return!0;var p=!!n.mutedConversations[i];return!(!f||!p)}({notification:e.notification,settings:r.notificationSettings(n())})||Ct.notifyFromNotificationObject(e.notification,n))}}),Pt=Nt.operations,_t=Nt.selectors;e.a=Nt},13:function(t,e,n){"use strict";n.d(e,"xb",(function(){return r})),n.d(e,"yb",(function(){return a})),n.d(e,"sb",(function(){return o})),n.d(e,"Fb",(function(){return i})),n.d(e,"Gb",(function(){return c})),n.d(e,"Hb",(function(){return u})),n.d(e,"Db",(function(){return s})),n.d(e,"Bb",(function(){return l})),n.d(e,"Cb",(function(){return f})),n.d(e,"Eb",(function(){return d})),n.d(e,"Y",(function(){return p})),n.d(e,"jb",(function(){return h})),n.d(e,"kb",(function(){return v})),n.d(e,"lb",(function(){return b})),n.d(e,"d",(function(){return g})),n.d(e,"c",(function(){return m})),n.d(e,"i",(function(){return y})),n.d(e,"h",(function(){return O})),n.d(e,"l",(function(){return E})),n.d(e,"m",(function(){return j})),n.d(e,"e",(function(){return x})),n.d(e,"g",(function(){return I})),n.d(e,"f",(function(){return S})),n.d(e,"vb",(function(){return w})),n.d(e,"Ab",(function(){return C})),n.d(e,"S",(function(){return k})),n.d(e,"V",(function(){return R})),n.d(e,"w",(function(){return T})),n.d(e,"B",(function(){return A})),n.d(e,"N",(function(){return N})),n.d(e,"U",(function(){return P})),n.d(e,"mb",(function(){return _})),n.d(e,"nb",(function(){return D})),n.d(e,"F",(function(){return M})),n.d(e,"Z",(function(){return F})),n.d(e,"C",(function(){return L})),n.d(e,"E",(function(){return U})),n.d(e,"D",(function(){return G})),n.d(e,"n",(function(){return z})),n.d(e,"o",(function(){return q})),n.d(e,"q",(function(){return B})),n.d(e,"p",(function(){return H})),n.d(e,"r",(function(){return W})),n.d(e,"s",(function(){return V})),n.d(e,"t",(function(){return K})),n.d(e,"v",(function(){return Y})),n.d(e,"u",(function(){return X})),n.d(e,"j",(function(){return Q})),n.d(e,"k",(function(){return J})),n.d(e,"z",(function(){return Z})),n.d(e,"y",(function(){return $})),n.d(e,"x",(function(){return tt})),n.d(e,"A",(function(){return et})),n.d(e,"b",(function(){return nt})),n.d(e,"M",(function(){return rt})),n.d(e,"L",(function(){return at})),n.d(e,"tb",(function(){return ot})),n.d(e,"ub",(function(){return it})),n.d(e,"rb",(function(){return ct})),n.d(e,"pb",(function(){return ut})),n.d(e,"ob",(function(){return st})),n.d(e,"qb",(function(){return lt})),n.d(e,"X",(function(){return ft})),n.d(e,"J",(function(){return dt})),n.d(e,"K",(function(){return pt})),n.d(e,"W",(function(){return ht})),n.d(e,"I",(function(){return vt})),n.d(e,"zb",(function(){return bt})),n.d(e,"wb",(function(){return gt})),n.d(e,"R",(function(){return mt})),n.d(e,"T",(function(){return yt})),n.d(e,"a",(function(){return Ot})),n.d(e,"fb",(function(){return Et})),n.d(e,"eb",(function(){return jt})),n.d(e,"db",(function(){return xt})),n.d(e,"ab",(function(){return It})),n.d(e,"bb",(function(){return St})),n.d(e,"cb",(function(){return wt})),n.d(e,"hb",(function(){return Ct})),n.d(e,"gb",(function(){return kt})),n.d(e,"H",(function(){return Rt})),n.d(e,"G",(function(){return Tt})),n.d(e,"ib",(function(){return At})),n.d(e,"P",(function(){return Nt})),n.d(e,"Q",(function(){return Pt})),n.d(e,"O",(function(){return _t}));var r="STARTUP_FETCH_DATA",a="STARTUP_FETCH_FILES_COOKIE",o="REQUEST_LOGIN",i="USER_LOGIN",c="USER_LOGOUT",u="USER_LOGOUT_DEVICE",s="USER_FETCH_CURRENT",l="USER_CHANGE_AVATAR",f="USER_CHANGE_STATUS",d="USER_FETCH_DEVICES",p="FETCH_USERS",h="NAVBAR_CHANGE_BUTTONS",v="NAVBAR_CHANGE_SEARCHBAR",b="NAVBAR_NOTIFICATIONS_BADGE",g="CLASSROOM_CHANGE_AVATAR",m="CLASSROOM_CHANGE",y="CLASSROOM_FETCH_JOINED",O="CLASSROOM_FETCH_CONTENT",E="CLASSROOM_FETCH_POST",j="CLASSROOM_FETCH_TAGS",x="CLASSROOM_CREATE_POST",I="CLASSROOM_EDIT_POST",S="CLASSROOM_DELETE_POST",w="SET_POST_IMPORTANT",C="UNSET_POST_IMPORTANT",k="FETCH_IMPORTANT_POSTS",R="FETCH_SCHEDULED_POSTS",T="CLASSROOM_OPEN_CLOSE_SCHEDULE_POST",A="CLASSROOM_UPDATE_ONLINE_USERS",N="FEED_FILTER_TAG",P="FETCH_NOTIFICATIONS",_="NOTIFICATION_SET_READ",D="NOTIFICATION_SET_READ_TYPE",M="COMMENTS_FETCH",F="GENERIC_COMMENTS_FETCH",L="COMMENTS_CREATE",U="COMMENTS_EDIT",G="COMMENTS_DELETE",z="CLASSROOM_MODULE_CREATE_SECTION",q="CLASSROOM_MODULE_DELETE_SECTION",B="CLASSROOM_MODULE_GET_SECTION",H="CLASSROOM_MODULE_FETCH_SECTIONS",W="CLASSROOM_MODULE_IMPORT_SECTIONS",V="CLASSROOM_MODULE_LIVE_DELETED_MATERIAL",K="CLASSROOM_MODULE_LIVE_UPDATED_MATERIAL",Y="CLASSROOM_MODULE_SAVE_CURRENT_SECTION",X="CLASSROOM_MODULE_REORDER_MATERIAL",Q="CLASSROOM_FETCH_PARTICIPANTS",J="CLASSROOM_FETCH_PARTICIPANTS_HISTORY",Z="CLASSROOM_SEARCH_PARTICIPANTS",$="CLASSROOM_REMOVE_PARTICIPANT",tt="CLASSROOM_PROMOTE_PARTICIPANT",et="CLASSROOM_UNPROMOTE_PARTICIPANT",nt="CLASSROOM_ADD_PARTICIPANTS",rt="ERROR_NEW",at="ERROR_CLEAN",ot="SEARCH_INDEX",it="SEARCH_INDEX_CLEAR",ct="OMNISEARCH_OPEN_MODAL",ut="OMNISEARCH_CLOSE_MODAL",st="OMNISEARCH_CLEAR_RESULTS",lt="OMNISEARCH_FETCH_RESULTS",ft="FETCH_TAGS_POST",dt="CREATE_TAG_POST",pt="DELETE_TAG_POST",ht="FETCH_TAGS",vt="CREATE_TAG",bt="TAG_FILTER_CLEARED",gt="SHOW_IMPORTANT_POSTS",mt="FETCH_EMOJIS",yt="FETCH_INSTITUTION",Ot="CHECK_INSTITUTION",Et="LIVE_CONNECT_START",jt="LIVE_CONNECT_ON",xt="LIVE_CONNECT_FFF",It="LIVE_CLIENTS_REFRESHED",St="LIVE_CLIENT_CONNECTED",wt="LIVE_CLIENT_DISCONNECTED",Ct="LIVE_JOIN_CONV",kt="LIVE_JOIN_CLASS",Rt="CONNECTION_ON",Tt="CONNECTION_OFF",At="LTI_FETCH_PROVIDERS",Nt="FETCH_ACCESS_TOKEN_STARTED",Pt="FETCH_ACCESS_TOKEN_SUCCESS",_t="FETCH_ACCESS_TOKEN_ERROR"},1366:function(t,e){},137:function(t,e,n){"use strict";n.r(e),n.d(e,"space",(function(){return o})),n.d(e,"spacesData",(function(){return i})),n.d(e,"current",(function(){return c})),n.d(e,"alphabeticallySorted",(function(){return s})),n.d(e,"spaceById",(function(){return l})),n.d(e,"spaceByPropsId",(function(){return f})),n.d(e,"initialSpaceId",(function(){return d}));var r=n(88),a=n.n(r),o=function(t){return t.classRoom},i=function(t){return t.data.classRooms},c=function(t){return t.current},u=function(t,e){var n=t.name,r=e.name,a=n.toLowerCase(),o=r.toLowerCase();return a<o?-1:a>o?1:0},s=function(t){return a()(t).sort(u)},l=function(t,e){return t?t[e]:null},f=function(t,e){return l(i(t),e.spaceId)},d=function(t){var e=s(i(t)),n=e.find((function(t){return!t.archived}))||e[0];return n?n.objectId:null}},1386:function(t,e,n){var r={"./af":704,"./af.js":704,"./ar":705,"./ar-dz":706,"./ar-dz.js":706,"./ar-kw":707,"./ar-kw.js":707,"./ar-ly":708,"./ar-ly.js":708,"./ar-ma":709,"./ar-ma.js":709,"./ar-sa":710,"./ar-sa.js":710,"./ar-tn":711,"./ar-tn.js":711,"./ar.js":705,"./az":712,"./az.js":712,"./be":713,"./be.js":713,"./bg":714,"./bg.js":714,"./bm":715,"./bm.js":715,"./bn":716,"./bn-bd":717,"./bn-bd.js":717,"./bn.js":716,"./bo":718,"./bo.js":718,"./br":719,"./br.js":719,"./bs":720,"./bs.js":720,"./ca":721,"./ca.js":721,"./cs":722,"./cs.js":722,"./cv":723,"./cv.js":723,"./cy":724,"./cy.js":724,"./da":725,"./da.js":725,"./de":726,"./de-at":727,"./de-at.js":727,"./de-ch":728,"./de-ch.js":728,"./de.js":726,"./dv":729,"./dv.js":729,"./el":730,"./el.js":730,"./en-au":731,"./en-au.js":731,"./en-ca":732,"./en-ca.js":732,"./en-gb":733,"./en-gb.js":733,"./en-ie":734,"./en-ie.js":734,"./en-il":735,"./en-il.js":735,"./en-in":736,"./en-in.js":736,"./en-nz":737,"./en-nz.js":737,"./en-sg":738,"./en-sg.js":738,"./eo":739,"./eo.js":739,"./es":740,"./es-do":741,"./es-do.js":741,"./es-mx":742,"./es-mx.js":742,"./es-us":743,"./es-us.js":743,"./es.js":740,"./et":744,"./et.js":744,"./eu":745,"./eu.js":745,"./fa":746,"./fa.js":746,"./fi":747,"./fi.js":747,"./fil":748,"./fil.js":748,"./fo":749,"./fo.js":749,"./fr":750,"./fr-ca":751,"./fr-ca.js":751,"./fr-ch":752,"./fr-ch.js":752,"./fr.js":750,"./fy":753,"./fy.js":753,"./ga":754,"./ga.js":754,"./gd":755,"./gd.js":755,"./gl":756,"./gl.js":756,"./gom-deva":757,"./gom-deva.js":757,"./gom-latn":758,"./gom-latn.js":758,"./gu":759,"./gu.js":759,"./he":760,"./he.js":760,"./hi":761,"./hi.js":761,"./hr":762,"./hr.js":762,"./hu":763,"./hu.js":763,"./hy-am":764,"./hy-am.js":764,"./id":765,"./id.js":765,"./is":766,"./is.js":766,"./it":767,"./it-ch":768,"./it-ch.js":768,"./it.js":767,"./ja":769,"./ja.js":769,"./jv":770,"./jv.js":770,"./ka":771,"./ka.js":771,"./kk":772,"./kk.js":772,"./km":773,"./km.js":773,"./kn":774,"./kn.js":774,"./ko":775,"./ko.js":775,"./ku":776,"./ku.js":776,"./ky":777,"./ky.js":777,"./lb":778,"./lb.js":778,"./lo":779,"./lo.js":779,"./lt":780,"./lt.js":780,"./lv":781,"./lv.js":781,"./me":782,"./me.js":782,"./mi":783,"./mi.js":783,"./mk":784,"./mk.js":784,"./ml":785,"./ml.js":785,"./mn":786,"./mn.js":786,"./mr":787,"./mr.js":787,"./ms":788,"./ms-my":789,"./ms-my.js":789,"./ms.js":788,"./mt":790,"./mt.js":790,"./my":791,"./my.js":791,"./nb":792,"./nb.js":792,"./ne":793,"./ne.js":793,"./nl":794,"./nl-be":795,"./nl-be.js":795,"./nl.js":794,"./nn":796,"./nn.js":796,"./oc-lnc":797,"./oc-lnc.js":797,"./pa-in":798,"./pa-in.js":798,"./pl":799,"./pl.js":799,"./pt":800,"./pt-br":801,"./pt-br.js":801,"./pt.js":800,"./ro":802,"./ro.js":802,"./ru":803,"./ru.js":803,"./sd":804,"./sd.js":804,"./se":805,"./se.js":805,"./si":806,"./si.js":806,"./sk":807,"./sk.js":807,"./sl":808,"./sl.js":808,"./sq":809,"./sq.js":809,"./sr":810,"./sr-cyrl":811,"./sr-cyrl.js":811,"./sr.js":810,"./ss":812,"./ss.js":812,"./sv":813,"./sv.js":813,"./sw":814,"./sw.js":814,"./ta":815,"./ta.js":815,"./te":816,"./te.js":816,"./tet":817,"./tet.js":817,"./tg":818,"./tg.js":818,"./th":819,"./th.js":819,"./tk":820,"./tk.js":820,"./tl-ph":821,"./tl-ph.js":821,"./tlh":822,"./tlh.js":822,"./tr":823,"./tr.js":823,"./tzl":824,"./tzl.js":824,"./tzm":825,"./tzm-latn":826,"./tzm-latn.js":826,"./tzm.js":825,"./ug-cn":827,"./ug-cn.js":827,"./uk":828,"./uk.js":828,"./ur":829,"./ur.js":829,"./uz":830,"./uz-latn":831,"./uz-latn.js":831,"./uz.js":830,"./vi":832,"./vi.js":832,"./x-pseudo":833,"./x-pseudo.js":833,"./yo":834,"./yo.js":834,"./zh-cn":835,"./zh-cn.js":835,"./zh-hk":836,"./zh-hk.js":836,"./zh-mo":837,"./zh-mo.js":837,"./zh-tw":838,"./zh-tw.js":838};function a(t){var e=o(t);return n(e)}function o(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}a.keys=function(){return Object.keys(r)},a.resolve=o,t.exports=a,a.id=1386},1387:function(t,e,n){var r=n(1388);"string"==typeof r&&(r=[[t.i,r,""]]);var a={transform:undefined};n(339)(r,a);r.locals&&(t.exports=r.locals)},1388:function(t,e,n){(t.exports=n(338)(!1)).push([t.i,"/*\n**  Style override for the default Zendesk display\n*/\n\n#webWidget {\n  bottom: 0 !important;\n  left: 55px !important;\n}\n",""])},1393:function(t,e,n){var r=n(1394);"string"==typeof r&&(r=[[t.i,r,""]]);var a={transform:undefined};n(339)(r,a);r.locals&&(t.exports=r.locals)},1394:function(t,e,n){(t.exports=n(338)(!1)).push([t.i,"/*\n**  Style overrite for the default Intercom display\n*/\n\n#intercom-container {\n  bottom: auto !important;\n  top: 0;\n}\n\n#intercom-container .intercom-messenger-frame {\n  bottom: auto !important;\n  right: auto !important;\n  top: calc(50% - 352px);\n  left: calc(50% - 188px);\n}\n",""])},145:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(20),m=n.n(g),y=n(53),O=n.n(y),E=n(52),j=n.n(E),x=n(280),I=n.n(x),S=n(929),w=n.n(S),C=n(83),k=n(930);function R(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):R(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var A=new(function(){function t(){var e=this;O()(this,t),this.blackList=["middle_finger"],this.emojiListWhiteListed=k.filter((function(t){return!e.blackList.find((function(e){return e===t.short_name}))})).sort((function(t,e){return t.sort_order-e.sort_order})),this.categories=["People","Nature","Foods","Activity","Places","Objects","Symbols","Flags","Custom"],this.cachedEmojis=null,this.cachedEmojisCategory=null,this.cachedFuse=null,this.currentClassRoom=null,this.flagRegExp=new RegExp("^flag-[a-z]{2}$")}return j()(t,[{key:"getStore",value:function(){return this.store||(this.store=Object(C.b)()),this.store}},{key:"getState",value:function(){var t=this.getStore();return t?t.getState():null}},{key:"hasClassRoomChanged",value:function(){var t=this.getState();return!t||(!t.classRoom.current||t.classRoom.current!==this.currentClassRoom)}},{key:"get",value:function(){var t=this.getState();if(t){if(this.cachedEmojis&&!this.hasClassRoomChanged())return this.cachedEmojis;if(t.emojis.fetched)return this.cachedEmojis&&!this.hasClassRoomChanged()||(this.cachedEmojis=[].concat(m()(t.emojis.emojis.map((function(t){return T(T({},t),{},{short_name:t.shortName})})).filter((function(e){return!e.classRoom||!(!e.classRoom||e.classRoom!==t.classRoom.current)}))),m()(this.emojiListWhiteListed)),this.currentClassRoom=t.classRoom.current),this.cachedEmojis}return this.emojiListWhiteListed}},{key:"getByCategory",value:function(){if(this.cachedEmojisCategory&&!this.hasClassRoomChanged())return this.cachedEmojisCategory;var t=this.get().reduce((function(t,e){var n=e.category||"Custom";return t[n]?T(T({},t),{},b()({},n,[].concat(m()(t[n]),[e]))):T(T({},t),{},b()({},n,[e]))}),{});return this.cachedEmojis&&(this.cachedEmojisCategory=t),t}},{key:"getFromShortName",value:function(t){return this.get().find((function(e){return e.short_name===t}))}},{key:"getAriaLabel",value:function(t){if(!this.flagRegExp.test(t))return t.replace(/_/g," ").replace(/-/g," ");var e=w.a.byIso(t.split("-")[1]);return null!=e?"Flag of ".concat(e.country):t}},{key:"search",value:function(t){var e=[];if(this.cachedFuse)e=this.cachedFuse.search(t);else{var n=new I.a(this.get(),{shouldSort:!0,threshold:.1,distance:1e3,keys:["short_name"]});this.cachedEmojis&&!this.cachedFuse&&(this.cachedFuse=n),e=n.search(t)}return e}}]),t}());e.a=A},1460:function(t,e,n){var r=n(1461);"string"==typeof r&&(r=[[t.i,r,""]]);var a={transform:undefined};n(339)(r,a);r.locals&&(t.exports=r.locals)},1461:function(t,e,n){(t.exports=n(338)(!1)).push([t.i,".react-tagsinput {\n  border-bottom: 1px solid #ccc;\n  overflow: hidden;\n  padding-top: 2px;\n}\n\n.react-tagsinput--focused {\n  border-color: rgb(0, 127, 128);\n}\n\n/*.react-tagsinput-tag {\n  background-color: #cde69c;\n  border-radius: 2px;\n  border: 1px solid #a5d24a;\n  color: #638421;\n  display: inline-block;\n  font-family: sans-serif;\n  font-size: 13px;\n  font-weight: 400;\n  margin-bottom: 5px;\n  margin-right: 5px;\n  padding: 5px;\n}*/\n\n.react-tagsinput-remove {\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.react-tagsinput-tag a::before {\n  content: ' \\D7';\n}\n\n.react-tagsinput-input {\n  background: transparent;\n  border: 0;\n  color: black;\n  font-family: 'Work Sans';\n  font-size: 15px;\n  margin-bottom: 6px;\n  outline: none;\n}\n\n.react-tagsinput-input::-webkit-input-placeholder {\n  color: #ccc;\n  font-family: 'Work Sans';\n  font-size: 15px;\n}\n\n.react-tagsinput-input:-moz-placeholder {\n  /* Firefox 18- */\n  color: #ccc;\n  font-family: 'Work Sans';\n  font-size: 15px;\n}\n\n.react-tagsinput-input::-moz-placeholder {\n  /* Firefox 19+ */\n  color: #ccc;\n  font-family: 'Work Sans';\n  font-size: 15px;\n}\n\n.react-tagsinput-input:-ms-input-placeholder {\n  color: #ccc;\n  font-family: 'Work Sans';\n  font-size: 15px;\n}\n",""])},147:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v);function g(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):g(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}e.a=function(t){return m(m({hidden:!!t.hidden,versions:[]},t),{},{content:t.content?JSON.parse(t.content):null})}},1473:function(t,e,n){var r=n(1474);"string"==typeof r&&(r=[[t.i,r,""]]);var a={transform:undefined};n(339)(r,a);r.locals&&(t.exports=r.locals)},1474:function(t,e,n){var r=n(1475);(t.exports=n(338)(!1)).push([t.i,"@font-face {\n  font-family: 'montserratBold';\n  src: url("+r(n(855))+");\n  src: url("+r(n(855))+"?#iefix) format('embedded-opentype'),\n    url("+r(n(1476))+") format('woff2'),\n    url("+r(n(1477))+") format('woff'),\n    url("+r(n(1478))+") format('truetype'),\n    url("+r(n(1479))+"#montserratbold) format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'montserratLight';\n  src: url("+r(n(856))+");\n  src: url("+r(n(856))+"?#iefix) format('embedded-opentype'),\n    url("+r(n(1480))+") format('woff2'),\n    url("+r(n(1481))+") format('woff'),\n    url("+r(n(1482))+") format('truetype'),\n    url("+r(n(1483))+"#montserratlight) format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: 'montserratRegular';\n  src: url("+r(n(857))+");\n  src: url("+r(n(857))+"?#iefix) format('embedded-opentype'),\n    url("+r(n(1484))+") format('woff2'),\n    url("+r(n(1485))+") format('woff'),\n    url("+r(n(1486))+") format('truetype'),\n    url("+r(n(1487))+"#montserratregular) format('svg');\n  font-weight: normal;\n  font-style: normal;\n}\n",""])},1476:function(t,e,n){t.exports=n.p+"928f132c19fcb21a1bd4ab3667f99524.woff2"},1477:function(t,e,n){t.exports=n.p+"b7f394b52c3dae9f9bbd34509925904a.woff"},1478:function(t,e,n){t.exports=n.p+"6c00601730f89c6a94fc5af69e6b43fe.ttf"},1479:function(t,e,n){t.exports=n.p+"29aade1802805f2adceda20018849f0e.svg"},1480:function(t,e,n){t.exports=n.p+"c7c3799b7819bbc8e827efe794f0a278.woff2"},1481:function(t,e,n){t.exports=n.p+"252eef37d5449f793c48012fc41eb9fb.woff"},1482:function(t,e,n){t.exports=n.p+"c7efee461f5e8f668f26b2c36f62096a.ttf"},1483:function(t,e,n){t.exports=n.p+"d516e733b7f0eb8244c2ef38f5b9e3d1.svg"},1484:function(t,e,n){t.exports=n.p+"bc4dde5c5c550f47d677f8570941ae6d.woff2"},1485:function(t,e,n){t.exports=n.p+"e070715cfb820945b27fdd84068ef9ce.woff"},1486:function(t,e,n){t.exports=n.p+"f08443aba01ba780ccb15cab40403e81.ttf"},1487:function(t,e,n){t.exports=n.p+"27d3f3f4ed55df47d71650e7863badf2.svg"},1488:function(t,e,n){"use strict";n.r(e);var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(0),u=n.n(c),s=n(68),l=n(509),f=n.n(l),d=n(164),p=n(26),h=n.n(p),v=n(45),b=n.n(v),g=n(52),m=n.n(g),y=n(53),O=n.n(y),E=n(58),j=n.n(E),x=n(60),I=n.n(x),S=n(42),w=n.n(S),C=n(320),k=n.n(C),R=(n(1035),n(1)),T=n.n(R),A=n(1543),N=n(199),P=n.n(N),_=n(35),D=n(54),M=n(170),F=n(667),L=n(165),U=function(t){var e=t.spaceId,n=t.currentUserId,r=t.institutionName,a=t.children;return function(t){var e=t.spaceId,n=t.currentUserId,r=t.institutionName,a=t.launchDarklyClient;Object(c.useEffect)((function(){return function(t){var e=t.spaceId,n=t.currentUserId,r=t.institutionName;t.launchDarklyClient.identify({key:n,custom:{spaceId:e,institution:r}})}({launchDarklyClient:a,currentUserId:n,institutionName:r,spaceId:e})}),[e])}({spaceId:e,currentUserId:n,institutionName:r,launchDarklyClient:Object(d.useLDClient)()}),a};U.propTypes={spaceId:T.a.string,institutionName:T.a.string.isRequired,currentUserId:T.a.string.isRequired,children:T.a.oneOfType([T.a.arrayOf(T.a.node),T.a.node]).isRequired},U.defaultProps={spaceId:void 0};var G=U,z=n(25),q=n(249),B=n(116),H=Object(_.b)((function(t){return{spaceId:Object(z.currentClassRoomId)(t),currentUserId:(Object(B.a)(t)||{}).id,institutionName:Object(q.f)(t)}}))(G),W=n(14),V=n(561),K=n(1542),Y=n(399),X=n(222),Q=Object(W.b)("div",{target:"e197jh740"})("position:fixed;display:flex;bottom:12px;left:12px;height:20px;padding:10px 10px 10px 12px;background-color:white;box-shadow:0 6px 10px 0 rgba(0,0,0,0.14),0 1px 18px 0 rgba(0,0,0,0.12),0 3px 5px -1px rgba(0,0,0,0.2);"),J=Object(W.b)("div",{target:"e197jh741"})("margin-top:-2px;padding-left:10px;"),Z=function(){var t=Object(Y.a)(window.location.href),e=Object(c.useState)(!1),n=b()(e,2),r=n[0],a=n[1],o=Object(X.b)(),i=o.sm,s=o.md,l=o.lg,f=o.xl;if(!("local"===t||"development"===t)||r)return null;var d=f?"xl":l?"lg":s?"md":i?"sm":"xs";return u.a.createElement(Q,null,d,u.a.createElement(J,null,u.a.createElement(V.a,{label:"Close",onClick:function(){return a(!0)},size:"xSmall",icon:K.a.Close})))},$=n(51),tt=n.n($),et=n(1566),nt=n(943),rt=n(1513),at=n(858),ot=n(15),it={r:96,g:13,b:159,contrast:{r:255,g:255,b:255}},ct=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255;return Math.round(e*t+(1-e)*n)},ut=function(t,e){return function(t,e,n){return{r:ct(t.r,e,n),g:ct(t.g,e,n),b:ct(t.b,e,n)}}(it,t,e)},st=function(t){return"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")},lt=function(t,e){return st(ut(t,e))},ft=(lt(.9),st(it.contrast),ot.b.color.green0,ot.b.color.green1,ot.b.color.secondary,ot.b.color.text,ot.b.color.alternateText,ot.b.color.green0,ot.b.color.black,ot.b.color.overlay,n(47)),dt=n(6),pt=n.n(dt),ht=n(3),vt=n.n(ht),bt=n(4),gt=n.n(bt),mt=n(5),yt=n.n(mt),Ot=n(9),Et=n.n(Ot),jt=n(8),xt=n.n(jt),It=n(2),St=n.n(It),wt=n(1562),Ct=n(114);function kt(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):kt(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}function Tt(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var At=function(t){j()(n,t);var e=Tt(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).state={forceClosed:!1},r.handleRequestClose=r.handleRequestClose.bind(tt()(r)),r.hideBar=r.hideBar.bind(tt()(r)),r}return m()(n,[{key:"componentWillReceiveProps",value:function(t){t.error&&t.error.message&&t.error.visible&&(this.setState({forceClosed:!1}),this.hideBar())}},{key:"hideBar",value:function(){this.setState({forceClosed:!1}),setTimeout(this.props.cleanError,3e3)}},{key:"handleRequestClose",value:function(){this.setState({forceClosed:!0})}},{key:"render",value:function(){var t=this,e=["login"],n=function(){return!t.state.forceClosed&&t.props.error.visible&&!(e.indexOf(t.props.error.from)>=0)},r={backgroundColor:"rgba(255, 255, 255, 0.8)",position:"absolute",width:n()?"100vw":0,height:n()?"100vh":0,top:0,zIndex:n()?9999:0,opacity:n()?1:0},a=Rt(Rt({},Ct.a.light),{},{backgroundColor:ot.b.color.green0,padding:0,textAlign:"center",position:"absolute",bottom:0,left:"calc(50%)",transform:"translate(-50%, 0)"});return u.a.createElement("div",{style:r},u.a.createElement(wt.a,{onClick:this.handleRequestClose,bodyStyle:a,open:n(),message:this.props.error.message||"",onRequestClose:this.handleRequestClose}))}}]),n}(u.a.Component);At.propTypes={error:T.a.object,cleanError:T.a.func};var Nt,Pt=At,_t=n(70),Dt=Object(_.b)((function(t){return{error:t.errors?t.errors.last:void 0}}),(function(t){return{cleanError:function(){t(Object(_t.a)())}}}))(Pt),Mt=n(83),Ft=n(237),Lt={container:{position:"absolute",padding:10,bottom:20,left:"calc(50% - 150px)",zIndex:99999,color:ot.b.color.black,backgroundColor:ot.b.color.white,textAlign:"center",borderRadius:5,boxShadow:"0 0 20px 0 rgba(0, 0, 0, 0.2)",display:"flex",alignItems:"center",borderWidth:"1px"}},Ut=function(){return u.a.createElement("div",{style:Lt.container},"Trying to reconnect...")},Gt=n(193),zt=n(79),qt=n(703),Bt={container:{width:"calc(100% - 40px)",height:40,position:"fixed",top:0,left:0,padding:20,backgroundColor:ot.b.color.white,boxShadow:"0 0 8px 0 rgba(0, 0, 0, 0.4)",display:"flex",alignItems:"center",justifyContent:"space-between"},link:{textDecoration:"none",fontSize:14,color:ot.b.color.grayDark,marginLeft:14},backButton:{position:"absolute",top:20,left:"calc(50% - 40px)",height:40,width:80,backgroundColor:ot.b.color.grayLight,borderRadius:3,display:"flex",alignItems:"center",justifyContent:"center",color:ot.b.color.green0,cursor:"pointer",fontSize:13,":hover":{transition:"all linear 0.2s",backgroundColor:ot.b.color.grey3}}},Ht=n(915),Wt=n.n(Ht);function Vt(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var Kt=P()(Nt=function(t){j()(n,t);var e=Vt(n);function n(){return O()(this,n),e.apply(this,arguments)}return m()(n,[{key:"render",value:function(){return u.a.createElement("div",{style:Bt.container},u.a.createElement("div",null,u.a.createElement("img",{src:Wt.a,alt:"Aula",width:"100",height:"40"})),!this.props.hideActionButton&&(this.props.deep?u.a.createElement("div",{style:Bt.backButton,key:"back",onClick:function(){return window.history.back()}},zt.f):u.a.createElement("a",{style:{textDecoration:"none"},key:"back",href:qt.a},u.a.createElement("div",{style:Bt.backButton},zt.f))),u.a.createElement("span",{style:Bt.linksWrapper},u.a.createElement("a",{style:Bt.link,target:"_blank",rel:"noopener noreferrer",href:"https://data.aula.education/Terms_of_Service.pdf"},zt.k),u.a.createElement("a",{style:Bt.link,target:"_blank",rel:"noopener noreferrer",href:"https://data.aula.education/Privacy_Policy.pdf"},zt.i)))}}]),n}(u.a.Component))||Nt;Kt.propTypes={deep:T.a.bool.isRequired,hideActionButton:T.a.bool};var Yt=Kt,Xt=Object(_.b)((function(t){return{deep:!!t.routing.locationBeforeTransitions.pathname.split("/")[3]}}),(function(t){return{}}))(Yt);function Qt(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qt(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Qt(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var Zt=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,$t=(Zt-514-80)/2,te=$t<0?90:$t+80,ee={greyBackground:{backgroundColor:ot.b.color.grayLight,width:"100%",height:Zt},background:{width:"100%",height:Zt,backgroundColor:ot.b.color.grayLight,position:"absolute",fontSize:15,overflow:"scroll"},container:{margin:"".concat(te,"px auto"),width:400,padding:50,boxSizing:"border-box",height:514,borderRadius:"3px",backgroundColor:"#ffffff",boxShadow:"0 2px 4px 0 rgba(0, 0, 0, 0.3)"},title:Jt(Jt({},Ct.a.regular),{},{fontSize:22}),message:Jt({marginTop:20},Ct.a.regular),subHeader:Jt(Jt({},Ct.a.regular),{},{marginTop:20}),browserList:{marginTop:17},browser:Jt(Jt({display:"block",textDecoration:"none",color:ot.b.color.designSystem.purple70},Ct.a.bold),{},{marginTop:25}),whyNot:Jt({textDecoration:"none",color:ot.b.color.designSystem.purple70},Ct.a.regular),browserImage:{},browserName:{marginTop:-32,marginLeft:52}},ne=n(916),re=n.n(ne),ae=n(917),oe=n.n(ae),ie=n(918),ce=n.n(ie),ue=n(919),se=n.n(ue),le=n(920),fe=n.n(le),de=[{name:"Chrome",link:"https://www.google.com/chrome/browser/desktop/index.html",image:re.a},{name:"FireFox",link:"https://www.mozilla.org/en-US/firefox/new/",image:fe.a},{name:"Microsoft Edge",link:"https://www.microsoft.com/en-pk/download/details.aspx?id=48126",image:se.a},{name:"Safari",link:"https://www.apple.com/safari/",image:ce.a},{name:"Opera",link:"http://www.opera.com/download",image:oe.a}],pe=function(t){return u.a.createElement("a",{target:"_blank",href:t.link,style:ee.browser},u.a.createElement("span",null,u.a.createElement("img",{style:ee.browserImage,width:"40",height:"40",src:t.image,alt:t.name})),u.a.createElement("div",{style:ee.browserName},t.name))},he=function(t){return u.a.createElement("div",{style:ee.background},u.a.createElement(Xt,{hideActionButton:!0}),u.a.createElement("div",{style:ee.container},u.a.createElement("div",{style:ee.title},zt.y),u.a.createElement("div",{style:ee.message},zt.z,u.a.createElement("span",null,u.a.createElement("a",{style:ee.whyNot,href:"https://aula.help/product-overview/compatibility/about-internet-explorer",target:"_blank"},zt.B))),u.a.createElement("div",{style:ee.subHeader},zt.A),u.a.createElement("div",{style:ee.browserList},de.map((function(t){return u.a.createElement(pe,t)})))))},ve=n(1496),be=n(1564),ge=n(947),me=n(143),ye=n.n(me),Oe=Object(W.a)("bottom:36px;max-width:584px;"),Ee=Object(W.a)("margin-left:16px;"),je=Object(W.a)("flex:1;align-items:center;padding:8px;background:",ot.b.color.designSystem.grey90,";.toastMessage{flex:1 1;padding:0px;font-size:",ot.b.font.size.copy,";font-family:",ot.b.font.family.workSans,";}.toastAction{font-size:",ot.b.font.size.copy,";}"),xe=Object(W.b)("span",{target:"e9oab4g0"})("display:flex;align-items:center;"),Ie=Object(W.b)("div",{target:"e9oab4g1"})("border-radius:50%;font-size:",ot.b.font.size.headline,";height:36px;min-width:36px;line-height:36px;text-align:center;background-color:hsla(0,0%,100%,0.1);margin-left:8px;"),Se=Object(W.b)(ge.a,{target:"e9oab4g2"})("font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.semiBold,";line-height:",ot.b.font.size.copy,";margin-right:8px;color:#d4bbff;:hover{background:none;opacity:0.5;transition:opacity 0.15s ease-in;}"),we={root:"toastRoot"},Ce={message:"toastMessage",action:"toastAction"},ke=function(t){var e=t.open,n=t.onClose,r=t.emoji,a=t.message,o=t.autoHideDuration;return u.a.createElement(wt.a,{classes:we,className:Oe,open:e,onClose:n,TransitionComponent:be.a,anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:o},u.a.createElement(ve.a,{classes:Ce,className:je,message:u.a.createElement(xe,null,r&&u.a.createElement(Ie,null,r),u.a.createElement("span",{className:Ee},a)),action:u.a.createElement(Se,{key:"close","aria-label":"dismiss",onClick:n},u.a.createElement("span",null,"Dismiss"))}))};ke.propTypes={open:T.a.bool.isRequired,onClose:T.a.func.isRequired,emoji:T.a.string,message:T.a.string.isRequired,autoHideDuration:T.a.number},ke.defaultProps={emoji:"",autoHideDuration:5e3};var Re=ke,Te=n(271),Ae=Object(_.b)((function(t){var e=Te.c.activeToast(t)||{};return{open:Te.c.isToastActive(t),emoji:e.emoji||"",message:e.message||""}}),(function(t){return{onClose:function(){return t(Te.b.dismissToast())}}}))(Re),Ne=n(1565),Pe=Object(W.b)(Ne.a,{target:"ed76erc0"})("position:absolute;top:-2px;left:0px;right:0px;z-index:10000;display:",(function(t){return t.hidden?"none":"block"}),";"),_e=Object(W.b)("div",{target:"ed76erc1"})("display:flex;flex-direction:row;justify-content:space-between;height:100vh;overflow:hidden;"),De=Object(W.b)("div",{target:"ed76erc2"})("padding:0 !important;position:relative;display:flex;flex-direction:column;flex:1;"),Me=Object(W.b)("div",{target:"ed76erc3"})("display:flex;flex-direction:row;flex:1;"),Fe=Object(W.b)("div",{target:"ed76erc4"})("flex:1;"),Le=Object(W.b)("div",{target:"ed76erc5"})("position:absolute;pointer-events:none;left:0;top:0;bottom:0;right:0;z-index:10000;flex:1;"),Ue=Object(W.b)("div",{target:"ed76erc6"})("position:relative;display:flex;flex-direction:column;flex:1;"),Ge=Object(W.b)("div",{target:"ed76erc7"})("position:relative;display:flex;flex-direction:column;flex:1;"),ze=Object(W.b)("div",{target:"ed76erc8"})("position:absolute;padding:0px ",ot.b.spacing.xxSmall,";height:",ot.b.spacing.xLarge,";background:",ot.b.color.designSystem.background.lightPurple.focus,";border:1px solid ",ot.b.color.blackOpacity87,";box-sizing:border-box;border-radius:",ot.b.spacing.xxSmall,";left:90px;top:8px;font-family:",ot.b.font.family.workSans,";font-weight:",ot.b.font.weight.semiBold,";font-size:",ot.b.font.size.copy,";line-height:14px;display:flex;align-items:center;color:",ot.b.color.purple3,";z-index:99999;transform:translateY(-32px);:focus{transform:translateY(0px);}");function qe(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var Be=function(t){j()(n,t);var e=qe(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).onWindowFocus=r.onWindowFocus.bind(tt()(r)),r.onWindowBlur=r.onWindowBlur.bind(tt()(r)),r}return m()(n,[{key:"componentDidMount",value:function(){window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),(0,this.props.onWindowFocusChanged)(document.hasFocus())}},{key:"componentDidUpdate",value:function(t){var e=this.props,n=e.location.pathname,r=e.identifyUserInAppcues,a=e.dataLoadingOverlayOpened,o=t.location.pathname;a||n===o||r()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur)}},{key:"onWindowFocus",value:function(){(0,this.props.onWindowFocusChanged)(!0)}},{key:"onWindowBlur",value:function(){(0,this.props.onWindowFocusChanged)(!1)}},{key:"render",value:function(){if(Object(Ft.a)()){var t=Object(Mt.b)().getState().routing.locationBeforeTransitions.pathname.split("/");"mobile"!==t[0]&&"mobile"!==t[1]&&Object(ft.a)("mobile")}var e=null,n=null;return"IE"===Gt.a.Browser?e=u.a.createElement(he,null):(this.props.children&&(e=this.props.children),this.props.overlayLoader&&this.props.content&&(n=u.a.createElement("div",null,u.a.createElement(ze,{tabIndex:"0",onKeyPress:function(t){return"Enter"===t.key&&(e=['a[href]:not([tabindex^="-"])','area[href]:not([tabindex^="-"])','input:not([type="hidden"]):not([type="radio"]):not([disabled]):not([tabindex^="-"])','input[type="radio"]:not([disabled]):not([tabindex^="-"])','select:not([disabled]):not([tabindex^="-"])','textarea:not([disabled]):not([tabindex^="-"])','button:not([disabled]):not([tabindex^="-"])','iframe:not([tabindex^="-"])','audio[controls]:not([tabindex^="-"])','video[controls]:not([tabindex^="-"])','[contenteditable]:not([tabindex^="-"])','[tabindex]:not([tabindex^="-"])'].join(),void document.getElementById("main-content").querySelector(e).focus({preventScroll:!0}));var e}},"Skip to main content"),u.a.createElement("div",{className:"overlayLoader"},this.props.overlayLoader),u.a.createElement(Le,{id:"omni-search-container",className:"omniSearch"},this.props.omniSearch),u.a.createElement(Ue,{id:"user-profile-container",className:"userProfile"},this.props.userProfile),u.a.createElement(Ge,{className:"liveSessionModal"},this.props.liveSessionModal),u.a.createElement(Dt,null),u.a.createElement(_e,null,u.a.createElement(De,{id:"content-container"},u.a.createElement(Me,null,this.props.userBar,u.a.createElement(Fe,{className:"content"},this.props.spaceBar,this.props.content))),u.a.createElement("div",{className:"inboxMenu"},this.props.inboxGroupMenu)),u.a.createElement(Ae,null)))),u.a.createElement(et.a,{backend:nt.a},u.a.createElement(A.a,null,u.a.createElement(rt.a,{utils:at.a},u.a.createElement("div",null,this.props.connection?null:u.a.createElement(Ut,null),n,e,u.a.createElement(Pe,{id:"top-progress-bar",hidden:!this.props.displayInlineLoader})))))}}]),n}(u.a.Component);Be.propTypes={connection:T.a.bool,children:T.a.element,displayInlineLoader:T.a.bool,overlayLoader:T.a.element,content:T.a.element,inboxGroupMenu:T.a.element,omniSearch:T.a.element,userBar:T.a.element,userProfile:T.a.element,liveSessionModal:T.a.element,spaceBar:T.a.element,onWindowFocusChanged:T.a.func.isRequired,location:T.a.shape({pathname:T.a.string}).isRequired,identifyUserInAppcues:T.a.func.isRequired,dataLoadingOverlayOpened:T.a.bool},Be.defaultProps={displayInlineLoader:!1,dataLoadingOverlayOpened:!0};var He=Be,We=n(160),Ve=function(t){return function(e){return e({type:We.b,payload:{focused:t}})}},Ke=n(411),Ye=n(62),Xe=n(161),Qe=function(t){return Object(Ye.isFetchingSections)(t)||Object(Ye.isHidingMaterial)(t)||Object(Ye.isSavingSection)(t)||Object(Ye.isRevertingSection)(t)||Object(Ye.isImportingMaterials)(t)||Object(Xe.isEditingAssignment)(t)},Je={onWindowFocusChanged:function(t){return Ve(t)},identifyUserInAppcues:Ke.a},Ze=Object(_.b)((function(t){return{connection:t.connection,displayInlineLoader:Qe(t),dataLoadingOverlayOpened:Object(z.shouldShowInitialDataLoadingOverlay)(t)}}),Je)(He),$e=n(88),tn=n.n($e),en=n(19),nn=n.n(en),rn=n(43),an=n.n(rn),on=n(253),cn=n.n(on),un=n(925),sn=n.n(un),ln=n(404),fn=n.n(ln),dn=n(383),pn=n.n(dn),hn=n(1588),vn=n(1589),bn=n(579),gn=n(861),mn=n(1544),yn=n(50),On=n.n(yn),En=["IconType"],jn=Object(W.b)(V.a,{target:"e90wd6m0"})("color:",ot.b.color.white,"!important;background-color:transparent;opacity:70%;:hover{background-color:",ot.b.color.blackAlpha(.28),";}:active{background-color:",ot.b.color.blackAlpha(.08),";}"),xn=Object(W.b)("div",{target:"e90wd6m1"})("display:flex;height:fit-content;width:fit-content;margin-bottom:12px;"),In=Object(W.b)("div",{target:"e90wd6m2"})("cursor:pointer;display:flex;flex-shrink:0;margin-bottom:12px;"),Sn=Object(W.b)((function(t){var e=t.IconType,n=On()(t,En);return u.a.createElement(e,n)}),{target:"e90wd6m3"})("font-size:",ot.b.font.size.copy,";color:",ot.b.color.grey11,";margin-left:8px;vertical-align:middle;"),wn=Object(W.b)("div",{target:"e90wd6m4"})("font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.small,";line-height:24px;color:",ot.b.color.grey11,";"),Cn=n(922),kn=n.n(Cn),Rn="d6516c64-627d-44b5-8563-b025bcb3b2a1";n(1387);function Tn(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var An,Nn={color:{theme:"#6204AA"},launcher:{chatLabel:{"*":"Help"}},webWidget:{contactOptions:{enabled:!0,contactButton:{"*":"Get in touch"},chatLabelOnline:{"*":"Live Chat"},chatLabelOffline:{"*":"Live Chat is unavailable"}},helpCenter:{suppress:!1,chatButton:{"*":"Chat with us now"}},chat:{suppress:!1,profileCard:{avatar:!0,rating:!1,title:!0}}}},Pn=function(){window.zE("webWidget","hide"),window.zE("webWidget","helpCenter:setSuggestions",{search:"aula"})},_n=function(t){j()(n,t);var e=Tn(n);function n(){return O()(this,n),e.apply(this,arguments)}return m()(n,[{key:"render",value:function(){return u.a.createElement("div",{style:{width:"100%",position:"relative"}},u.a.createElement(kn.a,an()({zendeskKey:Rn},Nn,{onLoaded:Pn})))}}]),n}(c.PureComponent),Dn=n(288),Mn=n.n(Dn),Fn=n(948),Ln=(n(1393),n(405)),Un={APPID:"vxd45up6"},Gn={APPID:"l440w6dl"},zn={APPID:(Object(Ln.a)()?Un:Gn).APPID},qn={overlay:{position:"fixed",width:"100%",height:"100%",backgroundColor:ot.b.color.overlay,zIndex:9999,top:0,left:0}};function Bn(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var Hn=P()(An=function(t){j()(n,t);var e=Bn(n);function n(){return O()(this,n),e.apply(this,arguments)}return m()(n,[{key:"componentDidMount",value:function(){var t=this;Object(Dn.IntercomAPI)("onHide",(function(){t.props.hide()})),Object(Dn.IntercomAPI)("onShow",(function(){t.props.show()}))}},{key:"render",value:function(){var t=this.props,e=t.userId,n=t.toggle,r=t.open,a=t.userName,o=t.email,i=t.institution,c=t.role;return u.a.createElement("div",{style:{width:"100%",position:"relative"}},u.a.createElement(Mn.a,{appID:zn.APPID,user_id:e,email:o,name:a,Institution:i,Role:c,custom_launcher_selector:"#no-selector--"}),r&&u.a.createElement(Fn.a,{in:r,unmountOnExit:!0},u.a.createElement("div",{style:qn.overlay,onClick:n})))}}],[{key:"getDerivedStateFromProps",value:function(t){return t.open?Object(Dn.IntercomAPI)("show"):Object(Dn.IntercomAPI)("hide"),t}}]),n}(c.PureComponent))||An;Hn.defaultProps={open:!1,toggle:function(){},hide:function(){},show:function(){}},Hn.propTypes={userId:T.a.string.isRequired,userName:T.a.string.isRequired,email:T.a.string.isRequired,institution:T.a.string.isRequired,role:T.a.string.isRequired,toggle:T.a.func,hide:T.a.func,show:T.a.func,open:T.a.bool};var Wn=Hn,Vn=n(113),Kn=n(24),Yn=Object(_.b)((function(t){var e=Kn.currentUser(t),n=e.objectId,r=e.firstName,a=e.lastName,o=e.createdAt;return{userId:n,email:e.email,userName:"".concat(r," ").concat(a),created_at:new Date(o).getTime(),open:Object(Vn.d)(t).search.includes("intercom-help"),institution:q.e(t),role:Kn.getUserRole(t)}}))(Wn),Xn=n(92),Qn=n(378),Jn=n(318),Zn=n(13),$n=n(520),tr=n(839),er=n.n(tr),nr=n(293),rr=n(250);function ar(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function or(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ar(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):ar(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var ir=(new(n.n(rr).a)).prefix({paper:{height:105,marginBottom:20,cursor:"pointer",position:"relative"},innerContainer:{position:"relative",padding:30},avatarContainer:{float:"left",marginRight:25},infoContainer:{float:"left",width:"calc(100% - 70px)"},titleLabel:{fontSize:14,marginBottom:5,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},timeLabel:or(or({},Ct.a.light),{},{fontSize:14,color:ot.b.color.grey6}),newBadge:{width:12,height:12,position:"absolute",top:10,right:10,borderRadius:6,backgroundColor:ot.b.color.orange},action:or({},Ct.a.light),instructor:{color:ot.b.color.pink},instructorLabel:or({},Ct.a.light)}),cr=n(118),ur=n(275);function sr(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?sr(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):sr(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var fr=function(t,e,n){if(t<=60&&"second"===e)return"Just Now";var r=e;return 1!==t&&(r+="s"),"".concat(t," ").concat(r," ").concat(n)},dr=function(t){var e=t.notification,n=t.onClick,r=t.culprit,a=t.time,o=t.newBadge,i=Object(c.useState)(!1),s=b()(i,2),l=s[0],f=s[1];return u.a.createElement($n.a,{style:ir.paper,onClick:function(){var t=e.action,r=e.itemId,a=e.parentItemId,o=e.spaceId,i=e.parentItemType;switch(n(r),t){case"newPost":Object(ft.a)("dashboard/".concat(o,"/community/post/").concat(r));break;case"newCommentOnCommentedPost":case"newComment":case"newCommentReply":Object(ft.a)(Object(ur.a)({spaceId:o,entityType:cr.b[i],entityId:a}))}},onMouseOver:function(){return f(!0)},onMouseOut:function(){return f(!1)},elevation:l?4:1},u.a.createElement("div",{style:ir.innerContainer},u.a.createElement("div",{style:ir.avatarContainer},u.a.createElement(nr.a,{style:ir.avatar,user:r,isInstructor:r.isInstructor,size:45})),u.a.createElement("span",{style:ir.infoContainer},u.a.createElement("div",{style:ir.titleLabel},u.a.createElement("span",{style:lr({},r.isInstructor?ir.instructor:{})}),r.isInstructor?u.a.createElement("span",{style:lr(lr({},ir.instructor),ir.instructorLabel)}," ","(Educator)"," "):null,u.a.createElement("span",{style:ir.content},e.alert.replace(/<[^>]+>/g,""))),u.a.createElement("div",{style:ir.timeLabel},u.a.createElement(er.a,{date:a,minPeriod:60,formatter:fr}))),o?u.a.createElement("div",{style:ir.newBadge}):null))};dr.propTypes={time:T.a.string.isRequired,newBadge:T.a.bool.isRequired,culprit:T.a.shape({isInstructor:T.a.bool}).isRequired,notification:T.a.shape({action:T.a.string,itemId:T.a.string,parentItemId:T.a.string,spaceId:T.a.string,parentItemType:T.a.string,alert:T.a.string}).isRequired,onClick:T.a.func.isRequired};var pr=dr,hr=n(536),vr=Object(W.b)("div",{target:"e10m9luj0"})("font-size:14px;text-align:center;"),br=Object(W.b)("img",{target:"e10m9luj1"})("width:240px;display:block;margin:56px auto 24px;"),gr=Object(W.b)("span",{target:"e10m9luj2"})("font-family:",ot.b.font.family.workSans,";font-weight:700;font-size:15px;color:",ot.b.color.black,";line-height:25px;"),mr={table:{maxWidth:900,minWidth:450,paddingRight:28,paddingLeft:28,paddingTop:20}},yr=n(924),Or=n.n(yr);function Er(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var jr=function(t){j()(r,t);var e,n=Er(r);function r(t){var e;return O()(this,r),(e=n.call(this,t)).loadNotifications=e.loadNotifications.bind(tt()(e)),e.state={initialLoadingDone:!1,isFetching:!1,settingRead:!1},e}return m()(r,[{key:"componentDidMount",value:function(){var t=this.state,e=t.isFetching,n=t.initialLoadingDone;e||n||this.loadNotifications()}},{key:"componentWillReceiveProps",value:function(t){var e=this.state,n=e.isFetching,r=e.initialLoadingDone,a=e.settingRead,o=t.notifications;if(o.length||n||r){var i=o.filter((function(t){return!t.read}));!a&&i.length&&this.setState({settingRead:!0}),a&&!i.length&&this.setState({settingRead:!1})}}},{key:"handleClickNotification",value:function(t){var e=this.props.notifications.find((function(e){return e.notification.itemId===t})).id,n=this.props.setRead,r=[];r.push({id:e}),n(r)}},{key:"loadNotifications",value:(e=a()(i.a.mark((function t(){var e,n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=this.state.initialLoadingDone,n=this.props,r=n.shouldFetchMoreNotifications,a=n.getNotifications,!e||r){t.next=4;break}return t.abrupt("return");case 4:return this.setState({isFetching:!0}),this.setState({initialLoadingDone:!0}),t.next=8,a();case 8:this.setState({isFetching:!1});case 9:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"render",value:function(){var t=this,e=this.props,n=e.notifications,r=e.shouldFetchMoreNotifications,a=this.state,o=a.isFetching,i=a.initialLoadingDone;return u.a.createElement(hr.a,{items:n,renderItem:function(e){var n=e.createdAt,r=e.read,a=e.culprit,o=e.notification;return u.a.createElement(pr,{time:n,newBadge:!r,culprit:a,notification:o,onClick:function(e){return t.handleClickNotification(e)}})},keyExtractor:function(t){return t.id},renderEmptyList:function(){return u.a.createElement(vr,null,u.a.createElement(br,{src:Or.a,role:"presentation",alt:"no notification"}),u.a.createElement(gr,null,zt.Fb))},resetScrollOnMount:!0,animateItems:{enter:"fade",leave:"none"},loading:!i||o,hasNext:r,loadNext:this.loadNotifications,contentStyle:mr.table})}}]),r}(u.a.PureComponent);jr.propTypes={notifications:T.a.arrayOf(T.a.shape({})).isRequired,getNotifications:T.a.func.isRequired,setRead:T.a.func.isRequired,shouldFetchMoreNotifications:T.a.bool.isRequired},jr.defaultProps={};var xr=jr,Ir=n(119),Sr=Object(_.b)((function(t){return t.classRoom.current?{classRoomId:t.classRoom.current,currentSpaceName:Object(z.classRoomName)(t),notifications:Object(Ir.notifications)(t),fetching:t.data.isFetchingNotifications,shouldFetchMoreNotifications:!!t.classRoom.shouldFetchMoreNotifications}:{classRoomId:"",currentSpaceName:"",notifications:[],fetching:!1}}),(function(t){return{getNotifications:function(){t(Object(Jn.a)())},setRead:function(e){t(Object(Jn.c)(e))},customNavBar:function(e){t(function(t){return function(e){e({type:Zn.jb,status:"success",buttons:t})}}(e))}}}))(xr),wr=function(t){var e=t.open,n=t.onClose;return u.a.createElement(Qn.a,{title:"Notifications",open:e,onClose:n,width:"680px",testAttribute:"notifications-dialog"},u.a.createElement(Sr,null))};wr.propTypes={open:T.a.bool.isRequired,onClose:T.a.func.isRequired};var Cr=wr,kr=Object(_.b)((function(t){return{open:Object(Vn.a)(t)}}),(function(t){return{onClose:function(){return t(Object(Xn.v)())}}}))(Cr),Rr=n(1569),Tr={small:10,medium:16,large:20},Ar={small:"12",medium:"12",large:"14"},Nr=Object(W.b)(u.a.forwardRef((function(t,e){return u.a.createElement(Rr.a,an()({ref:e},t,{classes:{badge:"AulaBadge"}}))})),{shouldForwardProp:function(t){return"size"!==t},target:"e7c3omi0"})("& span.AulaBadge{top:9px;right:9px;color:",ot.b.color.white,";background-color:",ot.b.color.error,";width:",(function(t){var e=t.size;return Tr[e]}),"px;height:",(function(t){var e=t.size;return Tr[e]}),"px;min-width:0px;min-height:0px;font-size:",(function(t){var e=t.size;return Ar[e]}),"px;}"),Pr=u.a.forwardRef((function(t,e){return u.a.createElement(Nr,an()({ref:e},t))}));Pr.propTypes={size:T.a.oneOf(["small","medium","large"])},Pr.defaultProps={size:"medium"};var _r=Pr,Dr=function(t){var e=t.onSearchClick,n=t.onHelpClick,r=t.onPortalMenuOpen,a=t.onAvatarClick,o=t.onNotificationsClick,i=t.avatarName,c=t.avatarSrc,s=t.hasUnreadNotifications,l=u.a.createElement(xn,null,u.a.createElement(jn,{onClick:o,size:"small",label:"Notifications",type:"secondary",icon:sn.a})),f=s?u.a.createElement(_r,{variant:"dot",size:"small"},l):l,d=function(){window.open("https://portal.aula.education/tabs/3-launched","_blank")},p=[{key:"GET_HELP",text:zt.x,id:"get-help",fn:function(){return n},info:"",showIcon:!1},{key:"AULA_PRODUCT_PORTAL",text:zt.c,id:"aula-product-portal",fn:function(){return d},info:"Learn about new and upcoming features",showIcon:!0}],h=function(t,e){return u.a.createElement("div",null,t,e&&u.a.createElement(Sn,{IconType:pn.a}))},v=function(t){return u.a.createElement(wn,null," ",t," ")};return u.a.createElement(hn.a,{role:"region","aria-label":"user bar",bottomDecoration:u.a.createElement(vn.a,{menuListComponent:"ul",menuListAttributes:{role:"listbox","aria-label":"Get help"},renderTarget:function(t){var e=t.handleTargetClick;return u.a.createElement(bn.a,{title:"Help",position:"right"},u.a.createElement(xn,null,u.a.createElement(jn,{onClick:function(){r(),e.apply(void 0,arguments)},size:"small",label:"help",icon:fn.a,type:"secondary"})))},anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},onSelect:function(t){var e=t.item;return null==e?void 0:e()},renderChildren:function(t){var e=t.getItemProps;return p.map((function(t){var n=t.key,r=t.text,a=t.id,o=t.showIcon,i=t.info,c=t.fn;return u.a.createElement(gn.a,an()({size:"medium",key:n,primaryText:h(r,o),secondaryText:v(i),attributes:{id:a,"aria-label":r,"data-testid":n.toLowerCase()}},e({item:c()})))}))}})},u.a.createElement(bn.a,{title:"My profile",space:4,position:"right"},u.a.createElement(In,{onClick:a,role:"button","aria-label":"My profile",onKeyPress:function(t){return"Enter"===t.key&&a()},tabIndex:0},u.a.createElement(mn.a,{name:i,src:c,size:"large"}))),u.a.createElement(bn.a,{title:"Search",space:4,position:"right"},u.a.createElement(xn,null,u.a.createElement(jn,{onClick:e,size:"small",label:"Search",type:"secondary",icon:cn.a}))),u.a.createElement(bn.a,{title:"Notifications",space:4,position:"right"},f),!window.Cypress&&[u.a.createElement(_n,{key:"zendesk-widget"}),u.a.createElement(Yn,{key:"intercom-widget"})],u.a.createElement(kr,null))};Dr.defaultProps={avatarName:"",avatarSrc:"",hasUnreadNotifications:!1},Dr.propTypes={avatarName:T.a.string,avatarSrc:T.a.string,hasUnreadNotifications:T.a.bool,onHelpClick:T.a.func.isRequired,onPortalMenuOpen:T.a.func.isRequired,onAvatarClick:T.a.func.isRequired,onSearchClick:T.a.func.isRequired,onNotificationsClick:T.a.func.isRequired};var Mr=u.a.memo(Dr),Fr=n(126),Lr=function(){return function(){window.zE.hide()}},Ur={onAvatarClick:Xn.x,onSearchClick:Xn.w,onNotificationsClick:Xn.v,onHelpClick:Xn.u,onPortalMenuOpen:Lr},Gr=Object(_.b)((function(t){var e=Kn.currentUser(t);return{avatarName:e.firstName,avatarSrc:e.avatar,hasUnreadNotifications:Boolean(Fr.c.hasUnreadNotifications(t))}}),Ur)(Mr),zr=n(81),qr=n(220),Br=n(85),Hr=n(864),Wr=Object(W.b)("nav",{target:"e1horrbd0"})("display:flex;flex-direction:row;flex-wrap:wrap;background-color:",ot.b.color.white,";box-shadow:",(function(t){return t.shouldShowBottomShadow?"inset 0px -1px 0px rgba(0, 0, 0, 0.12)":"none"}),";"),Vr=Object(W.b)("div",{target:"e1horrbd1"})("width:100%;display:flex;padding:",(function(t){return t.showWarning?"9px 0 9px ".concat(ot.b.spacing.xxxGiant):"29px 0 29px ".concat(ot.b.spacing.xxxGiant)}),";@media only screen and (max-width:",X.a.md-1,"px){padding:",(function(t){return t.showWarning?"9px 0 9px ".concat(ot.b.spacing.xxLarge):"29px 0 ".concat(ot.b.spacing.medium," ").concat(ot.b.spacing.xxLarge)}),";}"),Kr=Object(W.b)("div",{target:"e1horrbd2"})("padding-left:",ot.b.spacing.xxxGiant,";@media only screen and (max-width:",X.a.md-1,"px){padding-left:",ot.b.spacing.xxLarge,";}div > button{margin-right:24px;color:",ot.b.color.designSystem.blackOpacity60,";opacity:1;}#space-settings-tabs{min-height:0;}#space-settings-tabs span.wrapper > span{padding:0;}#space-settings-tabs span.wrapper div{margin:0;}"),Yr=Object(W.b)("div",{target:"e1horrbd3"})("width:100%;min-height:20px;background-color:",ot.b.color.designSystem.background.light.information,";padding:10px ",ot.b.spacing.large,";display:flex;align-items:center;justify-content:space-between;font-size:",ot.b.font.size.copy,";"),Xr=n(20),Qr=n.n(Xr),Jr=n(57),Zr=n.n(Jr),$r=n(46),ta=n(44),ea=n(277),na=n(16),ra=n(55),aa=function(){var t=a()(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ra.a)({method:"PATCH",url:Object(na.Z)(e),data:n});case 2:return r=t.sent,a=r.data.space,t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),oa=function(t){t({type:Zn.d,status:"started"})},ia=function(t,e,n){n({type:Zn.d,status:"success",classroomId:t,url:e})},ca=function(t,e){e(Object(_t.b)(t,"classroomChangeAvatar")),e({type:Zn.d,status:"error",error:t})},ua=function(t){return function(){var e=a()(i.a.mark((function e(n,r){var a,o,c,u,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return oa(n),e.prev=1,a=r(),o=Object(Kn.user)(a),c=o.user.sessionToken,e.next=6,Object(ea.a)({sessionToken:c,file:t});case 6:return u=e.sent,s=Object(z.currentClassRoomId)(a),e.next=10,aa(s,{avatar:u});case 10:ia(s,u,n),Object($r.c)(ta.e,{activeClassroom:s}),e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(1),ca(e.t0,n),e.t0;case 18:case"end":return e.stop()}}),e,null,[[1,14]])})));return function(t,n){return e.apply(this,arguments)}}()},sa=n(137),la=n(413),fa=n.n(la),da=n(158),pa=n.n(da),ha=n(171),va=n(280),ba=n.n(va),ga=n(198),ma=n(414),ya=n(255),Oa=n.n(ya),Ea=n(927),ja=n.n(Ea),xa=n(1590),Ia=n(1568),Sa=256,wa=80,Ca=166,ka=Object(W.b)("div",{target:"e1vd65he0"})("font-family:",ot.b.font.family.workSans,";font-weight:",ot.b.font.weight.regular,";&:hover{cursor:pointer;background-color:",ot.b.color.blackAlpha(.08),";}font-size:34px;display:flex;flex-direction:row;align-items:center;border-radius:",ot.b.spacing.xxSmall,";padding-top:",ot.b.spacing.xxSmall,";padding-bottom:",ot.b.spacing.xxSmall,";"),Ra=Object(W.b)("div",{target:"e1vd65he1"})("display:flex;flex-direction:row;align-items:center;"),Ta=Object(W.b)("div",{target:"e1vd65he2"})("max-width:calc(85vw - ",Sa,"px);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),Aa=Object(W.b)(mn.a,{target:"e1vd65he3"})("min-width:32px;margin-right:10px;"),Na=Object(W.b)(Oa.a,{target:"e1vd65he4"})("margin-left:",ot.b.spacing.xxSmall,";color:",ot.b.color.blackAlpha(.6),";"),Pa=Object(W.b)(ja.a,{target:"e1vd65he5"})("margin-left:",ot.b.spacing.xxSmall,";font-size:",ot.b.font.lineHeight.copy,";"),_a=Object(W.b)("div",{target:"e1vd65he7"})("font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.bold,";line-height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.blackAlpha(.6),";padding-top:",ot.b.spacing.small,";padding-bottom:",ot.b.spacing.small,";padding-left:28px;"),Da=Object(W.b)(xa.a,{target:"e1vd65he8"})("overflow:scroll;flex:1;"),Ma=Object(W.b)(Ia.a,{target:"e1vd65he9"})("margin-right:12px;margin-left:12px;"),Fa=Object(W.b)("div",{target:"e1vd65he10"})("padding-left:",ot.b.spacing.xxLarge,";padding-right:",ot.b.spacing.xxLarge,";padding-top:",ot.b.spacing.large,";padding-bottom:",ot.b.spacing.large,";font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.bold,";line-height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.designSystem.purple70,";display:flex;justify-content:space-between;:hover{background:",ot.b.color.purple2,";cursor:pointer;}"),La=Object(W.b)("div",{target:"er4jv5p0"})("padding-top:",ot.b.spacing.small,";padding-bottom:",ot.b.spacing.xxSmall,";padding-left:28px;"),Ua=Object(W.b)("span",{target:"er4jv5p1"})("font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.bold,";line-height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.blackAlpha(.6),";"),Ga=Object(W.b)("div",{target:"er4jv5p2"})("padding-top:",ot.b.spacing.small,";padding-bottom:",ot.b.spacing.small,";display:flex;background-color:",(function(t){return t.highlighted?ot.b.color.beige:"inherit"}),";"),za=Object(W.b)("div",{target:"er4jv5p3"})("min-height:32px;display:flex;align-items:center;padding:0;font-family:Work Sans;font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.headline,";font-weight:",ot.b.font.weight.semiBold,";line-height:",ot.b.font.lineHeight.large,";width:calc(100% - 80px);"),qa=Object(W.b)("div",{target:"er4jv5p4"})("margin-right:",ot.b.spacing.medium,";"),Ba=n(866),Ha=n(389),Wa=function(t){var e=t.space,n=t.onAvatarClick,r=t.isLoading,a=t.isAdmin,o=t.tooltipPosition,i=t.avatarProps,c=t.avatarUploaderId;return u.a.createElement(u.a.Fragment,null,u.a.createElement(La,{"data-testid":"current-space"},u.a.createElement(Ua,null,"Current space"),u.a.createElement(Ga,null,u.a.createElement(bn.a,{title:"Change image",position:o,enabled:a},u.a.createElement(qa,null,u.a.createElement(Ba.a,an()({inputId:c,onUpload:n,name:e.name,url:e.avatar,size:"xLarge",uploadEnable:a,isLoading:r},i)))),u.a.createElement(za,null,u.a.createElement("span",null,e.name)))),u.a.createElement(Ia.a,null))};Wa.propTypes={space:T.a.shape(Ha.a).isRequired,onAvatarClick:T.a.func,isLoading:T.a.bool,isAdmin:T.a.bool,tooltipPosition:T.a.string,avatarProps:T.a.shape({}),avatarUploaderId:T.a.string.isRequired},Wa.defaultProps={onAvatarClick:function(){},isLoading:!1,isAdmin:!1,tooltipPosition:"bottom",avatarProps:{}};var Va=Wa,Ka=n(37),Ya=n.n(Ka),Xa=n(384),Qa=n.n(Xa),Ja=n(248),Za=Object(W.b)((function(t){var e=Zr()({},t);return u.a.createElement(gn.a,an()({},e,{classes:{primary:"primary",secondary:"secondary"}}))}),{target:"en873n70"})("display:flex;align-items:center;&:hover{background-color:",ot.b.color.designSystem.background.grey.hover,";cursor:pointer;}&:focus{outline:Highlight auto;outline:-webkit-focus-ring-color auto;outline-offset:-1px;}"),$a=Object(W.b)("span",{target:"en873n71"})("height:10px;width:10px;background-color:",ot.b.color.error,";border-radius:50%;flex-shrink:0;font-family:",ot.b.font.family.workSans,";font-weight:",ot.b.font.weight.semiBold,";font-size:",ot.b.font.size.large,";line-height:",ot.b.font.lineHeight.copy,";"),to=Object(W.a)("display:flex;border:none;width:100%;background-color:",ot.b.color.offWhite,";padding-right:",ot.b.font.lineHeight.headline,";padding-left:",ot.b.font.lineHeight.headline,";"),eo=Object(W.b)(mn.a,{target:"en873n72"})("flex-shrink:0;"),no=Object(W.b)("div",{target:"en873n73"})("display:flex;flex-direction:column;max-height:40px;padding-left:6px;"),ro=Object(W.b)("span",{target:"en873n74"})("font-family:",ot.b.font.family.workSans,";font-weight:",ot.b.font.weight.semiBold,";font-size:",ot.b.font.size.large,";line-height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.blackAlpha(.87),";white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),ao=Object(W.b)("span",{target:"en873n75"})("font-family:",ot.b.font.family.workSans,";font-weight:",ot.b.font.weight.regular,";font-size:",ot.b.font.size.copy,";line-height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.blackAlpha(.6),";"),oo=["avatar","name","archived","hasActivity","onClick"],io={text:"listItemText"},co=function(t){var e=t.avatar,n=t.name,r=t.archived,a=t.hasActivity,o=t.onClick,i=On()(t,oo),c=n.length>=17?bn.a:u.a.Fragment;return u.a.createElement(c,{position:"right",title:n},u.a.createElement(Za,an()({size:"medium",textTruncate:!0,leftDecoration:u.a.createElement(eo,{size:"large",name:n,src:e}),rightDecoration:a?u.a.createElement($a,null):null,primaryText:u.a.createElement(no,null,u.a.createElement(ro,null,n),u.a.createElement(ao,null,r&&"Archived")),classes:io,className:Object(Ja.css)(to),onClick:o,onKeyDown:function(t){t.keyCode===Br.d&&o()},"data-testid":"space-selector-item"},i)))};co.propTypes={avatar:T.a.string,name:T.a.string.isRequired,archived:T.a.bool,hasActivity:T.a.bool.isRequired,onClick:T.a.func.isRequired},co.defaultProps={archived:!1,avatar:""};var uo=u.a.memo(co),so=n(1504),lo=Object(W.b)("div",{target:"ekbko390"})("height:40px;box-sizing:border-box;display:flex;flex-direction:row;align-items:center;font-size:",ot.b.font.size.copy,";color:",ot.b.color.designSystem.blackOpacity60,";svg.searchIcon{color:",ot.b.color.designSystem.blackOpacity60,";}border:1px solid ",ot.b.color.designSystem.blackOpacity38,";border-radius:",ot.b.borderRadius.medium,";padding-left:",ot.b.spacing.small,";"),fo=Object(W.b)(so.a,{target:"ekbko391"})("width:100%;margin-left:",ot.b.spacing.xxSmall,";color:",ot.b.color.designSystem.blackOpacity87,";font-size:",ot.b.font.size.copy,";font-family:",ot.b.font.family.workSans,";"),po=["title","onChange","filter"],ho=function(t){var e=t.title,n=t.onChange,r=t.filter,a=On()(t,po);return u.a.createElement(lo,a,u.a.createElement(cn.a,{fontSize:"small",className:"searchIcon"}),u.a.createElement(fo,{placeholder:e,inputProps:{"aria-label":e},disableUnderline:!0,value:r,onChange:function(t){return n(t.target.value)}}))};ho.propTypes={title:T.a.string.isRequired,onChange:T.a.func.isRequired,filter:T.a.string},ho.defaultProps={filter:""};var vo=ho,bo=n(335),go=n(1572),mo=n(95),yo=Object(W.b)("div",{target:"e1xbuo6w0"})("display:flex;flex-direction:column;padding-top:",ot.b.spacing.small,";padding-left:",ot.b.spacing.xLarge,";padding-bottom:",ot.b.spacing.large,";padding-right:",ot.b.spacing.xLarge,";"),Oo=Object(W.b)("div",{target:"e1xbuo6w1"})("padding:0;padding-bottom:",ot.b.spacing.large,";min-height:32px;display:flex;align-items:center;font-family:Work Sans;font-family:",ot.b.font.family.workSans,";font-size:20px;font-weight:",ot.b.font.weight.semiBold,";line-height:",ot.b.font.lineHeight.large,";width:calc(100% - 80px);"),Eo=Object(W.b)(go.a,{target:"e1xbuo6w2"})("color:",ot.b.color.designSystem.purple70,";padding:0;margin-top:0;width:fit-content;border-radius:4px;& > div{color:",ot.b.color.designSystem.purple70,";}:hover{background-color:",mo.a.color.opacity({color:"purple",alpha:"alpha8"}),";}cursor:pointer;margin-bottom:",ot.b.spacing.xLarge,";"),jo=Object(W.b)("span",{target:"e1xbuo6w3"})("font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.bold,";line-height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.designSystem.purple70,";"),xo=(ot.b.spacing.medium,Object(W.b)("span",{target:"e1xbuo6w5"})("font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.copy,";line-height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.designSystem.blackOpacity60,";padding-top:",ot.b.spacing.xxLarge,";max-width:60%;display:flex;align-self:center;")),Io=Object(W.b)("div",{target:"e1xbuo6w6"})("margin-top:5px;margin-bottom:5px;"),So=function(t){var e=t.onBackClick,n=t.onSpaceSelect,r=t.userId,o=t.sessionToken,s=Object(c.useState)(!1),l=b()(s,2),f=l[0],d=l[1],p=Object(c.useState)([]),h=b()(p,2),v=h[0],g=h[1],m=Object(c.useState)(),y=b()(m,2),O=y[0],E=y[1],j=Object(c.useState)("Use the search function to find and view any space in your institution"),x=b()(j,2),I=x[0],S=x[1],w=function(){var t=a()(i.a.mark((function t(e){var n,a,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,a=e.hideArchived,S("Searching"),t.next=4,Ya.a.get("".concat(Object(na.Y)(),"/v2/spaces/").concat(n),{params:{hideArchived:!0===a||void 0},headers:{"x-user-id":r,"x-session-token":o}}).catch((function(t){throw S("Failed to search spaces"),t}));case 4:(c=t.sent).data.spaces.length||S("Your search didnt match any space in your institution. Make sure the spelling is correct or try a different search."),g(c.data.spaces||[]);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=Object(c.useCallback)(pa()((function(t){var e=t.query,n=t.hideArchived;return w({query:e,hideArchived:n})}),500),[]);return Object(c.useEffect)((function(){O&&C({query:O,hideArchived:!f})}),[O]),Object(c.useEffect)((function(){O&&w({query:O,hideArchived:!f})}),[f]),u.a.createElement(u.a.Fragment,null,u.a.createElement(yo,null,u.a.createElement(Eo,{"data-testid":"space-settings-link",id:"space-settings",onClick:e},u.a.createElement(V.a,{disableRipple:!0,size:"xSmall",icon:Qa.a,type:"secondary",label:"",buttonAttributes:{tabIndex:-1}}),u.a.createElement(jo,null,"Back to your spaces")),u.a.createElement(Oo,null,"Spaces with staff access"),u.a.createElement(vo,{"data-testid":"space-search",title:"Search by name",onChange:function(t){E(t)},filter:O}),u.a.createElement(Io,null,u.a.createElement("span",null,"Show archived"),u.a.createElement(bo.a,{checked:f,onChange:function(){return d(!f)}}))),v.length?u.a.createElement(Da,{compact:!0},v.map((function(t){var e=t.name,r=t.id,a=t.avatar;return u.a.createElement(uo,{name:e,avatar:a,onClick:function(){Object($r.c)(ta.U,{newSpace:r}),n(r)}})}))):u.a.createElement(xo,null,I))};So.propTypes={onBackClick:T.a.func,onSpaceSelect:T.a.func,userId:T.a.string.isRequired,sessionToken:T.a.string.isRequired},So.defaultProps={onBackClick:function(){},onSpaceSelect:function(){}};var wo=u.a.memo(So),Co=Object(_.b)((function(t){return{userId:Object(Kn.currentUserId)(t),sessionToken:Object(Kn.sessionToken)(t)}}))(wo),ko=n(1575),Ro=n(532),To=n(928),Ao=n.n(To),No=Object(W.b)("div",{target:"e6z032r0"})("display:flex;flex-direction:column;"),Po=Object(W.b)("div",{target:"e6z032r1"})("padding-left:28px;padding-right:28px;"),_o=Object(W.b)("div",{target:"e6z032r2"})("display:flex;align-items:center;font-family:",ot.b.font.family.workSans,";font-weight:",ot.b.font.weight.regular,";font-size:",ot.b.font.size.copy,";line-height:",ot.b.font.lineHeight.copy,";"),Do=Object(W.b)("div",{target:"e6z032r3"})("display:flex;align-items:center;justify-content:space-between;margin-bottom:",(function(t){return t.hasArchivedSpaces?"-".concat(ot.b.spacing.xxSmall):0}),";padding-bottom:",(function(t){return t.hasArchivedSpaces?0:ot.b.spacing.small}),";padding-top:",(function(t){return t.hasArchivedSpaces?0:ot.b.spacing.small}),";"),Mo={fontFamily:"Work Sans",fontStyle:"normal",fontWeight:600,fontSize:"14px",lineHeight:"16px"},Fo=Object(W.b)("div",{target:"e6z032r4"})("display:flex;align-items:center;justify-content:space-between;"),Lo=Object(W.b)("span",{target:"e6z032r5"})("padding-right:",ot.b.spacing.xxSmall,";"),Uo=Math.random().toString(36).substr(2,9),Go=function(t){var e=t.filter,n=t.onFilterChange,r=t.sortOptions,a=t.currentSortOption,o=t.onArchivedToggleChange,i=t.hasArchivedSpaces;return u.a.createElement(No,null,u.a.createElement(Po,null,u.a.createElement(vo,{"data-testid":"space-filter",filter:e,onChange:n,title:"Search by name"}),u.a.createElement(Do,{hasArchivedSpaces:i},i&&u.a.createElement(_o,{"data-testid":"space-show-archived"},u.a.createElement("span",null,"Show archived"),u.a.createElement(bo.a,{onChange:o})),u.a.createElement("div",{id:"space-sort-options-".concat(Uo),"data-testid":"space-sort"},!e&&u.a.createElement(vn.a,{"data-testid":"space-sort-options",renderTarget:function(t){var e=t.handleTargetClick;return u.a.createElement(Ro.a,{label:u.a.createElement(Fo,null,u.a.createElement(Lo,null,a),u.a.createElement("img",{src:Ao.a,alt:"Sort spaces",width:20,height:20})),onClick:e,buttonStyles:Mo})},menuListComponent:"ul",menuListAttributes:{role:"listbox","aria-label":"Select a tool"},ariaLabelledby:"space-sort-options-".concat(Uo),onSelect:function(t){return(0,t.item)()},renderChildren:function(t){var e=t.getItemProps;return pt()(r).map((function(t){return u.a.createElement(ko.a,an()({key:t,size:"medium",primaryText:r[t].description},e({item:r[t].setSortOption,onClick:function(t){return t.stopPropagation()}})))}))},anchorOrigin:{horizontal:"right",vertical:"bottom"},transformOrigin:{horizontal:"right",vertical:"top"}})))))};Go.propTypes={filter:T.a.string.isRequired,sortOptions:T.a.shape([]),currentSortOption:T.a.string.isRequired,onFilterChange:T.a.func.isRequired,onArchivedToggleChange:T.a.func.isRequired,hasArchivedSpaces:T.a.bool.isRequired},Go.defaultProps={sortOptions:[]};var zo=Go,qo=Object(zr.a)((function(t,e){var n=e.spaceId;return sa.spaceById(sa.spacesData(t),n)}),(function(t){return{name:t.name,avatar:t.avatar,hasActivity:t.unread}})),Bo=Object(_.b)(qo)(uo);function Ho(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ho(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Ho(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var Vo="ascending",Ko=function(t){var e=t.currentSpace,n=t.isLoading,r=t.userRoles,a=t.spaces,o=t.onSpaceImageChange,i=t.onSpaceSelect,s=t.isAdmin,l=t.tooltipPosition,f=Object(c.useState)(!1),d=b()(f,2),p=d[0],h=d[1],v=Object(c.useState)(!1),g=b()(v,2),m=g[0],y=g[1],O=function(){return y(!m)},E=Object(c.useState)(null),j=b()(E,2),x=j[0],I=j[1],S=Object(c.useState)(""),w=b()(S,2),C=w[0],k=w[1],R=Object(c.useState)(""),T=b()(R,2),A=T[0],N=T[1],P=Object(c.useState)(Vo),_=b()(P,2),D=_[0],M=_[1],F=Object(c.useState)([]),L=b()(F,2),U=L[0],G=L[1],z=Object(c.useState)(!1),q=b()(z,2),B=q[0],H=q[1],W=Object(c.useState)(!1),V=b()(W,2),K=V[0],Y=V[1];Object(c.useEffect)((function(){G(Qr()(a))}),[a]),Object(c.useEffect)((function(){I(new ba.a(a,{threshold:.3,location:0,distance:1e3,keys:["name"],shouldSort:!0}))}),[a]);var X={ascending:{comparator:function(t,e){return t.name.localeCompare(e.name)},description:"Name: A to Z",setSortOption:function(){return M("ascending")}},descending:{comparator:function(t,e){return e.name.localeCompare(t.name)},description:"Name: Z to A",setSortOption:function(){return M("descending")}}},Q=Object(c.useCallback)((function(t){t?(G(fa()([].concat(Qr()(a.reduce((function(e,n){return Object(ma.a)({parent:n.name,child:t})?[].concat(Qr()(e),[n]):e}),[])),Qr()(x.search(t))),(function(t){return t.id}))),N(t)):(G(a),N(""))}),[a]),J=Object(c.useCallback)(pa()(Q,200),[Q]);Object(c.useEffect)((function(){C?J(C):Q(C)}),[C]);var Z=function(t){k(t)},$=function(){h(!p)},tt=function(){y(!1),k(""),G(a),h(!1),M(Vo),H(!1)},et=Object(c.useMemo)((function(){if(a.length<=7)return[].concat(Qr()(a.filter((function(t){return!t.archived}))),Qr()(a.filter((function(t){return t.archived}))));var t=Qr()(U);return p||(t=t.filter((function(t){return!t.archived}))),C?t:t.sort(X[D].comparator)}),[a,p,A,D]),nt=Object(c.useCallback)((function(t){m&&(tt(),i(t))}),[m]),rt=Object(c.useMemo)((function(){return u.a.createElement(Da,{compact:!0},et.map((function(t){var e=t.id,n=t.archived;return u.a.createElement(Bo,{key:e,spaceId:e,onClick:function(){return nt(e)},archived:n})})))}),[et,nt]);return u.a.createElement(ka,{id:"space-selector","data-testid":"space-selector-title"},u.a.createElement(Ra,{role:"button",tabIndex:"0","aria-expanded":m,onClick:O,onKeyDown:function(t){t.keyCode!==Br.d&&t.keyCode!==Br.c||O()}},n?u.a.createElement(ga.a,{size:"32px"}):u.a.createElement(Aa,{name:e.name,src:e.avatar,size:"medium"}),u.a.createElement(Ta,{title:e.name},e.name),u.a.createElement(Na,null)),u.a.createElement(Qn.a,{title:"Spaces",open:m,onClose:function(){return tt()},width:"488px",testAttribute:"select-space",contentStyle:{padding:0,display:"flex",flexDirection:"column",heigh:"calc(100% - 67px)"},onContentScroll:function(t){var e=t.target.scrollTop;H(0!==e)}},K?u.a.createElement(Co,{onBackClick:function(){Y(!1)},onSpaceSelect:function(t){return nt(t)}}):u.a.createElement(u.a.Fragment,null,u.a.createElement(Va,{space:e,isLoading:n,onAvatarClick:o,isAdmin:s,tooltipPosition:l,avatarUploaderId:"space-avatar-uploader"}),u.a.createElement(_a,null,"Switch to another space"),a.length>7&&u.a.createElement(u.a.Fragment,null,u.a.createElement(zo,{filter:C,onArchivedToggleChange:$,currentSortOption:X[D].description,sortOptions:X,onFilterChange:Z,hasArchivedSpaces:a.some((function(t){return t.archived}))}),B&&u.a.createElement(Ma,null)),rt,u.a.createElement(Ma,null),r.includes("staff")&&u.a.createElement(Fa,{onClick:function(){Y(!0)}},"Spaces with staff access",u.a.createElement(Pa,null)))),u.a.createElement("div",{id:"current-space-name",tabIndex:-1,style:Wo({},Object(ha.a)()),"aria-live":"polite"},e.name))};Ko.propTypes={currentSpace:T.a.shape(Ha.a).isRequired,userRoles:T.a.arrayOf(T.a.string),spaces:T.a.arrayOf(T.a.shape({})),onSpaceImageChange:T.a.func,onSpaceSelect:T.a.func,isLoading:T.a.bool,isAdmin:T.a.bool,tooltipPosition:T.a.string},Ko.defaultProps={spaces:[],userRoles:[],onSpaceImageChange:function(){},onSpaceSelect:function(){},isLoading:!1,isAdmin:!1,tooltipPosition:"bottom"};var Yo=u.a.memo(Ko),Xo=["currentSpaceId"];function Qo(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qo(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Qo(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var Zo=Object(zr.c)({space:sa.space,spacesData:sa.spacesData,isAdmin:z.isInstructor,isLoading:z.isChangingAvatar,userRoles:Kn.getUserRoles}),$o=Object(zr.a)(Zo,(function(t){var e=t.space,n=t.spacesData,r=t.isAdmin,a=t.isLoading,o=t.userRoles;return{currentSpaceId:e.current,currentSpace:sa.spaceById(n,e.current)||{},isAdmin:r,userRoles:o,spaces:sa.alphabeticallySorted(n).reduce((function(t,n){return(r=e.current,function(t){var e=t.objectId,n=t.isStaff;return e===r||n})(n)?t:[].concat(Qr()(t),[{id:n.objectId,name:n.name,archived:n.archived}]);var r}),[]),isLoading:a}})),ti=Object(_.b)($o,(function(t){return{onSpaceSelect:function(e){return t(Object(Xn.a)(e))},onSpaceImageChange:function(e){return t(ua(e))}}}),(function(t,e,n){t.currentSpaceId;var r=On()(t,Xo),a=Zr()({},e);return Jo(Jo(Jo({},r),a),n)}))(Yo),ei=n(283),ni=n(208),ri=n(847),ai=Object(W.b)("div",{target:"e1q177ta0"})("display:flex;flex-direction:row;align-items:center;gap:5px;flex-grow:1;white-space:nowrap;"),oi=Object(W.b)("span",{target:"e1q177ta1"})("font-weight:",ot.b.font.weight.medium,";"),ii=Object(W.b)(K.a.SlideshowIcon,{target:"e1q177ta2"})("font-size:18px;"),ci=Object(W.b)("a",{target:"e1q177ta3"})("color:",ot.b.color.designSystem.purple70,";font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.medium,";line-height:16px;text-decoration:none;cursor:pointer;margin-left:28px;white-space:nowrap;&:hover{text-decoration:underline;}"),ui=n(528),si=function(t){var e=t.spaceId,n=t.isEducator,r=t.goToClassPresentation,a=Object(ui.a)(e),o=a.presentation,i=a.currentSession,c=!a.isLoading&&void 0!==i,s=o||{},l=s.id,f=s.title,d=Object(ri.a)(e,l).mutate;if(c){var p=function(){var t;n||(t=Object(ni.a)(),Object($r.e)({spaceId:e,presentationId:o.id,presentationSessionId:i.id,correlationId:t,joinedPresentationFrom:"banner"})),r(e,l,t)};return u.a.createElement(Yr,null,u.a.createElement(ai,{role:"banner"},u.a.createElement(ii,null)," ",n?u.a.createElement(u.a.Fragment,null,"Class ",u.a.createElement(oi,null,f)," is live"):u.a.createElement(u.a.Fragment,null,"A live class is happening ",u.a.createElement(oi,null,f))),n?u.a.createElement(u.a.Fragment,null,u.a.createElement(ci,{onClick:d},"End presentation"),u.a.createElement(ci,{onClick:p},"Resume presentation")):u.a.createElement(ci,{onClick:p},"Join live class"))}return null};si.propTypes={spaceId:T.a.string,isEducator:T.a.bool,goToClassPresentation:T.a.func.isRequired},si.defaultProps={spaceId:null,isEducator:!0};var li=si,fi=Object(_.b)((function(t){return{spaceId:Object(z.currentClassRoomId)(t),isEducator:Object(z.isInstructor)(t)}}),(function(t){return{goToClassPresentation:function(e,n,r){t(Object(Xn.d)(e,n,r))}}}))(li),di=function(t){var e=t.currentTabId,n=t.shouldDisplaySpaceLoaders,r=t.shouldDisplayTabsPanel,a=t.tabs,o=t.onTabChange,i=t.accessingAsStaff,s=Object(c.useState)(!0),l=b()(s,2),f=l[0],d=l[1],p=n?u.a.createElement(Hr.b,null):u.a.createElement(ti,null),h=a.findIndex((function(t){return t.id===e}));return u.a.createElement(Wr,{shouldShowBottomShadow:r},u.a.createElement(fi,null),i&&f&&u.a.createElement(Yr,null,"Some actions are not available because you are viewing this space via staff access.",u.a.createElement(K.a.Close,{tabIndex:"0",role:"button",onClick:function(){return d(!1)},onKeyDown:function(t){return t.keyCode===Br.d&&d(!1)},style:{fontSize:"20px",color:"black",cursor:"pointer"}})),u.a.createElement(Vr,{showWarning:i&&f},p),r&&u.a.createElement(Kr,null,u.a.createElement(ei.b,{id:"space-settings-tabs",value:h,onChange:o},a.map((function(t){return u.a.createElement(ei.a,{key:t.id,label:t.label,icon:t.icon,"aria-label":t.documentTitlePrefix,"data-testid":t.id})})))))};di.propTypes={shouldDisplaySpaceLoaders:T.a.bool,shouldDisplayTabsPanel:T.a.bool,tabs:T.a.arrayOf(T.a.shape({id:T.a.string.isRequired,documentTitlePrefix:T.a.string.isRequired,label:T.a.node})).isRequired,currentTabId:T.a.string.isRequired,onTabChange:T.a.func.isRequired,accessingAsStaff:T.a.bool.isRequired},di.defaultProps={shouldDisplaySpaceLoaders:!1,shouldDisplayTabsPanel:!0};var pi=u.a.memo(di),hi=n(27),vi=n(508),bi=Object(hi.a)((function(){return{customWidth:{maxWidth:158},popper:{zIndex:1200}}}))((function(t){var e=t.classes;return u.a.createElement(bn.a,{title:"Participants and Groups",classes:{tooltip:e.customWidth,popper:e.popper}},u.a.createElement(K.a.Group,null))})),gi=[{id:"community",label:u.a.createElement(vi.a,{text:"Community",icon:null}),documentTitlePrefix:"Community",visible:function(){return!0}},{id:"journey",label:u.a.createElement(vi.a,{text:"Journey",icon:null}),documentTitlePrefix:"Journey",visible:function(){return!0}},{id:"people",label:null,icon:u.a.createElement(bi,null),documentTitlePrefix:"People",visible:function(){return!0}}],mi=["tabs","spaceId","firstMaterialId"],yi=["onTabChange"];function Oi(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ei(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oi(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Oi(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var ji=Object(zr.a)(z.classRooms,z.currentClassRoomId,(function(t,e){return!(e&&t[e])})),xi={community:Xn.g,journey:Xn.j,people:Xn.s},Ii=Object(_.b)((function(t){return{spaceId:z.currentClassRoomId(t),shouldDisplaySpaceLoaders:ji(t),tabs:gi,currentTabId:Object(Vn.f)(t),shouldDisplayTabsPanel:!Object(Vn.b)(t),firstMaterialId:qr.c.getFirstMaterialId(t),accessingAsStaff:z.accessingCurrentSpaceAsStaff(t)}}),(function(t){return{onTabChange:function(e,n,r,a){if(r){var o=e[n].id;t((0,xi[o])(r,a))}}}}),(function(t,e,n){var r=t.tabs,a=t.spaceId,o=t.firstMaterialId,i=On()(t,mi),c=e.onTabChange,u=On()(e,yi);return Ei(Ei(Ei(Ei({},i),u),n),{},{tabs:r,onTabChange:function(t,e){return c(r,e,a,o)}})}))(pi),Si=n(1591),wi={container:{position:"fixed",width:"100%",height:"100%",left:0,top:0,zIndex:-1,opacity:0,transition:"all 0.5s"},open:{opacity:1,zIndex:999999999},loaderContainer:{backgroundColor:"#FFFFFF",borderRadius:"50%",padding:"15px",position:"absolute",width:50,height:50,top:"calc(50% - 37px)",left:"calc(50% - 37px)"}};function Ci(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}function ki(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ri(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ki(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):ki(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var Ti=function(t){j()(n,t);var e=Ci(n);function n(t){return O()(this,n),e.call(this,t)}return m()(n,[{key:"shouldComponentUpdate",value:function(t){return!(this.props.open===t.open&&!this.props.shouldUpdate)}},{key:"render",value:function(){return u.a.createElement("div",{style:Ri(Ri({},(t=this.props,e=wi.container,t.open?Ri(Ri({},e),wi.open):e)),{backgroundColor:this.props.backgroundColor||ot.b.color.overlay})},u.a.createElement("div",{style:wi.loaderContainer},this.props.open?u.a.createElement(Si.a,{size:50,status:"loading",color:ot.b.color.designSystem.purple60}):null));var t,e}}]),n}(u.a.Component);Ti.propTypes={open:T.a.bool.isRequired,logo:T.a.bool,backgroundColor:T.a.string,loaderColor:T.a.string,logoColor:T.a.string,shouldUpdate:T.a.bool},Ti.defaultProps={shouldUpdate:!0};var Ai=Ti,Ni=Object(_.b)((function(t){var e=t.ui.loader.isLoading,n={open:e,backgroundColor:e?ot.b.color.purple:ot.b.color.overlay,logo:t.ui.loader.showLogo,shouldUpdate:t.classRoom.isFetchingFilteredPosts};return t.ui.loader.showError&&(n.loaderColor=ot.b.color.text),n}))(Ai),Pi=n(1593),_i=n(517),Di=n(1497),Mi=Object(W.b)("div",{target:"ex6wu8s0"})("opacity:",(function(t){return t.visible?1:0}),";width:70vw;max-width:920px;height:58vh;background:",ot.b.color.white,";display:flex;justify-content:flex-start;align-items:flex-start;border-radius:4px;overflow:hidden;@media screen and (max-width:50em){width:80vw;}@media screen and (max-height:50em){height:80vh;}"),Fi=Object(W.b)("div",{target:"ex6wu8s1"})("width:30%;height:100%;border-right:1px solid ",ot.b.color.gray,";"),Li=Object(W.b)("div",{target:"ex6wu8s2"})("width:70%;height:100%;"),Ui=Object(W.a)("background-color:transparent;"),Gi=Object(W.b)("div",{target:"e1bexj3v0"})("width:100%;height:100%;background:",ot.b.color.white,";display:flex;flex-direction:column;justify-content:space-between;&.leftPanel{overflow-x:hidden;.leftPanel__navigation{height:50%;overflow:auto;}.leftPanel__main,.leftPanel__footer{flex-shrink:0;}}"),zi=Object(W.b)("div",{target:"e1bexj3v1"})(),qi=Object(W.b)("div",{target:"e1bexj3v2"})("margin-left:12px;margin-top:12px;margin-right:16px;display:flex;width:fit-content;"),Bi=n(312),Hi=n.n(Bi),Wi=n(415),Vi=n.n(Wi),Ki=["accept","activeClassName","inputProps","multiple","name","rejectClassName"],Yi=["activeStyle","className","rejectStyle","style"];function Xi(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qi(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xi(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Xi(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}function Ji(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var Zi="undefined"==typeof document||!document||!document.createElement||"multiple"in document.createElement("input"),$i=function(t){j()(n,t);var e=Ji(n);function n(t,r){var a;return O()(this,n),(a=e.call(this,t,r)).onClick=a.onClick.bind(tt()(a)),a.onDragStart=a.onDragStart.bind(tt()(a)),a.onDragEnter=a.onDragEnter.bind(tt()(a)),a.onDragLeave=a.onDragLeave.bind(tt()(a)),a.onDragOver=a.onDragOver.bind(tt()(a)),a.onDrop=a.onDrop.bind(tt()(a)),a.state={isDragActive:!1},a}return m()(n,[{key:"componentWillMount",value:function(){this.props.global&&("undefined"==typeof document||Hi()(document))&&(document.addEventListener("dragenter",this.onDragEnter),document.addEventListener("dragover",this.onDragOver),document.addEventListener("dragleave",this.onDragLeave),document.addEventListener("drop",this.onDrop))}},{key:"componentDidMount",value:function(){this.enterCounter=0}},{key:"componentWillUnmount",value:function(){this.props.global&&("undefined"==typeof document||Hi()(document))&&(document.removeEventListener("dragenter",this.onDragEnter),document.removeEventListener("dragover",this.onDragOver),document.removeEventListener("dragleave",this.onDragLeave),document.removeEventListener("drop",this.onDrop))}},{key:"onDragStart",value:function(t){this.props.onDragStart&&this.props.onDragStart.call(this,t)}},{key:"onDragEnter",value:function(t){t.preventDefault(),++this.enterCounter;var e=t.dataTransfer&&t.dataTransfer.items?t.dataTransfer.items:[],n=this.allFilesAccepted(Array.prototype.slice.call(e));this.setState({isDragActive:n,isDragReject:!n}),this.props.onDragEnter&&this.props.onDragEnter.call(this,t)}},{key:"onDragOver",value:function(t){return t.preventDefault(),t.stopPropagation(),!1}},{key:"onDragLeave",value:function(t){t.preventDefault(),--this.enterCounter>0||(this.setState({isDragActive:!1,isDragReject:!1}),this.props.onDragLeave&&this.props.onDragLeave.call(this,t))}},{key:"onDrop",value:function(t){t.preventDefault(),this.enterCounter=0,this.setState({isDragActive:!1,isDragReject:!1});for(var e=t.dataTransfer?t.dataTransfer.files:t.target.files,n=this.props.multiple?e.length:Math.min(e.length,1),r=[],a=0;a<n;a++){var o=e[a];o.progress=0,o.id="_".concat(a),this.props.disablePreview||(o.preview=window.URL.createObjectURL(o)),r.push(o)}this.props.onDrop&&this.props.onDrop.call(this,r,t),this.allFilesAccepted(r)?this.props.onDropAccepted&&this.props.onDropAccepted.call(this,r,t):this.props.onDropRejected&&this.props.onDropRejected.call(this,r,t)}},{key:"onClick",value:function(){this.props.disableClick||this.open()}},{key:"allFilesAccepted",value:function(t){var e=this;return t.every((function(t){return Vi()(t,e.props.accept)}))}},{key:"open",value:function(){this.fileInputEl.value=null,this.fileInputEl.click()}},{key:"render",value:function(){var t,e=this,n=this.props,r=n.accept,a=n.activeClassName,o=n.inputProps,i=n.multiple,c=n.name,s=n.rejectClassName,l=On()(n,Ki),f=l.activeStyle,d=l.className,p=l.rejectStyle,h=l.style,v=On()(l,Yi),b=this.state,g=b.isDragActive,m=b.isDragReject;d=d||"",g&&a&&(d+=" ".concat(a)),m&&s&&(d+=" ".concat(s)),d||h||f||p||(h={width:0,height:0},f={},p={}),t=f&&g?Qi(Qi({},h),f):p&&m?Qi(Qi({},h),p):Qi({},h);var y={accept:r,type:"file",style:{display:"none"},multiple:Zi&&i,ref:function(t){return e.fileInputEl=t},onChange:this.onDrop};return c&&c.length&&(y.name=c),delete v.disableClick,delete v.disablePreview,delete v.global,u.a.createElement("div",an()({className:d,style:t},v,{onClick:this.onClick,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop}),this.props.children,u.a.createElement("input",an()({},o,y)))}}]),n}(u.a.Component);$i.defaultProps={disablePreview:!1,disableClick:!1,multiple:!0,global:!0},$i.propTypes={onDrop:T.a.func,onDropAccepted:T.a.func,onDropRejected:T.a.func,onDragStart:T.a.func,onDragEnter:T.a.func,onDragLeave:T.a.func,children:T.a.node,style:T.a.object,activeStyle:T.a.object,rejectStyle:T.a.object,className:T.a.string,activeClassName:T.a.string,rejectClassName:T.a.string,disablePreview:T.a.bool,disableClick:T.a.bool,inputProps:T.a.object,multiple:T.a.bool,accept:T.a.string,name:T.a.string,global:T.a.bool};var tc=$i,ec=Object(W.b)("div",{target:"eq2d75d0"})("width:100%;padding:12px;"),nc=Object(W.b)("div",{target:"eq2d75d1"})("margin-top:12px;font-size:14px;font-weight:",ot.b.font.weight.bold,";"),rc=Object(W.b)("div",{target:"eq2d75d2"})("font-size:14px;color:",ot.b.color.grey11,";width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;"),ac=Object(W.b)("div",{target:"eq2d75d3"})("margin-top:24px;width:calc(100% - 24px);display:flex;flex-direction:column;justify-content:center;align-items:center;line-height:20px;word-break:break-all;text-align:center;"),oc=Object(W.a)("cursor:pointer;");function ic(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var cc=function(t){j()(n,t);var e=ic(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).handleChangeAvatar=r.handleChangeAvatar.bind(tt()(r)),r.handleDrop=r.handleDrop.bind(tt()(r)),r.dropZone=u.a.createRef(),r}return m()(n,[{key:"handleChangeAvatar",value:function(){this.dropZone.current.open()}},{key:"handleDrop",value:function(t){return!(window.location.href.indexOf("?inbox=")>-1)&&(0,this.props.changeAvatar)(t[0])}},{key:"render",value:function(){var t=this,e=this.props.user,n=e.firstName,r=e.lastName,a=e.email,o=e.avatar;return u.a.createElement(ec,null,u.a.createElement(tc,{ref:this.dropZone,multiple:!1,accept:"image/*",onDropAccepted:this.handleDrop}),u.a.createElement(ac,null,u.a.createElement(mn.a,{attributes:{container:{tabIndex:"0",role:"button","aria-label":"Upload Image"}},size:"xLarge",className:oc,name:n,src:o,events:{onClick:this.handleChangeAvatar,onKeyPress:function(e){"Enter"===e.key&&t.handleChangeAvatar()}}}),u.a.createElement(nc,null,"".concat(n," ").concat(r)),u.a.createElement(rc,null,a)))}}]),n}(c.PureComponent);cc.propTypes={changeAvatar:T.a.func.isRequired,user:T.a.shape({firstName:T.a.string.isRequired,lastName:T.a.string.isRequired,avatar:T.a.string,email:T.a.string.isRequired}).isRequired};var uc=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.patch,t.next=3,Object(ra.a)({method:"PATCH",url:"".concat(Object(na.fb)(n)),data:r});case 3:return a=t.sent,o=a.data.user,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),sc=function(t){t({type:Zn.Bb,status:"started"})},lc=function(t,e){e({type:Zn.Bb,status:"success",url:t})},fc=function(t,e){e(Object(_t.b)(t,"userChangeAvatar")),e({type:Zn.Bb,status:"error",error:t})},dc=function(t){return function(e){return function(){var n=a()(i.a.mark((function n(r,a){var o,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return sc(r),n.prev=1,o=a(),n.next=5,t({sessionToken:Kn.sessionToken(o),file:e});case 5:return c=n.sent,n.next=8,uc({userId:Kn.currentUserId(o),patch:{avatar:c}});case 8:lc(c,r),Object($r.c)(ta.Z),n.next=16;break;case 12:throw n.prev=12,n.t0=n.catch(1),fc(n.t0,r),n.t0;case 16:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(t,e){return n.apply(this,arguments)}}()}},pc=Object(_.b)((function(t){return{user:t.user.user,isChangingAvatar:t.user.changingAvatar}}),(function(t){return{changeAvatar:function(e){return t(dc(ea.a)(e))}}}))(cc),hc=n(865),vc=n(1579),bc=n(1580),gc=n(1578),mc=n(1587),yc=n(1581),Oc=n(1577),Ec=Object(W.b)("div",{target:"e1prbyp0"})(),jc=Object(W.b)(Oc.a,{target:"e1prbyp1"})("font-size:14px;font-weight:",ot.b.font.weight.medium,";color:",ot.b.color.grey11,";padding-left:12px;border:none;"),xc=Object(W.b)(Oc.a,{target:"e1prbyp2"})("font-size:14px;font-weight:",ot.b.font.weight.medium,";color:",ot.b.color.grey11,";border:none;width:72px;text-align:center;padding:0;"),Ic=Object(W.b)(Oc.a,{target:"e1prbyp3"})("font-size:14px;font-weight:",ot.b.font.weight.medium,";border:none;color:",ot.b.color.black,";padding-left:12px;"),Sc=Object(W.b)("caption",{target:"e1prbyp4"})("border:0;clip:rect(0,0,0,0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;"),wc=[{label:"Comments",value:"comments"},{label:"Posts",value:"posts"},{label:"Messages",value:"messages"}];function Cc(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var kc=function(t){j()(n,t);var e=Cc(n);function n(){return O()(this,n),e.apply(this,arguments)}return m()(n,[{key:"renderRow",value:function(t){var e=this.props,n=e.hasFetchedSettings,r=e.isFetchingSettings,a=e.isSavingSettings,o=e.settings,i=e.toggleSetting,c=!n||r||a;return u.a.createElement(gc.a,{key:t.label,hover:!0},u.a.createElement(Ic,{component:"th",scope:"row"},t.label),u.a.createElement(xc,{padding:"checkbox"},u.a.createElement(mc.a,{style:{color:ot.b.color.designSystem.purple70},inputProps:{"aria-label":"".concat(t.label," push")},checked:!!o.push[t.value],disabled:c,onChange:function(e,n){i("push",t.value,n)}})),u.a.createElement(xc,{padding:"checkbox"},u.a.createElement(mc.a,{style:{color:ot.b.color.designSystem.purple70},inputProps:{"aria-label":"".concat(t.label," email")},checked:!!o.email[t.value],disabled:c,onChange:function(e,n){i("email",t.value,n)}})))}},{key:"render",value:function(){var t=this;return u.a.createElement(Ec,null,u.a.createElement(vc.a,null,u.a.createElement(Sc,null,"Notification settings"),u.a.createElement(bc.a,null,u.a.createElement(gc.a,null,u.a.createElement(jc,null,"Notification type"),u.a.createElement(xc,{padding:"checkbox"},"Push"),u.a.createElement(xc,{padding:"checkbox"},"Email"))),u.a.createElement(yc.a,null,wc.map((function(e){return t.renderRow(e)})))))}}]),n}(c.PureComponent),Rc=T.a.shape({push:T.a.shape({}),email:T.a.shape({})});function Tc(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ac(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tc(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Tc(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}kc.propTypes={hasFetchedSettings:T.a.bool.isRequired,isFetchingSettings:T.a.bool.isRequired,isSavingSettings:T.a.bool.isRequired,settings:Rc.isRequired,toggleSetting:T.a.func.isRequired};var Nc=Object(_.b)((function(t){return{hasFetchedSettings:Fr.c.hasFetchedSettings(t),isFetchingSettings:Fr.c.isFetchingSettings(t),isSavingSettings:Fr.c.isSavingSettings(t),settings:Fr.c.notificationSettings(t)}}),(function(t){return{dispatch:t,toggleSetting:function(e){return function(n,r,a){var o=St()({},n,Ac(Ac({},e[n]),{},St()({},r,a)));t(Fr.b.saveNotificationSettings(o))}}}}),(function(t,e,n){var r=e.toggleSetting,a=t.settings;return Ac(Ac(Ac(Ac({},t),e),n),{},{toggleSetting:r(a)})}))(kc),Pc=Object(W.b)("div",{target:"e1qt1vy50"})("background:",ot.b.color.white,";padding:16px;"),_c=(ot.b.color.grayDark,ot.b.font.weight.medium,function(){return u.a.createElement(Pc,null,u.a.createElement(Nc,null))}),Dc=u.a.memo(_c),Mc=function(t){t({type:Zn.Cb,status:"started"})},Fc=function(t,e){e({type:Zn.Cb,status:"success",statusData:t})},Lc=function(t,e){e(Object(_t.b)(t,"userChangeStatus")),e({type:Zn.Cb,status:"error",error:t})},Uc=function(t){return function(){var e=a()(i.a.mark((function e(n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mc(n),e.prev=1,a=r(),e.next=5,uc({userId:Kn.currentUserId(a),patch:t.status.emojiName?t:{status:null}});case 5:Fc(t,n),Object($r.c)(ta.ab),e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(1),Lc(e.t0,n),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()},Gc=n(578),zc=Object(W.b)("div",{target:"e1quk1ml0"})("background:",ot.b.color.white,";padding:22px 79px;display:flex;flex-direction:column;gap:",ot.b.spacing.xxSmall,";"),qc=Object(W.b)("div",{target:"e1quk1ml1"})("height:",ot.b.font.lineHeight.copy,";color:",ot.b.color.designSystem.blackOpacity87,";font-size:",ot.b.font.size.large,";font-weight:",ot.b.font.weight.medium,";line-height:",ot.b.font.lineHeight.copy,";"),Bc=Object(W.b)("div",{target:"e1quk1ml2"})("color:",ot.b.color.designSystem.blackOpacity60,";font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.regular,";font-family:",ot.b.font.family.workSans,";line-height:",ot.b.font.lineHeight.copy,";"),Hc=Object(W.b)(Gc.a,{target:"e1quk1ml3"})("font-size:",ot.b.font.size.copy,";font-weight:",ot.b.font.weight.medium,";font-family:",ot.b.font.family.workSans,";line-height:",ot.b.font.lineHeight.small,";"),Wc=Object(W.b)("div",{target:"e1quk1ml4"})("display:flex;flex:1;flex-direction:row;justify-content:flex-end;gap:15px;"),Vc=n(1592),Kc=n(1582),Yc=n(267),Xc=n.n(Yc),Qc=Object(W.b)("div",{target:"ed6kfwp0"})("width:100%;display:flex;flex-direction:column;gap:",ot.b.spacing.xSmall,";align-items:flex-end;"),Jc=Object(W.a)("width:100%;font-family:",ot.b.font.family.workSans,";& [class*='adornedStart']{padding-left:",ot.b.spacing.xSmall,";}& [class*='adornedEnd']{padding-right:",ot.b.spacing.xSmall,";}"),Zc=Object(W.b)("div",{target:"ed6kfwp1"})("font-weight:",ot.b.font.weight.regular,";font-size:",ot.b.font.size.small,";line-height:",ot.b.font.lineHeight.small,";color:",ot.b.color.designSystem.blackOpacity60,";"),$c=n(573),tu=n(556),eu=n(268),nu=Object(W.b)("button",{target:"e1rthw80"})("cursor:pointer;background-color:transparent;border-radius:",ot.b.borderRadius.medium,";border:none;padding:2px 4px 4px 2px;&:hover{background-color:",ot.b.color.designSystem.background.grey.hover,";}"),ru=function(t){var e=t.emoji,n=t.onClick;return u.a.createElement(nu,{type:"button",onClick:n,onKeyDown:function(t){return(t.keyCode===ENTER||t.keyCode===SPACE)&&n()}},u.a.createElement(eu.a,{emoji:e}))};ru.propTypes={emoji:T.a.shape({unified:T.a.string,short_name:T.a.string,shortName:T.a.string,url:T.a.string,file:T.a.shape({url:T.a.string})}).isRequired,onClick:T.a.func.isRequired};var au=ru,ou=n(145),iu=u.a.forwardRef((function(t,e){return u.a.createElement("div",{ref:e,className:Jc},u.a.createElement(Vc.a,t))})),cu=function(t){var e=t.statusText,n=t.emojiShortName,r=t.setStatusText,a=t.setEmojiShortName,o=Object(c.useState)(null),i=b()(o,2),s=i[0],l=i[1],f=u.a.createRef(),d=function(){return l(f.current)},p=function(){r(""),a("")};return u.a.createElement(Qc,null,u.a.createElement(iu,{placeholder:"Write a custom status","data-testid":"status-text",value:e,onChange:function(t){var e=t.target;r(e.value.slice(0,100)),n||a("speech_balloon")},startAdornment:u.a.createElement(bn.a,{title:"Pick status emoji",position:"top"},u.a.createElement(Kc.a,{position:"start"},n.length?u.a.createElement(au,{emoji:ou.a.getFromShortName(n),onClick:d}):u.a.createElement(V.a,{type:"secondary",size:"small","data-testid":"pick-emoji-button",label:"pick status emoji",icon:tu.a,onClick:d}))),endAdornment:e.length||n.length?u.a.createElement(bn.a,{title:"Clear status",position:"top"},u.a.createElement(Kc.a,{position:"end"},u.a.createElement(V.a,{type:"secondary",size:"small",label:"clear status",icon:Xc.a,onClick:p,onKeyDown:function(t){return(t.keyCode===Br.d||t.keyCode===Br.f)&&p()}}))):null,ref:f}),u.a.createElement(Zc,null,e.length,"/",100),u.a.createElement($c.b,{title:"Pick status emoji",id:"userstatus-emoji-picker",anchorEl:s,show:!!s,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:function(){return l(null)},onSelect:function(t){a(t.short_name)}}))};cu.propTypes={statusText:T.a.string.isRequired,emojiShortName:T.a.string.isRequired,setStatusText:T.a.func.isRequired,setEmojiShortName:T.a.func.isRequired};var uu=u.a.memo(cu),su=function(t){var e,n=t.initialStatusText,r=t.initialEmojiShortName,a=t.statusText,o=t.emojiShortName,i=t.onSave,c=t.onUndo,s=t.isSaving,l=n===a&&r===o,f=!o.length;return l&&f?null:(e=l?"Status set":n.length&&r.length?"Update status":"Set status",u.a.createElement(Wc,null,!l&&!s&&u.a.createElement(Hc,{"data-testid":"undo-changes-button",onClick:c,type:"secondary",onKeyDown:function(t){return(t.keyCode===Br.d||t.keyCode===Br.f)&&c()}},"Undo changes"),u.a.createElement(Hc,{"data-testid":"set-status-button",onClick:i,type:"primary",loading:s,disabled:l||s,onKeyDown:function(t){return(t.keyCode===Br.d||t.keyCode===Br.f)&&i()}},e)))};su.propTypes={initialStatusText:T.a.string.isRequired,initialEmojiShortName:T.a.string.isRequired,statusText:T.a.string.isRequired,emojiShortName:T.a.string.isRequired,onSave:T.a.func.isRequired,onUndo:T.a.func.isRequired,isSaving:T.a.bool.isRequired};var lu=su,fu=function(){var t=Object(_.c)(),e=Object(_.d)(Kn.currentUser).status,n=Object(_.d)(Kn.isChangingStatus),r=(null==e?void 0:e.text)||"",a=(null==e?void 0:e.emojiName)||"",o=Object(c.useState)(r),i=b()(o,2),s=i[0],l=i[1],f=Object(c.useState)(a),d=b()(f,2),p=d[0],h=d[1];return u.a.createElement(zc,null,u.a.createElement(qc,null,"Status"),u.a.createElement(Bc,null,"Write something about you, your availability, or your preferred ways to be contacted"),u.a.createElement(uu,{statusText:s,emojiShortName:p,setStatusText:l,setEmojiShortName:h}),u.a.createElement(lu,{initialStatusText:r,initialEmojiShortName:a,statusText:s,emojiShortName:p,onSave:function(){t(Uc({status:{text:s,emojiName:p}}))},isSaving:n,onUndo:function(){l(r),h(a)}}))},du=u.a.memo(fu),pu=Object(W.b)("div",{target:"essgwsj0"})("display:flex;flex:1;flex-direction:row;justify-content:space-between;height:22px;"),hu=T.a.shape({title:T.a.shape({}),key:T.a.string.isRequired,component:T.a.elementType,onClick:T.a.func,TitleComponent:T.a.elementType}),vu=Object(W.b)("div",{target:"e9xuclo0"})("width:100%;height:108px;background:",ot.b.color.white,";overflow:hidden;"),bu=function(t){var e=t.className,n=t.currentTab,r=t.onTabChange,a=t.tabs;return u.a.createElement(vu,{className:e},u.a.createElement(hc.a,{tabs:a,selectedTabIndex:n,onTabClick:r,dense:!0,titlePosition:null}))};bu.propTypes={currentTab:T.a.number.isRequired,onTabChange:T.a.func.isRequired,tabs:T.a.arrayOf(hu).isRequired,className:T.a.string};var gu=bu,mu=Object(W.b)("div",{target:"e8t381b0"})("width:100%;height:125px;background:",ot.b.color.white,";"),yu=Object(W.b)("a",{target:"e8t381b1"})("color:",ot.b.color.grey11,";font-size:14px;font-weight:",ot.b.font.weight.medium,";line-height:20px;height:32px;display:flex;align-items:center;margin-left:16px;text-decoration:none;cursor:pointer;&:hover{color:",ot.b.color.black,";text-decoration:none;}"),Ou=Object(W.b)("div",{target:"e8t381b2"})("height:1px;background:",ot.b.color.gray,";margin:8px 0;"),Eu=function(t){var e=t.className;return u.a.createElement(mu,{className:e},u.a.createElement(yu,{tabIndex:0,href:"https://data.aula.education/Terms_of_Service.pdf",target:"_blank"},zt.k),u.a.createElement(yu,{tabIndex:0,href:"https://www.aula.education/privacy",target:"_blank"},zt.i),u.a.createElement(Ou,null),u.a.createElement(yu,{tabIndex:0,onKeyPress:function(t){"Enter"===t.key&&Object(ft.a)("/logout")},onClick:function(){return Object(ft.a)("/logout")}},zt.h))};Eu.propTypes={className:T.a.string},Eu.defaultProps={className:""};var ju=Eu,xu=function(t){var e=t.closeModal,n=t.currentTab,r=t.onTabChange,a=t.tabs,o=t.ariaLabel;return u.a.createElement(Gi,{className:"leftPanel"},u.a.createElement(zi,{className:"leftPanel__main"},u.a.createElement(bn.a,{title:o,position:"bottom",spacing:4},u.a.createElement(qi,{tabIndex:0},u.a.createElement(V.a,{icon:ye.a,size:"medium",label:o,onClick:e}))),u.a.createElement(pc,{closeModal:e}),u.a.createElement(gu,{className:"leftPanel__navigation",currentTab:n,onTabChange:r,tabs:a})),u.a.createElement(ju,{className:"leftPanel__footer"}))};xu.propTypes={closeModal:T.a.func.isRequired,currentTab:T.a.number.isRequired,onTabChange:T.a.func.isRequired,tabs:T.a.arrayOf(hu).isRequired,ariaLabel:T.a.string};var Iu=u.a.memo(xu);function Su(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var wu=function(){return document.getElementById("user-profile-container")},Cu=function(t){j()(n,t);var e=Su(n);function n(t){var r;O()(this,n),(r=e.call(this,t)).containerRef=u.a.createRef();var a=t.tabs.findIndex((function(t){return!!t.component}));return r.state={currentTab:a,isNestedModalVisible:!1},r.handleTabChange=r.handleTabChange.bind(tt()(r)),r.handleNestedModalToggle=r.handleNestedModalToggle.bind(tt()(r)),r}return m()(n,[{key:"handleTabChange",value:function(t){var e=this.props.tabs[t];return e.component?this.setState({currentTab:t}):e.onClick()}},{key:"handleNestedModalToggle",value:function(t){this.setState({isNestedModalVisible:t})}},{key:"render",value:function(){var t=this.state,e=t.currentTab,n=t.isNestedModalVisible,r=this.props,a=r.tabs,o=r.shouldShowUserProfile,i=r.closeModal,c=a[e].component,s=ot.b.color,l=ot.b.font,f=Object(_i.a)({typography:{fontFamily:l.family.workSans,useNextVariants:!0},palette:{primary:{main:s.designSystem.purple70},text:{hint:s.grey11}}});return u.a.createElement(Di.a,{theme:f},u.a.createElement(Pi.a,{id:"user-profile-modal",container:wu,open:o,onClose:i,classes:{paper:Ui},role:"dialog","aria-label":"Edit my profile settings"},u.a.createElement(Mi,{visible:!n,innerRef:this.containerRef},u.a.createElement(Fi,null,u.a.createElement(Iu,{closeModal:i,currentTab:e,onTabChange:this.handleTabChange,tabs:a,ariaLabel:"Closes user profile dialog"})),u.a.createElement(Li,null,u.a.createElement(c,{toggleNestedModal:this.handleNestedModalToggle})))))}}]),n}(u.a.PureComponent);Cu.propTypes={closeModal:T.a.func.isRequired,tabs:T.a.arrayOf(hu).isRequired,shouldShowUserProfile:T.a.bool.isRequired};var ku=Cu,Ru={closeModal:Xn.x},Tu=Object(d.withLDConsumer)()(Object(_.b)((function(t,e){var n=e.flags,r=function(t,e){return[{title:u.a.createElement(pu,{key:"status_tab"},"Status",null!=t&&t.emojiName?u.a.createElement(eu.a,{emoji:ou.a.getFromShortName(t.emojiName)}):null),key:"status",component:du,visible:function(t){return t.ftUserStatusEnabled202107}},{title:u.a.createElement(pu,{key:"notif-settings_tab"},"Notification Settings"),key:"notif-settings",component:Dc,visible:function(){return!0}}].filter((function(t){return t.visible(e)}))}(Object(Kn.currentUser)(t).status,n);return{shouldShowUserProfile:Object(Vn.d)(t).search.includes("user-profile"),tabs:r}}),Ru)(ku)),Au=n(63),Nu=n(173),Pu=n(379),_u=n(558),Du=n(49),Mu=n.n(Du),Fu=n(373),Lu=n.n(Fu),Uu=n(1583),Gu=n(252),zu=n.n(Gu),qu=n(290),Bu=n(196),Hu=n(867),Wu=n(574),Vu=n(559),Ku=Object(Vu.a)(Object(Wu.a)(["open"])),Yu=Object(_.b)((function(t){return{spaceId:(t.assignments||{}).selectedSpace}}),(function(t){return{goToGroups:function(e){t(Object(Xn.q)(e))}}}))(Ku((function(t){var e=t.open,n=t.createConversation,r=t.isCreatingConversation,a=t.handleCreateConversation,o=t.spaceId,i=Object(c.useState)([]),s=b()(i,2),l=s[0],f=s[1],d=Object(c.useState)(""),p=b()(d,2),h=p[0],v=p[1],g=Object(c.useState)(!1),m=b()(g,2),y=m[0],O=m[1],E=Object(c.useState)(!1),j=b()(E,2),x=j[0],I=j[1];Object(c.useEffect)((function(){O(l.length>1);var t=1===l.length,e=h.length>2&&l.length>1;I(t||e)}),[l,h]);var S=function(){var e=t.onClose;e&&e()};return u.a.createElement(qu.e,{id:"create-conversation-dialog",open:e,onClose:S,maxWidth:"md",style:{zIndex:1600}},u.a.createElement(qu.d,{onClose:S,id:"create-conversation-dialog-dialogtitle","data-testid":"create-conversation-dialog-title"},"Create a conversation"),u.a.createElement(qu.c,null,u.a.createElement("div",{style:Bu.a.wrapper},u.a.createElement("div",{style:Bu.a.to},"To:"),u.a.createElement("div",{style:Bu.a.autocompleteWrapper},u.a.createElement(Hu.a,{onChange:function(t){f(t)}})),y?u.a.createElement(u.a.Fragment,null,u.a.createElement(Uu.a,{placeholder:zt.R,label:zt.Q,onChange:function(t){v(t.target.value)},style:Bu.a.groupNameField,"aria-label":zt.Q}),u.a.createElement("div",{style:Bu.a.groupInfo},"If you want to create a group, go to the ",u.a.createElement("span",{style:Bu.a.groupLink,onClick:function(){t.goToGroups(o),S()},role:"link",onKeyDown:function(){return null},tabIndex:0},"Groups "),"page.",u.a.createElement(bn.a,{title:"Use groups to split students either automatically or manually into projects.",position:"right",style:Bu.a.tooltip,classes:{popper:Bu.a.popper}},u.a.createElement("span",null,u.a.createElement(V.a,{size:"small",type:"secondary",label:"groups information",icon:zu.a}))))):null)),u.a.createElement(qu.b,{primary:{className:"create-conversation-group",label:"Next",onClick:function(){if(y&&h&&l.length||1===l.length){I(!1);var t=n({title:h||"-",users:l});if(!t)return;t.then((function(t){t&&a(t.objectId),S(),f([]),v(""),O(!1),I(!1)}))}},loading:r,disabled:!x,htmlAttributes:{"aria-label":"Next","data-testid":"create-coversation-next-button"}},secondary:{label:"Cancel",onClick:S}}))})));function Xu(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Xu(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Xu(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var Ju=function(t){return new Mu.a((function(e){return setTimeout(e,t)}))},Zu={changeConversation:Nu.c,createConversation:Au.b.createConversation,onClose:Au.b.closeCreateGroup},$u=Object(_.b)((function(t){return{isUpdatingConversation:t.inboxv2.creatingConversation,open:t.inboxv2.createGroupOpened}}),Zu,(function(t,e,n){return Qu(Qu(Qu(Qu({},t),e),n),{},{handleCreateConversation:(r=a()(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ju(0);case 2:return t.abrupt("return",e.changeConversation(n));case 3:case"end":return t.stop()}}),t)}))),function(t){return r.apply(this,arguments)})});var r}))(Yu),ts=n(329),es=Object(W.a)("display:flex;flex:1;gap:",ot.b.spacing.xxSmall,";justify-content:space-between;align-items:center;height:",ot.b.spacing.xxxGiant,";padding:",ot.b.spacing.xSmall,";box-sizing:border-box;background-color:",ot.b.color.white,";border-top:1px solid ",ot.b.color.gray,";"),ns=Object(W.a)("display:flex;flex-direction:row;flex-expand:0;align-items:center;height:100%;padding:0;box-sizing:border-box;background:",ot.b.color.white,";border:0;& input{color:",ot.b.color.mediumBlue,";margin-left:",ot.b.spacing.xxxSmall,";border:0;font:",ot.b.font.weight.regular," ",ot.b.font.size.copy," 'Work Sans',sans-serif;}& input:focus{outline:none;}"),rs=Object(W.a)("border-color:",ot.b.color.purple,";"),as=Object(W.a)("width:",ot.b.spacing.xLarge,";height:",ot.b.spacing.xLarge,";color:",ot.b.color.grey11,";"),os=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((function(t){return!!t})).join(" ")},is="Search in messages",cs=function(t){var e=t.focused,n=t.onBlur,r=t.onChange,a=t.onFocus,o=t.value,i=t.getInputProps,c=t.status,s=t.toggleUserProfile,l=t.flags;return u.a.createElement("div",{className:es},u.a.createElement("div",{className:os(ns,e&&rs)},u.a.createElement(cn.a,{className:as}),u.a.createElement("input",an()({"aria-label":is,type:"text",placeholder:is},i({onBlur:n,onFocus:a,onChange:r,value:o})))),l.ftUserStatusEnabled202107&&(null==c?void 0:c.emojiName)&&u.a.createElement(bn.a,{title:"Update status",position:"top"},u.a.createElement("span",null,u.a.createElement(au,{onClick:s,emoji:ou.a.getFromShortName(c.emojiName)}))))};cs.propTypes={focused:T.a.bool.isRequired,onBlur:T.a.func.isRequired,onChange:T.a.func.isRequired,onFocus:T.a.func.isRequired,getInputProps:T.a.func.isRequired,value:T.a.string.isRequired,toggleUserProfile:T.a.func.isRequired,flags:T.a.shape({ftUserStatusEnabled202107:T.a.bool}).isRequired,status:T.a.shape({text:T.a.string,emojiName:T.a.string})},cs.defaultProps={status:void 0};var us=cs;function ss(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var ls=function(t){j()(n,t);var e=ss(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).state={filterValue:"",focused:!1},r.onBlur=r.onBlur.bind(tt()(r)),r.onChange=r.onChange.bind(tt()(r)),r.onFocus=r.onFocus.bind(tt()(r)),r}return m()(n,[{key:"onBlur",value:function(){this.setState({focused:!1})}},{key:"onChange",value:function(t){var e=this.props.onChange,n=t.target.value;this.setState({filterValue:n}),e(n)}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"reset",value:function(){var t=this.props.onChange;this.setState({filterValue:""}),t("")}},{key:"render",value:function(){var t=this.state,e=t.filterValue,n=t.focused,r=this.props,a=r.getInputProps,o=r.status,i=r.toggleUserProfile,c=r.flags;return u.a.createElement(us,{focused:n,value:e,onBlur:this.onBlur,onChange:this.onChange,onFocus:this.onFocus,getInputProps:a,status:o,toggleUserProfile:i,flags:c})}}]),n}(u.a.Component);ls.propTypes={onChange:T.a.func.isRequired,getInputProps:T.a.func.isRequired,toggleUserProfile:T.a.func.isRequired,flags:T.a.shape({ftUserStatusEnabled202107:T.a.bool}).isRequired,status:T.a.shape({text:T.a.string,emojiName:T.a.string})},ls.defaultProps={status:void 0};var fs={toggleUserProfile:Xn.x},ds=Object(d.withLDConsumer)()(Object(_.b)((function(t,e){var n=e.flags;return{status:Object(Kn.currentUser)(t).status,flags:n}}),fs)(ls)),ps=n(274),hs=n.n(ps),vs=n(575),bs=n.n(vs),gs=Object(W.b)("p",{target:"ey133b30"})("margin-top:4px;margin-bottom:2px;color:",(function(t){return t.bold?ot.b.color.blackAlpha(.87):"black"}),";font-weight:",(function(t){return t.bold?ot.b.font.weight.semiBold:ot.b.font.weight.regular}),";font-size:",ot.b.font.size.copy,";line-height:20px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;"),ms=(ot.b.font.size.small,function(t){var e=t.className,n=t.title,r=t.unread;return u.a.createElement("div",{className:e},u.a.createElement(gs,{bold:r},n))});ms.propTypes={className:T.a.string,title:T.a.string.isRequired,unread:T.a.bool},ms.defaultProps={className:"",unread:!1};var ys=ms,Os=Object(_.b)((function(t,e){var n=e.conversationId;return{title:Au.c.conversationTitle(t,n)}}))(ys),Es=Sa,js=Object(W.b)("div",{target:"e3izre20"})("overflow:hidden;position:relative;"),xs=Object(W.b)("button",{target:"e3izre21"})("display:flex;flex-direction:row;align-items:center;height:44px;cursor:pointer;font-family:",ot.b.font.family.workSans,";font-size:",ot.b.font.size.copy,";outline:none;padding:0;padding-right:12px;border:none;text-align:left;width:",Es,"px;background-color:",(function(t){return n=(e=t).selected,r=e.highlighted,n?ot.b.color.designSystem.background.grey.selected:r?ot.b.color.designSystem.background.grey.hover:"white";var e,n,r}),";&:hover,&:focus{background-color:",ot.b.color.grayLight,";}"),Is=Object(W.b)(Os,{target:"e3izre22"})("display:flex;flex-direction:column;visibility:",(function(t){return t.hidden?"hidden":"visible"}),";justify-content:center;"),Ss=Object(W.b)("div",{target:"e3izre23"})("flex:1;display:flex;align-items:center;justify-content:space-between;"),ws=Object(W.b)("div",{target:"e3izre24"})("display:flex;"),Cs=(ot.b.color.orange,Object(W.b)(bs.a,{target:"e3izre27"})("color:",ot.b.color.grey11,";font-size:20px;margin-left:",ot.b.spacing.xxxSmall,";")),ks=Object(W.b)("span",{target:"e3izre28"})("width:10px;height:10px;background:",ot.b.color.error,";border-radius:50%;display:flex;flex-shrink:0;justify-content:center;align-items:center;color:",ot.b.color.white,";font-size:",ot.b.font.size.small,";margin-left:",ot.b.spacing.xxxSmall,";"),Rs=Sa,Ts=wa,As=Object(W.b)("div",{target:"e1w1ffhu0"})("box-sizing:border-box;width:100%;padding:",ot.b.spacing.medium,";"),Ns=Object(W.b)(Gc.a,{target:"e1w1ffhu1"})("width:100%;min-width:initial;padding:6px;> span:first-child{justify-content:center;}"),Ps=Object(W.b)("div",{target:"e1w1ffhu2"})("height:100vh;top:0;bottom:0;right:0;z-index:1001;background-color:white;transition:width 10ms;box-shadow:0 6px 10px 0 rgba(0,0,0,0.14),0 1px 18px 0 rgba(0,0,0,0.12),0 3px 5px -1px rgba(0,0,0,0.2);position:relative;",js,"{transition:width 10ms;}",xs,"{transition:opacity 200ms;}"),_s=Object(W.b)("div",{target:"e1w1ffhu3"})("top:72px;width:100%;height:calc(100% - ",Ca,"px);& .scroll-view{margin-bottom:0 !important;}"),Ds=Object(W.b)("div",{target:"e1w1ffhu4"})("position:absolute;top:32px;left:90px;font-size:24px;"),Ms=Object(W.b)("div",{target:"e1w1ffhu5"})("position:fixed;bottom:0;right:24px;height:20px;width:171px;padding:10px 12px;box-shadow:0px 3px 5px rgba(0,0,0,0.2),0px 1px 18px rgba(0,0,0,0.12),0px 6px 10px rgba(0,0,0,0.14);border-radius:4px 4px 0px 0px;align-items:center;cursor:pointer;background-color:",ot.b.color.white,";transition:background-color ",ot.b.transition.speed.xFast," ",ot.b.transition.easing.easeOut,";justify-content:space-between;font-weight:",ot.b.font.weight.semiBold,";font-size:",ot.b.font.size.copy,";:hover{background-color:",ot.b.color.beige,";}"),Fs=Object(W.b)("div",{target:"e1w1ffhu6"})("display:flex;align-items:center;"),Ls=Object(W.b)("div",{target:"e1w1ffhu7"})("line-height:20px;color:",ot.b.color.text,";"),Us=Object(W.b)("span",{target:"e1w1ffhu8"})("width:20px;height:20px;background:",ot.b.color.error,";border-radius:50%;display:flex;justify-content:center;align-items:center;color:",ot.b.color.white,";font-size:",ot.b.font.size.small,";margin-left:",ot.b.spacing.xSmall,";"),Gs=Object(W.b)("h3",{target:"e1w1ffhu9"})("margin:0;font-size:14px;font-weight:600;"),zs=Object(W.b)("div",{target:"e1w1ffhu10"})("display:flex;justify-content:space-between;align-items:center;margin-bottom:",ot.b.spacing.medium,";"),qs=Object(W.b)(hs.a,{target:"e1w1ffhu11"})("color:",ot.b.color.grey16,";"),Bs={expanded:Object(W.a)("width:",Rs,"px;",js,"{width:",Rs,"px;max-height:200px;}",Ns," > span{display:flex;justify-content:space-between;}"),shrinked:Object(W.a)("width:0px;",Ns,"{padding-left:8px;padding-right:8px;}",Ns," > span > span:first-child{display:none;}",js,"{width:",Ts,"px;max-height:56px;}",xs,"{padding:0;}"),subContentHidden:Object(W.a)(xs,"{opacity:0;}",Ns," > span{opacity:0;}"),subContentShown:Object(W.a)(xs,"{opacity:1;}",Ns," > span{opacity:1;}"),inboxButtonHidden:Object(W.a)("display:none;"),inboxButtonShown:Object(W.a)("display:flex;")},Hs=n(577),Ws=Object(W.b)(Hs.a,{target:"e1cs5msa0"})(),Vs=Object(W.b)("div",{target:"e1cs5msa1"})("padding-left:",ot.b.spacing.small,";padding-right:",ot.b.spacing.xSmall,";display:flex;justify-content:center;align-items:center;flex-shrink:0;"),Ks=["conversationId","unread"],Ys=function(t){var e=t.conversationId,n=t.unread,r=On()(t,Ks);return u.a.createElement(Vs,r,u.a.createElement(Ws,{conversationId:e,unread:n}))};Ys.propTypes={conversationId:T.a.string.isRequired,unread:T.a.bool},Ys.defaultProps={unread:!1};var Xs=Ys,Qs=function(t){return t.stopPropagation()},Js=function(t){var e=t.changeGroup,n=t.conversationId,r=t.featSetConversationUnreadEnabled,a=t.selected,o=t.setConversationUnread,i=t.unread,c=t.getItemProps,s=t.index,l=t.highlighted,f=t.muted;return u.a.createElement(js,c({item:n,index:s}),u.a.createElement(xs,{onClick:e,selected:a,highlighted:l,tabIndex:0,role:"button"},u.a.createElement(Ss,null,u.a.createElement(ws,null,u.a.createElement(Xs,{conversationId:n,onClick:r?Qs:void 0,onDoubleClick:r?o:void 0}),u.a.createElement(Is,{conversationId:n,unread:i})),f&&u.a.createElement(Cs,null),i&&u.a.createElement(ks,null))))};Js.propTypes={changeGroup:T.a.func.isRequired,conversationId:T.a.string.isRequired,featSetConversationUnreadEnabled:T.a.bool,selected:T.a.bool,setConversationUnread:T.a.func.isRequired,unread:T.a.bool,getItemProps:T.a.func.isRequired,index:T.a.number.isRequired,highlighted:T.a.bool.isRequired,muted:T.a.bool.isRequired},Js.defaultProps={featSetConversationUnreadEnabled:!1,selected:!1,unread:!1};var Zs=u.a.memo(Js),$s=["changeGroup","setConversationUnread"];function tl(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function el(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tl(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):tl(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var nl=function(){return null},rl=function(t,e,n,r){return r?Au.c.isConversationUnreadByEvenIfEmpty(t,e,n):!Au.c.conversationLatestMessageIsOwn(t,e)&&Au.c.isConversationUnreadBy(t,e,n)},al=Object(_.b)((function(t,e){return{featSetConversationUnreadEnabled:"on"===Object(Kn.currentUserFeatures)(t).FEAT_SET_CONVERSATION_UNREAD,conversation:Au.c.conversation(t,e.conversationId),selected:e.conversationId===Au.c.currentConversationId(t),unread:rl(t,e.conversationId,Object(Kn.currentUserId)(t),"on"===Object(Kn.currentUserFeatures)(t).FEAT_SET_CONVERSATION_UNREAD),muted:Fr.c.isConversationMuted(t,e.conversationId)}}),(function(t,e){return{changeGroup:function(){t(Nu.c(e.conversationId)),e.changeGroup()},setConversationUnread:function(){return t(Au.b.setConversationUnread(e.conversationId))}}}),(function(t,e,n){var r=e.changeGroup,a=e.setConversationUnread,o=On()(e,$s);return el(el(el(el({},t),o),n),{},{changeGroup:r,setConversationUnread:t.featSetConversationUnreadEnabled?a:nl})}))(Zs),ol=["role"];function il(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var cl="aula-is-dm-collapsed",ul=function(t){j()(r,t);var e,n=il(r);function r(t){var e;O()(this,r),(e=n.call(this,t)).state={filteredConversationIds:null,filterValue:"",isInboxCollapsed:e.calculateInitialIsInboxCollapsed()},e.conversationFilter=null;var a,o,i,c=e.props.filterConversations;return e.filterConversations=(a=200,o=c,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Mu.a((function(t,n){clearTimeout(i),setTimeout((function(){i=null;try{t(o.apply(void 0,e))}catch(t){n(t)}}),a)}))}),e.onFilterChange=e.onFilterChange.bind(tt()(e)),e.setConversationFilter=e.setConversationFilter.bind(tt()(e)),e.changeGroup=e.changeGroup.bind(tt()(e)),e.handleCollapse=e.handleCollapse.bind(tt()(e)),e.hanldeExpand=e.hanldeExpand.bind(tt()(e)),e}return m()(r,[{key:"onFilterChange",value:(e=a()(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.setState({filterValue:e}),e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,this.filterConversations(e);case 5:n=t.sent,this.setState({filteredConversationIds:n});case 7:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"setConversationFilter",value:function(t){this.conversationFilter=t}},{key:"calculateInitialIsInboxCollapsed",value:function(){var t=localStorage.getItem(cl);return t?"true"===t:window.innerWidth<X.a.md}},{key:"changeGroup",value:function(){this.conversationFilter&&this.conversationFilter.reset();var t=this.props.changeGroup;t()}},{key:"handleCollapse",value:function(){this.setState({isInboxCollapsed:!0}),localStorage.setItem(cl,"true")}},{key:"hanldeExpand",value:function(){this.setState({isInboxCollapsed:!1}),localStorage.setItem(cl,"false")}},{key:"render",value:function(){var t=this,e=this.state,n=e.filteredConversationIds,r=e.filterValue,a=e.isInboxCollapsed,o=this.props,i=o.conversationsIds,c=o.fetchingConversations,s=o.openCreateGroup,l=o.getMenuProps,f=o.getItemProps,d=o.highlightedIndex,p=o.getInputProps,h=o.setItemCount,v=o.totalUnreadConversations,b=r&&null!==n?n:i;h(b.length);var g=l(),m=(g.role,On()(g,ol)),y=v>99?":)":"".concat(v);return u.a.createElement(u.a.Fragment,null,u.a.createElement(Ps,{className:a?Bs.shrinked:Bs.expanded},u.a.createElement(As,null,u.a.createElement(zs,null,u.a.createElement(Gs,null,"Messages"),u.a.createElement(V.a,{label:"Hide message panel",icon:K.a.Close,size:"xSmall",type:"secondary",onClick:this.handleCollapse})),u.a.createElement(Ns,{type:"secondary",onClick:s,id:"new-message",iconLeft:Lu.a,"data-testid":"new-message-button","aria-label":"Create new conversation"},u.a.createElement("span",null,"New message"))),u.a.createElement(_s,an()({"aria-live":"polite"},m),u.a.createElement(ts.a,{viewProps:{role:"listbox"},autoHide:!0},b.map((function(e,n){return u.a.createElement(al,{key:e,changeGroup:t.changeGroup,conversationId:e,highlighted:d===n,getItemProps:f,index:n})})),c&&!i.length&&u.a.createElement(Ds,null,u.a.createElement(ga.a,null)))),u.a.createElement(ds,{ref:this.setConversationFilter,onChange:this.onFilterChange,getInputProps:p,handleCollapse:this.handleCollapse}),u.a.createElement($u,null)),u.a.createElement(Ms,{className:a?Bs.inboxButtonShown:Bs.inboxButtonHidden,role:"button",onClick:this.hanldeExpand},u.a.createElement(Fs,null,u.a.createElement(Ls,null,"Messages"),v&&u.a.createElement(Us,null,y)),u.a.createElement(qs,null)))}}]),r}(c.PureComponent);ul.propTypes={conversationsIds:T.a.arrayOf(T.a.string).isRequired,filterConversations:T.a.func.isRequired,openConversation:T.a.func.isRequired,fetchingConversations:T.a.bool.isRequired,openCreateGroup:T.a.func.isRequired,getMenuProps:T.a.func.isRequired,getItemProps:T.a.func.isRequired,getInputProps:T.a.func.isRequired,setItemCount:T.a.func.isRequired,highlightedIndex:T.a.number,changeGroup:T.a.func.isRequired,totalUnreadConversations:T.a.number},ul.defaultProps={highlightedIndex:null,totalUnreadConversations:0};var sl=ul,ll=Object(zr.a)(Au.c.conversations,(function(t){return Object(Kn.currentUserId)(t)}),Au.c.sortedConversationsIds),fl=Object(zr.a)((function(t){return t}),Au.c.conversations,(function(t){return Object(Kn.currentUserId)(t)}),Au.c.countUnreadConversations),dl=Object(zr.c)({conversationsIds:ll,fetchingConversations:function(t){return t.inboxv2.fetchingConversations},totalUnreadConversations:fl}),pl=Object(_.b)(dl,(function(t){return{filterConversations:function(e){return t(Nu.b(e))},openCreateGroup:function(){return t(Au.b.openCreateGroup.apply(Au.b,arguments))},openConversation:function(e){return t(Nu.c(e))}}}))(sl),hl=n(533),vl=n(71);function bl(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}var gl=Object(vl.a)(u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(8),n.e(0),n.e(14)]).then(n.bind(null,1998))}))),ml=function(t){j()(n,t);var e=bl(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).changeGroup=r.changeGroup.bind(tt()(r)),r.onDownShiftChange=r.onDownShiftChange.bind(tt()(r)),r.downshiftRef=u.a.createRef(),r.conversationIdBlock="conversations-".concat(Math.round(1e3*Math.random())),r}return m()(n,[{key:"onDownShiftChange",value:function(t){t&&((0,this.props.openConversation)(t),this.changeGroup())}},{key:"changeGroup",value:function(){this.downshiftRef.current&&this.downshiftRef.current.clearSelection()}},{key:"render",value:function(){var t=this,e=this.props,n=e.selectedConversationLoaded,r=e.closeModal,a=e.location;return u.a.createElement("div",{role:"region","aria-label":"conversations",id:this.conversationIdBlock},u.a.createElement(Pu.a,{isOpen:!0,inputId:"conversation-filter",onChange:this.onDownShiftChange,ref:this.downshiftRef,labelId:this.conversationIdBlock},(function(e){var n=e.getInputProps,r=e.getItemProps,a=e.getMenuProps,o=e.setItemCount,i=e.highlightedIndex;return u.a.createElement("div",null,u.a.createElement(pl,{getInputProps:n,getItemProps:r,getMenuProps:a,setItemCount:o,highlightedIndex:i,changeGroup:t.changeGroup}))})),n&&u.a.createElement(gl,{closeModal:r,location:a}))}}]),n}(c.PureComponent);ml.propTypes={closeModal:T.a.func.isRequired,openConversation:T.a.func.isRequired,location:_u.b.isRequired,selectedConversationLoaded:T.a.bool},ml.defaultProps={selectedConversationLoaded:!1};var yl=Object(hl.a)(Object(d.withLDConsumer)()(ml),{message:zt.q}),Ol=Object(zr.c)({selectedConversationLoaded:function(t){return!!Au.c.currentConversation(t)}}),El=Object(_.b)(Ol,(function(t){return{closeModal:function(){return t(Nu.c(void 0))},openConversation:function(e){return t(Nu.c(e))}}}))(yl),jl=n(941),xl=n.n(jl).a,Il=n(177),Sl=n(96);function wl(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wl(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):wl(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var kl=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.sessionToken,t.next=3,Ya()({method:"get",url:"".concat(Object(na.gb)(),"/getBySessionToken"),headers:{"x-session-token":n}});case 3:if(r=t.sent,(a=r.data).user){t.next=7;break}throw new Error("No user returned");case 7:return o=Cl(Cl({},a.user),{},{objectId:a.user.id,username:a.user.email,sessionToken:n}),t.abrupt("return",Cl(Cl({},o),{},{sessionToken:n}));case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Rl=function(t){var e=t.email,n=t.sessionToken,r=t.deviceId;return Ya.a.post(Object(na.M)(),{email:e,sessionToken:n,deviceId:r})},Tl=function(){var t=Object(Mt.b)().getState();Object(Il.a)("aula-logged",t.institution.general.institution,365,"",".aula.education")},Al=function(){return{type:Zn.Fb,status:"started"}},Nl=function(t,e){e({type:Zn.Fb,status:"success",user:t})},Pl=function(t,e){e(Object(_t.b)(t,"login")),e({type:Zn.Fb,status:"error",error:t})},_l=function(t){return function(e){return new Mu.a(function(){var n=a()(i.a.mark((function n(r){var a,o,c,u,s,l,f;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e(Al()),a=Object(Mt.b)().getState().institution.general.institution,o=null,t||(o=xl.getActiveUserInDomain(a)),c=t||o,u=xl.getSession(a,c)){n.next=10;break}return Pl(new Error("Session doesn't exist"),e),r({error:"Session doesn't exist"}),n.abrupt("return");case 10:return s=u.session,n.prev=11,n.next=14,kl({sessionToken:s});case 14:l=n.sent,Object(B.b)(l),Tl(),Nl(l,e),xl.setActiveDomain(a,c),r(l),n.next=32;break;case 22:return n.prev=22,n.t0=n.catch(11),n.next=26,Object(Ft.b)();case 26:return f=n.sent,Sl.a&&xl.setLoggedOut(a,c),n.next=30,Rl({email:c,sessionToken:s,deviceId:f}).catch((function(t){var a="Error in login: (".concat(n.t0.message,") and logout (").concat(t.message,")"),o=new Error(a);Pl(o,e),r({error:a})}));case 30:Pl(n.t0,e),r({error:n.t0.message});case 32:case"end":return n.stop()}}),n,null,[[11,22]])})));return function(t){return n.apply(this,arguments)}}())}};var Dl=n(419),Ml=n(408),Fl=n(278),Ll=n(192),Ul=function(t,e){e(Object(_t.b)(t,"fetchStartupData")),e({type:Zn.xb,status:"error",error:t})},Gl=function(t){var e=t.conversations.operations.fetchConversations,n=t.live,r=t.notifications,a=r.shouldFetch,o=void 0===a||a,i=r.unreadOnly,c=void 0!==i&&i;return function(t,r){return new Mu.a((function(a,i){if(!r().user.isLogged){return Ul({message:"You need to login first"},t)}t({type:Zn.xb,status:"started"}),o&&t(Object(Jn.a)({unreadOnly:c})),Object($r.b)(r),Object($r.c)(ta.c,{activeClassroom:null}),Object(Il.c)("aula-logged")||Object(Il.a)("aula-logged",r().institution.general.institution,365,"",".aula.education");var u=r().user.user.sessionToken;return Ya.a.get(na.cb(),{headers:{"x-session-token":u}}).then((function(r){if(200===r.status){var o=r.data.data;!function(t,e){e({type:Zn.R,status:"success",emojis:t})}(o.emojis,t),Object(Ml.b)(t,Object(Fl.a)(o.notificationSettings)),Object(Dl.b)(o.classRooms,t),t((i=o.user,{type:Zn.Db,user:i})),t(Object(Ll.b)(n)),t(e()),t({type:Zn.xb,status:"success"}),a()}var i;return"Success"})).catch((function(e){return console.log(e),Ul(e,t),i(),""}))}))}},zl=n(326),ql=n(330);function Bl(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Hl(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bl(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):Bl(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var Wl={registerLive:function(t){var e=t.onUserUpdated;return function(t){return function(n){t.on("User:UserUpdated",(function(t){return n(e(t))}))}}}({onUserUpdated:function(t){return function(){var e=a()(i.a.mark((function e(n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:Zn.Y,status:"success",payload:{requestedUsers:[],users:[Hl({objectId:t.user.id},t.user)]}});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})},Vl=n(328),Kl=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.sessionToken,r=e.body,t.next=3,Ya.a.get(na.v(r),{headers:{"x-session-token":n},withCredentials:!0});case 3:return a=t.sent,o=a.data,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Yl=n(239),Xl=n(216),Ql=n(215),Jl=n(279),Zl=n(176),$l=n(319),tf=n(853),ef=n(854);function nf(t,e){var n=pt()(t);if(vt.a){var r=vt()(t);e&&(r=r.filter((function(e){return gt()(t,e).enumerable}))),n.push.apply(n,r)}return n}function rf(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nf(Object(n),!0).forEach((function(e){St()(t,e,n[e])})):yt.a?Et()(t,yt()(n)):nf(Object(n)).forEach((function(e){xt()(t,e,gt()(n,e))}))}return t}var af=function(t){return function(e,n,r){var a=function(e){var a=r().data,o=a.comments,i=a[cr.a[e.entityType]];o[e.id]||i[e.entityId]&&(t&&Object(ef.a)(t,e),n({type:Zn.C,status:"success",payload:{comment:rf(rf({},e),{},{user:Object(Xl.a)(e.user)})}}))},o=function(e){var a=e.id,o=r().data.comments[a];o&&(t&&Object(tf.a)(t,o),n({type:Zn.D,status:"success",comment:o}))},i=function(t){n({type:Zn.E,status:"success",comment:rf(rf({},t),{},{user:Object(Xl.a)(t.user)})})};e.on("posts:PostAdded",(function(t){var e=r().data.classRooms,a=t.id;e[t.space].posts.indexOf(a)>-1||n({type:Zn.e,status:"success",post:Object(Yl.a)(t)})})),e.on("posts:PostDeleted",(function(t){var e=t.id,a=r().data.posts[e];a&&n({type:Zn.f,status:"success",post:a})})),e.on("posts:PostUpdated",(function(t){n({type:Zn.g,status:"success",post:Object(Yl.a)(t)})})),e.on("posts:CommentAdded",a),e.on("posts:CommentDeleted",o),e.on("posts:CommentUpdated",i),e.on("materials:CommentAdded",a),e.on("materials:CommentDeleted",o),e.on("materials:CommentUpdated",i),e.on("Tag:TagCreated",(function(t){return Object($l.b)(Object(Ql.a)(t),n)})),e.on("Tag:TagAddedToPost",(function(t){return Object(Zl.b)(Object(Jl.a)(t),n)}))}},of=(af(null),function(t){t.on("Presentation:SessionUpdated",(function(t){var e=t.spaceId,n=t.id,r=t.instanceId,a=t.correlationId;Object($r.g)({spaceId:e,presentationId:n,presentationSessionId:r,correlationId:a})}))}),cf=function(t){return t.signedCookie.cookieTimestamp},uf=15e5,sf=function(t){var e=t.sessionToken,n=t.dispatch;return a()(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Kl({sessionToken:e});case 2:n({type:We.a});case 3:case"end":return t.stop()}}),t)})))},lf=function(t){var e=t.getState,n=t.fetchCookie;return a()(i.a.mark((function t(){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=cf(e()),!(nn()().diff(r,"ms")>uf)&&r){t.next=4;break}return t.next=4,n();case 4:case"end":return t.stop()}}),t)})))},ff=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o,c,u,s,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=Object(Mt.b)(),r=n.getState(),a=r.data,o=r.user,a.hasInitialData||a.isFetchingInitialData){t.next=11;break}return c=o.user.sessionToken,u=sf({sessionToken:c,dispatch:n.dispatch}),t.next=7,u();case 7:return setInterval((function(){return u()}),uf),s=lf({getState:n.getState,fetchCookie:u}),l={conversations:Au.a.registerLive,groups:zl.a.registerLive,materials:qr.a.registerLive,notifications:Fr.a.registerLive,reactions:ql.a.registerLive,assignments:Vl.a.registerLive,events:af(e),users:Wl.registerLive,analytics:of,onReconnect:s},t.abrupt("return",n.dispatch(Gl({conversations:Au.a,live:l,files:{},notifications:{shouldFetch:!Object(Vn.a)(n.getState())}})));case 11:return t.abrupt("return",null);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),df=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(Mt.b)(),r=n.dispatch,a=n.getState,o=a(),c=e.params.classId,0!==(u=tn()(o.data.materials)).length&&u[0].space===c||r(qr.b.fetchSections(c));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),pf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(0),n.e(19)]).then(n.bind(null,2001))})),hf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(0),n.e(25)]).then(n.bind(null,2011))})),vf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(0),n.e(22)]).then(n.bind(null,2012))})),bf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(0),n.e(26)]).then(n.bind(null,2007))})),gf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(5),n.e(0)]).then(n.bind(null,1972))})),mf=u.a.lazy((function(){return Promise.all([n.e(3),n.e(4),n.e(13),n.e(0),n.e(17)]).then(n.bind(null,1965))})),yf=u.a.lazy((function(){return Promise.all([n.e(3),n.e(7),n.e(8),n.e(0),n.e(15)]).then(n.bind(null,1966))})),Of=u.a.lazy((function(){return Promise.all([n.e(3),n.e(7),n.e(0),n.e(16)]).then(n.bind(null,2e3))})),Ef=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(0),n.e(11)]).then(n.bind(null,1964))})),jf=u.a.lazy((function(){return Promise.all([n.e(3),n.e(6),n.e(12),n.e(0),n.e(24)]).then(n.bind(null,1997))})),xf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(4),n.e(5),n.e(0)]).then(n.bind(null,1968))})),If=u.a.lazy((function(){return n.e(0).then(n.bind(null,1967))})),Sf=u.a.lazy((function(){return n.e(0).then(n.bind(null,1971))})),wf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(20),n.e(0),n.e(28)]).then(n.bind(null,2003))})),Cf=u.a.lazy((function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(4),n.e(0),n.e(10)]).then(n.bind(null,2008))})),kf=u.a.lazy((function(){return n.e(31).then(n.bind(null,2013))})),Rf=u.a.lazy((function(){return n.e(32).then(n.bind(null,2018))})),Tf=u.a.lazy((function(){return n.e(27).then(n.bind(null,2014))})),Af=u.a.lazy((function(){return Promise.all([n.e(3),n.e(0),n.e(18)]).then(n.bind(null,1969))})),Nf=u.a.lazy((function(){return Promise.all([n.e(3),n.e(6),n.e(9),n.e(0),n.e(23)]).then(n.bind(null,1999))})),Pf=u.a.lazy((function(){return Promise.all([n.e(3),n.e(0),n.e(29)]).then(n.bind(null,1970))})),_f=u.a.lazy((function(){return Promise.all([n.e(1),n.e(0),n.e(21)]).then(n.bind(null,1973))})),Df=u.a.lazy((function(){return n.e(30).then(n.bind(null,2006))})),Mf=function(t){var e=function(t){return function(){var e=a()(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(B.a)()){e.next=3;break}return r({pathname:"/logout",state:{nextPathname:n.location.pathname}}),e.abrupt("return");case 3:return e.next=5,ff(t);case 5:(0,Object(Mt.b)().dispatch)(Xn.b(n.params.classId,n.location.search));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}(t),n=function(t){return function(){var e=a()(i.a.mark((function e(n,r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(B.a)()){e.next=3;break}return r({pathname:"/logout",state:{nextPathname:n.location.pathname}}),e.abrupt("return");case 3:return e.next=5,ff(t);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}(t);return u.a.createElement(D.c,{path:""},u.a.createElement(D.c,{path:"dashboard",onEnter:e}),u.a.createElement(D.c,{path:"dashboard/:classId",components:{overlayLoader:Ni,content:Object(vl.a)(kf),inboxGroupMenu:El,omniSearch:Object(vl.a)(wf),userBar:Gr,spaceBar:Ii,userProfile:Tu,liveSessionModal:Object(vl.a)(Df)},onEnter:e},u.a.createElement(D.c,{path:"feed",search:"?tagId",component:Object(vl.a)(pf)}),u.a.createElement(D.c,{path:"feed",search:"?profile",component:Tu}),u.a.createElement(D.c,{path:"post/:id",component:Object(vl.a)(hf)}),u.a.createElement(D.c,{path:"important",component:Object(vl.a)(vf)}),u.a.createElement(D.c,{path:"scheduled",component:Object(vl.a)(bf)}),u.a.createElement(D.c,{path:"materials(/:sectionId)",component:Object(vl.a)(gf)}),u.a.createElement(D.a,{to:"community"}),u.a.createElement(D.c,{path:"community"},u.a.createElement(D.a,{to:"feed"}),u.a.createElement(D.c,{path:"feed",search:"?tagId",component:Object(vl.a)(pf)}),u.a.createElement(D.c,{path:"feed",search:"?profile",component:Object(vl.a)(Tu)}),u.a.createElement(D.c,{path:"post/:id",component:Object(vl.a)(hf)}),u.a.createElement(D.c,{path:"important",component:Object(vl.a)(vf)}),u.a.createElement(D.c,{path:"scheduled",component:Object(vl.a)(bf)})),u.a.createElement(D.c,{path:"journey",component:Object(vl.a)(Cf),onEnter:df},u.a.createElement(D.a,{to:"materials"}),u.a.createElement(D.c,{path:"materials(/:sectionId)",component:Object(vl.a)(gf)}),u.a.createElement(D.c,{path:"assignments",component:Object(vl.a)(mf)}),u.a.createElement(D.c,{path:"presentation/:presentationId(/saved)",component:Object(vl.a)(yf)}),u.a.createElement(D.c,{path:"slides",component:Object(vl.a)(If)}),u.a.createElement(D.c,{path:"assignments/:assignmentId/submissions",component:Object(vl.a)(Ef)}),u.a.createElement(D.c,{path:"quizzes(/:assignmentId)(/:submissionId)",component:Object(vl.a)(Af)}),u.a.createElement(D.c,{path:"quizzes/item-bank",component:Object(vl.a)(_f)}),u.a.createElement(D.c,{path:"reports/:assignmentId/:submissionId/:reportType",component:Object(vl.a)(Pf)}),u.a.createElement(D.c,{path:"educatorArea(/:sectionId)",component:Object(vl.a)(xf)}),u.a.createElement(D.c,{path:"engagement",component:Object(vl.a)(Sf)})),u.a.createElement(D.c,{path:"import-from-moodle",exact:!0,component:Object(vl.a)(Nf)}),u.a.createElement(D.c,{path:"people",component:Object(vl.a)(jf)},u.a.createElement(D.c,{path:"participants",component:Object(vl.a)(jf)}),u.a.createElement(D.c,{path:"groups",component:Object(vl.a)(jf)}))),u.a.createElement(D.c,{path:"dashboard/:classId/presentation/:presentationId/class",components:{overlayLoader:Ni,content:Object(vl.a)(Of)},onEnter:e}),u.a.createElement(D.c,{path:"nospaces",components:{overlayLoader:Ni,content:function(){return Object(vl.a)(Tf)({message:"You're all set up! But before you can really get started with Aula, admins at your institution will have to add you to your spaces. In the meantime, you can connect with others by messaging them on the right-hand side."})},inboxGroupMenu:El,omniSearch:Object(vl.a)(wf),userBar:Gr,userProfile:Tu},onEnter:n}),u.a.createElement(D.c,{path:"nospaces-lti",components:{overlayLoader:Ni,content:function(){return Object(vl.a)(Tf)({message:"You're all set up! Unfortunately, educators at your institution still have to finish setting up the space that you are trying to access. Make sure you come back later. In the meantime, you can connect with others by messaging them on the right-hand side."})},inboxGroupMenu:El,omniSearch:Object(vl.a)(wf),userBar:Gr,userProfile:Tu},onEnter:n}),u.a.createElement(D.c,{path:"mobile",components:Object(vl.a)(Rf)}))},Ff=function(t){return function(e,n){return new Mu.a((function(r,a){e({type:Zn.Hb,status:"started"});var o=n().user.user;Rl({email:o.username,sessionToken:o.sessionToken,deviceId:t}).then((function(){!function(t,e){e({type:Zn.Hb,status:"success",deviceId:t})}(t,e),r()}),(function(t){!function(t,e){e(Object(_t.b)(t,"logoutDevice")),e({type:Zn.Hb,status:"error",error:t})}(t,e),a(t)}))}))}},Lf=n(240),Uf=function(){var t=encodeURIComponent(window.location.href),e=window.location.href.includes("localhost")?"http://localhost:8888/?redirect=".concat(t):"https://general.aula.education/?redirect=".concat(t);return window.location.replace(e)},Gf=u.a.createElement(D.c,{path:"logout",onEnter:function(){Object(Mt.b)().dispatch((function(t,e){return new Mu.a(function(){var n=a()(i.a.mark((function n(r){var o,c,u,s,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e().user.isLogged){n.next=4;break}return r("User not logged in"),n.abrupt("return");case 4:return t(Object(Ll.c)()),o=e().institution.general.institution,c=e().user.user.username,u="",Sl.a&&(u=xl.getActiveUserInDomain(o)),n.next=11,Object(Ft.b)();case 11:return s=n.sent,t({type:Zn.Gb,status:"started"}),l=function(){var e=a()(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ff(s);case 2:t({type:Zn.Gb,status:"success"});case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),n.prev=14,n.next=17,l();case 17:n.next=23;break;case 19:return n.prev=19,n.t0=n.catch(14),n.next=23,l().catch((function(t){return r(t)}));case 23:Sl.a&&xl.setLoggedOut(o,u||c),r();case 25:case"end":return n.stop()}}),n,null,[[14,19]])})));return function(t){return n.apply(this,arguments)}}())})).then((function(t){t&&Lf.a.captureException(t,{tags:{context:"logout"}}),localStorage.clear(),window.location.href.includes("localhost")?window.location.replace("http://localhost:8888/#/select"):window.location.replace("https://general.aula.education/#/select")}))}}),zf=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(Mt.b)(),r=n.getState,(0,n.dispatch)({type:Zn.yb,status:"started"}),a=r(),o=a.user.user.sessionToken,c=a.institution.general.institution,t.next=5,Kl({sessionToken:o});case 5:window.location.replace("https://files.".concat(c,".aula.education/").concat(e.params.fileId));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),qf=u.a.createElement(D.c,{path:"files/:fileId",onEnter:zf,component:Ni}),Bf=function(t,e){var n=e||window.location.href,r=new RegExp("[?&]".concat(t,"=([^&#]*)"),"i").exec(n);return r?r[1]:null},Hf=function(){var t=a()(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ra.a)({method:"get",url:Object(na.O)()});case 2:return e=t.sent,n=e.data.providers,t.abrupt("return",n);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Wf=function(t,e){e({type:Zn.ib,status:"success",providers:t})},Vf=function(t,e){e(Object(_t.b)(t,"fetchProviders")),e({type:Zn.ib,status:"error",error:Zr()({},t)})},Kf=function(){return function(){var t=a()(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n().user.isLogged){t.next=3;break}return r={message:"You need to login first"},t.abrupt("return",Vf(r,e));case 3:return e({type:Zn.ib,status:"started"}),t.prev=4,t.next=7,Hf();case 7:return a=t.sent,t.abrupt("return",Wf(a,e));case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",Vf(t.t0,e));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,n){return t.apply(this,arguments)}}()},Yf=n(287);n(1473);function Xf(t){var e=function(){if("undefined"==typeof Reflect||!h.a)return!1;if(h.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(h()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w()(t);if(e){var a=w()(this).constructor;n=h()(r,arguments,a)}else n=r.apply(this,arguments);return I()(this,n)}}Object(F.configure)({ignoreEventsCondition:function(){return!1}});var Qf=function(t){j()(n,t);var e=Xf(n);function n(t){var r;return O()(this,n),(r=e.call(this,t)).name="UserAuthError",r}return m()(n)}(k()(Error)),Jf=function(){var t=a()(i.a.mark((function t(e,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(_l(Bf("email")));case 2:if((r=t.sent)&&!r.error){t.next=5;break}throw new Qf(r.error);case 5:return t.next=7,Object($r.d)(e.getState);case 7:"true"===Bf("login")?Object($r.c)(ta.j):Object($r.c)(ta.B),Yf.a.configureScope((function(t){e.getState()&&e.getState().user&&e.getState().user.user&&t.setUser(e.getState().user.user)})),Yf.a.setTags({institution:n.general.institution,Platform:Sl.b});case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Zf=function(t){var e=t.store,n=t.institutionData,r=Object(c.useState)(!0),a=b()(r,2),o=a[0],i=a[1],s=Object(c.useState)(),l=b()(s,2),f=l[0],d=l[1],p=new L.QueryClient,h=function(){d(Object(M.syncHistoryWithStore)(D.e,e)),i(!1),e.dispatch(Kf())};return Object(c.useEffect)((function(){Jf(e,n).then(h).catch((function(t){Yf.a.captureException(t,{tags:{context:"loadApp"}}),"UserAuthError"!==t.name?h():Uf()}))}),[]),o?null:u.a.createElement(A.a,null,u.a.createElement(N.StyleRoot,null,u.a.createElement(_.a,{store:e},u.a.createElement(H,null,u.a.createElement(L.QueryClientProvider,{client:p},u.a.createElement(D.d,{history:f},u.a.createElement(D.c,{path:"/",component:Ze},Gf,Mf(p),qf,u.a.createElement(D.a,{to:"dashboard"}))))))),u.a.createElement(Z,null))};Zf.propTypes={store:T.a.shape().isRequired,institutionData:T.a.shape().isRequired};var $f=Zf;var td=function(t){return function(e){return new Mu.a((function(n,r){e({type:Zn.T,status:"started"}),Ya.a.post("https://apiv2.".concat(t,".aula.education/conf/read"),{modules:["general","features","launchDarkly"]}).then((function(t){!function(t,e){e({type:Zn.T,status:"success",results:t.data})}(t,e),n(t.data.parse)})).catch((function(t){!function(t,e){e({type:Zn.T,status:"error",error:t})}(t,e),r(t)}))}))}},ed=function(){var t=a()(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.dispatch(td((n=void 0,n=window.location.hostname.split("."),Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).INSTITUTION||("beta"===n[0]?n[1]:n[0]))));case 2:return t.abrupt("return",e.getState().institution);case 3:case"end":return t.stop()}var n}),t)})));return function(e){return t.apply(this,arguments)}}();a()(i.a.mark((function t(){var e,n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.a.isAllowedBrowser()){t.next=13;break}return e=Object(Mt.a)(),t.next=4,ed(e);case 4:return n=t.sent,r=n.keys.launchDarkly,t.next=8,Object(d.asyncWithLDProvider)({clientSideID:null==r?void 0:r.clientSideId,user:{key:"4382d193-adc7-41ab-9af7-1000a4715915"}});case 8:a=t.sent,Object(s.render)(u.a.createElement(a,null,u.a.createElement($f,{store:e,institutionData:n})),document.getElementById("app")),t.next=14;break;case 13:Object(s.render)(f.a.AutoWarning(),document.getElementById("app"));case 14:case"end":return t.stop()}}),t)})))()},159:function(t,e,n){"use strict";var r=n(90);e.a=function(t){return function(e){return e({type:r.b,status:"success",payload:{reactions:t}})}}},16:function(t,e,n){"use strict";n.d(e,"jb",(function(){return o})),n.d(e,"ib",(function(){return c})),n.d(e,"K",(function(){return u})),n.d(e,"L",(function(){return s})),n.d(e,"M",(function(){return l})),n.d(e,"k",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"i",(function(){return p})),n.d(e,"h",(function(){return h})),n.d(e,"p",(function(){return v})),n.d(e,"l",(function(){return b})),n.d(e,"o",(function(){return g})),n.d(e,"n",(function(){return m})),n.d(e,"m",(function(){return y})),n.d(e,"G",(function(){return O})),n.d(e,"F",(function(){return E})),n.d(e,"H",(function(){return j})),n.d(e,"I",(function(){return x})),n.d(e,"J",(function(){return I})),n.d(e,"cb",(function(){return S})),n.d(e,"u",(function(){return w})),n.d(e,"Y",(function(){return C})),n.d(e,"c",(function(){return k})),n.d(e,"gb",(function(){return R})),n.d(e,"fb",(function(){return T})),n.d(e,"O",(function(){return A})),n.d(e,"N",(function(){return N})),n.d(e,"s",(function(){return P})),n.d(e,"f",(function(){return _})),n.d(e,"U",(function(){return D})),n.d(e,"db",(function(){return M})),n.d(e,"E",(function(){return F})),n.d(e,"a",(function(){return L})),n.d(e,"w",(function(){return U})),n.d(e,"x",(function(){return G})),n.d(e,"R",(function(){return z})),n.d(e,"S",(function(){return q})),n.d(e,"t",(function(){return B})),n.d(e,"r",(function(){return H})),n.d(e,"q",(function(){return W})),n.d(e,"eb",(function(){return V})),n.d(e,"T",(function(){return K})),n.d(e,"y",(function(){return Y})),n.d(e,"ab",(function(){return X})),n.d(e,"b",(function(){return Q})),n.d(e,"bb",(function(){return J})),n.d(e,"X",(function(){return Z})),n.d(e,"Z",(function(){return $})),n.d(e,"D",(function(){return tt})),n.d(e,"C",(function(){return et})),n.d(e,"hb",(function(){return nt})),n.d(e,"B",(function(){return rt})),n.d(e,"A",(function(){return at})),n.d(e,"z",(function(){return ot})),n.d(e,"g",(function(){return it})),n.d(e,"W",(function(){return ct})),n.d(e,"V",(function(){return ut})),n.d(e,"Q",(function(){return st})),n.d(e,"P",(function(){return lt})),n.d(e,"v",(function(){return ft})),n.d(e,"d",(function(){return dt})),n.d(e,"e",(function(){return pt}));var r=null,a=function(){return r},o=function(t){r=t},i=function(t){if(t){var e=Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"})["BASE_".concat(t)];if(e)return e}return a().getState().institution.keys.endpoints.apiV2},c=function(t){var e=t().institution.general.base_domain;return"https://services.".concat(e,":44300/user")},u=function(){return"".concat(i("LOGIN_CODE_REQUEST"),"/auth/login/request")},s=function(){return"".concat(i("LOGIN_CODE_VALIDATE"),"/auth/login/validate")},l=function(){return"".concat(i("LOGOUT"),"/auth/logout")},f=function(t){return"".concat(i("CLASSROOM_MATERIAL_FOLDERS"),"/materials/spaces/").concat(t,"/material/folders")},d=function(t,e){return"".concat(i("CLASSROOM_MATERIAL_FOLDER"),"/materials/spaces/").concat(t,"/material/folders/").concat(e)},p=function(t){return"".concat(i("CLASSROOM_GET_MATERIAL_SECTIONS"),"/materials/spaces/").concat(t,"/material/sections?skipContent=true")},h=function(t,e){return"".concat(i("CLASSROOM_EXPORT_MATERIAL_SECTIONS"),"/materials/spaces/").concat(t,"/material/export?educatorOnly=").concat(e)},v=function(t){return"".concat(i("CLASSROOM_POST_MATERIAL_SECTIONS"),"/materials/spaces/").concat(t,"/material/sections")},b=function(t,e){return"".concat(i("CLASSROOM_MATERIAL_SECTION"),"/materials/spaces/").concat(t,"/material/sections/").concat(e)},g=function(t,e){return"".concat(i("CLASSROOM_MATERIAL_SECTION_VERSIONS"),"/materials/spaces/").concat(t,"/material/sections/").concat(e,"/versions")},m=function(t,e){return"".concat(i("CLASSROOM_MATERIAL_SECTION_VERSION"),"/materials/spaces/").concat(t,"/material/sections/").concat(e,"/version")},y=function(t,e,n){return"".concat(i("CLASSROOM_MATERIAL_SECTION_GET_VERSION"),"/materials/spaces/").concat(t,"/material/sections/").concat(e,"/versions/").concat(n)},O=function(){return"".concat(i("INBOX_CONVERSATIONS"),"/conversations")},E=function(t){return"".concat(i("INBOX_CONVERSATION"),"/conversations/").concat(t)},j=function(t){return"".concat(i("INBOX_CONVERSATION_MESSAGES"),"/conversations/").concat(t,"/messages")},x=function(t,e){return"".concat(i("INBOX_MESSAGE"),"/conversations/").concat(t,"/messages/").concat(e)},I=function(t,e){return"".concat(i("INBOX_PARTICIPATION"),"/conversations/").concat(t,"/participants/").concat(e)},S=function(){return"".concat(i("STARTUP_DATA"),"/startup")},w=function(t){var e=t.spaceId,n=t.until,r=t.after,a=t.tagId,o=t.important,c=t.scheduled;return"".concat(i("FETCH_FEED"),"/posts/feed?space=").concat(e).concat(n?"&until=".concat(n.toISOString()):"").concat(r?"&after=".concat(r.toISOString()):"").concat(a?"&tag=".concat(a):"").concat(o?"&important=true":"").concat(c?"&scheduled=true":"")},C=function(){return"".concat(i("SEARCH"),"/search")},k=function(){return"".concat(i("ANALYTICS"),"/analytics")},R=function(){return"".concat(i("USERS"),"/users")},T=function(t){return"".concat(i("USER"),"/users/").concat(t)},A=function(){return"".concat(i("LTI_PROVIDERS"),"/lti/providers")},N=function(){return"".concat(i("LTI_CONSUMER"),"/lti-consumer")},P=function(){return"".concat("".concat(i("ENGAGEMENT_ANALYTICS"),"/engagement"),"/dashboard")},_=function(){return"".concat(i("AULA_ASSIGNMENTS"),"/assignments")},D=function(){return"".concat(i("PRESENTATIONS"),"/presentations/spaces")},M=function(t){return"".concat(i("AULA_ASSIGNMENTS"),"/assignments/").concat(t,"/submissions")},F=function(){return"".concat(i("HANDIN_SUBMISSIONS"),"/handin-submissions")},L=function(t){return"".concat(i("ACCESS_TOKEN_ENDPOINT"),"/users/authorize?aud=handin&scope=space_").concat(t)},U=function(){return"".concat(i("FILE_UPLOADER_V2"),"/file/upload")},G=function(){var t=a().getState().institution.general.base_domain;return"https://files.".concat(t)},z=function(t){return"".concat(i("POST"),"/posts/").concat(t)},q=function(t){return"".concat(i("POSTS"),"/posts?space=").concat(t)},B=function(t){var e=t.entityType,n=t.entityId;return"".concat(i("FETCH_COMMENTS"),"/comments/type/").concat(e,"/").concat(n)},H=function(){return"".concat(i("CREATE_COMMENT"),"/comments")},W=function(t){return"".concat(i("COMMENT"),"/comments/").concat(t)},V=function(t){return"".concat(i("TAGS"),"/spaces/").concat(t,"/tags")},K=function(t){var e=t.postId,n=t.tagId;return"".concat(i("POST_TAG"),"/posts/").concat(e,"/tags/").concat(n)},Y=function(t){var e=t.spaceId;return"".concat(i("GET_SPACE"),"/spaces/").concat(e,"?educators=true")},X=function(t){var e=t.spaceId,n=t.skip,r=void 0===n?0:n,a=t.sort,o=void 0===a?"lastName":a,c=t.limit,u=void 0===c?100:c,s=t.role;return"".concat(i("SPACE_PARTICIPANTS"),"/spaces/").concat(e,"/participants?limit=").concat(u,"&skip=").concat(r,"&sort=").concat(o).concat(s?"&role=".concat(s):"")},Q=function(t){return"".concat(i("ADD_PARTICIPANT_TO_SPACE"),"/spaces/").concat(t,"/participants")},J=function(t){var e=t.spaceId,n=t.before,r=void 0===n?(new Date).toISOString():n,a=t.limit,o=void 0===a?50:a;return"".concat(i("SPACE_PARTICIPANTS_HISTORY"),"/spaces/").concat(e,"/participants/history?before=").concat(r,"&limit=").concat(o)},Z=function(t,e){return"".concat(i("REMOVE_PARTICIPANT_FROM_SPACE"),"/spaces/").concat(t,"/participants/").concat(e)},$=function(t){return"".concat(i("SPACE"),"/spaces/").concat(t)},tt=function(t){var e=t.setId,n=t.spaceId,r=n?"?space=".concat(n):"",a=e?"/".concat(e):"";return"".concat(i("GROUP_SETS"),"/groups/sets").concat(a).concat(r)},et=function(t){return"".concat(i("GROUP_SET"),"/groups/sets/").concat(t)},nt=function(){return"".concat(i("VALIDATE_GROUP_EMAILS"),"/groups/validateEmails")},rt=function(){return"".concat(i("GROUP_GROUPS"),"/groups/groups")},at=function(t){return"".concat(i("GROUP_GROUP"),"/groups/groups/").concat(t)},ot=function(t){return"".concat(i("GROUP_GENERATE"),"/groups/sets/").concat(t,"/generate")},it=function(t){var e=t.id,n=t.context;return"".concat(i("BIG_BLUE_BUTTON"),"/bigbluebutton/join/").concat(n,"/").concat(e)},ct=function(){return"".concat(i("REACTIONS"),"/reactions")},ut=function(t){return"".concat(i("REACTION"),"/reactions/").concat(t,"/user")},st=function(){return"".concat(i("NOTIFICATION_SETTINGS"),"/notifications/settings")},lt=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"".concat(i("NOTIFICATIONS"),"/notifications").concat(t?"?unreadOnly=true":"")},ft=function(t){return"".concat(i("FILE_AUTH_COOKIE"),"/file/cookie?").concat(t?"body=true":"")},dt=function(){return i("API_URL")},pt=function(t){var e=t.assignmentId;return"".concat(i("AULA_ASSIGNMENTS"),"/assignments/").concat(e,"/grade")}},160:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));var r="GET_EMAIL",a="GET_CODE",o="FOCUS_WINDOW_CHANGE_FOCUS",i="FETCH_SIGNED_FILE_COOKIE"},161:function(t,e,n){"use strict";n.r(e),n.d(e,"hasFetchedAssignments",(function(){return u})),n.d(e,"isFetchingAssignments",(function(){return s})),n.d(e,"isErrored",(function(){return l})),n.d(e,"isEditingAssignment",(function(){return f})),n.d(e,"assignmentCreationError",(function(){return d})),n.d(e,"assignmentUpdateError",(function(){return p})),n.d(e,"error",(function(){return h})),n.d(e,"selectedSpace",(function(){return v})),n.d(e,"assignmentQuery",(function(){return b})),n.d(e,"assignments",(function(){return g})),n.d(e,"getExtensionFromAssignments",(function(){return m})),n.d(e,"assignment",(function(){return y})),n.d(e,"getExtension",(function(){return O})),n.d(e,"submissions",(function(){return E})),n.d(e,"isFetchingSubmissions",(function(){return j})),n.d(e,"fetchSubmissionsErrored",(function(){return x})),n.d(e,"hasFetchedSubmissions",(function(){return I})),n.d(e,"totalSubmissions",(function(){return S})),n.d(e,"filteringSubmissionsByGroup",(function(){return w})),n.d(e,"hasSubmissionInParent",(function(){return C})),n.d(e,"hasSubmissionInParentOnUpdate",(function(){return k})),n.d(e,"hasSubmissionsInCurrentExtension",(function(){return R})),n.d(e,"getStudentsInAssignment",(function(){return T}));var r=n(81),a=function(t){return t.id},o=function(t){return function(e){return e.id===t||e.objectId===t}},i=function(t){return t.assignments},c=function(t){return t.data.assignments},u=function(t){return i(t).hasFetchedAssignments},s=function(t){return i(t).isFetching},l=function(t){return i(t).isErrored},f=function(t){return i(t).isEditing},d=function(t){return i(t).assignmentCreationError},p=function(t){return i(t).assignmentUpdateError},h=function(t){return i(t).error},v=function(t){return i(t).selectedSpace},b=function(t){return i(t).query},g=function(t){return c(t).assignments},m=function(t){return function(e){return(g(t).find((n=e,function(t){var e=t.extensions;return e&&e.map(a).includes(n)}))||{}).extensions;var n}},y=function(t,e){return g(t).find(o(e))},O=function(t,e){return(m(t)(e)||[]).find(o(e))},E=function(t,e){return c(t).submissions[e]||[]},j=function(t,e){return!!(i(t).submissions[e]||{}).fetching},x=function(t,e){return!!(i(t).submissions[e]||{}).errored},I=function(t,e){return!!(i(t).submissions[e]||{}).fetched},S=function(t,e){return(i(t).submissions[e]||{}).totalSubmissions},w=function(t,e){return(i(t).submissions[e]||{}).byGroup},C=function(t){var e=d(t);return e&&e.errorCode&&"parent-assignment-submissions-exist"===e.errorCode.code},k=function(t){var e=p(t);return"parent-assignment-submissions-exist"===(null==e?void 0:e.errorCode)},R=function(t){var e=p(t);return e&&e.errorCode&&"extension-submissions-exist"===e.errorCode},T=Object(r.a)([E],(function(t){return t.map((function(t){var e=t.user,n=e.id,r=e.firstName,a=e.lastName;return{id:n,avatar:e.avatar,email:e.email,fullName:"".concat(r," ").concat(a)}}))}))},173:function(t,e,n){"use strict";n.d(e,"b",(function(){return v})),n.d(e,"c",(function(){return g})),n.d(e,"a",(function(){return j}));var r=n(20),a=n.n(r),o=n(280),i=n.n(o),c=n(413),u=n.n(c),s=n(63),l=n(24),f=n(414),d=s.c.conversations,p=s.c.sortedConversations,h={id:"id",threshold:.1,location:0,distance:100,maxPatternLength:60,minMatchCharLength:1,keys:["title"]},v=function(t){return function(e,n){var r=n(),o=p(d(r),Object(l.currentUserId)(r)),c=new i.a(o,h);return u()([].concat(a()(o.reduce((function(e,n){var r=n.title,o=n.id;return Object(f.a)({parent:r,child:t})?[].concat(a()(e),[o]):e}),[])),a()(c.search(t))))}},b=n(170),g=function(t){return function(e,n){var r=n().routing.locationBeforeTransitions.pathname;e(s.b.highlightMessage(null)),e(s.b.dismissReplyToMessage()),e(Object(b.push)({pathname:r,query:{inbox:t}}))}},m=n(12),y=n.n(m),O=n(7),E=n.n(O),j=function(t){return function(){var e=y()(E.a.mark((function e(n){var r,a;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(s.b.createConversation({title:"-",users:[t]}));case 2:return r=e.sent,a=r.objectId,e.abrupt("return",n(g(a)));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},175:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v);function g(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=function(t){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):g(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({hidden:!!t.hidden,isFolder:!0},t)}},176:function(t,e,n){"use strict";n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return b})),n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return j}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(70),u=n(13),s=n(16),l=n(55),f=n(279),d=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.postId,r=e.tagId,a=e.tagName,t.next=3,Object(l.a)({method:"put",url:Object(s.T)({postId:n,tagId:r})});case 3:return o=t.sent,c=o.data.tagPost,t.abrupt("return",Object(f.a)(c,a));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=a()(i.a.mark((function t(e){var n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.postId,r=e.tagId,t.next=3,Object(l.a)({method:"delete",url:Object(s.T)({postId:n,tagId:r})});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h=function(t,e){e({type:u.X,status:"success",fetchedTagPosts:t})},v=function(t){t({type:u.J,status:"started"})},b=function(t,e){e({type:u.J,status:"success",tagPost:t})},g=function(t,e){e(Object(c.b)(t,"createTagPost")),e({type:u.J,error:t})},m=function(t,e,n){return function(){var r=a()(i.a.mark((function r(a){var o;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return v(a),r.prev=1,r.next=4,d({tagId:t,tagName:e,postId:n});case 4:return o=r.sent,b(o,a),r.abrupt("return",o);case 9:throw r.prev=9,r.t0=r.catch(1),g(r.t0,a),r.t0;case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(t){return r.apply(this,arguments)}}()},y=function(t){t({type:u.K,status:"started"})},O=function(t,e){e({type:u.K,status:"success",payload:t})},E=function(t,e){e(Object(c.b)(t,"deleteTagPost")),e({type:u.K,error:t})},j=function(t){var e=t.tagId,n=t.postId;return function(){var t=a()(i.a.mark((function t(r,a){var o,c,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,o=a(),c=o.data.posts[n],u=(c||{}).tags||[],u.find((function(t){return t.tagId===e}))){t.next=7;break}return t.abrupt("return");case 7:return y(r),t.next=10,p({tagId:e,postId:n});case 10:O({tagId:e,postId:n},r),t.next=18;break;case 14:throw t.prev=14,t.t0=t.catch(0),E(t.t0,r),t.t0;case 18:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e,n){return t.apply(this,arguments)}}()}},177:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(552),a=n.n(r),o=n(530),i=n.n(o),c=n(96),u=function(t,e,n,r,o){if(c.a){var u=n,s="".concat(t,"=").concat(escape(e),";");u&&(u instanceof Date?a()(u.getTime())&&(u=new Date):u=new Date((new Date).getTime()+1e3*i()(u,10)*60*60*24),s+="expires=".concat(u.toGMTString(),";")),r&&(s+="path=".concat(r,";")),o&&(s+="domain=".concat(o,";")),document.cookie=s}},s=function(t){if(!c.a)return null;var e=new RegExp("(?:^".concat(t,"|;\\s*").concat(t,")=(.*?)(?:;|$)"),"g").exec(document.cookie);return null===e?null:e[1]},l=function(t,e,n){c.a&&u(t,"",-1,e,n)}},180:function(t,e,n){"use strict";n.d(e,"f",(function(){return v})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return y})),n.d(e,"b",(function(){return O})),n.d(e,"a",(function(){return j}));var r=n(43),a=n.n(r),o=n(50),i=n.n(o),c=n(0),u=n.n(c),s=n(14),l=n(947),f=n(578),d=n(15),p=["danger","children"],h=["children"],v=Object(s.b)(l.a,{target:"e1dvbpa10"})("position:absolute;right:24px;"),b=Object(s.b)(f.a,{target:"e1dvbpa11"})("line-height:18px;margin:0px;"),g=Object(s.b)((function(t){t.danger;var e=t.children,n=i()(t,p);return u.a.createElement(b,a()({size:"small",type:"primary"},n),e)}),{target:"e1dvbpa12"})("margin-left:",d.b.spacing.medium,";",(function(t){return t.danger?"\n    background-color: ".concat(d.b.color.red,";\n    :hover {\n      background-color: ").concat(d.b.color.red,";\n    }\n    :disabled {\n      background-color: ").concat(d.b.color.red,";\n    }\n  "):""})),m=Object(s.b)((function(t){return u.a.createElement(b,a()({size:"small",type:"secondary"},t))}),{target:"e1dvbpa13"})("margin-left:auto;"),y=Object(s.b)((function(t){return u.a.createElement(b,a()({size:"small",type:"text"},t))}),{target:"e1dvbpa14"})((function(t){return t.tertiary&&"margin-right: auto;"}),";",(function(t){return t.primary&&"margin-left: 24px;"}),";"),O=Object(s.b)("div",{target:"e1dvbpa15"})("font-size:",d.b.font.size.copy,";color:",(function(t){return t.type&&"info"===t.type?d.b.color.designSystem.blackOpacity87:d.b.color.red}),";flex:1;flex-shrink:1;"),E=Object(s.b)(f.a,{target:"e1dvbpa16"})("color:",d.b.color.red,";border-color:",d.b.color.red,";:hover{color:",d.b.color.red,";}:focus{border-color:",d.b.color.red,";}"),j=Object(s.b)((function(t){var e=t.children,n=i()(t,h);return u.a.createElement(b,a()({size:"small",type:"secondary"},n),e)}),{target:"e1dvbpa17"})("margin-right:8px;",(function(t){return"info"!==t.type?E:null}))},190:function(t,e,n){"use strict";var r=n(37),a=n.n(r);e.a=function(t){var e;return function(){return e&&e.cancel("Newer request."),e=a.a.CancelToken.source(),t(e.token).apply(void 0,arguments)}}},192:function(t,e,n){"use strict";n.d(e,"e",(function(){return b.b})),n.d(e,"a",(function(){return g})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return y})),n.d(e,"d",(function(){return O}));var r,a=n(12),o=n.n(a),i=n(7),c=n.n(i),u=n(6),s=n.n(u),l=n(218),f=n.n(l),d=n(13),p=n(16),h=n(24),v=n(97),b=n(385),g=function(){return r},m=function(t){var e=t.conversations,n=t.groups,a=t.materials,o=t.notifications,i=t.reactions,c=t.assignments,u=t.events,l=t.analytics,h=t.users,v=t.onReconnect,b=t.onConnect;return function(t,g){console.debug(">> socketConnect");var m=Object(p.ib)(g);r||((r=f.a.connect(m,g().user.user.sessionToken,s()(g().data.classRooms).join("|"))).on("connect",(function(){console.debug("Socket: Connected",r.id),b&&b(),t({type:d.eb,status:"success",socketId:r.id}),t({type:d.H,status:"on"})})),u(r,t,g),l(r),function(t,e,n){t.on("clients",(function(t){e({type:d.ab,status:"success",clients:t})})),t.on("client:disconnect",(function(t){n().live.clients[t]&&e({type:d.cb,status:"success",clientId:t})})),t.on("client:connect",(function(t){n().live.clients[t]||e({type:d.bb,status:"success",clientId:t})}))}(r,t,g),t(a(r)),t(e(r)),t(n(r)),t(o(r)),t(i(r)),t(h(r)),t(c(r)),r.on("error",(function(e){console.error("Socket: error",e),t({type:d.db,status:"error",error:e}),t({type:d.G,status:"off"})})),r.on("connect_error",(function(t){console.error("connect_error",t)})),r.on("connect_timeout",(function(t){console.error("connect_timeout",t)})),r.on("disconnect",(function(e){console.debug("Socket: disconnect",e),t({type:d.db,status:"disconnect",e:e}),t({type:d.G,status:"off"})})),r.on("reconnect",(function(t){console.debug("Socket: reconnect",t),v&&v()})),r.on("reconnect_attempt",(function(t){console.debug("Socket: reconnect attempt",t)})),r.on("reconnecting",(function(t){console.debug("Socket: reconnecting",t)})),r.on("reconnect_error",(function(t){console.error("Socket: reconnect error",t)})),r.on("reconnect_failed",(function(){console.error("Socket: reconnect failed")})),t({type:d.fb,status:"start"}))}},y=function(){return function(){r=void 0,f.a.disconnect()}},O=function(t){return function(){var e=o()(c.a.mark((function e(n,r){var a,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return console.debug("Not subscribing to space-level events - no space id"),e.abrupt("return");case 3:return o=Object(h.sessionToken)(r(),t),e.next=6,Object(v.a)(n,r)({spaceId:t,sessionToken:o});case 6:if(i=e.sent,null!==(a=g())&&void 0!==a&&a.connected){e.next=10;break}return console.debug("Not subscribing to space-level events - socket not connected"),e.abrupt("return");case 10:console.debug("Subscribing to space-level events for space",t),f.a.subscribeByAccessToken(i);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}},193:function(t,e,n){"use strict";var r=n(907),a=n.n(r)()();e.a={Browser:a.browser.name,"Browser Version":a.browser.version,"Operating System":a.os.name,"Operating System Version":a.os.version,"Screen Width":screen.width,"Screen Height":screen.height,"Current URL":document.URL,Referrer:document.referrer,application:"webapp"}},196:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(14),m=n(15),y=n(250),O=n.n(y),E=n(114);function j(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):j(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var I=(new O.a).prefix({wrapper:{padding:"24px",paddingTop:"22px"},to:x(x({},E.a.regular),{},{color:"black",fontSize:16,width:30,float:"left",paddingTop:2}),autocompleteWrapper:{marginLeft:30},groupNameField:{width:"calc(100% - 30px)",marginLeft:30,marginTop:10,fontSize:16},groupInfo:{marginLeft:30,marginTop:m.b.spacing.xLarge,fontSize:m.b.font.size.small,lineHeight:"16px"},groupLink:{cursor:"pointer",fontWeight:m.b.font.weight.semiBold,color:m.b.color.purple3},tooltip:{marginLeft:10},popper:Object(g.a)("z-index:1650;")});e.a=I},198:function(t,e,n){"use strict";var r=n(1),a=n.n(r),o=n(0),i=n.n(o),c=n(15),u=n(517),s=n(1497),l=n(1494),f=Object(u.a)({palette:{primary:{main:c.b.color.designSystem.purple70}}}),d=function(t){return i.a.createElement(s.a,{theme:f},i.a.createElement(l.a,t))};d.propTypes={size:a.a.string,thickness:a.a.number,style:a.a.object},e.a=d},200:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(138),m=n.n(g),y=n(193),O=n(96);function E(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):E(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}e.a=function(){return{"analytics-client-info":m()(j({platform:O.b},y.a))}}},208:function(t,e,n){"use strict";e.a=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},21:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"k",(function(){return i})),n.d(e,"m",(function(){return c})),n.d(e,"n",(function(){return u})),n.d(e,"o",(function(){return s})),n.d(e,"l",(function(){return l})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return h})),n.d(e,"s",(function(){return v})),n.d(e,"h",(function(){return b})),n.d(e,"j",(function(){return g})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return y})),n.d(e,"r",(function(){return O})),n.d(e,"t",(function(){return E})),n.d(e,"u",(function(){return j})),n.d(e,"w",(function(){return x})),n.d(e,"v",(function(){return I})),n.d(e,"i",(function(){return S}));var r="INBOX_ADD_PARTICIPANTS_TO_CONVERSATION",a="INBOX_CREATE_CONVERSATION",o="INBOX_EDIT_MESSAGE",i="INBOX_OPEN_CLOSE_CREATE_GROUP",c="INBOX_OPEN_CLOSE_LEAVE_GROUP",u="INBOX_OPEN_CLOSE_RENAME_GROUP",s="INBOX_OPEN_CLOSE_VIEW_PARTICIPANTS",l="INBOX_OPEN_EDIT_MESSAGE",f="INBOX_FETCH_CONVERSATION",d="INBOX_FETCH_CONVERSATIONS",p="INBOX_FETCH_MESSAGE",h="INBOX_FETCH_MESSAGES",v="INBOX_REPLY_TO_MESSAGE",b="INBOX_FILTER_CONVERSATIONS",g="INBOX_LEAVE_CONVERSATION",m="INBOX_RECONNECT",y="INBOX_REMOVE_PARTICIPANT_FROM_CONVERSATION",O="INBOX_RENAME_CONVERSATION",E="INBOX_SEND_MESSAGE",j="INBOX_SET_CONVERSATION_READ",x="LIVE_TYPING",I="INBOX_UPDATE_DRAFT",S="INBOX_HIGHLIGHT_MESSAGE"},215:function(t,e,n){"use strict";e.a=function(t){return{objectId:t.id,classRoom:{objectId:t.space},name:t.name,createdAt:t.createdAt,updatedAt:t.updatedAt}}},216:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v);function g(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}e.a=function(t){var e=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):g(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({objectId:t.id},t);return delete e.id,e}},220:function(t,e,n){"use strict";n.d(e,"b",(function(){return Pr})),n.d(e,"c",(function(){return _r}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(29);function m(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):m(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function O(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function E(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):O(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var j=function(t,e){switch(e.status){case"initiated":return E(E({},t),{},{currentDeleteCandidate:e.payload.section});case"abort":case"error":return E(E({},t),{},{isDeletingSection:!1,currentDeleteCandidate:null});case"request":return E(E({},t),{},{isDeletingSection:!0});case"success":return E(E({},t),{},{editing:!1,currentDeleteCandidate:null,isDeletingSection:!1});default:return t}};function x(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):x(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var S=function(t,e){switch(e.status){case"started":return I(I({},t),{},{isLoadingContent:!0,sectionId:e.payload.sectionId});case"aborted":return I(I({},t),{},{isLoadingContent:!1});case"success":return I(I({},t),{},{selectedContent:t.sectionId===e.payload.sectionId?e.payload.content:t.content,isLoadingContent:!1,sectionId:e.payload.sectionId});case"error":return I(I({},t),{},{selectedContent:null,isLoadingContent:!1});default:return t}};function w(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):w(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var k=function(t,e){switch(e.status){case"started":return C(C({},t),{},{selectedVersion:{id:e.payload.versionId},isLoadingVersion:!0});case"aborted":return C(C({},t),{},{selectedVersion:null,isLoadingVersion:!1});case"success":return C(C({},t),{},{selectedVersion:e.payload.content,isLoadingVersion:!1});case"error":return C(C({},t),{},{selectedVersion:null,isLoadingVersion:!1});default:return t}};function R(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?R(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):R(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function A(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):A(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function P(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):P(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var D=function(t,e){if(t.currentSection)return t.currentSection;var n=e.payload.materials.find((function(t){return!t.isFolder}));return n?n.id:null},M=function(t,e){switch(e.status){case"started":return _(_({},t),{},{isFetchingSections:!0,isErrored:!1});case"success":return _(_({},t),{},{hasFetchedSections:!0,isFetchingSections:!1,isErrored:!1,currentSection:D(t,e)});case"error":return _(_({},t),{},{hasFetchedSections:!1,isFetchingSections:!1,isErrored:!0});default:return t}};function F(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):F(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var U=function(t,e){return L(L({},t),{},{isHidingMaterial:"started"===e.status})};function G(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):G(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var q=n(20),B=n.n(q);function H(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function W(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):H(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var V=function(t,e){var n=B()(t.sections),r=n.indexOf(e.payload.section);if(-1===r)return t;var a=W(W({},e.payload.section),e.payload.patch);return n[r]=a,W(W({},t),{},{sections:n,currentSection:e.payload.section===t.currentSection?a:t.currentSection})};function K(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):K(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function X(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):X(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function J(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):J(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var $=function(t,e){return Z(Z({},t),{},{leaveDestinationPath:e.payload.destinationPath,editing:null!==e.payload.keepEditing?e.payload.keepEditing:t.editing})};function tt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):tt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var nt=function(t,e){return et(et({},t),{},{editing:e.payload.editing})};function rt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):rt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var ot=function(t,e){var n=e.payload.folderId,r=t.expandedFolders;return at(at({},t),{},{expandedFolders:at(at({},r),{},b()({},n,!r[n]))})};function it(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):it(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var ut=function(t){var e=t.isMaterialEducatorOnlyExpanded;return ct(ct({},t),{},{isMaterialEducatorOnlyExpanded:!e})};function st(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):st(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var ft=function(t,e){return lt(lt({},t),{},{renameFolderDialogOpenFor:e.payload.renameFolderDialogOpenFor})};function dt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):dt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var ht=function(t,e){return pt(pt({},t),{},{deleteFolderDialogOpenFor:e.payload.deleteFolderDialogOpenFor})};function vt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):vt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var gt=function(t,e){switch(e.status){case"started":return bt(bt({},t),{},{isSavingFolder:!0});case"success":case"error":return bt(bt({},t),{},{renameFolderDialogOpenFor:null,isSavingFolder:!1});default:return t}};function mt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):mt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var Ot=function(t,e){switch(e.status){case"started":return yt(yt({},t),{},{isDeletingFolder:!0});case"success":case"error":return yt(yt({},t),{},{isDeletingFolder:!1,deleteFolderDialogOpenFor:null});default:return t}};function Et(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Et(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var xt=function(t,e){return jt(jt({},t),{},{scheduleMaterialDialogOpenFor:e.payload.scheduleMaterialDialogOpenFor})};function It(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):It(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var wt=function(t,e){return St(St({},t),{},{scheduleSectionDialogOpenFor:e.payload.scheduleSectionDialogOpenFor})};function Ct(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Ct(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var Rt,Tt=function(t,e){return"success"!==e.status?t:kt(kt({},t),{},{selectedContent:e.payload.updatedMaterial.content})};function At(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}var Nt={editing:!1,hasDismissedGetStarted:!1,hasFetchedSections:!1,isDeletingSection:!1,isFetchingSections:!1,isLoadingContent:!1,sectionId:void 0,isLoadingVersion:!1,isFetchingVersions:!1,isHidingMaterial:!1,isImportingMaterials:!1,isRevertingSection:!1,isErrored:!1,isSavingSection:!1,hasSavingSectionErrored:!1,sections:null,currentDeleteCandidate:null,selectedContent:null,currentRevertCandidate:null,leaveDestinationPath:null,expandedFolders:{},isMaterialEducatorOnlyExpanded:!0,renameFolderDialogOpenFor:null,isSavingFolder:!1,deleteFolderDialogOpenFor:null,isDeletingFolder:!1,scheduleMaterialDialogOpenFor:null,scheduleSectionDialogOpenFor:null},Pt=(Rt={},b()(Rt,g.d,(function(t){return y(y({},t),{},{editing:!0})})),b()(Rt,g.e,j),b()(Rt,g.j,S),b()(Rt,g.f,(function(t){return T(T({},t),{},{hasDismissedGetStarted:!0})})),b()(Rt,g.i,M),b()(Rt,g.l,U),b()(Rt,g.m,(function(t,e){switch(e.status){case"started":return z(z({},t),{},{isImportingMaterials:!0});case"success":case"error":return z(z({},t),{},{isImportingMaterials:!1});default:return t}})),b()(Rt,g.q,V),b()(Rt,g.u,(function(t,e){switch(e.status){case"started":return Q(Q({},t),{},{isSavingSection:!0});case"success":return Q(Q({},t),{},{editing:!1,isSavingSection:!1,selectedContent:e.payload.section.content});case"error":return Q(Q({},t),{},{editing:!1,isSavingSection:!1,hasSavingSectionErrored:!0});default:return t}})),b()(Rt,g.n,$),b()(Rt,g.s,(function(){return function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):At(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({},Nt)})),b()(Rt,g.v,nt),b()(Rt,g.k,k),b()(Rt,g.g,(function(t,e){var n=e.payload.section;return N(N({},t),{},{currentRevertCandidate:n?n.id:null,isFetchingVersions:"started"===e.status})})),b()(Rt,g.t,(function(t,e){switch(e.status){case"started":return Y(Y({},t),{},{isRevertingSection:!0});case"success":return Y(Y({},t),{},{isRevertingSection:!1,currentRevertCandidate:null});case"error":return Y(Y({},t),{},{isRevertingSection:!1});default:return t}})),b()(Rt,g.w,ot),b()(Rt,g.x,ut),b()(Rt,g.z,ft),b()(Rt,g.y,ht),b()(Rt,g.b,gt),b()(Rt,g.a,Ot),b()(Rt,g.A,xt),b()(Rt,g.B,wt),b()(Rt,g.h,Tt),Rt),_t=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=Pt[e.type];return n?n(t,e):t};function Dt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Dt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var Ft=function(t,e){return Mt(Mt({},t),{},b()({},e.id,e))},Lt=function(t,e){var n=Mt({},t);return delete n[e],n};function Ut(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Ut(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function zt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}var qt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.materialId,a=n.childrenSectionIds,o=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):zt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({},t);return a&&a.forEach((function(t){return delete o[t]})),delete o[r],o};function Bt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Bt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Bt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function Wt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Wt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var Kt=function(t,e){return t[e.id]=e,t};function Yt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Yt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var Qt=function(t,e){return t[e.id]=e,t};function Jt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Zt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function te(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?te(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):te(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function ne(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):ne(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function ae(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function oe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ae(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):ae(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}function ie(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):ie(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var ue,se=function(t,e){if("success"!==e.status)return t;var n=e.payload.updatedMaterial;return ce(ce({},t),{},b()({},n.id,ce(ce({},t[n.id]),n)))},le={},fe=(ue={},b()(ue,g.c,(function(t,e){var n=e.status,r=e.payload,a=r.folder,o=r.localId;switch(n){case"started":return Ft(t,a);case"success":return Lt(Ft(t,a),o);case"error":return Lt(t,o);default:return t}})),b()(ue,g.d,(function(t,e){var n=e.payload.section;return Gt(Gt({},t),{},b()({},n.id,n))})),b()(ue,g.e,qt),b()(ue,g.a,qt),b()(ue,g.g,(function(t,e){if("success"!==e.status)return t;var n=e.payload.section,r=n.id,a=n.versions,o=t[r];return Ht(Ht({},t),{},b()({},r,Ht(Ht({},o),{},{versions:a})))})),b()(ue,g.i,(function(t,e){if("success"!==e.status)return t;var n=e.payload.materials;return Vt(Vt({},t),n.reduce(Kt,{}))})),b()(ue,g.l,se),b()(ue,g.h,se),b()(ue,g.m,(function(t,e){if("success"!==e.status)return t;var n=e.payload.sections;return Xt(Xt({},t),n.reduce(Qt,{}))})),b()(ue,g.o,(function(t,e){var n=e.payload.material,r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Jt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({},t);return delete r[n.id],r})),b()(ue,g.p,(function(t,e){var n=e.payload,r=n.material,a=n.localId,o=$t($t({},t),{},b()({},r.id,$t($t({},t[r.id]),r)));return a&&delete o[a],o})),b()(ue,g.t,(function(t,e){if("success"!==e.status)return t;var n=e.payload.section;return ee(ee({},t),{},b()({},n.id,n))})),b()(ue,g.u,(function(t,e){var n=e.payload,r=n.sectionId,a=n.patch,o=n.section,i=n.oldSection;switch(e.status){case"started":return re(re({},t),{},b()({},r,re(re(re({},t[r]),a),{},{writer:t[r].writer})));case"success":var c=re(re({},t),{},b()({},o.id,re(re({},i),o)));return i&&i.id!==o.id&&delete c[i.id],c;case"error":default:return re(re({},t),{},b()({},i.id,i))}})),b()(ue,g.r,(function(t,e){var n=e.payload,r=n.materialId,a=n.patch,o=n.updatedMaterial,i=n.oldMaterial;switch(e.status){case"started":return oe(oe({},t),{},b()({},r,oe(oe({},t[r]),a)));case"success":return oe(oe({},t),{},b()({},r,o));case"error":default:return oe(oe({},t),{},b()({},r,i))}})),b()(ue,g.b,se),ue),de=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=fe[e.type];return n?n(t,e):t},pe=n(12),he=n.n(pe),ve=n(7),be=n.n(ve),ge=n(539),me=n.n(ge),ye=n(211),Oe=n.n(ye),Ee=n(77),je=n(175),xe="Untitled section",Ie=n(62),Se=n(25),we=function(t){return function(e){return e({type:g.z,payload:{renameFolderDialogOpenFor:t}})}};function Ce(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Ce(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var Re=function(t){var e=t.title;return function(t){return t.isFolder}(t)&&e.startsWith(xe)},Te=function(t,e){return!t.some((function(t){return t.title===e}))},Ae=function(t){return me()(t.order)},Ne=function(t,e){return{type:g.c,status:t,payload:e}},Pe=Ne.bind(null,"started"),_e=Ne.bind(null,"success"),De=Ne.bind(null,"error"),Me=function(t){return function(){var e=he()(be.a.mark((function e(n,r){var a,o,i,c,u,s,l,f,d,p;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=r(),o=Object(Ie.topLevelMaterials)(a),i=o.filter(Re),c=xe,u=1;!Te(i,c);)c="".concat(xe," (").concat(u,")"),u+=1;return s={title:c,hidden:!t,educatorOnly:t},l="local.".concat(Oe()()),f=Object(Se.currentClassRoomId)(a),d=Math.max.apply(Math,B()(o.length?o.map(Ae):[5])),n(Pe({folder:Object(je.a)(ke(ke({},s),{},{id:l,order:String((d+10)/2),space:f}))})),e.prev=11,e.next=14,Object(Ee.a)(f,s,l);case 14:return p=e.sent,n(we(l)),e.next=18,n(_e({localId:l,folder:p}));case 18:n(we(p.id)),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(11),n(De({localId:l,error:e.t0}));case 24:case"end":return e.stop()}}),e,null,[[11,21]])})));return function(t,n){return e.apply(this,arguments)}}()},Fe=n(24),Le=function(t){var e=t.content,n=t.parent,r=t.educatorOnly,a=t.hidden,o=void 0===a||a,i=t.onSelect;return function(){var t=he()(be.a.mark((function t(a,c){var u,s,l,f,d;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u=c(),s=Fe.currentUserSlim(u),l=Se.currentClassRoomId(u),f="local.".concat(Oe()()),d={id:f,title:"",hidden:o,updatedAt:(new Date).toISOString(),writer:s,space:l,parent:n,educatorOnly:r},a({type:g.d,payload:{section:d}}),a({type:g.j,status:"success",payload:{content:e}}),i&&a(i(f,r));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()};function Ue(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ge(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ue(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Ue(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var ze=function(t,e){return{type:g.e,status:t,payload:e}},qe=ze.bind(null,"success"),Be=ze.bind(null,"error"),He=function(t){var e=t.status,n=void 0===e?"initiated":e,r=t.selectSection,a=t.educatorOnly;return function(){var t=he()(be.a.mark((function t(e,o){var i,c,u,s,l;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=o(),c=Se.currentClassRoomId(i),u=Ie.currentSectionId(i),s=Ie.fallbackSectionId(i,u,a),e(ze(n,l={materialId:u})),"initiated"!==n&&"abort"!==n){t.next=8;break}return t.abrupt("return");case 8:if(t.prev=8,u.startsWith("local.")){t.next=12;break}return t.next=12,Object(Ee.d)(c,u);case 12:e(qe(l)),r&&e(r(s,a)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(8),e(Be(Ge(Ge({},l),{},{error:t.t0})));case 19:case"end":return t.stop()}}),t,null,[[8,16]])})));return function(e,n){return t.apply(this,arguments)}}()},We=function(t,e){return{type:g.j,status:t,payload:e}},Ve=We.bind(null,"started"),Ke=We.bind(null,"success"),Ye=We.bind(null,"error"),Xe=We.bind(null,"aborted"),Qe=function(t){var e=t.sectionId;return function(){var t=he()(be.a.mark((function t(n,r){var a,o,i,c;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r(),o=Se.currentClassRoomId(a),n(Ve({sectionId:e})),e&&!e.startsWith("local.")){t.next=6;break}return n(Xe()),t.abrupt("return");case 6:return t.prev=6,t.next=9,Object(Ee.g)(o,e);case 9:i=t.sent,c=i.content,n(Ke({content:c,sectionId:e})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),"Newer request."!==t.t0.message&&n(Ye(t.t0));case 17:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e,n){return t.apply(this,arguments)}}()},Je=function(t,e){return{type:g.k,status:t,payload:e}},Ze=Je.bind(null,"started"),$e=Je.bind(null,"success"),tn=Je.bind(null,"error"),en=Je.bind(null,"aborted"),nn=function(t){var e=t.sectionId,n=t.versionId;return function(){var t=he()(be.a.mark((function t(r,a){var o,i,c;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a(),i=Se.currentClassRoomId(o),r(Ze({versionId:n})),e&&i&&n||r(en()),t.prev=4,t.next=7,Object(Ee.h)(i,e,n);case 7:c=t.sent,r($e({content:c})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),"Newer request."!==t.t0.message&&r(tn(t.t0));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,n){return t.apply(this,arguments)}}()};function rn(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):rn(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var on=function(t,e){return{type:g.g,status:t,payload:e}},cn=on.bind(null,"started"),un=on.bind(null,"success"),sn=on.bind(null,"error"),ln=function(){var t=he()(be.a.mark((function t(e,n,r){var a,o,i,c,u;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=n(),o=Se.currentClassRoomId(a),i=Ie.getMaterial(a,r),e(cn(c={classRoom:o,section:i})),i){t.next=7;break}return t.abrupt("return");case 7:return t.prev=7,t.next=10,Object(Ee.i)(o,r);case 10:u=t.sent,e(un(an(an({},c),{},{section:an(an({},i),{},{versions:u})}))),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(7),e(sn(c));case 17:case"end":return t.stop()}}),t,null,[[7,14]])})));return function(e,n,r){return t.apply(this,arguments)}}(),fn=function(t,e){return{type:g.i,status:t,payload:e}},dn=fn.bind(null,"started"),pn=fn.bind(null,"success"),hn=fn.bind(null,"error"),vn=function(t){return function(){var e=he()(be.a.mark((function e(n,r){var a,o,i;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),o=t||Se.currentClassRoomId(a)){e.next=4;break}return e.abrupt("return");case 4:return n(dn()),e.prev=5,e.next=8,Object(Ee.f)(o);case 8:i=e.sent,n(pn({classRoom:o,materials:i})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(5),n(hn(e.t0));case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}()};function bn(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function gn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bn(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):bn(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var mn=function(t,e){return{type:g.l,status:t,payload:e}},yn=mn.bind(null,"started"),On=mn.bind(null,"success"),En=mn.bind(null,"error"),jn=function(){var t=he()(be.a.mark((function t(e,n,r,a){var o,i,c,u,s;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=Se.currentClassRoomId(n),i=gn(gn({},r),{},{hidden:a}),e(yn({materialId:r.id})),t.prev=3,c=r.isFolder?Ee.j:Ee.k,u={hidden:a,scheduledFor:null},r.id.startsWith("local.")){t.next=12;break}return t.next=9,c(o,r.id,u);case 9:t.t0=t.sent,t.next=13;break;case 12:t.t0=i;case 13:s=t.t0,e(On({updatedMaterial:s})),t.next=20;break;case 17:t.prev=17,t.t1=t.catch(3),e(En(t.t1));case 20:case"end":return t.stop()}}),t,null,[[3,17]])})));return function(e,n,r,a){return t.apply(this,arguments)}}(),xn=n(49),In=n.n(xn),Sn=n(859),wn=n(238);function Cn(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Cn(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Cn(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var Rn=function(t){var e=t.classRoom,n=t.educatorOnly;return function(t){return function(){return t.content?Object(Ee.b)(e,kn(kn({},t),{},{educatorOnly:n})):Object(Ee.a)(e,kn(kn({},t),{},{educatorOnly:n}))}}},Tn=function(t,e){var n=t.length?t[t.length-1]:In.a.resolve();return t.push(n.then(e)),t},An=function(t,e){return{type:g.m,status:t,payload:e}},Nn=An.bind(null,"started"),Pn=An.bind(null,"success"),_n=An.bind(null,"error"),Dn=function(t){var e=t.materials,n=t.educatorOnly;return function(){var t=he()(be.a.mark((function t(r,a){var o,i,c,u,s,l;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a(),i=Fe.currentUserId(o),c=Se.currentClassRoomId(o),r(Nn({classRoom:c,materials:e})),t.prev=4,s=function(t){return function(){return Object(Sn.b)(Rn({classRoom:c,educatorOnly:n}),i)(t)}},t.t0=(u=[]).concat,t.t1=u,t.t2=B.a,t.next=11,f=e.map(s),In.a.all(f.reduce(Tn,[]));case 11:t.t3=t.sent,t.t4=(0,t.t2)(t.t3),l=t.t0.apply.call(t.t0,t.t1,t.t4),r(Pn({classRoom:c,sections:l})),r(wn.a.showToast({emoji:"",message:"The materials were imported successfully."})),t.next=22;break;case 18:t.prev=18,t.t5=t.catch(4),r(_n(t.t5)),r(wn.a.showToast({emoji:"",message:"There was an error when importing the materials."}));case 22:case"end":return t.stop()}var f}),t,null,[[4,18]])})));return function(e,n){return t.apply(this,arguments)}}()},Mn=function(t,e){return function(n,r){n({type:g.n,payload:{destinationPath:t,keepEditing:e}}),!1===e&&n(vn(r().classRoom.current))}},Fn=n(197),Ln=n.n(Fn),Un=function(t,e){var n=e.destId,r=e.parentId,a=e.dropType,o=Ie.sectionsByParent(t,r);if(!n&&r){var i=o[o.length-1],c=i?i.order:Ln()("4.5");return Ln()(c).add(Ln()("9.5")).div(Ln()("2")).toFixed()}var u=Ie.getMaterial(t,n),s=o.findIndex((function(t){return t.id===n})),l=Ln()(u.order),f=Ln()(s>0?o[s-1].order:"0.5"),d=Ln()(s<o.length-1?o[s+1].order:"9.5"),p="before"===a?f:d;return l.add(p).div(Ln()("2")).toFixed()},Gn=function(t,e){return{type:g.r,status:t,payload:e}},zn=Gn.bind(null,"started"),qn=Gn.bind(null,"success"),Bn=Gn.bind(null,"error"),Hn=function(t){var e=t.sourceId,n=t.destId,r=t.parentId,a=t.dropType;return function(){var t=he()(be.a.mark((function t(o,i){var c,u,s,l,f,d,p;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i(),u=Se.currentClassRoomId(c),s=Ie.getMaterial(c,e),l=Ie.isFolder(c,e),f={parent:r||null,order:Un(c,{destId:n,parentId:r,dropType:a})},o(zn({materialId:e,patch:f})),t.prev=6,d=l?Object(Ee.j)(u,e,f):Object(Ee.k)(u,e,f),t.next=10,d;case 10:p=t.sent,o(qn({materialId:e,updatedMaterial:p})),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(6),o(Bn({error:t.t0,materialId:e,oldMaterial:s}));case 17:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e,n){return t.apply(this,arguments)}}()},Wn=function(t,e){return{type:g.t,status:t,payload:e}},Vn=Wn.bind(null,"started"),Kn=Wn.bind(null,"success"),Yn=Wn.bind(null,"error"),Xn=function(t){return function(){var e=he()(be.a.mark((function e(n,r){var a,o,i,c,u,s;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=Se.currentClassRoomId(a),i=Ie.currentSection(a),c={classRoom:o,section:i,version:t.id},n(Vn(c)),e.prev=5,e.next=8,Object(Ee.l)(o,i.id,t.id);case 8:u=e.sent,s={classRoom:o,section:u,version:u.version},n(Kn(s)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),n(Yn(e.t0));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()},Qn=n(138),Jn=n.n(Qn),Zn=n(286),$n=n.n(Zn),tr=n(46),er=n(44),nr=n(388);function rr(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ar(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rr(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):rr(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var or=function(t){return t.startsWith("local.")},ir=function(t){return ar(ar({},t),{},{content:t.content&&Jn()(t.content),writer:t.writer&&t.writer.id?t.writer.id:t.writer})},cr=function(t,e){return!!($n()(t.title,e.title)||$n()(t.content,e.content)||$n()(t.scheduledFor,e.scheduledFor)||$n()(t.discussionTopic,e.discussionTopic)||$n()(t.showDiscussion,e.showDiscussion))},ur=function(t,e){return{type:g.u,status:t,payload:e}},sr=ur.bind(null,"started"),lr=ur.bind(null,"success"),fr=ur.bind(null,"error"),dr=function(t){var e=t.oldSection,n=t.newSection,r=t.classRoomId,a=t.sectionId,o=function(t,e){return!t.discussionTopic&&e.discussionTopic?er.a:t.discussionTopic&&!e.discussionTopic?er.S:!t.showDiscussion&&e.showDiscussion?er.W:t.showDiscussion&&!e.showDiscussion?er.x:void 0}(e,n);o&&Object(tr.c)(o,{activeClassroom:r,itemId:a})},pr=function(t){var e=t.id,n=t.patch,r=t.select,a=t.educatorOnly;return function(){var t=he()(be.a.mark((function t(o,i){var c,u,s,l,f,d,p;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=i(),o(Object(nr.a)(!1)),u=Se.currentClassRoomId(c),s=e?Ie.getMaterial(c,e):Ie.currentSection(c),l=ar(ar({},s),{},{content:Ie.selectedContent(c)}),f=s.id,(d=or(f))||cr(l,n)){t.next=9;break}return t.abrupt("return");case 9:if(t.prev=9,o(sr({sectionId:f,patch:n})),!d){t.next=17;break}return t.next=14,Object(Ee.b)(u,ar(ar({},ir(ar(ar({},s),n))),{},{parent:s.parent}),f);case 14:t.t0=t.sent,t.next=20;break;case 17:return t.next=19,Object(Ee.k)(u,f,ir(n));case 19:t.t0=t.sent;case 20:p=t.t0,o(lr({classRoom:u,section:p,oldSection:s})),r&&o(r(p.id,a)),dr({oldSection:s,newSection:n,classRoomId:u,sectionId:f}),t.next=30;break;case 27:t.prev=27,t.t1=t.catch(9),o(fr({oldSection:s,error:t.t1}));case 30:case"end":return t.stop()}}),t,null,[[9,27]])})));return function(e,n){return t.apply(this,arguments)}}()},hr=function(t){return function(e){return e({type:g.w,payload:{folderId:t}})}},vr=function(){return function(t){return t({type:g.x})}},br=function(t,e){return{type:g.b,status:t,payload:e}},gr=br.bind(null,"started"),mr=br.bind(null,"success"),yr=br.bind(null,"error"),Or=function(t,e){return function(){var n=he()(be.a.mark((function n(r,a){var o,i,c;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=a(),i=Ie.getMaterial(o,t)){n.next=4;break}return n.abrupt("return");case 4:return r(gr({materialId:t})),n.prev=5,n.next=8,Object(Ee.j)(i.space,t,e);case 8:c=n.sent,r(mr({updatedMaterial:c})),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(5),r(yr({error:n.t0}));case 15:case"end":return n.stop()}}),n,null,[[5,12]])})));return function(t,e){return n.apply(this,arguments)}}()};function Er(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function jr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Er(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):Er(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var xr=function(t,e){return{type:g.a,status:t,payload:e}},Ir=function(t){return xr("started",t)},Sr=function(t){return xr("success",t)},wr=function(t){return xr("error",t)},Cr=function(t,e,n){return function(){var r=he()(be.a.mark((function r(a,o){var i,c,u,s,l,f,d;return be.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=o(),a(Ir(c={materialId:t})),r.prev=3,u=Se.currentClassRoomId(i),r.next=7,Object(Ee.c)(u,t);case 7:s=Ie.sectionsByParent(i,t).map((function(t){return t.id})),a(Sr(jr(jr({},c),{},{childrenSectionIds:s}))),l=Ie.topLevelMaterialIds(i),f=1===l.length&&l[0]===t,d=f?null:Ie.fallbackSectionId(i,t),a(e(d,n)),r.next=18;break;case 15:r.prev=15,r.t0=r.catch(3),a(wr(jr(jr({},c),{},{error:r.t0})));case 18:case"end":return r.stop()}}),r,null,[[3,15]])})));return function(t,e){return r.apply(this,arguments)}}()},kr=n(69),Rr=function(){return function(t){t(Object(kr.a)({message:"This discussion will be hidden once the page is saved"}))}},Tr={createFolder:Me,createSection:Le,deleteSection:He,getSection:Qe,getVersion:nn,dismissGetStarted:function(t){return function(){return function(t){return t({type:g.f,payload:{}})}(t)}},displayRevertModal:function(t){return function(e,n){return ln(e,n,t)}},fetchSections:vn,hideMaterial:function(t){return function(){var e=he()(be.a.mark((function e(n,r){var a,o;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=t?Ie.getMaterial(a,t):Ie.currentSection(a),e.next=4,jn(n,a,o,!0);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},unHideMaterial:function(t){return function(){var e=he()(be.a.mark((function e(n,r){var a,o;return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=Ie.getMaterial(a,t),e.next=4,jn(n,a,o,!1);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},importMaterial:Dn,leaveWithoutSaving:Mn,liveDeletedMaterial:function(t){return function(e){return function(t,e){return t({type:g.o,payload:{material:e}})}(t,e)}},liveUpdatedMaterial:function(t){return function(e){return function(t,e){return t({type:g.p,payload:e})}(t,e)}},reorderMaterial:Hn,resetSections:function(){return function(t){return t({type:g.s})}},revertSectionToVersion:Xn,saveSection:pr,setEditing:nr.a,toggleFolder:hr,toggleMaterialEducatorOnly:vr,openRenameFolder:we,closeRenameFolder:function(){return function(t){return t({type:g.z,payload:{renameFolderDialogOpenFor:null}})}},editFolder:Or,deleteFolder:Cr,openDeleteFolder:function(t){return function(e){return e({type:g.y,payload:{deleteFolderDialogOpenFor:t}})}},closeDeleteFolder:function(){return function(t){return t({type:g.y,payload:{deleteFolderDialogOpenFor:null}})}},openScheduleMaterial:function(t){return function(e){return e({type:g.A,payload:{scheduleMaterialDialogOpenFor:t}})}},closeScheduleMaterial:function(){return function(t){return t({type:g.A,payload:{scheduleMaterialDialogOpenFor:null}})}},hideDiscussion:Rr},Ar=n(147),Nr={appReducer:_t,dataReducer:de,operations:Tr,selectors:Ie,registerLive:function(t){var e=t.liveDeletedMaterial,n=t.liveUpdatedMaterial;return function(t){var r=function(t){return function(e){var r=e.section,a=e.localId,o=Object(Ar.a)(r);n(t)({material:o,localId:a})}},a=function(t){return function(n){var r=n.id;e(t)({id:r})}},o=function(t){return function(e){var r=e.folder,a=e.localId,o=Object(je.a)(r);n(t)({material:o,localId:a})}};return function(e){t.on("Material:SectionAdded",r(e)),t.on("Material:SectionUpdated",r(e)),t.on("Material:SectionDeleted",a(e)),t.on("Material:FolderAdded",o(e)),t.on("Material:FolderUpdated",o(e)),t.on("Material:FolderDeleted",a(e))}}}(Tr)},Pr=Nr.operations,_r=Nr.selectors;e.a=Nr},222:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(45),a=n.n(r),o=n(0),i=n(675),c=n.n(i),u={sm:360,md:900,lg:1200,xl:1440},s=function(t){return{xs:t<u.sm,sm:t>=u.sm,md:t>=u.md,lg:t>=u.lg,xl:t>=u.xl}};e.b=function(){var t=Object(o.useState)((function(){return s(window.innerWidth)})),e=a()(t,2),n=e[0],r=e[1];return Object(o.useEffect)((function(){var t=c()((function(){r(s(window.innerWidth))}),200);return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}},237:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"d",(function(){return u})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(49),a=n.n(r),o=n(177),i=n(208);function c(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}function u(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}var s=function(){return"MacIntel"===navigator.platform};function l(){var t=Object(o.c)("aulaUID");return t||(t=Object(i.a)(),Object(o.a)("aulaUID",t,365,"",Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).LOCAL?"localhost":".aula.education")),a.a.resolve(t)}},238:function(t,e,n){"use strict";var r=n(69),a=n(701);e.a={showToast:r.a,dismissToast:a.a}},239:function(t,e,n){"use strict";var r=n(216);e.a=function(t){return{objectId:t.id,user:Object(r.a)(t.author||{}),classRoom:t.space,content:t.content,important:t.important,createdAt:t.createdAt,editedAt:t.editedAt,deletedAt:t.deletedAt,scheduledFor:t.scheduledFor,publishedAt:t.publishedAt,tags:t.tags||[]}}},24:function(t,e,n){"use strict";n.r(e),n.d(e,"accessToken",(function(){return i})),n.d(e,"needsToRefreshAccessToken",(function(){return c})),n.d(e,"user",(function(){return u})),n.d(e,"currentUserId",(function(){return s})),n.d(e,"currentUser",(function(){return l})),n.d(e,"currentUserSlim",(function(){return f})),n.d(e,"currentUserFeatures",(function(){return d})),n.d(e,"sessionToken",(function(){return p})),n.d(e,"getUserRoles",(function(){return h})),n.d(e,"isInstructorInAnySpace",(function(){return v})),n.d(e,"getUserRole",(function(){return b})),n.d(e,"isChangingStatus",(function(){return g}));var r=n(211),a=n.n(r),o=n(25),i=function(t,e){return t.accessTokens[e]&&t.accessTokens[e].token},c=function(t,e){return!t.accessTokens[e]||a()()>t.accessTokens[e].expiry},u=function(t){return t.user},s=function(t){return u(t).userId},l=function(t){return u(t).user},f=function(t){var e=u(t).user;return{id:e.objectId,firstName:e.firstName,lastName:e.lastName,avatar:e.avatar}},d=function(t){return(l(t)||{}).features||{}},p=function(t){var e=l(t);return e&&e.sessionToken},h=function(t){return(l(t)||{}).userRoles||[]},v=function(t){var e=Object(o.classRooms)(t),n=Object(o.classRoomUsers)(t),r=s(t);return function(t){return t.classRoomUser}(t).self.map((function(t){return n[t]&&e[n[t].classRoom]})).some((function(e){return!!e&&Object(o.isInstructorInSpace)(t)(r,e.objectId)}))},b=function(t){return h(t).includes("admin")?"Admin":v(t)?"Instructor":"Student"},g=function(t){return u(t).changingStatus}},240:function(t,e,n){"use strict";var r=n(942);e.a=r},241:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r="TOASTS_SHOW_TOAST",a="TOASTS_DISMISS_TOAST"},242:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(13),a=function(t,e,n){n({type:r.F,status:"success",postId:t,comments:e})}},243:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(16),u=n(55),s=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o,s,l,f,d,p;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.spaceId,r=e.until,a=e.after,o=e.tagId,s=e.important,l=e.scheduled,t.next=3,Object(u.a)({method:"get",url:Object(c.u)({spaceId:n,until:r,after:a,tagId:o,important:s,scheduled:l})});case 3:if(f=t.sent,d=f.data,200===(p=f.status)){t.next=8;break}throw new Error("Feed fetch non 200: ".concat(p));case 8:return t.abrupt("return",d);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a=s},249:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"f",(function(){return u})),n.d(e,"e",(function(){return s})),n.d(e,"a",(function(){return l}));var r=function(t,e){return"on"===(t.institution.features||{})[e]},a=function(t){return r(t,"FEAT_BIG_BLUE_BUTTON")},o=function(t){return r(t,"FEAT_BIG_BLUE_BUTTON_IN_DMS")},i=function(t){return r(t,"FEAT_ENGAGEMENT_INSIGHTS")},c=function(t){return t.institution},u=function(t){return c(t).general.institution},s=function(t){return c(t).name},l=function(t){return t.institution.general.base_domain}},25:function(t,e,n){"use strict";n.r(e),n.d(e,"classRoom",(function(){return d})),n.d(e,"classRoomPosts",(function(){return p})),n.d(e,"isUpdatingPostInSpace",(function(){return h})),n.d(e,"isUpdatingPostIdInSpace",(function(){return v})),n.d(e,"classRooms",(function(){return b})),n.d(e,"classRoomUsers",(function(){return g})),n.d(e,"currentClassRoomId",(function(){return m})),n.d(e,"currentClassRoom",(function(){return y})),n.d(e,"isAddingParticipantToSpace",(function(){return O})),n.d(e,"hasAddParticipantError",(function(){return E})),n.d(e,"classRoomName",(function(){return j})),n.d(e,"currentSpaceSelector",(function(){return x})),n.d(e,"instructorUsers",(function(){return I})),n.d(e,"isInstructorInSpace",(function(){return S})),n.d(e,"accessingSpaceAsStaff",(function(){return w})),n.d(e,"accessingCurrentSpaceAsStaff",(function(){return C})),n.d(e,"isInstructor",(function(){return k})),n.d(e,"isChangingAvatar",(function(){return R})),n.d(e,"participantIds",(function(){return T})),n.d(e,"participants",(function(){return A})),n.d(e,"participantCount",(function(){return N})),n.d(e,"participantsHistory",(function(){return P})),n.d(e,"participantsHistoryCount",(function(){return _})),n.d(e,"classifyParticipants",(function(){return D})),n.d(e,"studentCountSelector",(function(){return M})),n.d(e,"postExists",(function(){return F})),n.d(e,"postsSelector",(function(){return L})),n.d(e,"postsCountSelector",(function(){return U})),n.d(e,"importantPostsSelector",(function(){return G})),n.d(e,"importantPostsCountSelector",(function(){return z})),n.d(e,"recentImportantPostsSelector",(function(){return q})),n.d(e,"recentImportantPostsCountSelector",(function(){return B})),n.d(e,"postsExcludingRecentImportantSelector",(function(){return H})),n.d(e,"getScheduledPosts",(function(){return W})),n.d(e,"scheduledPostCount",(function(){return V})),n.d(e,"nextScheduledPostId",(function(){return K})),n.d(e,"nextScheduledPost",(function(){return Y})),n.d(e,"lastScheduledPost",(function(){return X})),n.d(e,"isFetchingScheduledPosts",(function(){return Q})),n.d(e,"hasFetchedAllScheduledPosts",(function(){return J})),n.d(e,"shouldShowInitialDataLoadingOverlay",(function(){return Z}));var r=n(20),a=n.n(r),o=n(88),i=n.n(o),c=n(65),u=n.n(c),s=n(317),l=n(81),f=n(273),d=function(t){return t.classRoom},p=function(t){return t.data.posts},h=function(t){return t.data.isUpdatingPost},v=function(t){return function(e){return t.data.postIdsUpdating.includes(e)}},b=function(t){return t.data.classRooms},g=function(t){return t.data.classRoomUsers},m=function(t){return d(t).current},y=function(t){return b(t)[m(t)]},O=function(t){return t.classRoom.isAddingParticipantToSpace},E=function(t){return t.classRoom.hasAddParticipantError},j=function(t){var e=b(t)[m(t)];return e&&e.name},x=Object(s.a)((function(t){return y(t)})),I=function(t){var e=b(t)[d(t).current];return void 0===e?[]:e.instructors},S=function(t){return function(e,n){var r=t.data.classRooms&&t.data.classRooms[n];return!!r&&r.instructors.includes(e)}},w=function(t){return function(e){var n=e&&t.data.classRooms&&t.data.classRooms[e];return!!n&&!!n.isStaff}},C=function(t){var e=m(t);return w(t)(e)},k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=m(t),r="string"==typeof e&&e.length>0?e:t.user.userId;return S(t)(r,n)},R=function(t){return d(t).isChangingAvatar},T=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=i()(g(t)).filter((function(t){return!e||t.classRoom===e})).map((function(t){return t.user})),r=new u.a(n);return a()(r)},A=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.data.classRooms[e];return n?n.participants:[]},N=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.data.classRooms[e];return n?n.participantCount:0},P=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.data.classRooms[e];return n?n.participantsHistory:{}},_=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t.data.classRooms[e];return n?n.participantsHistoryCount:0},D=function(t,e){var n={students:[],educators:[]};return e.forEach((function(e){k(t,e.id)?n.educators.push(e.id):n.students.push(e.id)})),n},M=Object(l.a)([x],(function(t){return(t||{}).studentCount||0})),F=function(t,e){return!!t.data.posts[e]},L=Object(l.a)([p,x],(function(t,e){return e?e.posts.map((function(e){return t[e]})):[]})),U=Object(l.a)([L],(function(t){return t.length||0})),G=Object(l.a)([y,p],(function(t,e){return t?t.importantPosts.map((function(t){return e[t]})):[]})),z=Object(l.a)([x],(function(t){return t?t.importantPostCount:0})),q=Object(l.a)([G],(function(t){return t.filter((function(t){var e=Object(f.a)({startDate:t.createdAt,endDate:new Date});return e>=0&&e<=72}))})),B=Object(l.a)([q],(function(t){return t.length})),H=Object(l.a)([L,q],(function(t,e){return t.filter((function(t){return!e.some((function(e){return e.objectId===t.objectId}))}))})),W=function(t){var e=y(t);return e?e.scheduledPosts.map((function(e){return t.data.posts[e]})):[]},V=function(t){var e=y(t);return e?e.scheduledPostCount:0},K=function(t){var e=y(t);return e&&0!==e.scheduledPosts.length?e.scheduledPosts[0]:null},Y=function(t){var e=K(t);return e?t.data.posts[e]:null},X=function(t){var e=y(t);if(!e||0===e.scheduledPosts.length)return null;var n=e.scheduledPosts[e.scheduledPosts.length-1];return t.data.posts[n]},Q=function(t){return d(t).isFetchingScheduledPosts},J=function(t){return d(t).hasFetchedAllScheduledPosts},Z=function(t){return t.ui.loader.isLoading||t.classRoom.isFetchingInstructors||t.classRoom.isChangingClassRoom}},254:function(t,e,n){"use strict";n.d(e,"c",(function(){return z})),n.d(e,"d",(function(){return V})),n.d(e,"a",(function(){return Q})),n.d(e,"b",(function(){return tt}));var r=n(45),a=n.n(r),o=n(12),i=n.n(o),c=n(7),u=n.n(c),s=n(49),l=n.n(s),f=n(6),d=n.n(f),p=n(70),h=n(13),v=n(507),b=n(176),g=n(159),m=n(319),y=n(242),O=n(16),E=n(55),j=function(){var t=i()(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(E.a)({method:"delete",url:Object(O.R)(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),x=n(239),I=n(215),S=n(279),w=function(t){return{objectId:t.id||t.objectId,emojiName:t.emojiName,itemType:t.itemType,itemId:t.itemId,count:t.count,createdAt:t.createdAt,updatedAt:t.updatedAt}},C=n(216),k=function(t){return{id:t.id,author:Object(C.a)(t.user||{}),user:Object(C.a)(t.user||{}),post:t.post,entityType:t.entityType,entityId:t.entityId,content:t.content,parent:t.parent,createdAt:t.createdAt,editedAt:t.editedAt,root:t.root}},R=function(){var t=i()(u.a.mark((function t(e){var n,r,a,o,i,c,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(E.a)({method:"get",url:Object(O.R)(e)});case 2:return n=t.sent,r=n.data,a=r.post,o=r.tags,i=r.tagPosts,c=r.comments,s=r.reactions,t.abrupt("return",{post:Object(x.a)(a),tags:o.map(I.a),tagPosts:i.map(S.a),comments:c.map(k),reactions:s.map(w)});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=n(324),A=n(410),N=n(243),P=n(25),_=n(499),D=n(702),M=n(282),F=n(69),L=function(t,e,n){n({type:h.h,status:"started",reset:t,spaceId:e})},U=function(t,e){e({type:h.h,status:"success",content:t})},G=function(t,e){e(Object(p.b)(t,"fetchClassRoomContent")),e({type:h.h,status:"error",error:t})},z=function(t){var e=t.classRoom,n=t.reset,r=void 0!==n&&n,o=t.latest,c=void 0!==o&&o,s=t.tagId;return function(){var t=i()(u.a.mark((function t(n){var o,i,f,p,h,v,O,E,j,x,I,S;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=4;break}return G({message:"You need to provide the classRoom"},n),t.abrupt("return");case 4:return o=e.objectId,i=!r&&e.posts.length>0&&!c?e.oldestPostDate:new Date,L(r,o,n),n(Object(_.a)({spaceId:o,tagId:s})),t.prev=8,t.next=11,l.a.all([Object(N.a)({spaceId:o,until:i,tagId:s}),Object(N.a)({spaceId:o,scheduled:!0}),Object(A.a)({spaceId:o})]);case 11:f=t.sent,p=a()(f,3),h=p[0],v=p[1],O=p[2],E=h.tagPosts,j=h.posts,x=h.comments,I=h.reactions,U(j,n),Object(m.c)({tags:O,spaceId:o},n),Object(b.d)(E,n),Object(D.b)(n,v.posts),Object(b.d)(v.tagPosts,n),S=x.reduce(M.a,{}),d()(S).forEach((function(t){t&&Object(y.a)(t,S[t],n)})),n(Object(g.a)(I)),t.next=31;break;case 27:throw t.prev=27,t.t0=t.catch(8),G(t.t0,n),t.t0;case 31:case"end":return t.stop()}}),t,null,[[8,27]])})));return function(e){return t.apply(this,arguments)}}()},q=function(t){t({type:h.l,status:"started"})},B=function(t,e){e({type:h.l,status:"success",post:t})},H=function(t,e){e({type:h.l,status:"error",error:t})},W=function(t){return 404===t.response.status?{emoji:"",message:"Oops! The post doesn't exist"}:{emoji:"",message:"Oops! We could't load the post"}},V=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(){var n=i()(u.a.mark((function n(r,a){var o,i,c,s,f,d,p,h,O,E;return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=3;break}return o={message:"You need to provide the post id"},n.abrupt("return",H(o,r));case 3:if(i=Object(v.a)(a(),t),c=Object(P.currentClassRoomId)(a()),e||!i){n.next=7;break}return n.abrupt("return",new l.a((function(t){t(i)})));case 7:return q(r),n.prev=8,n.next=11,R(t);case 11:return s=n.sent,f=s.post,d=s.tagPosts,p=s.tags,h=s.reactions,O=s.comments,Object(m.c)({tags:p,spaceId:c},r),Object(b.d)(d,r),Object(g.a)(h,r),B(f,r),Object(y.a)(t,O,r),n.abrupt("return",f);case 25:return n.prev=25,n.t0=n.catch(8),E=W(n.t0),r(Object(F.a)(E)),n.abrupt("return",H(n.t0,r));case 30:case"end":return n.stop()}}),n,null,[[8,25]])})));return function(t,e){return n.apply(this,arguments)}}()},K=function(t){return function(e){e({type:h.f,status:"started",id:t})}},Y=function(t,e){e({type:h.f,status:"success",post:t})},X=function(t){var e=t.id,n=t.error;return function(t){t(Object(p.b)(n,"deleteClassRoomPost")),t({type:h.f,status:"error",error:n,id:e})}},Q=function(t){return function(){var e=i()(u.a.mark((function e(n,r){var a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return a={message:"You need to provide the post id"},e.abrupt("return",X(a));case 3:if((o=Object(v.a)(r(),t)).className="UBClassRoomPost",K(t)(n),!o.important){e.next=9;break}return e.next=9,n(Object(_.c)(o.objectId));case 9:return e.prev=9,e.next=12,j(t);case 12:return e.abrupt("return",Y(o,n));case 15:throw e.prev=15,e.t0=e.catch(9),X({error:e.t0,id:t})(n);case 18:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t,n){return e.apply(this,arguments)}}()},J=function(t){t({type:h.g,status:"started"})},Z=function(t,e){e({type:h.g,status:"success",post:t})},$=function(t,e){e(Object(p.b)(t,"editClassRoomPost")),e({type:h.g,status:"error",error:t})},tt=function(t){var e=t.postId,n=t.content,r=t.scheduledFor;return function(){var t=i()(u.a.mark((function t(a){var o,i;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=3;break}return o={message:"You need to provide the post id"},t.abrupt("return",$(o,a));case 3:return J(a),t.prev=4,t.next=7,Object(T.a)({postId:e,content:n,scheduledFor:r});case 7:return i=t.sent,t.abrupt("return",Z(i,a));case 11:return t.prev=11,t.t0=t.catch(4),t.abrupt("return",$(t.t0,a));case 14:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}()}},268:function(t,e,n){"use strict";var r,a=n(26),o=n.n(a),i=n(6),c=n.n(i),u=n(3),s=n.n(u),l=n(4),f=n.n(l),d=n(5),p=n.n(d),h=n(9),v=n.n(h),b=n(8),g=n.n(b),m=n(2),y=n.n(m),O=n(53),E=n.n(O),j=n(52),x=n.n(j),I=n(51),S=n.n(I),w=n(58),C=n.n(w),k=n(60),R=n.n(k),T=n(42),A=n.n(T),N=n(0),P=n.n(N),_=n(1),D=n.n(_),M=n(199),F=n.n(M),L=n(931),U={emojiWrapper:{display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"white",borderRadius:2,cursor:"pointer",minWidth:40,minHeight:40,":hover":{backgroundColor:n(15).b.color.blackAlpha("0.04")},marginRight:6,marginBottom:6},emojiContainer:{display:"block"},emoji:{fontSize:"1.3rem"}},G=n(145);function z(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){y()(t,e,n[e])})):p.a?v()(t,p()(n)):z(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}function B(t){var e=function(){if("undefined"==typeof Reflect||!o.a)return!1;if(o.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(o()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A()(t);if(e){var a=A()(this).constructor;n=o()(r,arguments,a)}else n=r.apply(this,arguments);return R()(this,n)}}var H=F()(r=function(t){C()(n,t);var e=B(n);function n(t){var r;return E()(this,n),(r=e.call(this,t)).setEmoji(t),r.handleEmojiMouseClick=r.handleEmojiMouseClick.bind(S()(r)),r.handleEmojiKeyDown=r.handleEmojiKeyDown.bind(S()(r)),r}return x()(n,[{key:"componentWillReceiveProps",value:function(t){this.setEmoji(t)}},{key:"setEmoji",value:function(t){var e=t.unicode,n="";t.emoji?n=t.emoji.unified||"":e&&(n=e),this.unicode=n.replace(/200D-/g,"").replace(/FE0F-/g,"").toLowerCase(),this.shortName=t.emoji?t.emoji.short_name:t.shortName}},{key:"handleEmojiMouseClick",value:function(){var t=this.props;(0,t.onSelect)(t.emoji||this.unicode)}},{key:"handleEmojiKeyDown",value:function(t){if("Enter"===t.key){var e=this.props;(0,e.onSelect)(e.emoji||this.unicode)}}},{key:"renderWithWrapper",value:function(t){var e=this.props,n=e.emoji,r=e.wrapperStyle,a=e.isShortcut;return P.a.createElement("span",{role:"button","aria-label":G.a.getAriaLabel(this.shortName),id:"emoji-".concat(a?"shortcut-":"").concat(n.shortName||this.unicode),style:q(q({},U.emojiWrapper),r),key:"".concat(this.shortName,"_").concat(this.unicode),onClick:this.handleEmojiMouseClick,onKeyDown:this.handleEmojiKeyDown,tabIndex:"0"},t)}},{key:"renderEmoji",value:function(){var t=this.props,e=t.size,n=t.emoji;return this.unicode?P.a.createElement(L.Twemoji,{text:":".concat(this.shortName,":"),style:U.emoji}):n&&(n.url||n.file)?P.a.createElement("img",{src:n.url||n.file.url,alt:n.shortName,style:{width:e,height:e,display:"block"}}):null}},{key:"render",value:function(){var t=this.props,e=t.emoji,n=t.size,r=t.shortName,a=t.style,o=t.withWrapper;if(!e)return null;var i=P.a.createElement("span",{key:"".concat(r).concat(this.unicode),style:q(q({},U.emojiContainer),{},{width:n,height:n},a)},this.renderEmoji());return o?this.renderWithWrapper(i):i}}]),n}(P.a.PureComponent))||r;H.propTypes={isShortcut:D.a.bool,emoji:D.a.shape({unified:D.a.string,short_name:D.a.string,shortName:D.a.string,url:D.a.string,file:D.a.shape({url:D.a.string})}),shortName:D.a.string,unicode:D.a.string,size:D.a.number,onSelect:D.a.func,withWrapper:D.a.bool,wrapperStyle:D.a.shape({}),style:D.a.shape({})};H.defaultProps={isShortcut:!1,emoji:null,shortName:"",unicode:"",onSelect:function(){},withWrapper:!1,wrapperStyle:{},style:{},size:22};e.a=H},271:function(t,e,n){"use strict";n.d(e,"b",(function(){return N})),n.d(e,"c",(function(){return P}));var r={};n.r(r),n.d(r,"activeToast",(function(){return R})),n.d(r,"isToastActive",(function(){return T}));var a=n(2),o=n.n(a),i=n(241),c=n(6),u=n.n(c),s=n(3),l=n.n(s),f=n(4),d=n.n(f),p=n(5),h=n.n(p),v=n(9),b=n.n(v),g=n(8),m=n.n(g);function y(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):y(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var E=function(t,e){return O(O({},t),{},{activeToast:O({},e.payload.toast)})};function j(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):j(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var I,S=function(t){return x(x({},t),{},{activeToast:null})},w={activeToast:null},C=(I={},o()(I,i.b,E),o()(I,i.a,S),I),k=n(238),R=function(t){return function(t){return t.toasts}(t).activeToast},T=function(t){return!!R(t)},A={appReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0,n=C[e.type];return n?n(t,e):t},dataReducer:function(t){return t},operations:k.a,selectors:r,registerLive:function(){}},N=A.operations,P=A.selectors;e.a=A},272:function(t,e,n){"use strict";var r=n(14),a=n(15),o=n(43),i=n.n(o),c=n(50),u=n.n(c),s=n(0),l=n.n(s),f=n(1),d=n.n(f),p=n(1584),h=n(143),v=n.n(h),b=n(180),g=["children","onClose","closeIcon"],m=function(t){var e=t.children,n=t.onClose,r=t.closeIcon,a=u()(t,g);return l.a.createElement(p.a,i()({disableTypography:!0},a),l.a.createElement("div",{className:"dialog-title-area"},e),r?l.a.createElement(b.f,{"aria-label":"Closes '".concat(e,"' dialog"),disableRipple:!0,onClick:n,icon:v.a,type:"secondary",size:"medium"}):null)};m.defaultProps={closeIcon:!0},m.propTypes={closeIcon:d.a.bool,onClose:d.a.func.isRequired,children:d.a.oneOfType([d.a.arrayOf(d.a.node),d.a.node]).isRequired};var y=l.a.memo(m),O=Object(r.b)(y,{target:"e15d2qmn0"})("font-size:",a.b.font.size.large,";display:flex;flex-direction:row;padding:20px 24px 16px 24px;& > .dialog-title-area{width:100%;font-size:16px;line-height:20px;font-weight:",a.b.font.weight.semiBold,";color:",a.b.color.designSystem.blackOpacity87,";}");e.a=O},273:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){var e=t.startDate,n=t.endDate;return(new Date(n).getTime()-new Date(e).getTime())/36e5}},275:function(t,e,n){"use strict";var r=n(118);e.a=function(t){var e=t.spaceId,n=t.entityType,a=t.entityId;return n===r.c.post?"dashboard/".concat(e,"/community/post/").concat(a):"dashboard/".concat(e,"/journey/materials/").concat(a)}},276:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(12),m=n.n(g),y=n(7),O=n.n(y),E=n(31),j=n(105),x=n(97),I=n(24),S=n(25);function w(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):w(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var k=function(t){return{type:E.h,status:"started",payload:t}},R=function(t){return{type:E.h,status:"success",payload:t}},T=function(t){return{type:E.h,status:"error",payload:t}};e.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return function(){var e=m()(O.a.mark((function e(n,r){var a,o,i,c,u,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=t||Object(S.currentClassRoomId)(a),n(k(i={spaceId:o})),e.prev=4,c=Object(I.sessionToken)(a,o),e.next=8,Object(x.a)(n,r)({spaceId:o,sessionToken:c});case 8:return u=e.sent,e.next=11,Object(j.g)(u,{spaceId:i.spaceId});case 11:s=e.sent,n(R({groupSets:s})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),n(T(C(C({},i),{},{error:e.t0})));case 18:case"end":return e.stop()}}),e,null,[[4,15]])})));return function(t,n){return e.apply(this,arguments)}}()}},277:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(568),u=n(16),s=function(){var t=a()(i.a.mark((function t(e){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.sessionToken,r=e.file,t.next=3,Object(c.upload)({sessionToken:n,file:r,uploadUrl:Object(u.w)(),storage:"avatar"});case 3:return a=t.sent,t.abrupt("return",a.fileUrl);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a=s},278:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v);function g(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?g(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):g(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}e.a=function(t){return m(m({},t),{},{mutedSpaces:t.mutedSpaces.reduce((function(t,e){return m(m({},t),{},b()({},e,!0))}),{}),mutedConversations:t.mutedConversations.reduce((function(t,e){return m(m({},t),{},b()({},e,!0))}),{})})}},279:function(t,e,n){"use strict";e.a=function(t,e){return{objectId:t.id,post:{objectId:t.post},tag:{objectId:t.tag,name:e},createdAt:t.createdAt,updatedAt:t.updatedAt}}},282:function(t,e,n){"use strict";n.d(e,"a",(function(){return O}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(20),b=n.n(v),g=n(2),m=n.n(g);function y(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}var O=function(t,e){var n=function(t){return{id:t.objectId,author:t.user&&t.user.objectId,user:t.user,post:t.post.objectId,content:t.content,createdAt:t.createdAt,editedAt:t.createdAt!==t.updatedAt?t.updatedAt:void 0,deletedAt:t.deletedAt,parent:t.parent&&t.parent.objectId,root:t.root&&t.root.objectId,entityId:t.entityId,entityType:t.entityType}}(e),r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){m()(t,e,n[e])})):l.a?d()(t,l()(n)):y(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}({},t),a=e.entityId;return r[a]=[].concat(b()(t[a]||[]),[n]),r}},283:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return f}));var r=n(43),a=n.n(r),o=n(0),i=n.n(o),c=n(14),u=n(1586),s=n(1576),l=n(15),f=Object(c.b)((function(t){return i.a.createElement(u.a,a()({},t,{classes:{indicator:"indicator",fixed:"fixed"}}))}),{target:"eiqime20"})("& .indicator{background-color:",l.b.color.purple,";min-width:40px;}& .fixed{height:40px;}"),d=Object(c.b)((function(t){return i.a.createElement(s.a,a()({},t,{classes:{root:t.classes?t.classes:"",selected:"selected",wrapper:"wrapper"}}))}),{target:"eiqime21"})("text-transform:none;padding:0px;height:40px;min-width:40px;min-height:0px;font-family:",l.b.font.family.workSans,";font-size:",l.b.font.size.copy,";font-weight:",l.b.font.weight.semiBold,";&.selected{color:",l.b.color.designSystem.purple70,";}&.showFocus:focus{background:",l.b.color.designSystem.background.lightPurple.focus,";}& > span.wrapper > span{padding-left:12px;padding-right:12px;}")},287:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(37),m=n(96),y=n(405),O="native"===m.b?"https://8d07c24f1b4746e6b5182b4ec0286120@sentry.io/275600":"https://cf72eadfdce34e13a3e54618de4817f9@sentry.io/275595",E={DSN:O=!!Object(y.a)()&&O},j=n(240),x=n(399);function I(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):I(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var w={};window&&window.location&&window.location.href&&(w={environment:Object(x.a)(window.location.href)});j.a.init(S(S({dsn:E.DSN},w),{},{beforeSend:function(t,e){return function(t){if(!t||!t.message)return!1;if(Object(g.isCancel)(t))return!0;var e=t.message;if(e.includes("Not Found!"))return!0;switch(e){case"Network Error":case"Newer request.":case"You need to provide the classRoom":case"Failed to execute stack command. Stack Component32 not found.":return!0;default:return!1}}(e.originalException)?null:t},denyUrls:[/extensions\//i,/^chrome:\/\//i],sampleRate:.3}));e.a=j.a},29:function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"s",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"l",(function(){return c})),n.d(e,"v",(function(){return u})),n.d(e,"n",(function(){return s})),n.d(e,"q",(function(){return l})),n.d(e,"g",(function(){return f})),n.d(e,"t",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"w",(function(){return h})),n.d(e,"z",(function(){return v})),n.d(e,"y",(function(){return b})),n.d(e,"A",(function(){return g})),n.d(e,"B",(function(){return m})),n.d(e,"b",(function(){return y})),n.d(e,"a",(function(){return O})),n.d(e,"h",(function(){return E})),n.d(e,"x",(function(){return j}));var r=n(13);n.d(e,"d",(function(){return r.n})),n.d(e,"e",(function(){return r.o})),n.d(e,"j",(function(){return r.q})),n.d(e,"i",(function(){return r.p})),n.d(e,"m",(function(){return r.r})),n.d(e,"o",(function(){return r.s})),n.d(e,"p",(function(){return r.t})),n.d(e,"u",(function(){return r.v})),n.d(e,"r",(function(){return r.u}));var a="CLASSROOM_MODULE_CREATE_FOLDER",o="CLASSROOM_MODULE_RESET",i="CLASSROOM_MODULE_DISMISS_GET_STARTED",c="CLASSROOM_MODULE_HIDEUNHIDE_MATERIAL",u="CLASSROOM_MODULE_SET_EDITING",s="CLASSROOM_MODULE_LEAVE_WITHOUT_SAVING",l="CLASSROOM_MODULE_PATCH_SECTION",f="CLASSROOM_MODULE_DISPLAY_REVERT_MODAL",d="CLASSROOM_MODULE_REVERT",p="CLASSROOM_MODULE_GET_VERSION",h="CLASSROOM_MODULE_TOGGLE_FOLDER",v="CLASSROOM_OPEN_CLOSE_RENAME_FOLDER",b="CLASSROOM_OPEN_CLOSE_DELETE_FOLDER",g="CLASSROOM_OPEN_CLOSE_SCHEDULE_MATERIAL",m="CLASSROOM_OPEN_CLOSE_SCHEDULE_SECTION",y="CLASSROOM_EDIT_FOLDER",O="CLASSROOM_DELETE_FOLDER",E="CLASSROOM_MODULE_EDIT_MATERIAL",j="CLASSROOM_MODULE_TOGGLE_MATERIAL_EDUCATOR_ONLY"},290:function(t,e,n){"use strict";var r=n(420),a=n(272);n.d(e,"d",(function(){return a.a}));var o=n(390);n.d(e,"c",(function(){return o.a}));var i=n(393);n.d(e,"b",(function(){return i.a}));var c=n(580);n.d(e,"a",(function(){return c.a})),e.e=r.a},292:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return u}));var r=n(83),a=n(25),o=function(t){var e=Object(r.b)().getState();return Object(a.isInstructor)(e,t)},i=function(t,e){var n=Object(r.b)().getState();return Object(a.isInstructorInSpace)(n)(t,e)},c=function(){var t=Object(r.b)().getState();return t.classRoomUser.self.map((function(e){return t.data.classRooms[t.data.classRoomUsers[e].classRoom]})).filter((function(e){return!!e&&i(t.user.user.objectId,e.objectId)}))},u=function(t){var e=t.firstName,n=void 0===e?"":e,r=t.lastName,a=void 0===r?"":r,o=t.email,i=void 0===o?"":o,c=t.username,u=void 0===c?"":c;return"string"==typeof n&&n.length>0||"string"==typeof a&&a.length>0?"".concat(n," ").concat(a):i||u}},293:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(35),m=n(250),y=n.n(m),O=n(1),E=n.n(O),j=n(0),x=n.n(j),I=n(15),S={backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",textAlign:"center",fontWeight:"700"},w={color:"white"},C=["#7A1BBE","#007D79","#198038","#0043CE","#CF0019"];function k(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):k(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var T=new y.a,A=Object(g.b)((function(t){return{currentUser:t.user.userId,onlineClients:t.live.clients}}),(function(t){return{}}))((function(t){var e=t.user.isInstructor?I.b.color.pink:function(t){if(!t)return C[0];for(var e=0,n=0;n<t.length;n+=1)e+=t.charCodeAt(n);return C[e%C.length]}(t.user.objectId),n=t.user.avatar?"url(".concat(t.user.avatar,")"):"none";return x.a.createElement("div",{"aria-hidden":"true",style:R(R(R({},S),t.style),{},{backgroundColor:e,backgroundImage:n,width:t.size,height:t.size,borderRadius:t.size<50?"15%":5,position:"relative"})},t.currentUser!==t.user.objectId&&t.onlineClients[t.user.objectId]?x.a.createElement("div",{style:R({backgroundColor:I.b.color.designSystem.success,border:"3px solid #FFF",borderRadius:100,width:10,height:10,position:"absolute",top:-7,left:-7},t.indicatorStyle)}):null,!t.user.avatar&&x.a.createElement("span",{style:T.prefix(R(R({},w),{},{width:t.size,height:t.size,display:"flex",justifyContent:"center",alignItems:"center",fontSize:.4*t.size,lineHeight:"".concat(t.size,"px")}))},t.user.firstName?t.user.firstName[0].toUpperCase():""))}));A.propTypes={isInstructor:E.a.bool,user:E.a.object.isRequired,size:E.a.number.isRequired,style:E.a.object,indicatorStyle:E.a.object};e.a=A},31:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"g",(function(){return o})),n.d(e,"e",(function(){return i})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"i",(function(){return f})),n.d(e,"k",(function(){return d})),n.d(e,"m",(function(){return p})),n.d(e,"j",(function(){return h})),n.d(e,"l",(function(){return v})),n.d(e,"n",(function(){return b}));var r="GROUPS_FETCH_GROUP_SETS",a="GROUPS_ADD_GROUP_SET",o="GROUPS_EDIT_GROUP_SET",i="GROUPS_DELETE_GROUP_SET",c="GROUPS_ADD_GROUP",u="GROUPS_ADD_GROUPS",s="GROUPS_EDIT_GROUP",l="GROUPS_DELETE_GROUP",f="GROUPS_GENERATE_GROUPS",d="GROUPS_OPEN_CLOSE_ADD_GROUP_SET",p="GROUPS_OPEN_CLOSE_EDIT_GROUP_SET",h="GROUPS_OPEN_CLOSE_ADD_GROUP",v="GROUPS_OPEN_CLOSE_EDIT_GROUP",b="GROUPS_OPEN_CLOSE_GENERATE_GROUPS"},315:function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(138),u=n.n(c),s=n(24),l=n(208),f=n(21),d=n(387),p=n(386),h=n(56),v=function(t){return function(){return function(e,n){t.consume(n)}}},b=function(t,e){return t({type:f.t,status:"started",payload:e})},g=function(t,e){return t({type:f.t,status:"success",payload:e})},m=function(t,e){return t({type:f.t,status:"error",payload:e})};e.b=function(t){return function(e,n){return function(){var r=a()(i.a.mark((function r(a,o){var c,f,v,y,O,E,j,x;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=o(),f=s.currentUser(c),v=f.objectId,y=h.conversation(c,n),O=h.replyingToMessageId(c),E={id:"local.".concat(Object(l.a)()),content:u()(e),createdAt:(new Date).toISOString(),writer:v,repliedMessage:h.replyingToMessage(c)},h.hasNewerMessages(c,n)&&a(Object(p.a)({conversationId:n})),b(a,{conversation:y,pendingMessage:E}),O&&a(Object(d.a)()),r.prev=8,j={content:e,repliedMessageId:O},r.next=12,t.send(o,{conversationId:n,messageData:j,localId:E.id});case 12:x=r.sent,g(a,{message:x,pendingMessage:E,conversation:y}),r.next=19;break;case 16:r.prev=16,r.t0=r.catch(8),m(a,{pendingMessage:E,conversation:y,error:r.t0});case 19:case"end":return r.stop()}}),r,null,[[8,16]])})));return function(t,e){return r.apply(this,arguments)}}()}}},316:function(t,e,n){"use strict";var r=n(45),a=n.n(r),o=n(35),i=n(0),c=n(192);e.a=function(t){var e=Object(o.d)((function(t){return t.socket.id})),n=Object(i.useState)(),r=a()(n,2),u=r[0],s=r[1];return Object(i.useEffect)((function(){var n=Object(c.a)();if(n){var r=function(t){s(t)};return e&&n.on(t,r),function(){n.off(t,r)}}}),[e,t]),u}},318:function(t,e,n){"use strict";n.d(e,"a",(function(){return m})),n.d(e,"c",(function(){return O})),n.d(e,"b",(function(){return E}));var r=n(12),a=n.n(r),o=n(49),i=n.n(o),c=n(7),u=n.n(c),s=n(70),l=n(13),f=n(16),d=n(55),p=function(){var t=a()(u.a.mark((function t(){var e,n,r,a,o=arguments;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.length>0&&void 0!==o[0]?o[0]:{unreadOnly:!1},n=e.unreadOnly,t.next=3,Object(d.a)({method:"GET",url:Object(f.P)(n)});case 3:return r=t.sent,a=r.data.notifications,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=function(){var t=a()(u.a.mark((function t(e){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(d.a)({data:{notificationIds:e},method:"patch",url:Object(f.P)()});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(t){t({type:l.U,status:"started"})},b=function(t,e){e({type:l.U,status:"success",notifications:t}),e({type:l.lb,hasUnread:t.filter((function(t){return!t.read})).length&&!0})},g=function(t,e){e(Object(s.b)(t,"fetchNotifications")),e({type:l.U,status:"error",error:t})},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{unreadOnly:!1},e=t.unreadOnly;return function(){var t=a()(u.a.mark((function t(n){var r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return v(n),t.prev=1,t.next=4,p({unreadOnly:e});case 4:r=t.sent,b(r,n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),g(t.t0,n);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},y=function(t,e){e(Object(s.b)(t,"notificationSetRead")),e({type:l.mb,status:"error",error:t})},O=function(t){return function(e){if(!t){return y({message:"You need to provide the notifications array"},e)}var n=t.map((function(t){return t.id}));!function(t){t({type:l.mb,status:"started"})}(e);try{return h(n),function(t,e){e({type:l.mb,status:"success",notificationIds:t})}(n,e)}catch(t){return y(t,e)}}},E=function(t,e){return function(n,r){if(!t){return function(t,e,n,r){r(Object(s.b)(t,"notificationsSetReadByType")),r({type:l.nb,status:"error",error:t,notificationType:e,classRoomId:n})}({message:"You need to provide the notifications type"},t,e,n)}if(!e)return i.a.resolve();var a=r();if(a.data.classRooms[e]){var o=a.data.classRooms[e].unread[t];if(!o||!o.length)return null;!function(t,e,n){n({type:l.nb,status:"started",notificationType:t,classRoomId:e})}(t,e,n)}return function(t,e,n){n({type:l.nb,status:"success",notificationType:t,classRoomId:e})}(t,e,n)}}},319:function(t,e,n){"use strict";n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return v})),n.d(e,"a",(function(){return g}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(70),u=n(13),s=n(16),l=n(55),f=n(215),d=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.spaceId,r=e.name,t.next=3,Object(l.a)({method:"post",url:Object(s.eb)(n),data:{name:r}});case 3:return a=t.sent,o=a.data.tag,t.abrupt("return",Object(f.a)(o));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=(n(410),function(t,e){e({type:u.W,status:"success",payload:t})}),h=function(t){t({type:u.I,status:"started"})},v=function(t,e){e({type:u.I,status:"success",tag:t})},b=function(t,e){e(Object(c.b)(t,"createTag")),e({type:u.I,error:t})},g=function(t,e){return function(){var n=a()(i.a.mark((function n(r){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return h(r),n.prev=1,n.next=4,d({name:t,spaceId:e});case 4:return a=n.sent,v(a,r),n.abrupt("return",a);case 9:throw n.prev=9,n.t0=n.catch(1),b(n.t0,r),n.t0;case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(t){return n.apply(this,arguments)}}()}},323:function(t,e,n){"use strict";var r=n(2),a=n.n(r),o=n(53),i=n.n(o),c=n(52),u=n.n(c),s=n(12),l=n.n(s),f=n(49),d=n.n(f),p=n(6),h=n.n(p),v=n(3),b=n.n(v),g=n(4),m=n.n(g),y=n(5),O=n.n(y),E=n(9),j=n.n(E),x=n(8),I=n.n(x),S=n(7),w=n.n(S),C=n(82);function k(t,e){var n=h()(t);if(b.a){var r=b()(t);e&&(r=r.filter((function(e){return m()(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):O.a?j()(t,O()(n)):k(Object(n)).forEach((function(e){I()(t,e,m()(n,e))}))}return t}var T=function(){var t=l()(w.a.mark((function t(e){var n,r,a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.conversationId,r=e.messageData,a=e.localId,t.abrupt("return",C.a.addMessage(n,r,a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),A=new(function(){function t(){i()(this,t),this.queue=[],this.processing=!1}var e;return u()(t,[{key:"send",value:function(t,e){var n=this;return new d.a((function(r,a){var o={resolve:r,reject:a,message:e,retries:0};n.push(t,o)}))}},{key:"push",value:function(t,e){this.queue.push(e),this.consume(t)}},{key:"consume",value:(e=l()(w.a.mark((function t(e){var n,r,a,o,i,c,u;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.processing){t.next=2;break}return t.abrupt("return");case 2:if(this.queue.length){t.next=4;break}return t.abrupt("return");case 4:if(e().connection){t.next=6;break}return t.abrupt("return");case 6:return this.processing=!0,n=this.queue.shift(),r=n.resolve,a=n.reject,o=n.message,i=n.retries,t.prev=9,t.next=12,T(o);case 12:c=t.sent,r(c),t.next=21;break;case 16:t.prev=16,t.t0=t.catch(9),(u=t.t0&&t.t0.response&&t.t0.response.status)>=400&&u<500||4===i?a(t.t0):this.scheduleRetry(e,n);case 21:return t.prev=21,this.processing=!1,this.consume(e),t.finish(21);case 25:case"end":return t.stop()}}),t,this,[[9,16,21,25]])}))),function(t){return e.apply(this,arguments)})},{key:"scheduleRetry",value:function(t,e){var n=this,r=e.retries+1,a=R(R({},e),{},{retries:r}),o=1e3*Math.pow(4,r);setTimeout((function(){n.push(t,a)}),o)}}]),t}());e.a=A},324:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(16),u=n(55),s=n(239),l=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o,l,f;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.postId,r=e.content,a=e.important,o=e.scheduledFor,t.next=3,Object(u.a)({method:"patch",url:Object(c.R)(n),data:{content:r,important:a,scheduledFor:o}});case 3:return l=t.sent,f=l.data.post,t.abrupt("return",Object(s.a)(f));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a=l},326:function(t,e,n){"use strict";n.d(e,"b",(function(){return _n})),n.d(e,"c",(function(){return Dn}));var r={};n.r(r),n.d(r,"group",(function(){return fe})),n.d(r,"groupSet",(function(){return de})),n.d(r,"groupSetsIds",(function(){return pe})),n.d(r,"setsAugmentedWithGroups",(function(){return he})),n.d(r,"groupNamesByStudentId",(function(){return ve})),n.d(r,"isCreateGroupSetDialogOpen",(function(){return be})),n.d(r,"editGroupSetDialogOpenFor",(function(){return ge})),n.d(r,"createGroupDialogOpenFor",(function(){return me})),n.d(r,"editGroupDialogOpenFor",(function(){return ye})),n.d(r,"generateGroupsDialogOpenFor",(function(){return Oe})),n.d(r,"isCreatingGroupSet",(function(){return Ee})),n.d(r,"isEditingGroupSet",(function(){return je})),n.d(r,"isDeletingGroupSet",(function(){return xe})),n.d(r,"isCreatingGroup",(function(){return Ie})),n.d(r,"isCreatingGroups",(function(){return Se})),n.d(r,"isEditingGroup",(function(){return we})),n.d(r,"isDeletingGroup",(function(){return Ce})),n.d(r,"isGeneratingGroups",(function(){return ke}));var a=n(2),o=n.n(a),i=n(31),c=n(6),u=n.n(c),s=n(3),l=n.n(s),f=n(4),d=n.n(f),p=n(5),h=n.n(p),v=n(9),b=n.n(v),g=n(8),m=n.n(g);function y(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):y(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var E=function(t,e){switch(e.status){case"started":return O(O({},t),{},{fetchingGroupSets:!0});case"success":case"error":return O(O({},t),{},{fetchingGroupSets:!1});default:return t}};function j(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):j(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var I=function(t,e){switch(e.status){case"started":return x(x({},t),{},{creatingGroupSet:!0});case"success":case"error":return x(x({},t),{},{createGroupSetDialogOpen:!1,creatingGroupSet:!1});default:return t}};function S(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):S(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var C=function(t,e){switch(e.status){case"started":return w(w({},t),{},{editingGroupSet:!0});case"success":case"error":return w(w({},t),{},{editGroupSetDialogOpenFor:null,editingGroupSet:!1});default:return t}};function k(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):k(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var T=function(t,e){switch(e.status){case"started":return R(R({},t),{},{deletingGroupSet:!0});case"success":case"error":return R(R({},t),{},{editGroupSetDialogOpenFor:null,deletingGroupSet:!1});default:return t}};function A(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):A(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var P=function(t,e){switch(e.status){case"started":return N(N({},t),{},{creatingGroup:!0});case"success":case"error":return N(N({},t),{},{createGroupDialogOpenFor:null,creatingGroup:!1});default:return t}};function _(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):_(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var M=function(t,e){switch(e.status){case"started":return D(D({},t),{},{creatingGroups:!0});case"success":case"error":return D(D({},t),{},{creatingGroups:!1});default:return t}};function F(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?F(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):F(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var U=function(t,e){switch(e.status){case"started":return L(L({},t),{},{editingGroup:!0});case"success":case"error":return L(L({},t),{},{editGroupDialogOpenFor:null,editingGroup:!1});default:return t}};function G(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):G(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var q=function(t,e){switch(e.status){case"started":return z(z({},t),{},{deletingGroup:!0});case"success":case"error":return z(z({},t),{},{editGroupDialogOpenFor:null,deletingGroup:!1});default:return t}};function B(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?B(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):B(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var W=function(t,e){switch(e.status){case"started":return H(H({},t),{},{generatingGroups:!0});case"success":case"error":return H(H({},t),{},{generateGroupsDialogOpenFor:null,generatingGroups:!1});default:return t}};function V(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):V(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Y=function(t,e){return K(K({},t),{},{createGroupSetDialogOpen:e.payload.createGroupSetDialogOpen})};function X(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):X(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var J=function(t,e){return Q(Q({},t),{},{editGroupSetDialogOpenFor:e.payload.editGroupSetDialogOpenFor})};function Z(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):Z(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var tt=function(t,e){return $($({},t),{},{createGroupDialogOpenFor:e.payload.createGroupDialogOpenFor})};function et(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):et(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var rt=function(t,e){return nt(nt({},t),{},{editGroupDialogOpenFor:e.payload.editGroupDialogOpenFor})};function at(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):at(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var it,ct=function(t,e){return ot(ot({},t),{},{generateGroupsDialogOpenFor:e.payload.generateGroupsDialogOpenFor})},ut={fetchingGroupSets:!1,createGroupSetDialogOpen:!1,creatingGroupSet:!1,editGroupSetDialogOpenFor:null,editingGroupSet:!1,deletingGroupSet:!1,createGroupDialogOpenFor:null,creatingGroup:!1,editGroupDialogOpenFor:null,editingGroup:!1,deletingGroup:!1,generatingGroups:!1,generateGroupsDialogOpenFor:null},st=(it={},o()(it,i.h,E),o()(it,i.c,I),o()(it,i.g,C),o()(it,i.e,T),o()(it,i.a,P),o()(it,i.b,M),o()(it,i.f,U),o()(it,i.d,q),o()(it,i.i,W),o()(it,i.k,Y),o()(it,i.m,J),o()(it,i.j,tt),o()(it,i.l,rt),o()(it,i.n,ct),it),lt=n(20),ft=n.n(lt);function dt(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?dt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):dt(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var ht=function(t,e){var n;if("success"!==e.status)return t;var r=e.payload.groupSets,a=(n=[]).concat.apply(n,ft()(r.map((function(t){return t.groups})))).reduce((function(t,e){return t[e.id]=e,t}),{}),o=r.reduce((function(t,e){return t[e.id]=pt(pt({},e),{},{groups:e.groups.map((function(t){return t.id}))}),t}),{});return pt(pt({},t),{},{sets:o,groups:a})};function vt(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):vt(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var gt=function(t,e){if("success"!==e.status)return t;var n=e.payload.groupSet;return bt(bt({},t),{},{sets:bt(bt({},t.sets),{},o()({},n.id,n))})};function mt(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):mt(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Ot=function(t,e){if("success"!==e.status)return t;var n=e.payload.groupSet,r=t.sets[n.id];return r?yt(yt({},t),{},{sets:yt(yt({},t.sets),{},o()({},n.id,yt(yt(yt({},r),n),{},{groups:r.groups})))}):t},Et=n(65),jt=n.n(Et);function xt(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function It(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):xt(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var St=function(t,e){if("success"!==e.status)return t;var n=e.payload.groupSetId;if(!t.sets[n])return t;var r=It({},t.sets);delete r[n];var a=It({},t.groups);return new jt.a(t.sets[n].groups).forEach((function(t){return delete a[t]})),It(It({},t),{},{sets:r,groups:a})},wt=n(88),Ct=n.n(wt);function kt(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):kt(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Tt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.group,a=n.studentsWithNoGroup,i=Rt(Rt({},t.groups),{},o()({},r.id,r)),c=Rt({},t.sets[r.set]);c.groups.includes(r.id)||(c.groups=[].concat(ft()(c.groups),[r.id]));var u=Ct()(i).reduce((function(t,e){var n=e.students;return[].concat(ft()(t),ft()(n||[]))}),[]);return c.studentsWithNoGroup=a.filter((function(t){return!u.includes(t)})),Rt(Rt({},t),{},{groups:i,sets:Rt(Rt({},t.sets),{},o()({},r.set,c))})};function At(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):At(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Pt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.groups,a=n.studentsWithNoGroup,i=Nt({},t.groups);r.forEach((function(t){i[t.id]=t}));var c=r[0].set,u=Nt({},t.sets[c]);r.forEach((function(t){var e=t.id;u.groups.includes(e)||(u.groups=[].concat(ft()(u.groups),[e]))}));var s=Ct()(i).reduce((function(t,e){var n=e.students;return[].concat(ft()(t),ft()(n||[]))}),[]);return u.studentsWithNoGroup=a.filter((function(t){return!s.includes(t)})),Nt(Nt({},t),{},{groups:i,sets:Nt(Nt({},t.sets),{},o()({},c,u))})};function _t(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):_t(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Mt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.group,a=n.studentsWithNoGroup;return t.groups[r.id]?Dt(Dt({},t),{},{groups:Dt(Dt({},t.groups),{},o()({},r.id,Dt(Dt({},t.groups[r.id]),r))),sets:Dt(Dt({},t.sets),{},o()({},r.set,Dt(Dt({},t.sets[r.set]),{},{studentsWithNoGroup:a})))}):t};function Ft(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):Ft(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Ut=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.groupId,a=n.studentsWithNoGroup,i=t.groups[r];if(!i)return t;var c=Lt({},t.groups);delete c[r];var u=Lt(Lt({},t.sets[i.set]),{},{studentsWithNoGroup:a});return u.groups=u.groups.filter((function(t){return t!==r})),Lt(Lt({},t),{},{sets:Lt(Lt({},t.sets),{},o()({},i.set,u)),groups:c})};function Gt(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Gt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):Gt(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var qt,Bt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.groups,a=n.studentsWithNoGroup;if(0===r.length)return t;var i=r[0],c=zt(zt({},t.sets[i.set]),{},{studentsWithNoGroup:a});c.groups=r.map((function(t){return t.id}));var u=r.reduce((function(t,e){return t[e.id]=e,t}),{});return zt(zt({},t),{},{groups:zt(zt({},t.groups),u),sets:zt(zt({},t.sets),{},o()({},c.id,c))})},Ht={sets:{},groups:{}},Wt=(qt={},o()(qt,i.h,ht),o()(qt,i.c,gt),o()(qt,i.g,Ot),o()(qt,i.e,St),o()(qt,i.a,Tt),o()(qt,i.b,Pt),o()(qt,i.f,Mt),o()(qt,i.d,Ut),o()(qt,i.i,Bt),qt),Vt=n(276),Kt=n(12),Yt=n.n(Kt),Xt=n(7),Qt=n.n(Xt),Jt=n(105),Zt=n(97),$t=n(24),te=n(25),ee=n(69),ne=n(78);function re(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ae(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?re(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):re(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var oe=function(t){return{type:i.c,status:"started",payload:t}},ie=function(t){return{type:i.c,status:"success",payload:t}},ce=function(t){return{type:i.c,status:"error",payload:t}},ue=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,i,c,u,s;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=Object(te.currentClassRoomId)(a),i=Object($t.sessionToken)(a,o),c={groupSet:ae(ae({},t),{},{space:o})},n(oe(c)),e.prev=5,e.next=8,Object(Zt.a)(n,r)({spaceId:o,sessionToken:i});case 8:return u=e.sent,e.next=11,Object(Jt.b)(u,c.groupSet);case 11:s=e.sent,n(ie({groupSet:s})),n(Object(ee.a)(ne.f)),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(5),n(Object(ee.a)(ne.e)),n(ce(ae(ae({},c),{},{error:e.t0})));case 20:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(t,n){return e.apply(this,arguments)}}()};function se(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function le(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?se(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):se(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var fe=function(t,e){return t.data.groups.groups[e]},de=function(t,e){return t.data.groups.sets[e]},pe=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return u()(t.data.groups.sets).filter((function(n){return!e||de(t,n).space===e}))},he=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Ct()(t.data.groups.sets).filter((function(t){return!e||t.space===e})).map((function(e){return le(le({},e),{},{groups:e.groups.map((function(e){return fe(t,e)}))})}))},ve=function(t,e){return Ct()(t.data.groups.groups).filter((function(t){return t.students.includes(e)})).map((function(t){return t.name}))},be=function(t){return t.groups.createGroupSetDialogOpen},ge=function(t){return t.groups.editGroupSetDialogOpenFor},me=function(t){return t.groups.createGroupDialogOpenFor},ye=function(t){return t.groups.editGroupDialogOpenFor},Oe=function(t){return t.groups.generateGroupsDialogOpenFor},Ee=function(t){return t.groups.creatingGroupSet},je=function(t){return t.groups.editingGroupSet},xe=function(t){return t.groups.deletingGroupSet},Ie=function(t){return t.groups.creatingGroup},Se=function(t){return t.groups.creatingGroups},we=function(t){return t.groups.editingGroup},Ce=function(t){return t.groups.deletingGroup},ke=function(t){return t.groups.generatingGroups};function Re(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):Re(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Ae=function(t){return{type:i.g,status:"started",payload:t}},Ne=function(t){return{type:i.g,status:"success",payload:t}},Pe=function(t){return{type:i.g,status:"error",payload:t}},_e=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,i,c,u,s,l,f,d;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=de(a,t.id),i=!o.isHidden&&t.isHidden,c={groupSet:Te(Te({},o),t)},n(Ae(c)),e.prev=5,u=Object(te.currentClassRoomId)(a),s=Object($t.sessionToken)(a,u),e.next=10,Object(Zt.a)(n,r)({spaceId:u,sessionToken:s});case 10:return l=e.sent,e.next=13,Object(Jt.f)(l,c.groupSet);case 13:f=e.sent,d=i?ne.r:ne.n,n(Ne({groupSet:f})),n(Object(ee.a)(d)),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),n(Pe(Te(Te({},c),{},{error:e.t0}))),n(Object(ee.a)(ne.m));case 23:case"end":return e.stop()}}),e,null,[[5,19]])})));return function(t,n){return e.apply(this,arguments)}}()};function De(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?De(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):De(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Fe=function(t){return{type:i.e,status:"started",payload:t}},Le=function(t){return{type:i.e,status:"success",payload:t}},Ue=function(t){return{type:i.e,status:"error",payload:t}},Ge=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,i,c,u;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(Fe(a={groupSetId:t})),e.prev=2,o=r(),i=Object(te.currentClassRoomId)(o),c=Object($t.sessionToken)(o,i),e.next=8,Object(Zt.a)(n,r)({spaceId:i,sessionToken:c});case 8:return u=e.sent,e.next=11,Object(Jt.d)(u,t);case 11:n(Le(a)),n(Object(ee.a)(ne.j)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(2),n(Object(ee.a)(ne.i)),n(Ue(Me(Me({},a),{},{error:e.t0})));case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}()},ze=function(t){var e=t.group;return{type:i.a,status:"started",payload:{group:e}}},qe=function(t){var e=t.group,n=t.studentsWithNoGroup;return{type:i.a,status:"success",payload:{group:e,studentsWithNoGroup:n}}},Be=function(t){var e=t.group,n=t.error;return{type:i.a,status:"error",payload:{group:e,error:n}}},He=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,i,c,u,s,l;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(ze({group:t})),e.prev=1,a=r(),o=Object(te.currentClassRoomId)(a),i=Object($t.sessionToken)(a,o),e.next=7,Object(Zt.a)(n,r)({spaceId:o,sessionToken:i});case 7:return c=e.sent,e.next=10,Object(Jt.a)(c,t);case 10:u=e.sent,s=u.group,l=u.studentsWithNoGroup,n(qe({group:s,studentsWithNoGroup:l})),n(Object(ee.a)(ne.g)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),n(Object(ee.a)(ne.d)),n(Be({group:t,error:e.t0}));case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,n){return e.apply(this,arguments)}}()},We=n(49),Ve=n.n(We),Ke=n(46),Ye=n(44),Xe=function(t){var e=t.groups,n=t.studentsWithNoGroup;return{type:i.b,status:"success",payload:{groups:e,studentsWithNoGroup:n}}},Qe=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,c,u,s,l,f,d;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:i.b,status:"started"}),e.prev=1,a=r(),o=Object(te.currentClassRoomId)(a),c=Object($t.sessionToken)(a,o),e.next=7,Object(Zt.a)(n,r)({spaceId:o,sessionToken:c});case 7:return u=e.sent,e.next=10,Ve.a.all(t.map((function(t){return Object(Jt.a)(u,t).catch((function(t){return{error:t}}))})));case 10:if(s=e.sent,0!==(l=s.filter((function(t){return t&&!t.error}))).length){e.next=14;break}throw new Error;case 14:if(f=l.reduce((function(t,e){var n=e.group.students;return[].concat(ft()(t),ft()(n.map((function(t){return t.id}))))}),[]),d=l.reduce((function(t,e){var n=e.studentsWithNoGroup;return[].concat(ft()(t),ft()(n.filter((function(t){var e=t.id;return!f.includes(e)}))))}),[]),n(Xe({groups:l.map((function(t){return t.group})),studentsWithNoGroup:d})),Object(Ke.c)(Ye.o,{activeClassroom:o}),!(l.length<s.length)){e.next=20;break}return e.abrupt("return",n(Object(ee.a)(ne.b)));case 20:return e.abrupt("return",n(Object(ee.a)(ne.c)));case 23:return e.prev=23,e.t0=e.catch(1),n({type:i.b,status:"error"}),e.abrupt("return",n(Object(ee.a)(ne.a)));case 27:case"end":return e.stop()}}),e,null,[[1,23]])})));return function(t,n){return e.apply(this,arguments)}}()};function Je(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ze(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Je(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):Je(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var $e=function(t){return{type:i.f,status:"started",payload:t}},tn=function(t){return{type:i.f,status:"success",payload:t}},en=function(t){return{type:i.f,status:"error",payload:t}},nn=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,i,c,u,s,l,f;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o={group:Ze(Ze({},fe(a,t.id)),t)},n($e(o)),e.prev=3,i=Object(te.currentClassRoomId)(a),c=Object($t.sessionToken)(a,i),e.next=8,Object(Zt.a)(n,r)({spaceId:i,sessionToken:c});case 8:return u=e.sent,e.next=11,Object(Jt.e)(u,o.group);case 11:s=e.sent,l=s.group,f=s.studentsWithNoGroup,n(tn({group:l,studentsWithNoGroup:f})),n(Object(ee.a)(ne.o)),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(3),n(Object(ee.a)(ne.l)),n(en(Ze(Ze({},o),{},{error:e.t0})));case 22:case"end":return e.stop()}}),e,null,[[3,18]])})));return function(t,n){return e.apply(this,arguments)}}()};function rn(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function an(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?rn(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):rn(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var on=function(t){return{type:i.d,status:"started",payload:t}},cn=function(t){return{type:i.d,status:"success",payload:t}},un=function(t){return{type:i.d,status:"error",payload:t}},sn=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,i,c,u,s,l;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(on(a={groupId:t})),e.prev=2,o=r(),i=Object(te.currentClassRoomId)(o),c=Object($t.sessionToken)(o,i),e.next=8,Object(Zt.a)(n,r)({spaceId:i,sessionToken:c});case 8:return u=e.sent,e.next=11,Object(Jt.c)(u,t);case 11:s=e.sent,l=s.studentsWithNoGroup,n(cn(an(an({},a),{},{studentsWithNoGroup:l}))),n(Object(ee.a)(ne.k)),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),n(Object(ee.a)(ne.h)),n(un(an(an({},a),{},{error:e.t0})));case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(t,n){return e.apply(this,arguments)}}()};function ln(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function fn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ln(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):ln(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var dn=function(t){return{type:i.i,status:"started",payload:t}},pn=function(t){return{type:i.i,status:"success",payload:t}},hn=function(t){return{type:i.i,status:"error",payload:t}},vn=function(t){var e=t.set,n=t.generateParams;return function(){var t=Yt()(Qt.a.mark((function t(r,a){var o,i,c,u,s,l,f,d;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(dn(o={set:e,generateParams:n})),t.prev=2,i=a(),c=Object(te.currentClassRoomId)(i),u=Object($t.sessionToken)(i,c),t.next=8,Object(Zt.a)(r,a)({spaceId:c,sessionToken:u});case 8:return s=t.sent,t.next=11,Object(Jt.h)(s,{set:e,generateParams:o.generateParams});case 11:l=t.sent,f=l.groups,d=l.studentsWithNoGroup,r(pn({groups:f,studentsWithNoGroup:d})),r(Object(ee.a)(ne.q)),t.next=22;break;case 18:t.prev=18,t.t0=t.catch(2),r(hn(fn(fn({},o),{},{error:t.t0}))),r(Object(ee.a)(ne.p));case 22:case"end":return t.stop()}}),t,null,[[2,18]])})));return function(e,n){return t.apply(this,arguments)}}()},bn=n(551),gn=n.n(bn),mn=n(567),yn=["groupName","email","firstName","lastName"],On={groupName:"Group name",email:"Email address",firstName:"First name",lastName:"Last name"},En=function(t,e){return e.map((function(e){return{groupName:t,email:e.email,firstName:e.firstName,lastName:e.lastName}}))},jn=function(t){return function(){var e=Yt()(Qt.a.mark((function e(n,r){var a,o,i,c;return Qt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a=r(),o=a.data.groups,i=o.sets[t],c=[],i.groups.forEach((function(t){var e=o.groups[t];c.push(En(e.name,e.educators)),c.push(En(e.name,e.students))})),gn()(Object(mn.a)(yn,c.flat(),On),"".concat(i.name,"-participants.csv"),"text/csv;charset=utf-8;"),n(Object(ee.a)({emoji:"",message:"Success! The CSV was exported!"}))}catch(t){n(Object(ee.a)({emoji:"",message:"Oops! We failed to download the list of participants"}))}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},xn=n(277),In=function(t){return function(e,n){var r=n(),a=$t.currentUser(r).sessionToken;return Object(xn.a)({sessionToken:a,file:t})}},Sn=function(t){return function(e,n){var r=n();!!de(r,t.id)||e({type:i.c,status:"success",payload:{groupSet:t}})}},wn=function(t){return function(e,n){var r=t.id,a=n();!!de(a,r)&&e({type:i.e,status:"success",payload:{groupSetId:r}})}},Cn=function(t){var e=t.set;return function(t,n){var r=n();t({type:!!de(r,e.id)?i.g:i.c,status:"success",payload:{groupSet:e}})}},kn=function(t){var e=t.group,n=t.studentsWithNoGroup;return function(t,r){var a=r();!!fe(a,e.id)||t({type:i.a,status:"success",payload:{group:e,studentsWithNoGroup:n}})}},Rn=function(t){return function(e,n){var r=t.id,a=t.studentsWithNoGroup,o=n();!!fe(o,r)&&e({type:i.d,status:"success",payload:{groupId:r,studentsWithNoGroup:a}})}},Tn=function(t){var e=t.group,n=t.studentsWithNoGroup;return function(t,r){var a=r();t({type:!!fe(a,e.id)?i.f:i.a,status:"success",payload:{group:e,studentsWithNoGroup:n}})}},An=function(t){var e=t.emails,n=t.space,r=void 0===n?void 0:n;return function(){var t=Yt()(Qt.a.mark((function t(n,a){var o,i,c,u;return Qt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=a(),i=r||Object(te.currentClassRoomId)(o),c=Object($t.sessionToken)(o,i),t.next=5,Object(Zt.a)(n,a)({spaceId:i,sessionToken:c});case 5:return u=t.sent,t.abrupt("return",Object(Jt.i)(u,{spaceId:i,emails:e}));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},Nn={fetchGroupSets:Vt.a,addGroupSet:ue,editGroupSet:_e,deleteGroupSet:Ge,addGroup:He,addGroups:Qe,editGroup:nn,deleteGroup:sn,generateGroups:vn,uploadGroupAvatar:In,onGroupSetCreated:Sn,onGroupSetDeleted:wn,onGroupSetUpdated:Cn,onGroupCreated:kn,onGroupDeleted:Rn,onGroupUpdated:Tn,openAddGroupSet:function(t){return t({type:i.k,payload:{createGroupSetDialogOpen:!0}})},closeAddGroupSet:function(t){return t({type:i.k,payload:{createGroupSetDialogOpen:!1}})},openEditGroupSet:function(t){return function(e){return e({type:i.m,payload:{editGroupSetDialogOpenFor:t}})}},closeEditGroupSet:function(t){return t({type:i.m,payload:{editGroupSetDialogOpenFor:null}})},openAddGroup:function(t){return function(e){return e({type:i.j,payload:{createGroupDialogOpenFor:t}})}},closeAddGroup:function(t){return t({type:i.j,payload:{createGroupDialogOpenFor:null}})},openEditGroup:function(t){return function(e){return e({type:i.l,payload:{editGroupDialogOpenFor:t}})}},closeEditGroup:function(t){return t({type:i.l,payload:{editGroupDialogOpenFor:null}})},openGenerateGroups:function(t){return function(e){return e({type:i.n,payload:{generateGroupsDialogOpenFor:t}})}},closeGenerateGroups:function(t){return t({type:i.n,payload:{generateGroupsDialogOpenFor:null}})},validateGroupEmails:An,exportGroupSetToCSV:jn},Pn={appReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,e=arguments.length>1?arguments[1]:void 0,n=st[e.type];return void 0===n?t:n(t,e)},dataReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht,e=arguments.length>1?arguments[1]:void 0,n=Wt[e.type];return void 0===n?t:n(t,e)},operations:Nn,selectors:r,registerLive:function(t){var e=t.onGroupSetCreated,n=t.onGroupSetUpdated,r=t.onGroupSetDeleted,a=t.onGroupCreated,o=t.onGroupUpdated,i=t.onGroupDeleted;return function(t){return function(c){t.on("GroupSet:Created",(function(t){return c(e(t))})),t.on("GroupSet:Updated",(function(t){return c(n(t))})),t.on("GroupSet:Removed",(function(t){return c(r(t))})),t.on("Group:Created",(function(t){return c(a(t))})),t.on("Group:Removed",(function(t){return c(i(t))})),t.on("Group:Renamed",(function(t){return c(o(t))})),t.on("Group:AvatarChanged",(function(t){return c(o(t))})),t.on("Group:StudentAdded",(function(t){return c(o(t))})),t.on("Group:StudentRemoved",(function(t){return c(o(t))})),t.on("Group:EducatorAdded",(function(t){return c(o(t))})),t.on("Group:EducatorRemoved",(function(t){return c(o(t))}))}}}(Nn)},_n=Pn.operations,Dn=Pn.selectors;e.a=Pn},327:function(t,e,n){"use strict";n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var r=function(t){return t.data.users},a=r,o=function(t,e){return r(t)[e]},i=function(t){return function(t){return t.users}(t).fetchingUsers},c=function(t,e){return!!i(t)[e]}},328:function(t,e,n){"use strict";n.d(e,"b",(function(){return sn})),n.d(e,"c",(function(){return ln}));var r=n(2),a=n.n(r),o=n(36),i=n(6),c=n.n(i),u=n(3),s=n.n(u),l=n(4),f=n.n(l),d=n(5),p=n.n(d),h=n(9),v=n.n(h),b=n(8),g=n.n(b);function m(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):m(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var O=function(t,e){switch(e.status){case"started":return y(y({},t),{},{isFetching:!0,isErrored:!1});case"success":return y(y({},t),{},{hasFetchedAssignments:!0,isFetching:!1,isErrored:!1});case"error":return y(y({},t),{},{isFetching:!1,isErrored:!0});default:return t}};function E(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function j(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):E(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var x=function(t,e){switch(e.status){case"success":return j(j({},t),{},{selectedSpace:e.payload.spaceId,allSpaces:e.payload.allSpaces,submissions:{},hasFetchedAssignments:!1});default:return t}};function I(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):I(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var w=function(t,e){switch(e.status){case"started":return S(S({},t),{},{isCreating:!0});case"success":return S(S({},t),{},{isCreating:!1});case"error":return S(S({},t),{},{isCreating:!1,assignmentCreationError:e.payload.assignmentCreationError});default:return t}};function C(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):C(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var R=function(t,e){switch(e.status){case"started":return k(k({},t),{},{isCreating:!0});case"success":return k(k({},t),{},{isCreating:!1});case"error":return k(k({},t),{},{isCreating:!1,assignmentCreationError:e.payload.assignmentCreationError});default:return t}};function T(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):T(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var N=function(t,e){switch(e.status){case"started":return A(A({},t),{},{isEditing:!0});case"success":return A(A({},t),{},{isEditing:!1});case"error":return A(A({},t),{},{isEditing:!1,assignmentUpdateError:e.payload.assignmentUpdateError});default:return t}};function P(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):P(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var D=function(t,e){switch(e.status){case"started":return _(_({},t),{},{isEditing:!0});case"success":case"error":return _(_({},t),{},{isEditing:!1});default:return t}};function M(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):M(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var L=function(t,e){switch(e.status){case"success":return F(F({},t),{},{query:e.payload.query});default:return t}};function U(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):U(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var z=function(t,e){switch(e.status){case"started":return G(G({},t),{},{isEditing:!0});case"success":case"error":return G(G({},t),{},{isEditing:!1});default:return t}};function q(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):q(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var H=function(t,e){switch(e.status){case"started":return B(B({},t),{},{isEditing:!0});case"success":case"error":return B(B({},t),{},{isEditing:!1});default:return t}};function W(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):W(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var K=function(t,e){var n=e.payload,r=n.assignmentId,o=n.group,i=n.totalSubmissions,c=V({},t.submissions[r]);switch(e.status){case"started":c.fetching=!0,c.fetched=!1,c.errored=!1,c.byGroup=o;break;case"success":c.fetching=!1,c.errored=!1,c.fetched=!0,c.totalSubmissions=i;break;case"error":c.fetching=!1,c.errored=!0;break;default:return t}return V(V({},t),{},{submissions:V(V({},t.submissions),{},a()({},r,c))})};function Y(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Y(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Q=function(t,e){var n=e.payload.assignmentId,r=X({},t.submissions[n]);switch(e.status){case"started":r.deleting=!0;break;case"success":case"error":r.deleting=!1;break;default:return t}return X(X({},t),{},{submissions:X(X({},t.submissions),{},a()({},n,r))})};function J(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?J(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):J(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var $,tt=function(t,e){switch(e.status){case"success":return Z(Z({},t),{},{assignmentCreationError:null,assignmentUpdateError:null});default:return t}},et={isFetching:!1,isCreating:!1,isEditing:!1,allSpaces:!1,assignmentCreationError:null,assignmentUpdateError:null,hasFetchedAssignments:!1,selectedSpace:"",query:"",submissions:{}},nt=($={},a()($,o.j,O),a()($,o.a,x),a()($,o.d,w),a()($,o.g,N),a()($,o.e,D),a()($,o.n,L),a()($,o.b,z),a()($,o.l,H),a()($,o.k,K),a()($,o.f,Q),a()($,o.m,tt),a()($,o.c,R),$),rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:et,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=nt[e.type];return n?n(t,e):t},at=n(20),ot=n.n(at);function it(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?it(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):it(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var ut=function(t){return!t.parentAssignmentId},st=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.assignments,a=n.isEducator,o=n.accessingAsStaff;if(!a&&!o)return ct(ct({},t),{},{assignments:r});var i=r.filter(ut).reduce((function(t,e){var n,a=r.filter((n=e.objectId,function(t){return t.parentAssignmentId===n}));return a.length?[].concat(ot()(t),[ct(ct({},e),{},{extensions:a})]):[].concat(ot()(t),[e])}),[]);return ct(ct({},t),{},{assignments:i})},lt=function(t,e){var n=new Date(t.endDate),r=new Date(e.endDate);return n>r?1:n<r?-1:0};function ft(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ft(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):ft(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var pt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.assignment,a=n.spaceId,o=ot()(t.assignments),i=r;if(r.parentAssignmentId){var c=o.find((function(t){return t.id===r.parentAssignmentId})),u=c.extensions||[];u.push(dt(dt(dt({},c),r),{},{objectId:r.id})),i=dt(dt({},c),{},{extensions:u})}var s=[].concat(ot()(t.assignments),[dt(dt({},i),{},{classRoom:{objectId:a}})]).sort(lt);return dt(dt({},t),{},{assignments:s})},ht={TURNITIN:"turnitin",HANDIN:"hand-in",QUIZZES:"quizzes"},vt=ht.HANDIN,bt=ht.QUIZZES,gt=function(t){return function(e){var n=e.id,r=e.objectId,a=e.externalId;return t.provider===vt?a!==t.externalId:t.provider===bt&&t.id&&n?n!==t.id:r!==t.objectId}};function mt(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):mt(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Ot=function(t,e){if("success"!==e.status)return t;var n=e.payload.assignment,r=t.assignments.filter(gt(n));return"trash"===n.status?r:(r.push(n),r.sort(lt),yt(yt({},t),{},{assignments:r}))};function Et(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function jt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Et(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Et(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var xt=function(t,e){if("success"!==e.status)return t;var n,r=e.payload.assignment,a=t.assignments.find((function(t){return t.id===r.parentAssignmentId}));return n=r.id===a.id?t.assignments.filter(gt(a)).filter(gt(r)):t.assignments.filter(gt(a)),a.extensions=[].concat(ot()(a.extensions||[]),[r]),n.push(a),n.sort(lt),jt(jt({},t),{},{assignments:n})};function It(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):It(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var wt=function(t,e){if("success"!==e.status)return t;var n=e.payload.assignment;if(!!!n.parentAssignmentId){var r=t.assignments.filter(gt(n));return St(St({},t),{},{assignments:r})}var a=t.assignments.map((function(t){if(t.id!==n.parentAssignmentId)return t;var e=t.extensions.filter(gt(n));return St(St({},t),{},{extensions:e})}));return St(St({},t),{},{assignments:a})};function Ct(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ct(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Ct(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Rt=function(t,e){if("success"!==e.status)return t;var n=e.payload.assignment,r=t.assignments.map((function(t){return t.externalId===n.externalId?kt(kt({},t),{},{status:"closed"}):t}));return kt(kt({},t),{},{assignments:r})};function Tt(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function At(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Tt(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Nt=function(t,e){if("success"!==e.status)return t;var n=e.payload.assignment,r=t.assignments.map((function(t){return t.externalId===n.externalId?At(At({},t),{},{status:"live"}):t}));return At(At({},t),{},{assignments:r})};function Pt(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Pt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Pt(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Dt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.assignmentId,o=n.submissions;return _t(_t({},t),{},{submissions:_t(_t({},t.submissions),{},a()({},r,o))})};function Mt(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Mt(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Lt=function(t,e){if("success"!==e.status)return t;var n=e.payload.submissionsForAssignments.reduce((function(t,e){return Ft(Ft({},t),e)}),{});return Ft(Ft({},t),{},{submissions:Ft(Ft({},t.submissions),n)})};function Ut(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ut(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Ut(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var zt=function(t,e){switch(e.status){case"success":return Gt(Gt({},t),{},{assignments:[],submissions:{}});default:return t}};function qt(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qt(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):qt(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Ht,Wt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.assignmentId,o=n.studentId,i=n.groupId,c=t.submissions[r].map((function(t){return i?t.group&&t.group.id===i?{user:t.user,group:t.group}:t:t.user.id===o?{user:t.user}:t}));return Bt(Bt({},t),{},{submissions:Bt(Bt({},t.submissions),{},a()({},r,c))})},Vt={assignments:[],submissions:{}},Kt=(Ht={},a()(Ht,o.j,st),a()(Ht,o.d,pt),a()(Ht,o.g,Ot),a()(Ht,o.e,wt),a()(Ht,o.b,Rt),a()(Ht,o.l,Nt),a()(Ht,o.k,Dt),a()(Ht,o.h,Lt),a()(Ht,o.a,zt),a()(Ht,o.f,Wt),a()(Ht,o.c,xt),Ht),Yt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=Kt[e.type];return n?n(t,e):t},Xt=n(409),Qt=n(12),Jt=n.n(Qt),Zt=n(7),$t=n.n(Zt),te=n(104),ee=n(24),ne=n(46),re=n(44),ae=function(t){var e=t.dispatch,n=t.status,r=t.payload;return e({type:o.b,status:n,payload:r})},oe=function(t){var e=t.spaceId,n=t.assignment;return function(){var t=Jt()($t.a.mark((function t(r,a){var o,i,c,u,s;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ae({dispatch:r,status:"started",payload:{assignment:n}}),o=a(),i=Object(ee.accessToken)(o,e)){t.next=6;break}return ae({dispatch:r,payload:{spaceId:e},status:"error"}),t.abrupt("return",null);case 6:return t.prev=6,t.next=9,Object(te.a)({accessToken:i,spaceId:e,assignment:n});case 9:if(c=t.sent,(u=c.data)&&u.assignment){t.next=13;break}throw new Error("fail to close assignment");case 13:return s=u.assignment,Object(ne.c)(re.i,{assignment:s,activeClassroom:e}),ae({dispatch:r,status:"success",payload:{spaceId:e,assignment:s}}),t.abrupt("return",s);case 19:return t.prev=19,t.t0=t.catch(6),ae({dispatch:r,payload:{spaceId:e},status:"error"}),t.abrupt("return",null);case 23:case"end":return t.stop()}}),t,null,[[6,19]])})));return function(e,n){return t.apply(this,arguments)}}()},ie=function(t,e){return t({type:o.d,status:"started",payload:e})},ce=function(t,e){return t({type:o.d,status:"success",payload:e})},ue=function(t,e){return t({type:o.d,status:"error",payload:e})},se=function(t){var e=t.spaceId,n=t.assignment,r=t.accessToken,a=t.currentUser;return function(){var t=Jt()($t.a.mark((function t(o,i){var c,u,s,l,f,d;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(ie(o,{spaceId:e}),c=i(),u=r||Object(ee.accessToken)(c,e)){t.next=6;break}return ue(o,{spaceId:e}),t.abrupt("return",null);case 6:return t.prev=6,t.next=9,Object(te.b)(u,e,n,a.sessionToken);case 9:if((s=t.sent).data&&s.data.assignment){t.next=13;break}return ue(o,{spaceId:e,assignmentCreationError:{errorCode:"500",errorMessage:"fail to create assignment"}}),t.abrupt("return",null);case 13:return l=s.data.assignment,Object(ne.c)(re.n,{assignment:l,activeClassroom:e}),ce(o,{spaceId:e,assignment:l}),t.abrupt("return",l);case 19:return t.prev=19,t.t0=t.catch(6),f=t.t0.response&&t.t0.response.data&&t.t0.response.data.errors&&t.t0.response.data.errors[0],d=t.t0.message,ue(o,{spaceId:e,assignmentCreationError:{errorCode:f,errorMessage:d}}),t.abrupt("return",null);case 25:case"end":return t.stop()}}),t,null,[[6,19]])})));return function(e,n){return t.apply(this,arguments)}}()},le=function(t,e){return t({type:o.g,status:"started",payload:e})},fe=function(t,e){return t({type:o.g,status:"success",payload:e}),e.assignment},de=function(t,e){return t({type:o.e,status:"success",payload:e}),null},pe=function(t,e){return t({type:o.g,status:"error",payload:e})},he=function(t){var e=t.spaceId,n=t.assignment,r=t.accessToken,a=t.currentUser;return function(){var t=Jt()($t.a.mark((function t(o,i){var c,u,s,l,f;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(le(o,{assignment:n}),c=i(),u=r||Object(ee.accessToken)(c,e)){t.next=6;break}return pe(o,{spaceId:e}),t.abrupt("return",null);case 6:return t.prev=6,t.next=9,Object(te.d)(u,e,n,a.sessionToken);case 9:if((s=t.sent).data&&s.data.assignment){t.next=12;break}throw new Error("fail to update / delete assignment");case 12:if("trash"!==n.status){t.next=16;break}return Object(ne.c)(re.p,{assignment:{objectId:n.objectId||n.externalId},activeClassroom:e}),de(o,{spaceId:e,assignment:n}),t.abrupt("return",n);case 16:return Object(ne.c)(re.r,{assignment:s.data.assignment,activeClassroom:e}),t.abrupt("return",fe(o,{spaceId:e,assignment:s.data.assignment}));case 20:return t.prev=20,t.t0=t.catch(6),l=t.t0.response&&t.t0.response.data&&t.t0.response.data.errors&&t.t0.response.data.errors[0],f=l&&l.code,pe(o,"extension-submissions-exist"===f||"parent-assignment-submissions-exist"===f?{spaceId:e,assignmentUpdateError:{errorCode:f,title:l.title,students:l.students}}:{spaceId:e}),t.abrupt("return",null);case 26:case"end":return t.stop()}}),t,null,[[6,20]])})));return function(e,n){return t.apply(this,arguments)}}()},ve=function(t,e){return t({type:o.i,status:"started",payload:e})},be=function(t,e){return t({type:o.i,status:"success",payload:e})},ge=function(t,e){return t({type:o.i,status:"error",payload:e})},me=n(37),ye=n(25),Oe=function(t,e){return t({type:o.j,status:"started",payload:e})},Ee=function(t,e){return t({type:o.j,status:"success",payload:e})},je=function(t,e){return t({type:o.j,status:"error",payload:e})},xe=function(t,e){return function(){var n=Jt()($t.a.mark((function n(r){var a,o,i,c,u,s,l,f,d;return $t.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=r.user,o=r.accessToken,i=r.spaceId,a&&a.sessionToken&&o&&i){n.next=4;break}return je(t,{spaceId:i}),n.abrupt("return");case 4:return Oe(t,{spaceId:i}),n.prev=5,n.next=8,Object(te.e)({accessToken:o,spaceId:i,sessionToken:a.sessionToken});case 8:c=n.sent,u=c.data,s=(void 0===u?{}:u).assignments,l=void 0===s?[]:s,Object(ne.c)(re.v,{activeClassroom:i}),f=Object(ye.isInstructorInSpace)(e())(a.objectId,i),d=Object(ye.accessingCurrentSpaceAsStaff)(e()),Ee(t,{assignments:l,spaceId:i,isEducator:f,accessingAsStaff:d}),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(5),Object(me.isCancel)(n.t0)||je(t,{spaceId:i});case 21:case"end":return n.stop()}}),n,null,[[5,18]])})));return function(t){return n.apply(this,arguments)}}()},Ie=function(t,e){return t({type:o.k,status:"started",payload:e})},Se=function(t,e){return t({type:o.k,status:"success",payload:e})},we=function(t,e){return t({type:o.k,status:"error",payload:e})},Ce=function(t){var e=t.accessToken,n=t.assignmentId,r=t.group,a=void 0===r?null:r;return function(){var t=Jt()($t.a.mark((function t(r){var o,i,c,u;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&n){t.next=2;break}return t.abrupt("return");case 2:return Ie(r,{assignmentId:n,group:a}),t.prev=3,t.next=6,Object(te.g)({accessToken:e,assignmentId:n,group:a});case 6:o=t.sent,i=o.data,c=i.submissions,u=i.totalSubmissions,Se(r,{assignmentId:n,submissions:c,totalSubmissions:u}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),Object(me.isCancel)(t.t0)||we(r,{assignmentId:n,error:t.t0});case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}()},ke=n(49),Re=n.n(ke),Te=function(t,e){return t({type:o.h,status:"started",payload:e})},Ae=function(t,e){return t({type:o.h,status:"success",payload:e})},Ne=function(t,e){return t({type:o.h,status:"error",payload:e})},Pe=function(t){return function(){var e=Jt()($t.a.mark((function e(n){var r,o;return $t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(te.h)({accessToken:t,assignmentId:n});case 2:return r=e.sent,o=r.data.submissions,e.abrupt("return",a()({},n,o));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},_e=function(t){var e=t.accessToken,n=t.assignmentsIds;return function(){var t=Jt()($t.a.mark((function t(r){var a,o;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&0!==n.length){t.next=2;break}return t.abrupt("return");case 2:return Te(r,{assignmentsIds:n}),t.prev=3,a=Pe(e),t.next=7,Re.a.all(n.map((function(t){return a(t)})));case 7:o=t.sent,Ae(r,{submissionsForAssignments:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),Object(me.isCancel)(t.t0)||Ne(r,{assignmentsIds:n,error:t.t0});case 14:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},De=function(t){var e=t.dispatch,n=t.status,r=t.payload;return e({type:o.l,status:n,payload:r})},Me=function(t){var e=t.spaceId,n=t.assignment;return function(){var t=Jt()($t.a.mark((function t(r,a){var o,i,c,u,s;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(De({dispatch:r,status:"started",payload:{assignment:n}}),o=a(),i=Object(ee.accessToken)(o,e)){t.next=6;break}return De({dispatch:r,payload:{spaceId:e},status:"error"}),t.abrupt("return",null);case 6:return t.prev=6,t.next=9,Object(te.i)({accessToken:i,spaceId:e,assignment:n});case 9:if(c=t.sent,(u=c.data)&&u.assignment){t.next=13;break}throw new Error("fail to re-open assignment");case 13:return s=u.assignment,Object(ne.c)(re.T,{assignment:s,activeClassroom:e}),De({dispatch:r,status:"success",payload:{spaceId:e,assignment:s}}),t.abrupt("return",s);case 19:return t.prev=19,t.t0=t.catch(6),De({dispatch:r,payload:{spaceId:e},status:"error"}),t.abrupt("return",null);case 23:case"end":return t.stop()}}),t,null,[[6,19]])})));return function(e,n){return t.apply(this,arguments)}}()},Fe=function(t,e){return t({type:o.n,status:"success",payload:e})},Le=function(){var t=Jt()($t.a.mark((function t(e,n){return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Fe(e,{query:n});case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),Ue=n(161),Ge=function(t){var e=t.assignmentId;return function(t,n){var r=Object(Ue.assignment)(n(),e)||Object(Ue.getExtension)(n(),e);return r?de(t,{spaceId:r.space,assignment:r}):null}},ze=function(t){var e=t.assignment;return function(t,n){var r=n(),a=Object(ee.currentUser)(r),o=Object(ye.currentClassRoomId)(r);if((e?e.space||(e.classRoom||{}).objectId:null)===o){var i=Object(ee.accessToken)(r,o);xe(t,n)({user:a,spaceId:o,accessToken:i})}}},qe=n(69),Be=function(t){var e=t.assignmentId,n=t.grade;return function(t,r){var a=r(),o=Object(ee.currentUser)(a),i=Object(Ue.assignment)(a,e)||Object(Ue.getExtension)(a,e),c=Object(ye.currentClassRoomId)(a);if((i?i.space||(i.classRoom||{}).objectId:null)===c){var u=Object(ee.accessToken)(a,c),s=Object(ee.currentUserId)(a);if(Object(ye.isInstructorInSpace)(a)(s,c)){var l=Object(Ue.filteringSubmissionsByGroup)(a,e);t(Ce({accessToken:u,assignmentId:e,group:l})),n&&t(Object(qe.a)({emoji:"",message:"Grade updated"}))}xe(t,r)({user:o,spaceId:c,accessToken:u})}}},He=n(238),We=n(276);function Ve(t,e){var n=c()(t);if(s.a){var r=s()(t);e&&(r=r.filter((function(e){return f()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(n),!0).forEach((function(e){a()(t,e,n[e])})):p.a?v()(t,p()(n)):Ve(Object(n)).forEach((function(e){g()(t,e,f()(n,e))}))}return t}var Ye=function(t){return function(e){return e({type:o.f,status:"started",payload:t})}},Xe=function(t){return function(e){return e({type:o.f,status:"success",payload:t})}},Qe=function(t){return function(e){return e({type:o.f,status:"error",payload:t})}},Je=function(t){var e=t.assignmentExternalId,n=t.assignmentId,r=t.studentId,a=t.groupId,o=t.spaceId;return function(){var t=Jt()($t.a.mark((function t(i,c){var u,s,l;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i(Ye(u={studentId:r,assignmentId:n,groupId:a,assignmentExternalId:e})),s=c(),l=Object(ee.accessToken)(s,o)){t.next=6;break}return t.abrupt("return",i(Qe(u)));case 6:return t.prev=6,t.next=9,Object(te.c)(Ke({accessToken:l},u));case 9:return Object(ne.c)(re.q,Ke(Ke({},u),{},{activeClassroom:o})),i(Xe(u)),t.abrupt("return",i(Object(We.a)(o)));case 14:return t.prev=14,t.t0=t.catch(6),i(He.a.showToast({emoji:"",message:"There was an error while deleting the submission."})),t.abrupt("return",i(Qe(u)));case 18:case"end":return t.stop()}}),t,null,[[6,14]])})));return function(e,n){return t.apply(this,arguments)}}()},Ze=function(){return function(t){!function(t){t({type:o.m,status:"success"})}(t)}},$e=function(t,e){return t({type:o.c,status:"started",payload:e})},tn=function(t,e){return t({type:o.c,status:"success",payload:e})},en=function(t,e){return t({type:o.c,status:"error",payload:e})},nn=function(t){var e=t.spaceId,n=t.assignment,r=t.accessToken,a=t.currentUser;return function(){var t=Jt()($t.a.mark((function t(o,i){var c,u,s,l,f,d,p;return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($e(o,{spaceId:e}),c=i(),u=r||Object(ee.accessToken)(c,e)){t.next=6;break}return en(o,{spaceId:e}),t.abrupt("return",null);case 6:return t.prev=6,t.next=9,Object(te.d)(u,e,n,a.sessionToken);case 9:if((s=t.sent).data&&s.data.assignment){t.next=13;break}return en(o,{spaceId:e,assignmentCreationError:{errorCode:"500",errorMessage:"fail to create assignment"}}),t.abrupt("return",null);case 13:return l=s.data.assignment,Object(ne.c)(re.m,{assignment:l,activeClassroom:e}),tn(o,{spaceId:e,assignment:l}),t.abrupt("return",l);case 19:return t.prev=19,t.t0=t.catch(6),f=t.t0.response&&t.t0.response.data&&t.t0.response.data.errors&&t.t0.response.data.errors[0],"parent-assignment-submissions-exist"===(d=f&&f.code)?en(o,{spaceId:e,assignmentCreationError:{errorCode:d,title:f.title,students:f.students}}):(p=t.t0.message,en(o,{spaceId:e,assignmentCreationError:{errorCode:d,errorMessage:p}})),t.abrupt("return",null);case 25:case"end":return t.stop()}}),t,null,[[6,19]])})));return function(e,n){return t.apply(this,arguments)}}()},rn={changeSpace:Xt.a,closeAssignment:oe,createAssignment:se,convertAssignmentToExtension:nn,editAssignment:he,fetchAssignment:function(t){return function(e,n,r){return function(t){return function(){var e=Jt()($t.a.mark((function e(n,r,a){var o,i,c,u=arguments;return $t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]&&u[3],ve(t,{assignmentId:n}),e.prev=2,e.next=5,Object(te.e)(r.objectId,r.sessionToken,a,n,o);case 5:i=e.sent,c=i.objects[0].title,be(t,{title:c,assignmentId:n}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),ge(t,{assignmentId:n});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t,n,r){return e.apply(this,arguments)}}()}(t)}},fetchAssignments:xe,fetchSubmissions:Ce,fetchAllSubmissionsIncludingExtensions:_e,reopenAssignment:Me,search:function(t){return function(e){return Le(t,e)}},onAssignmentDeleted:Ge,onAssignmentSaved:ze,onSubmissionUpdated:Be,deleteSubmission:Je,resetErrorState:Ze},an=n(158),on=n.n(an),cn={leading:!0,trailing:!0},un={appReducer:rt,dataReducer:Yt,operations:rn,selectors:Ue,registerLive:function(t){var e=t.onAssignmentDeleted,n=t.onAssignmentSaved,r=t.onSubmissionUpdated;return function(t){return function(a){var o=on()((function(t){return a(n(t))}),5e3,cn),i=on()((function(t){return a(r(t))}),5e3,cn);t.on("AssessmentItem:Assignment:Deleted",(function(t){return a(e(t))})),t.on("AssessmentItem:Assignment:Saved",o),t.on("Assignment:Graded",i),t.on("Assignment:Submitted",i),t.on("Handin:Assignment:GradesReleased",o),t.on("AssessmentItem:Assignment:GradesReleased",o)}}}(rn)},sn=un.operations,ln=un.selectors;e.a=un},329:function(t,e,n){"use strict";n.d(e,"a",(function(){return P}));var r=n(35),a=n(6),o=n.n(a),i=n(3),c=n.n(i),u=n(4),s=n.n(u),l=n(5),f=n.n(l),d=n(9),p=n.n(d),h=n(8),v=n.n(h),b=n(43),g=n.n(b),m=n(2),y=n.n(m),O=n(50),E=n.n(O),j=n(0),x=n.n(j),I=n(1),S=n.n(I),w=n(540),C=["style"];function k(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){y()(t,e,n[e])})):f.a?p()(t,f()(n)):k(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var T={width:8,right:4,bottom:2,top:2,borderRadius:3},A=function(t){var e=t.thumbSize,n=t.children,r=t.scrollBarRef,a=t.pathname,o=t.resetScrollOnMount,i=t.style,c=t.onScrollFrame,u=t.autoHide,s=t.viewProps,l=t.attributes,f=Object(j.useRef)(null);return Object(j.useEffect)((function(){f.current&&o&&f.current.scrollToTop()}),[a]),x.a.createElement(w.Scrollbars,{ref:function(t){r(t),f.current=t},style:i,onScrollFrame:c,autoHide:u,renderTrackVertical:function(t){return x.a.createElement("div",{style:R(R({},t.style),T)})},renderThumbVertical:function(t){return x.a.createElement("div",{style:R(R(R({},t.style),{},{backgroundColor:"rgba(0,0,0,0.4)"},e?{height:e}:{}),{},{cursor:"pointer",borderRadius:4})})},renderView:function(t){return x.a.createElement("div",g()({},l,function(t,e){var n=e.style,r=E()(e,C);return R(R({},t),{},{style:R(R(R({},t.style),n),{},{overflowX:"hidden"})},r)}(t,s),{className:"scroll-view"}))}},n)};A.propTypes={viewProps:S.a.shape({}),scrollBarRef:S.a.func,thumbSize:S.a.number,pathname:S.a.string.isRequired,children:S.a.oneOfType([S.a.element,S.a.array]),resetScrollOnMount:S.a.bool,style:S.a.shape({}),onScrollFrame:S.a.func,autoHide:S.a.bool,attributes:S.a.object},A.defaultProps={thumbSize:null,children:null,scrollBarRef:function(){},viewProps:{},resetScrollOnMount:!0,style:{},onScrollFrame:null,autoHide:null,attributes:{}};var N=A,P=Object(r.b)((function(t){return{pathname:t.routing.locationBeforeTransitions.pathname}}))(N)},330:function(t,e,n){"use strict";n.d(e,"b",(function(){return Ct})),n.d(e,"c",(function(){return kt}));var r={};n.r(r),n.d(r,"reactionData",(function(){return nt})),n.d(r,"reactionsForItem",(function(){return at})),n.d(r,"getReactionsSelector",(function(){return ot})),n.d(r,"getReactionsCountSelector",(function(){return it})),n.d(r,"reactionForItem",(function(){return ct})),n.d(r,"reaction",(function(){return ut})),n.d(r,"isTogglingReaction",(function(){return st})),n.d(r,"hasCurrentUserReacted",(function(){return lt}));var a=n(2),o=n.n(a),i=n(90),c=n(6),u=n.n(c),s=n(3),l=n.n(s),f=n(4),d=n.n(f),p=n(5),h=n.n(p),v=n(9),b=n.n(v),g=n(8),m=n.n(g);function y(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):y(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var E=function(t,e){var n=e.status,r=e.payload,a=r.itemId,i=r.emojiName,c="".concat(a,":").concat(i);switch(n){case"started":return O(O({},t),{},{isModifyingReaction:O(O({},t.isModifyingReaction),{},o()({},c,!0))});case"success":case"error":var u=O({},t.isModifyingReaction);return delete u[c],O(O({},t),{},{isModifyingReaction:u});default:return t}},j={isModifyingReaction:{}},x=o()({},i.d,E),I=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=x[e.type];return n?n(t,e):t};function S(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):S(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var C=function(t,e){var n=e.status,r=e.payload.reactions;if("success"!==n)return t;var a=r.reduce((function(t,e){var n=function(t){var e=w({},t);return e.id=t.objectId||t.id,delete e.objectId,e}(e);return w(w({},t),{},o()({},n.id,n))}),{});return w(w({},t),a)};function k(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):k(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var T,A=function(t){var e=t.itemId,n=t.itemType,r=t.emojiName;return"".concat(n,"-").concat(e,"-").concat(r)},N=function(t,e){if(!t.users[e])return t;var n=R({},t);return n.count-=1,n.users=R({},t.users),delete n.users[e],n.updatedAt=(new Date).toISOString(),n},P=function(t,e){if(t.users[e])return t;var n=R({},t);return n.count+=1,n.users=R(R({},t.users),{},o()({},e,{})),n.updatedAt=(new Date).toISOString(),n},_=function(t,e){var n=R({},t);return delete n[e],n},D=function(t,e,n,r){var a=t[e.id];if(!a||!a.updatedAt||a.updatedAt<=e.updatedAt)return R(R({},t),{},o()({},e.id,e));if(a&&n){var i=!a.users[r]&&e.users[r],c=a.users[r]&&!e.users[r];if(i)return R(R({},t),{},o()({},e.id,P(a,r)));if(c)return R(R({},t),{},o()({},e.id,N(a,r)))}return t},M=function(t,e){var n,r,a,o,i=e.status,c=e.payload;switch(i){case"started":var u=c.oldReaction,s=c.params,l=c.user,f=u||(r=(n=s).itemId,a=n.itemType,o=n.emojiName,{id:A({itemId:r,itemType:a,emojiName:o}),itemId:r,itemType:a,emojiName:o,count:0,users:{},createdAt:(new Date).toISOString()});return D(t,P(f,l),!0,l);case"success":var d=c.reaction,p=c.user,h=c.local,v={itemId:d.itemId,itemType:d.itemType,emojiName:d.emojiName};return D(_(t,A(v)),d,h,p);case"error":var b=c.oldReaction,g=c.params,m=c.user,y=g?_(t,A(g)):t;return b?D(y,b,!0,m):y;default:return t}},F=function(t,e){var n=e.status,r=e.payload;switch(n){case"started":var a=r.oldReaction,o=r.user;return D(t,N(a,o),!0,o);case"success":var i=r.reaction,c=r.user,u=r.local;return D(t,i,u,c);case"error":var s=r.oldReaction,l=r.user;return D(t,s,!0,l);default:return t}},L={},U=(T={},o()(T,i.b,C),o()(T,i.a,M),o()(T,i.c,F),T),G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=U[e.type];return n?n(t,e):t},z=n(12),q=n.n(z),B=n(7),H=n.n(B),W=function(t){return function(){var e=q()(H.a.mark((function e(n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n({type:i.a,status:"success",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},V=function(t){return function(){var e=q()(H.a.mark((function e(n){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n({type:i.c,status:"success",payload:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=n(159),Y=n(16),X=n(55),Q=function(){var t=q()(H.a.mark((function t(e){var n,r,a,o,i,c;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.itemId,r=e.itemType,a=e.emojiName,o=Object(Y.W)(),t.next=4,Object(X.a)({method:"post",url:o,data:{reaction:{itemId:n,itemType:r,emojiName:a}}});case 4:return i=t.sent,c=i.data.reaction,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),J=function(){var t=q()(H.a.mark((function t(e){var n,r,a;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(Y.V)(e),t.next=3,Object(X.a)({method:"delete",url:n});case 3:return r=t.sent,a=r.data.reaction,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Z=n(88),$=n.n(Z),tt=n(81),et=n(24),nt=function(t){return t.data.reactions},rt=function(t,e){return t.createdAt===e.createdAt?0:t.createdAt<e.createdAt?-1:1},at=function(t,e){return $()(t).filter((function(t){return t.itemId===e&&t.count>0})).sort(rt)},ot=function(){return Object(tt.a)((function(t,e){var n=e.itemId;return at(nt(t),n)}),(function(t){return t}))},it=function(t){return Object(tt.a)(t,(function(t){return t.reduce((function(t,e){return t+(e.count||0)}),0)}))},ct=function(t,e){var n=e.itemId,r=e.itemType,a=e.emojiName,o=nt(t),i=u()(o).find((function(t){var e=o[t];return e.itemId===n&&e.itemType===r&&e.emojiName===a}));return i?o[i]:null},ut=function(t,e){return nt(t)[e]||null},st=function(t,e,n){var r="".concat(e,":").concat(n);return!!function(t){return t.reactions}(t).isModifyingReaction[r]},lt=function(t,e){var n=Object(et.currentUserId)(t);return!!e&&!!e.users[n]},ft=function(t,e){return t({type:i.a,status:"started",payload:e})},dt=function(t,e){return t({type:i.a,status:"success",payload:e})},pt=function(t,e){return t({type:i.a,status:"error",payload:e})},ht=function(t){return function(){var e=q()(H.a.mark((function e(n,r){var a,o,i,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=ct(a,t),i=Object(et.currentUserId)(a),ft(n,{oldReaction:o,params:t,user:i}),e.prev=4,e.next=7,Q(t);case 7:return c=e.sent,dt(n,{reaction:c,params:t,user:i,local:!0}),e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(4),pt(n,{params:t,error:e.t0,oldReaction:o,user:i}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()},vt=function(t,e){return t({type:i.c,status:"started",payload:e})},bt=function(t,e){return t({type:i.c,status:"success",payload:e})},gt=function(t,e){return t({type:i.c,status:"error",payload:e})},mt=function(t){return function(){var e=q()(H.a.mark((function e(n,r){var a,o,i,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=Object(et.currentUserId)(a),i=ut(a,t),vt(n,{oldReaction:i,user:o}),e.prev=4,e.next=7,J(t);case 7:return c=e.sent,bt(n,{reaction:c,user:o,local:!0}),e.abrupt("return",c);case 12:throw e.prev=12,e.t0=e.catch(4),gt(n,{oldReaction:i,error:e.t0,user:o}),e.t0;case 16:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()};function yt(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):yt(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var Et=function(t,e){return t({type:i.d,status:"started",payload:e})},jt=function(t,e){return t({type:i.d,status:"success",payload:e})},xt=function(t,e){return t({type:i.d,status:"error",payload:e})},It=function(t){return function(){var e=q()(H.a.mark((function e(n,r){var a,o,i,c;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Et(n,t),a=r(),o=ct(a,t),i=lt(a,o),e.prev=4,c=n(i?mt(o.id):ht(t)),e.next=8,c;case 8:jt(n,t),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),xt(n,Ot(Ot({},t),{},{error:e.t0}));case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(t,n){return e.apply(this,arguments)}}()},St={fetchReactionSuccess:K.a,toggleReaction:It,onReactionAdded:W,onReactionRemoved:V},wt={appReducer:I,dataReducer:G,operations:St,selectors:r,registerLive:function(t){var e=t.onReactionAdded,n=t.onReactionRemoved;return function(t){return function(r){t.on("Reaction:ReactionAdded",(function(t){return r(e(t))})),t.on("Reaction:ReactionRemoved",(function(t){return r(n(t))}))}}}(St)},Ct=wt.operations,kt=wt.selectors;e.a=wt},335:function(t,e,n){"use strict";var r=n(43),a=n.n(r),o=n(0),i=n.n(o),c=n(1574),u=n(15),s=n(27),l=Object(s.a)({colorSwitchBase:{"&$colorChecked":{color:"".concat(u.b.color.purple3),"& + $colorBar":{backgroundColor:"".concat(u.b.color.purple3)}}},colorChecked:{},colorBar:{}})((function(t){return i.a.createElement(c.a,a()({},t,{classes:{switchBase:t.classes.colorSwitchBase,checked:t.classes.colorChecked,track:t.classes.colorBar}}))}));e.a=l},337:function(t,e,n){"use strict";n.d(e,"c",(function(){return k})),n.d(e,"b",(function(){return T}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(12),m=n.n(g),y=n(7),O=n.n(y),E=n(13),j=n(407),x=n(327);function I(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):I(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var w=function(t,e){return t({type:E.Y,status:"started",payload:e})},C=function(t,e){return t({type:E.Y,status:"error",payload:e})},k=function(t,e){return t({type:E.Y,status:"success",payload:e})},R=function(t){return function(){var e=m()(O.a.mark((function e(n,r){var a,o,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r(),0!==(o=t.filter((function(t){return!Object(x.a)(a,t)}))).length){e.next=4;break}return e.abrupt("return");case 4:return w(n,i={requestedUsers:o}),e.prev=6,e.next=9,Object(j.a)({userIds:o});case 9:return c=e.sent,e.next=12,k(n,S(S({},i),{},{users:c}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),C(n,S(S({},i),{},{error:e.t0}));case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(t,n){return e.apply(this,arguments)}}()},T=function(t){return function(){var e=m()(O.a.mark((function e(n){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(R([t]));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};e.a=R},340:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return d}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(37),u=n.n(c),s=n(16),l=n(190),f=Object(l.a)((function(t){return function(){var e=a()(i.a.mark((function e(n){var r,a,o,c,l,f,d,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.sessionToken,a=n.query,o=n.spaceId,c=n.size,l=void 0===c?1e3:c,f=n.includeEducatorInSpaces,d="".concat(Object(s.Y)(),"/v2/users/").concat(a.toLowerCase(),"?size=").concat(l).concat(o?"&spaceId=".concat(o):""),f&&(d+="&includeEducatorInSpaces=true"),e.next=5,u.a.get(d,{headers:{"x-session-token":r},cancelToken:t});case 5:return p=e.sent,h=p.data.users,e.abrupt("return",h);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),d=Object(l.a)((function(t){return function(e){var n=e.sessionToken,r=e.type,a=e.query,o=e.skip,i=e.pageSize,c=e.spaceId;return u.a.get("".concat(Object(s.Y)(),"/").concat(r,"/").concat(a.toLowerCase(),"?size=").concat(i,"&skip=").concat(o).concat(c?"&spaceId=".concat(c):""),{headers:{"x-session-token":n},cancelToken:t})}}))},342:function(t,e,n){"use strict";e.a={comments:function(t,e){return["comments",t,e]}}},36:function(t,e,n){"use strict";n.d(e,"i",(function(){return r})),n.d(e,"j",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"g",(function(){return c})),n.d(e,"b",(function(){return u})),n.d(e,"l",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"n",(function(){return f})),n.d(e,"a",(function(){return d})),n.d(e,"k",(function(){return p})),n.d(e,"h",(function(){return h})),n.d(e,"f",(function(){return v})),n.d(e,"m",(function(){return b}));var r="FETCH_ASSIGNMENT",a="FETCH_ASSIGNMENTS",o="CREATE_ASSIGNMENT",i="CONVERT_ASSIGNMENT",c="EDIT_ASSIGNMENT",u="CLOSE_ASSIGNMENT",s="REOPEN_ASSIGNMENT",l="DELETE_ASSIGNMENT",f="SEARCH_ASSIGNMENT",d="CHANGE_ASSIGNMENTS_SELECTED_SPACE",p="FETCH_SUBMISSIONS",h="FETCH_ALL_SUBMISSIONS_INCLUDING_EXTENSIONS",v="DELETE_SUBMISSION",b="RESET_ERROR_STATE"},378:function(t,e,n){"use strict";n.d(e,"a",(function(){return k}));var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(143),u=n.n(c),s=n(1568),l=n(43),f=n.n(l),d=n(1564),p=a.a.forwardRef((function(t,e){return a.a.createElement(d.a,f()({direction:"right",timeout:300,ref:e},t))})),h=n(14),v=n(15),b=n(947),g=n(1567),m=n(1500),y=Object(h.b)((function(t){return a.a.createElement(g.a,f()({},t,{classes:{paper:"DialogPaper"}}))}),{target:"e11g3ny00"})("& * div.DialogPaper{position:absolute;left:0px;width:",(function(t){return t.width||"680px"}),";background-color:",v.b.color.offWhite,";overflow:hidden;}"),O=Object(h.b)(b.a,{target:"e11g3ny01"})("width:40px;height:40px;font-size:24px;color:",v.b.color.grey11,";border-radius:4px;"),E=Object(h.b)(m.a,{target:"e11g3ny02"})("padding:0px;position:relative;"),j=Object(h.b)("div",{target:"e11g3ny03"})("padding-left:28px;padding-top:",v.b.spacing.medium,";padding-bottom:",v.b.spacing.medium,";"),x=Object(h.b)("h3",{target:"e11g3ny04"})("margin:0;font-weight:",v.b.font.weight.semiBold,";font-size:24px;line-height:32px;color:",v.b.color.text,";"),I=Object(h.b)("div",{target:"e11g3ny05"})("font-size:16px;line-height:24px;color:",v.b.color.grey11,";"),S=Object(h.b)("div",{target:"e11g3ny06"})("height:100%;width:100%;position:absolute;box-sizing:border-box;"),w=Object(h.b)("div",{target:"e11g3ny07"})("display:flex;justify-content:space-between;align-items:center;padding-right:28px;"),C=function(t){var e=t.open,n=t.onClose,r=t.title,o=t.subtitle,i=t.children,c=t.width,l=t.testAttribute,f=t.contentStyle,d=t.onContentScroll,h=r.toLowerCase().trim().replace(" ","");return a.a.createElement(y,{scroll:"paper",id:h,"aria-label":r,"aria-modal":!0,open:e,onClose:n,fullScreen:!0,TransitionComponent:p,width:c,"data-testid":l},a.a.createElement(w,null,a.a.createElement(j,null,a.a.createElement(x,null,r),o?a.a.createElement(I,null,o):null),a.a.createElement(O,{id:"".concat(h,"-dialogTitle"),"aria-label":"Close dialog",onClick:n},a.a.createElement(u.a,null))),a.a.createElement(s.a,null),a.a.createElement(E,null,a.a.createElement(S,{style:f,onScroll:d},i)))};C.propTypes={open:i.a.bool.isRequired,onClose:i.a.func.isRequired,title:i.a.string.isRequired,subtitle:i.a.string,children:i.a.node.isRequired,width:i.a.string,testAttribute:i.a.string,contentStyle:i.a.shape({}),onContentScroll:i.a.func},C.defaultProps={subtitle:null,width:null,testAttribute:"",contentStyle:null,onContentScroll:function(){}};var k=C},385:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c}));var r=n(218),a=n.n(r),o=n(13),i=function(t){return function(e){console.debug(">> joinConversation",t),a.a.joinConversation(t),e({type:o.hb,status:"success",groupId:t})}},c=function(t){return function(){a.a.userIsTyping(t)}}},386:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(82),u=n(21),s=n(56),l=n(159),f=function(t,e){return t({type:u.g,status:"started",payload:e})},d=function(t,e){return t({type:u.g,status:"success",payload:e})},p=function(t,e){return t({type:u.g,status:"error",payload:e})};e.a=function(t){var e=t.conversationId,n=t.before,r=t.after,o=t.aroundMessageId,u=t.replace,h=void 0!==u&&u;return function(){var t=a()(i.a.mark((function t(a,u){var v,b,g,m,y,O;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(v=u(),b=e||s.currentConversationId(v),!o||!s.message(v,o)){t.next=4;break}return t.abrupt("return");case 4:return f(a,{conversationId:b,replace:h}),t.prev=5,t.next=8,c.a.fetchMessages(b,{before:n,after:r,aroundMessageId:o});case 8:g=t.sent,m=g.messages,y=g.done,O=g.reactions,d(a,{conversationId:b,messages:m,done:y,replace:h}),a(Object(l.a)(O)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(5),p(a,{error:t.t0,conversationId:b});case 19:case"end":return t.stop()}}),t,null,[[5,16]])})));return function(e,n){return t.apply(this,arguments)}}()}},387:function(t,e,n){"use strict";var r=n(21);e.a=function(){return function(t){t({type:r.s,payload:{}})}}},388:function(t,e,n){"use strict";var r=n(29);e.a=function(t){return function(e){return e({type:r.v,payload:{editing:t}})}}},389:function(t,e,n){"use strict";var r=n(1),a=n.n(r);e.a={name:a.a.string,avatar:a.a.string,objectId:a.a.string}},390:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(14),i=n(1500),c=n(15),u=Object(o.b)(i.a,{target:"e1ljv340"})("font-size:",c.b.font.size.copy,";line-height:",c.b.font.lineHeight.copy,";padding:0;color:",c.b.color.designSystem.blackOpacity87,";");e.a=a.a.memo(u)},392:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(37),u=n.n(c),s=n(16),l=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o,c;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.spaceId,r=e.sessionToken,a=Object(s.a)(n),t.next=4,u.a.get(a,{headers:{"x-session-token":r}});case 4:return o=t.sent,c=o.data,t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=n(13),d=function(t){var e=t.spaceId,n=t.accessToken;return{type:f.Q,payload:{spaceId:e,accessToken:n}}},p=function(t){var e=t.spaceId;return{type:f.O,payload:{spaceId:e}}};e.a=function(t){return function(){var e=a()(i.a.mark((function e(n){var r,a,o,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.spaceId,a=n.sessionToken,t({type:f.P}),e.prev=2,e.next=5,l({spaceId:r,sessionToken:a});case 5:return o=e.sent,c=o.access_token,t(d({spaceId:r,accessToken:c})),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(2),t(p({spaceId:r})),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()}},393:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(27),i=n(43),c=n.n(i),u=n(50),s=n.n(u),l=n(45),f=n.n(l),d=n(1),p=n.n(d),h=n(1585),v=n(578),b=n(180),g=["confirmation","onClick","loading"],m=function(t){var e=t.primary,n=t.secondary,o=t.tertiary,i=t.className,u=t.classes,l=Object(r.useState)(null),d=f()(l,2),p=d[0],m=d[1],y=function(){return m(null)},O=Object(r.useRef)();if(Object(r.useEffect)((function(){["secondary","tertiary"].includes(p)&&O.current&&O.current.focus()}),[p]),!e)return a.a.createElement("div",null);if(p){var E=e;"secondary"===p&&(E=n),"tertiary"===p&&(E=o);var j=E,x=j.confirmation,I=j.onClick,S=j.loading,w=s()(j,g);return a.a.createElement(h.a,{className:i,classes:u},a.a.createElement(b.b,{type:x.type,"aria-label":x.warningLabel},x.warningLabel),a.a.createElement("div",null,a.a.createElement(b.a,c()({type:x.type,variant:"contained",onClick:function(){I(),y()},loading:S},w),x.acceptLabel),a.a.createElement(v.a,{variant:"outlined",onClick:y,ref:O,size:"small",type:"secondary"},x.cancelLabel)))}var C={className:e.className,variant:"contained",onClick:e.confirmation?function(){return m("primary")}:e.onClick,danger:e.danger,disabled:e.disabled||e.loading,loading:e.loading,primary:e},k=e.textButton?a.a.createElement(b.e,c()({},C,e.htmlAttributes),e.label):a.a.createElement(b.c,c()({},C,e.htmlAttributes),e.label),R=n&&n.textButton?b.e:b.d,T=n?a.a.createElement(R,c()({className:n.className,variant:"outlined",onClick:n.confirmation?function(){return m("secondary")}:n.onClick,disabled:n.disabled||n.loading,loading:n.loading},n.htmlAttributes),n.label):null,A=o?a.a.createElement(b.e,c()({className:o.className,variant:"outlined",onClick:o.confirmation?function(){return m("tertiary")}:o.onClick,disabled:o.disabled||o.loading,loading:o.loading,tertiary:!0},o.htmlAttributes),o.label):null;return a.a.createElement(h.a,{className:i,classes:u},A,T,k)},y=p.a.shape({className:p.a.string,label:p.a.string.isRequired,onClick:p.a.func,danger:p.a.bool,disabled:p.a.bool,loading:p.a.bool,confirmation:p.a.shape({acceptLabel:p.a.string,cancelLabel:p.a.string,warningLabel:p.a.string}),textButton:p.a.bool,htmlAttributes:p.a.object});m.propTypes={className:p.a.string,primary:y.isRequired,secondary:y,tertiary:y,classes:p.a.object},m.defaultProps={className:null,secondary:null,tertiary:null,classes:null};var O=m,E=Object(o.a)((function(){return{root:{display:"flex",justifyContent:"flex-end",flexDirection:"row",margin:0,padding:"8px 24px 24px"},spacing:{"& > :not(:first-child)":{marginLeft:16}}}}))(O);e.a=a.a.memo(E)},399:function(t,e,n){"use strict";e.a=function(t){var e="production",n=t.startsWith("https")?"https://":"http://",r=t.split(n);if(r.length<2)return e;var a=r[1].split(".")[0];return a.startsWith("pa-")&&(e="development"),a.startsWith("localhost")&&(e="local"),e}},405:function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(421),a=function(){return Object(r.b)()}},407:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(12),m=n.n(g),y=n(7),O=n.n(y),E=n(16),j=n(55);function x(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):x(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var S=function(){var t=m()(O.a.mark((function t(e){var n,r,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userIds,t.next=3,Object(j.a)({method:"POST",url:"".concat(Object(E.gb)(),"/getByIds"),data:{userIds:n}});case 3:return r=t.sent,a=r.data,t.abrupt("return",a.users.map((function(t){return I(I({},t),{},{objectId:t.id})})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a=S},408:function(t,e,n){"use strict";n.d(e,"b",(function(){return f}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(111),u=n(418),s=n(119),l=function(t){t({type:c.b,status:"started",payload:{}})},f=function(t,e){t({type:c.b,status:"success",payload:{notificationSettings:e}})},d=function(t,e){t({type:c.b,status:"error",payload:{error:e}})};e.a=function(){return function(){var t=a()(i.a.mark((function t(e,n){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!Object(s.hasFetchedSettings)(n())){t.next=2;break}return t.abrupt("return");case 2:return l(e),t.prev=3,t.next=6,Object(u.a)();case 6:r=t.sent,f(e,r),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),d(e,t.t0);case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e,n){return t.apply(this,arguments)}}()}},409:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(36),u=function(t,e){return t({type:c.a,status:"success",payload:e})},s=function(){var t=a()(i.a.mark((function t(e,n,r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u(e,{spaceId:n,allSpaces:r});case 1:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();e.a=function(t){return function(e,n){return s(t,e,n)}}},410:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(16),u=n(55),s=n(215),l=function(){var t=a()(i.a.mark((function t(e){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.spaceId,t.next=3,Object(u.a)({method:"get",url:Object(c.eb)(n)});case 3:return r=t.sent,a=r.data.tags,t.abrupt("return",a.map((function(t){return Object(s.a)(t)})));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();e.a=l},411:function(t,e,n){"use strict";var r=n(505),a=n(25),o=n(249),i=n(137),c=i.current,u=i.space,s=n(24).user;e.a=function(t){return function(e,n){var i,l,f,d=n(),p=s(d),h=Object(o.e)(d),v=Object(a.isInstructor)(d),b=c(u(d))||t,g=p.user,m=(g=void 0===g?{}:g).externalId,y=g.firstName,O=g.createdAt,E=g.objectId,j=null==d||null===(i=d.institution)||void 0===i||null===(l=i.keys)||void 0===l||null===(f=l.launchDarkly)||void 0===f?void 0:f.clientSideId;if(j){var x=r.initialize(j,{key:E});x.on("ready",(function(){if(window.Appcues&&x.variation("webapp-ft-appcues-enabled-202110",!1)&&E&&b){var t=+new Date(O);window.Appcues.identify(E,{createdAt:t,createdAtString:O,spaceId:b,isEducator:v,institution:h,firstName:y,externalId:m})}}))}}}},414:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){var e=t.parent,n=t.child;return e.toLowerCase().trim().includes(n.toLowerCase().trim())}},418:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return C}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(16),u=n(55),s=n(278),l=function(){var t=a()(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Object(c.Q)(),t.next=3,Object(u.a)({method:"get",url:e});case 3:return n=t.sent,r=n.data.notificationSettings,t.abrupt("return",Object(s.a)(r));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=n(3),d=n.n(f),p=n(4),h=n.n(p),v=n(5),b=n.n(v),g=n(9),m=n.n(g),y=n(8),O=n.n(y),E=n(2),j=n.n(E),x=n(6),I=n.n(x);function S(t,e){var n=I()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):S(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var C=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(c.Q)(),r=w(w(w({},e),e.mutedSpaces?{mutedSpaces:I()(e.mutedSpaces)}:{}),e.mutedConversations?{mutedConversations:I()(e.mutedConversations)}:{}),t.next=4,Object(u.a)({method:"patch",url:n,data:{notificationSettings:r}});case 4:return a=t.sent,o=a.data.notificationSettings,t.abrupt("return",Object(s.a)(o));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},419:function(t,e,n){"use strict";n.d(e,"b",(function(){return E})),n.d(e,"a",(function(){return S}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(70),u=n(254),s=n(553),l=n(13),f=n(409),d=n(276),p=n(46),h=n(411),v=n(44),b=n(392),g=n(16),m=n(55),y=function(){var t=a()(i.a.mark((function t(e){var n,r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.spaceId,t.next=3,Object(m.a)({method:"get",url:Object(g.y)({spaceId:n})});case 3:return r=t.sent,a=r.data.space,t.abrupt("return",a);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=n(56),E=function(t,e){e({type:l.i,status:"success",classRoomUsers:t})},j=function(t){var e=t.id;return{type:l.c,status:"started",payload:{id:e}}},x=function(t,e){var n=t.id,r=t.tagId;e({type:l.c,status:"success",payload:{id:n,tagId:r}})},I=function(t,e){e(Object(c.b)(t,"changeCurrentClassRoom")),e({type:l.c,status:"error",error:t})},S=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0;return function(){var o=a()(i.a.mark((function a(o,c){var l,g,m,S,w,C,k,R,T,A;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=4;break}return I({message:"You need to provide the classRoom's id"},o),a.abrupt("return");case 4:if(l=c(),g=l.data.classRooms[t],m=l.user.user.userRoles.includes("staff"),S=!!Object(O.currentConversationId)(l),!m||g){a.next=16;break}return a.next=11,y({spaceId:t});case 11:w=a.sent,E([{objectId:w.id,classRoom:{objectId:w.id,name:w.name,importantPostCount:w.importantPostCount,participantCount:w.participantCount,instructors:w.educators,isStaff:!0}}],o),g={objectId:w.id,posts:[]},a.next=18;break;case 16:if(m||l.data.classRooms[t]){a.next=18;break}return a.abrupt("return");case 18:if(o(j({id:t})),C=c(),k=C.accessTokens,R=C.user,T=!k[t],a.prev=21,!T){a.next=25;break}return a.next=25,Object(b.a)(o)({spaceId:t,sessionToken:R.user.sessionToken});case 25:if(A=function(t){return t?Object(s.a)(t,g):Object(u.c)({classRoom:g,reset:n})},S){a.next=29;break}return a.next=29,o(A(r));case 29:return x({id:t,tagId:r},o),Object(f.a)(o)(t),Object(p.a)(c),o(Object(h.a)(t)),o(Object(d.a)()),e&&Object(p.c)(v.d,{activeClassroom:t}),a.abrupt("return");case 38:a.prev=38,a.t0=a.catch(21),I(a.t0,o);case 41:case"end":return a.stop()}}),a,null,[[21,38]])})));return function(t,e){return o.apply(this,arguments)}}()}},420:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(43),b=n.n(v),g=n(2),m=n.n(g),y=n(50),O=n.n(y),E=n(0),j=n.n(E),x=n(14),I=n(15),S=n(1),w=n.n(S),C=n(1567),k=n(272),R=["children","id","onClose"],T=function(t){var e=t.children,n=t.id,r=t.onClose,a=O()(t,R),o="".concat(n,"-dialogtitle");return j.a.createElement(C.a,b()({scroll:"paper",id:n,"aria-labelledby":o,onClose:r,"aria-modal":!0,fullWidth:!0},a),j.a.Children.toArray(e).map((function(t){return t.type===k.a?j.a.cloneElement(t,{onClose:r,id:o}):t})))};T.propTypes={id:w.a.string.isRequired,onClose:w.a.func,children:w.a.oneOfType([w.a.arrayOf(w.a.node),w.a.node]).isRequired},T.defaultProps={onClose:function(){}};var A=T,N=["classes"];function P(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){m()(t,e,n[e])})):l.a?d()(t,l()(n)):P(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var D={xs:"352px",sm:"492px",md:"620px"},M=Object(x.b)((function(t){var e=t.classes,n=O()(t,N);return j.a.createElement(A,b()({},n,{classes:_(_({},e),{},{paper:"dialogpaper ".concat((e||{}).paper||"")})}))}),{target:"ebe00k80"})("color:",I.b.color.mediumBlueDark,";& * div.dialogpaper{max-width:",(function(t){return D[t.maxWidth?t.maxWidth:"sm"]}),";",(function(t){return t.minHeight?"min-height: ".concat(t.minHeight,"px"):""})," ",(function(t){return t.height?"height: ".concat(t.height,"px"):""}),"}");e.a=M},421:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));var r=function(){return t&&Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}),!1},a=function(){return t&&Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}),!0}}).call(this,n(163))},433:function(t,e,n){"use strict";n.d(e,"a",(function(){return Ot}));var r=n(26),a=n.n(r),o=n(53),i=n.n(o),c=n(52),u=n.n(c),s=n(51),l=n.n(s),f=n(58),d=n.n(f),p=n(60),h=n.n(p),v=n(42),b=n.n(v),g=n(1),m=n.n(g),y=n(0),O=n.n(y),E=n(43),j=n.n(E),x=n(14),I=n(15),S=n(1501),w=n(1510),C=Object(x.b)((function(t){return O.a.createElement(S.a,j()({},t,{classes:{paper:"EmojiPicker"}}))}),{target:"eo7ukt00"})("z-index:1600;div.EmojiPicker{width:370px;height:420px;background-color:",I.b.color.white,";border-radius:4px;}"),k=Object(x.b)("div",{target:"eo7ukt01"})("padding-top:16px;display:flex;flex-direction:column;"),R=Object(x.b)("div",{target:"eo7ukt02"})("margin-bottom:12px;padding-left:16px;padding-right:12px;font-weight:500;font-size:20px;line-height:24px;color:",I.b.color.black,";"),T=Object(x.b)("div",{target:"eo7ukt03"})("margin-top:16px;margin-bottom:16px;"),A=Object(x.b)("div",{target:"eo7ukt04"})("padding-left:16px;padding-right:12px;display:flex;flex-direction:column;"),N=Object(x.b)((function(t){return O.a.createElement(w.a,j()({},t,{inputProps:{"aria-label":t.label},classes:{input:"EmojiPickerInput",focused:"EmojiPickerFocused",notchedOutline:"EmojiPickerOutline"}}))}),{target:"eo7ukt05"})("display:flex;input.EmojiPickerInput{padding-top:10px;padding-bottom:10px;font-family:",I.b.font.family.workSans,";font-size:14px;&::-webkit-input-placeholder{opacity:0.87;}&::-moz-placeholder{opacity:0.87;}&:-moz-placeholder{opacity:0.87;}&:-ms-input-placeholder{opacity:0.87;}}&.EmojiPickerFocused > fieldset{border-color:purple !important;}"),P=Object(x.b)("div",{target:"eo7ukt06"})("margin-bottom:28px;"),_=Object(x.b)("div",{target:"eo7ukt07"})("display:flex;flex-direction:column;"),D=Object(x.b)("div",{target:"eo7ukt08"})("display:flex;flex-direction:row;align-items:center;margin-bottom:10px;color:",I.b.color.grey11,";"),M=Object(x.b)("div",{target:"eo7ukt09"})("display:flex;margin-right:4px;"),F=Object(x.b)("span",{target:"eo7ukt010"})("font-size:14px;line-height:20px;font-weight:500;"),L=Object(x.b)("div",{target:"eo7ukt011"})("border-bottom:solid 1px ",I.b.color.grey3,";"),U=Object(x.b)("span",{target:"eo7ukt012"})("display:flex;flex-direction:row;flex-wrap:wrap;"),G=Object(x.b)("div",{target:"eo7ukt013"})("display:flex;align-items:center;justify-content:center;color:",I.b.color.grey11,";font-size:14px;padding-top:40px;"),z=n(561),q=n(1582),B=n(267),H=n.n(B),W=n(283),V=n(145),K=n(268),Y=function(t){var e=t.emojis,n=t.onSelect,r=t.isShortcut;return O.a.createElement(U,null,e.map((function(t){return O.a.createElement(K.a,{isShortcut:r,emoji:t,key:"".concat(t.short_name),withWrapper:!0,size:22,onSelect:n})})))};Y.propTypes={emojis:m.a.arrayOf(m.a.shape({})).isRequired,onSelect:m.a.func.isRequired,isShortcut:m.a.bool};var X=Y,Q=n(932),J=n.n(Q),Z=n(933),$=n.n(Z),tt=n(934),et=n.n(tt),nt=n(935),rt=n.n(nt),at=n(936),ot=n.n(at),it=n(937),ct=n.n(it),ut=n(938),st=n.n(ut),lt=n(939),ft=n.n(lt),dt=[{name:"People",Icon:J.a},{name:"Nature",Icon:$.a},{name:"Foods",Icon:et.a},{name:"Activity",Icon:rt.a},{name:"Places",Icon:ot.a},{name:"Objects",Icon:ct.a},{name:"Symbols",Icon:st.a},{name:"Flags",Icon:ft.a}];function pt(t){var e=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var ht=V.a.getByCategory(),vt=["joy","thinking_face","+1","rocket","heart","white_check_mark","nerd_face"].map((function(t){return V.a.getFromShortName(t)})),bt=function(t){d()(n,t);var e=pt(n);function n(t){var r;return i()(this,n),(r=e.call(this,t)).state={selectedCategoryIndex:0,searchText:"",emojiResults:[]},r.handleCategoryChange=r.handleCategoryChange.bind(l()(r)),r.handleSearchChange=r.handleSearchChange.bind(l()(r)),r.handleClearSearch=r.handleClearSearch.bind(l()(r)),r}return u()(n,[{key:"handleCategoryChange",value:function(t,e){this.setState({selectedCategoryIndex:e,searchText:"",emojiResults:[]})}},{key:"handleSearchChange",value:function(t){var e=t.target.value;this.setState({searchText:e,emojiResults:e?V.a.search(e):[]})}},{key:"handleClearSearch",value:function(){this.setState({searchText:"",emojiResults:[]})}},{key:"renderTabs",value:function(){var t=this.state.selectedCategoryIndex;return O.a.createElement(A,null,O.a.createElement(W.b,{value:t,onChange:this.handleCategoryChange,style:{minHeight:0}},dt.map((function(t){var e=t.name,n=t.Icon;return O.a.createElement(W.a,{key:e,icon:O.a.createElement(n,null),"aria-label":e,classes:"showFocus"})}))))}},{key:"renderSearch",value:function(){var t=this.props.id,e=this.state.searchText,n=!!e;return O.a.createElement(A,null,O.a.createElement(T,null,O.a.createElement(N,{id:"".concat(t,"-search"),type:"text",placeholder:"Search...",value:e,onChange:this.handleSearchChange,endAdornment:n&&O.a.createElement(q.a,{position:"end"},O.a.createElement(z.a,{icon:H.a,type:"secondary",size:"xSmall",label:"clear search",onClick:this.handleClearSearch,disableRipple:!0})),labelWidth:0})))}},{key:"renderEmojis",value:function(){var t=this.state,e=t.searchText,n=t.emojiResults,r=t.selectedCategoryIndex,a=this.props.onSelect,o=!!e,i=dt[r],c=0===r;if(o)return n.length>0?O.a.createElement(A,null,O.a.createElement(X,{emojis:n,onSelect:a})):O.a.createElement(G,null,"No results found");var u=!o&&c?O.a.createElement(P,null,O.a.createElement(X,{emojis:vt,onSelect:a,isShortcut:!0})):null;return O.a.createElement(A,null,u,O.a.createElement(_,null,O.a.createElement(D,null,O.a.createElement(M,null,O.a.createElement(i.Icon,{style:{fontSize:20}})),O.a.createElement(F,null,i.name)),O.a.createElement(X,{emojis:ht[i.name],onSelect:a})))}},{key:"render",value:function(){var t=this.props.title;return O.a.createElement(k,null,O.a.createElement(R,null,t),this.renderTabs(),O.a.createElement(L,null),this.renderSearch(),this.renderEmojis())}}]),n}(O.a.PureComponent);bt.propTypes={id:m.a.string.isRequired,onSelect:m.a.func.isRequired,title:m.a.string},bt.defaultProps={title:"Reactions"};var gt=bt;function mt(t){var e=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=b()(t);if(e){var o=b()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return h()(this,n)}}var yt=function(t){d()(n,t);var e=mt(n);function n(t){var r;return i()(this,n),(r=e.call(this,t)).onSelect=r.onSelect.bind(l()(r)),r}return u()(n,[{key:"onSelect",value:function(t){var e=this.props,n=e.onSelect;(0,e.onClose)(),n(t)}},{key:"render",value:function(){var t=this.props,e=t.id,n=t.show,r=t.anchorOrigin,a=t.transformOrigin,o=t.anchorEl,i=t.onClose,c=t.title,u=n&&!!o;return O.a.createElement(C,{id:e,open:u,anchorEl:o,onClose:i,anchorOrigin:r,transformOrigin:a,style:{zIndex:999999}},O.a.createElement(gt,{id:e,onSelect:this.onSelect,title:c}))}}]),n}(O.a.Component),Ot=m.a.shape({vertical:m.a.string,horizontal:m.a.string});yt.propTypes={id:m.a.string.isRequired,onSelect:m.a.func.isRequired,show:m.a.bool,onClose:m.a.func,anchorOrigin:Ot,transformOrigin:Ot,anchorEl:m.a.shape({}),title:m.a.string},yt.defaultProps={show:!1,onClose:null,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},anchorEl:null,title:"Reactions"};e.b=yt},44:function(t,e,n){"use strict";n.d(e,"u",(function(){return r})),n.d(e,"F",(function(){return a})),n.d(e,"H",(function(){return o})),n.d(e,"I",(function(){return i})),n.d(e,"V",(function(){return c})),n.d(e,"M",(function(){return u})),n.d(e,"Y",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"y",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"B",(function(){return p})),n.d(e,"c",(function(){return h})),n.d(e,"L",(function(){return v})),n.d(e,"k",(function(){return b})),n.d(e,"z",(function(){return g})),n.d(e,"G",(function(){return m})),n.d(e,"d",(function(){return y})),n.d(e,"U",(function(){return O})),n.d(e,"h",(function(){return E})),n.d(e,"Z",(function(){return j})),n.d(e,"ab",(function(){return x})),n.d(e,"l",(function(){return I})),n.d(e,"J",(function(){return S})),n.d(e,"K",(function(){return w})),n.d(e,"C",(function(){return C})),n.d(e,"a",(function(){return k})),n.d(e,"S",(function(){return R})),n.d(e,"x",(function(){return T})),n.d(e,"W",(function(){return A})),n.d(e,"D",(function(){return N})),n.d(e,"E",(function(){return P})),n.d(e,"e",(function(){return _})),n.d(e,"v",(function(){return D})),n.d(e,"n",(function(){return M})),n.d(e,"m",(function(){return F})),n.d(e,"r",(function(){return L})),n.d(e,"i",(function(){return U})),n.d(e,"T",(function(){return G})),n.d(e,"p",(function(){return z})),n.d(e,"s",(function(){return q})),n.d(e,"f",(function(){return B})),n.d(e,"w",(function(){return H})),n.d(e,"bb",(function(){return W})),n.d(e,"q",(function(){return V})),n.d(e,"t",(function(){return K})),n.d(e,"o",(function(){return Y})),n.d(e,"N",(function(){return X})),n.d(e,"P",(function(){return Q})),n.d(e,"O",(function(){return J})),n.d(e,"Q",(function(){return Z})),n.d(e,"R",(function(){return $})),n.d(e,"X",(function(){return tt})),n.d(e,"g",(function(){return et})),n.d(e,"A",(function(){return nt}));var r="FEED_VIEW",a="Material Viewed",o="Material",i="NOTIFICATIONS_VIEW",c="SETTINGS_VIEW",u="POST_VIEW",s="SUBMISSIONS_VIEW",l="ALL_IMPORTANT_POSTS_VIEW_FROM_SIDEBAR",f="IMPORTANT_POST_VIEW_FROM_SIDEBAR",d="CODE_LOGIN",p="LAUNCH_AULA",h="APP_LAUNCH",v="POST_EDITOR_START",b="COMMENT_EDITOR_START",g="INBOX_EDITOR_START",m="MATERIAL_EDITOR_START",y="CHANGE_CLASSROOM",O="SELECT_SPACE_STAFF_SPACE_SELECTOR",E="CLICK_TAG",j="USER_CHANGE_AVATAR",x="USER_CHANGE_STATUS",I="CONVERSATION_VIEW",S="OMNISEARCH_OPEN_MODAL",w="OMNISEARCH_QUERY",C="LOAD_MORE_COMMENTS",k="ADD_DISCUSSION",R="REMOVE_DISCUSSION",T="HIDE_DISCUSSION",A="SHOW_DISCUSSION",N="MAKE_IMPORTANT",P="MAKE_NOT_IMPORTANT",_="CLASSROOM_CHANGE_AVATAR",D="FETCH_ASSIGNMENTS",M="CREATE_ASSIGNMENT",F="CONVERT_ASSIGNMENT",L="EDIT_ASSIGNMENT",U="CLOSE_ASSIGNMENT",G="REOPEN_ASSIGNMENT",z="DELETE_ASSIGNMENT",q="EXPORT_ASSIGNMENT_GRADES",B="CLICK_ENGAGEMENT_STUDENT_TAB",H="FILTER_SUBMISSIONS_BY_GROUP_ID",W="VIEW_STUDENT_SUBMISSION",V="DELETE_SUBMISSION",K="EXPORT_GROUP_SET_PARTICIPANTS",Y="CREATE_GROUPS_VIA_CSV_UPLOAD",X="QUIZZES_LEARNOSITY_ACTIVITYEDIT_EVENT",Q="QUIZZES_LEARNOSITY_ITEMBANK_EVENT",J="QUIZZES_LEARNOSITY_ASSESS_EVENT",Z="QUIZZES_LEARNOSITY_NON_PAUSEABLE_TEMPLATE_SAVE_EVENT",$="RECEIVE_PRESENTATION_UPDATE",tt="SHOW_PRESENTATION_NOTIFICATION",et="CLICK_PRESENTATION_NOTIFICATION",nt="JOIN_PRESENTATION_SESSION"},46:function(t,e,n){"use strict";n.d(e,"a",(function(){return z})),n.d(e,"b",(function(){return q})),n.d(e,"c",(function(){return H})),n.d(e,"d",(function(){return W})),n.d(e,"i",(function(){return V})),n.d(e,"g",(function(){return K})),n.d(e,"h",(function(){return X})),n.d(e,"e",(function(){return Q})),n.d(e,"f",(function(){return J}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(12),b=n.n(v),g=n(2),m=n.n(g),y=n(50),O=n.n(y),E=n(7),j=n.n(E),x=n(179),I=n.n(x),S=n(193),w=n(25),C=n(24),k=n(96),R=[],T=function(t){return R.filter((function(e){return e.name===t}))},A=function(t){R.push({name:t,startTime:(new Date).getTime(),entryType:"mark"})},N=function(t,e){var n=T(e);if(!n.length)throw new Error("Given mark not found");var r={name:t,duration:(new Date).getTime()-n[0].startTime,entryType:"measure"};return R.push(r),r},P=T,_=n(16),D=n(273),M=n(44),F=["firstName","lastName","email","avatar","username","externalId"];function L(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach((function(e){m()(t,e,n[e])})):l.a?d()(t,l()(n)):L(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var G=function(t){t.firstName,t.lastName,t.email,t.avatar,t.username,t.externalId;return O()(t,F)},z=function(t){var e,n,r,a=t(),o=a.classRoom.current,i=a.user,c={};o&&i?c=function(t,e){var n=e.userId,r=e.classRoomId,a=t();return{activeClassroom:r,isInstructor:Object(w.isInstructorInSpace)(a)(n,r),isAdmin:"Admin"===Object(C.getUserRole)(a),accessingAsStaff:Object(w.accessingSpaceAsStaff)(a)(r)}}(t,{userId:i.user.objectId,classRoomId:o}):"web"===k.b&&(e=window.location,c={activeClassroom:(n=e.hash.match(/#\/dashboard\/(.*?)\//))?n[1]:void 0});void 0!==c.isInstructor&&(r=c.accessingAsStaff?"staff":c.isInstructor?"educator":"student"),I.a.setClassRoom(U(U({},c),r?{role:r}:{}))},q=function(t){var e=t().user.user,n=e?{userId:e.objectId}:{};I.a.setUser(n)},B=function(t){var e=t().institution.general.institution;I.a.setInstitution&&I.a.setInstitution(e),I.a.setEndpoint&&I.a.setEndpoint(Object(_.c)()),q(t),z(t)},H=function(t,e,n){return I.a.track(U(U({event:t,activeClassroom:void 0},e?G(e):{}),n?G(n):{}))},W=function(){var t=b()(j.a.mark((function t(e){var n,r;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e(),r=n.institution.general.institution,t.next=3,I.a.init(r,{},k.b,{},U({},S.a));case 3:B(e);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.activeClassroom,n=t.postId,r=t.post;if(n&&r&&e){var a=r.important,o=Object(D.a)({startDate:r.createdAt,endDate:new Date}),i=o>=0&&o<=72;H(M.M,{activeClassroom:e,itemId:n,postId:n,isImportantPost:a,isRecentImportantPost:a&&i})}},K=function(t){var e=t.spaceId,n=t.presentationId,r=t.presentationSessionId,a=t.correlationId;H(M.R,{spaceId:e,presentationId:n,presentationSessionId:r,correlationId:a})},Y=function(t,e){return"".concat(t,"-").concat(e)},X=function(t){var e=t.spaceId,n=t.presentationId,r=t.presentationSessionId,a=t.correlationId;H(M.X,{spaceId:e,presentationId:n,presentationSessionId:r,correlationId:a}),A(Y(M.X,a))},Q=function(t){var e,n=t.spaceId,r=t.presentationId,a=t.presentationSessionId,o=t.correlationId,i=t.joinedPresentationFrom;if("full-screen"===i){var c=Y(M.X,o),u=N("Time between seeing presentation notification, and clicking join",c).duration;e=Math.round(u)}H(M.g,{spaceId:n,presentationId:r,presentationSessionId:a,correlationId:o,joinedPresentationFrom:i,durationMs:e}),A(Y(M.g,o))},J=function(t){var e,n=t.spaceId,r=t.presentationId,a=t.presentationSessionId,o=t.correlationId,i=Y(M.g,o);P(i).length&&(e=N("Time between clicking join presentation and seeing the first slide",i).duration);H(M.A,{spaceId:n,presentationId:r,presentationSessionId:a,correlationId:o,durationMs:e?Math.round(e):void 0})};I.a},47:function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(170),a=null,o=function(t){a=t};e.a=function(t){a&&a.dispatch(Object(r.push)(t))}},499:function(t,e,n){"use strict";n.d(e,"a",(function(){return k})),n.d(e,"b",(function(){return N})),n.d(e,"c",(function(){return M}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(88),u=n.n(c),s=n(6),l=n.n(s),f=n(44),d=n(13),p=n(70),h=n(25),v=n(46),b=n(176),g=n(159),m=n(242),y=n(282),O=n(243),E=n(324),j=n(69),x=n(78),I=n(273),S=function(t){t({type:d.S,status:"started"})},w=function(t,e){e({type:d.S,status:"success",importantPosts:t})},C=function(t,e){e(Object(p.b)(t,"fetchImportantPosts")),e({type:d.S,status:"error",error:t})},k=function(t){var e=t.spaceId,n=t.after,r=t.tagId;return function(){var t=a()(i.a.mark((function t(a,o){var c,s,f,d,p,h,v,E,j;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return S(a),c=o(),s=u()(c.data.classRooms[e].posts).reduce((function(t,e){var n=c.data.posts[e],r=new Date(n.createdAt);return n.important&&r.getTime()<t.getTime()?r:t}),new Date),f=s||new Date,t.prev=4,t.next=7,Object(O.a)({spaceId:e,until:f,after:n,tagId:r,important:!0});case 7:d=t.sent,p=d.tagPosts,h=d.comments,v=d.reactions,E=d.posts,w(E,a),Object(b.d)(p,a),j=h.reduce(y.a,{}),l()(j).forEach((function(t){t&&Object(m.a)(t,j[t],a)})),a(Object(g.a)(v)),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(4),C(t.t0,a);case 22:case"end":return t.stop()}}),t,null,[[4,19]])})));return function(e,n){return t.apply(this,arguments)}}()},R=function(t){return function(e){e({type:d.vb,status:"started",id:t})}},T=function(t){return function(e){e({type:d.vb,status:"success",importantPost:t}),Object(I.a)({startDate:t.createdAt,endDate:new Date})<72&&e(Object(j.a)(x.s))}},A=function(t){var e=t.error,n=t.id;return function(t){t(Object(p.b)(e,"setPostImportant")),t({type:d.vb,status:"error",error:e,id:n})}},N=function(t){return function(){var e=a()(i.a.mark((function e(n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(t)(n),Object(v.c)(f.D,{activeClassroom:Object(h.currentClassRoomId)(r())}),e.prev=2,e.next=5,Object(E.a)({postId:t,important:!0});case 5:a=e.sent,T(a)(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),A({error:e.t0,id:t})(n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()},P=function(t){return function(e){e({type:d.Ab,status:"started",id:t})}},_=function(t){return function(e){e({type:d.Ab,status:"success",importantPost:t})}},D=function(t){var e=t.error,n=t.id;return function(t){t(Object(p.b)(e,"unsetPostImportant")),t({type:d.Ab,status:"error",error:e,id:n})}},M=function(t){return function(){var e=a()(i.a.mark((function e(n,r){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(t)(n),Object(v.c)(f.E,{postId:t,activeClassroom:Object(h.currentClassRoomId)(r())}),e.prev=2,e.next=5,Object(E.a)({postId:t,important:!1});case 5:a=e.sent,_(a)(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),D({error:e.t0,id:t})(n);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t,n){return e.apply(this,arguments)}}()}},506:function(t,e,n){"use strict";n.r(e);var r=n(45),a=n.n(r),o=n(264),i=n.n(o),c=n(127),u=n(170),s=n(6),l=n.n(s),f=n(3),d=n.n(f),p=n(4),h=n.n(p),v=n(5),b=n.n(v),g=n(9),m=n.n(g),y=n(8),O=n.n(y),E=n(2),j=n.n(E),x=n(13);function I(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function S(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?I(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):I(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var w={loader:{isLoading:!1,showError:!1,showLogo:!1},importantPostsOpen:!1,conversationId:null,navBarNoticiationsBadge:!1},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return S(S({},t),{},{loader:S(S({},t.loader),{},{isLoading:!0,showLogo:!0})});case"success":return S(S({},t),{},{loader:S(S({},t.loader),{},{isLoading:!1,showError:!1,showLogo:!1})});case"error":return S(S({},t),{},{loader:S(S({},t.loader),{},{isLoading:!0,showError:!0})});default:return t}},k=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,n=arguments.length>1?arguments[1]:void 0;if(!n)return e;var r=t(e,n);switch(n.type){case x.yb:case x.xb:return C(r,n);case x.wb:return S(S({},r),{},{importantPostsOpen:!r.importantPostsOpen});case x.lb:return S(S({},r),{},{navBarNoticiationsBadge:n.hasUnread});default:return r}}},R=n(57),T=n.n(R);function A(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):A(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var P=function(t,e){switch(e.status){case"success":return N(N({},t),{},{classRooms:(n=t.classRooms,r=e.classRoomUsers,a=r.filter((function(t){return!!t.classRoom})).reduce((function(t,e){return N(N({},t),{},j()({},e.classRoom.objectId,N(N({},e.classRoom),{},{selfClassRoomUser:e.objectId,posts:[],importantPosts:[],scheduledPosts:[],instructors:e.classRoom.instructors,participants:[],participantsHistory:{},participantsHistoryCount:0,materials:[],materialsv2:[],notifications:[],inboxGroups:[],unread:!1,tags:[]})))}),{}),N(N({},n),a))});default:return t}var n,r,a},_=function(t,e){switch(e.status){case"success":var n=t.classRooms[e.classroomId];return N(N({},t),{},{classRooms:N(N({},t.classRooms),{},j()({},e.classroomId,N(N({},n),{},{avatar:e.url})))});default:return t}},D=n(20),M=n.n(D),F=n(65),L=n.n(F);function U(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):U(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var z=function(t,e){switch(e.status){case"success":if(!t.classRooms[e.post.classRoom])return t;var n=T()({},t.classRooms[e.post.classRoom]);return G(G({},t),{},{classRooms:G(G({},t.classRooms),{},j()({},e.post.classRoom,G(G({},n),{},{posts:M()(new L.a([].concat(M()(n.posts),[e.post.objectId])))})))});default:return t}};function q(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):q(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var H=function(t,e){switch(e.status){case"started":if(e.reset){var n=B({},t.classRooms),r=e.spaceId;return n[r]=T()({},n[r]||{},{participants:[]}),B(B({},t),{},{classRooms:n})}return t;case"success":var a=T()({},t.classRooms);if(e.participants.length>0){var o=e.spaceId;a[o]=T()({},a[o]||{},{participants:[].concat(M()(a[o]?a[o].participants:[]),M()(e.participants))})}var i=e.participants.reduce((function(t,e){return"educator"!==e.role?t:[].concat(M()(t),[e.id])}),[]);if(i.length){var c=e.spaceId,u=M()(new L.a([].concat(M()(a[c]?a[c].instructors:[]),M()(i))));a[c]=T()({},a[c]||{},{instructors:u})}return B(B({},t),{},{classRooms:a});default:return t}},W=function(t,e){switch(e.status){case"started":if(e.reset){var n=B({},t.classRooms),r=e.spaceId;return n[r]=T()({},n[r]||{},{participantsHistory:{},participantsHistoryCount:0}),B(B({},t),{},{classRooms:n})}return t;case"success":var a=T()({},t.classRooms);if(e.participantsHistoryCount>0){var o=e.spaceId;a[o]=T()({},a[o]||{},{participantsHistory:B(B({},a[o]?a[o].participantsHistory:{}),e.participantsHistory),participantsHistoryCount:e.participantsHistoryCount})}return B(B({},t),{},{classRooms:a});default:return t}},V=function(t,e){switch(e.status){case"started":return t;case"success":var n=T()({},t.classRooms),r=e.classRoomId,a=n[r].participants.filter((function(t){return t.id!==e.removedClassRoomUserId}));return n[r]=T()({},n[r],{participants:a}),B(B({},t),{},{classRooms:n});default:return t}};function K(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Y(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?K(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):K(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var X=function(t,e){switch(e.status){case"success":if(e.fetchedTags.length){var n=Y({},t.classRooms[e.classRoomId]);return n.tags=M()(e.fetchedTags.map((function(t){return t.objectId}))),Y(Y({},t),{},{classRooms:T()({},t.classRooms,j()({},n.objectId,n))})}return Y({},t);default:return t}},Q=function(t,e){var n=e.status,r=e.tag;switch(n){case"success":var a=r.objectId,o=r.classRoom.objectId,i=Y({},t.classRooms[o]);return i.tags=[].concat(M()(i.tags),[a]),Y(Y({},t),{},{classRooms:T()({},t.classRooms,j()({},o,i))});default:return t}},J=n(50),Z=n.n(J),$=n(102),tt=["tags"];function et(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?et(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):et(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var rt=function(t){var e=t.classRoom,n=t.post,r=t.posts,a=nt({},e),o=r[n.objectId],i=!!o&&Object($.e)(o),c=Object($.e)(n),u=c?"scheduledPosts":"posts",s=c?"posts":"scheduledPosts",l=c?1:-1;return a[u]=M()(new L.a([n.objectId].concat(M()(a[u])))).map((function(t){return t===n.objectId?n:r[t]})).sort(Object($.b)(l)).map((function(t){return t.objectId})),a[s]=a[s].filter((function(t){return t!==n.objectId})),a.importantPostCount=Object($.c)({posts:r,newPost:n,importantPostCount:e.importantPostCount}),a.importantPosts=Object($.d)({posts:r,newPost:n,importantPosts:e.importantPosts}),i&&!c?a.scheduledPostCount-=1:!i&&c&&(a.scheduledPostCount+=1),a},at=function(t,e){switch(e.status){case"success":var n=nt(nt({},e.post),{},{comments:[],tags:e.post.tags||[]}),r=t.classRooms[n.classRoom];return nt(nt({},t),{},{classRooms:nt(nt({},t.classRooms),{},j()({},n.classRoom,rt({classRoom:r,post:n,posts:t.posts}))),posts:nt(nt({},t.posts),{},j()({},n.objectId,n))});default:return t}},ot=function(t,e){if("success"!==e.status)return t;var n=e.post,r=t.classRooms[n.classRoom],a=e.post,o=(a.tags,Z()(a,tt));return nt(nt({},t),{},{classRooms:nt(nt({},t.classRooms),{},j()({},n.classRoom,rt({classRoom:r,post:n,posts:t.posts}))),posts:nt(nt({},t.posts),{},j()({},e.post.objectId,nt(nt({},t.posts[e.post.objectId]),o)))})},it=function(t,e){switch(e.status){case"started":return nt(nt({},t),{},{isUpdatingPost:!0,postIdsUpdating:Object($.a)({state:t,id:e.id})});case"success":var n=t.classRooms[e.post.classRoom],r=nt({},n),a=nt({},t.posts),o=e.post,i=o.objectId,c=Object($.e)(o);delete a[o.objectId];var u=function(t){return t!==i};r.posts=r.posts.filter(u),r.scheduledPosts=r.scheduledPosts.filter(u);var s=r.scheduledPosts.length<n.scheduledPosts.length;return c&&s&&(r.scheduledPostCount-=1),nt(nt({},t),{},{classRooms:nt(nt({},t.classRooms),{},j()({},n.objectId,r)),posts:a,isUpdatingPost:!1,postIdsUpdating:Object($.f)({state:t,id:o.objectId})});case"error":return nt(nt({},t),{},{isUpdatingPost:!1,postIdsUpdating:Object($.f)({state:t,id:e.id})});default:return nt(nt({},t),{},{isUpdatingPost:!1})}},ct=function(t,e){switch(e.status){case"started":return nt(nt({},t),{},{isFetchingData:!0});case"success":return nt(nt({},t),{},{posts:nt(nt({},t.posts),{},j()({},e.post.objectId,nt(nt({comments:[],tags:[],user:e.post.user},t.posts[e.post.objectId]),e.post))),isFetchingData:!1});case"error":return nt(nt({},t),{},{isFetchingData:!1});default:return t}},ut=function(t,e){switch(e.status){case"started":if(e.reset){var n=nt({},t.classRooms);return n[e.spaceId]=T()({},n[e.spaceId],{posts:[]}),nt(nt({},t),{},{classRooms:n})}return nt({},t);case"success":for(var r=T()({},e.reset?[]:t.posts),a=0;a<e.content.length;a+=1)r[e.content[a].objectId]=T()({},r[e.content[a].objectId],e.content[a],{classRoom:e.content[a].classRoom,comments:[],tags:[],user:e.content[a].user||{firstName:"Deleted User",lastName:""}});var o=nt({},t.classRooms);if(e.content.length>0){var i=e.content[0].classRoom,c=e.content.map((function(t){return t.objectId})),u=o[i].posts,s=M()(new L.a([].concat(M()(c),M()(u)))).map((function(t){return r[t]})).sort(Object($.b)(-1)).map((function(t){return t.objectId})),l=new Date(e.content[e.content.length-1].createdAt);o[i]=nt(nt({},o[i]),{},{posts:s,oldestPostDate:l})}return nt(nt({},t),{},{posts:r,classRooms:o});case"error":return nt(nt({},t),{},{hasInitialData:!1,isFetchingInitialData:!1});default:return t}};function st(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?st(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):st(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var ft=function(t){var e=t.state,n=t.importantPost,r=n.classRoom,a=n.objectId,o=n,i=lt(lt({},e.posts),{},j()({},a,o)),c=e.classRooms[r].importantPostCount,u=e.classRooms[r].importantPosts,s=Object($.d)({posts:e.posts,newPost:o,importantPosts:u}),l=lt(lt({},e.classRooms),{},j()({},r,lt(lt({},e.classRooms[r]),{},{importantPostCount:Object($.c)({posts:e.posts,newPost:o,importantPostCount:c})})));return s&&(l[r].importantPosts=s),lt(lt({},e),{},{posts:i,classRooms:l,isUpdatingPost:!1,postIdsUpdating:Object($.f)({state:e,id:a})})},dt=function(t,e){switch(e.status){case"success":var n=e.importantPosts,r=[],a=lt({},t.posts);n.forEach((function(t){r.push(t.objectId),a[t.objectId]||(a[t.objectId]=lt(lt({},t),{},{comments:[],tags:[]}))}));var o=lt({},t.classRooms);if(n.length>0){var i=n[0].classRoom,c=o[i],u=M()(new L.a([].concat(M()(c.importantPosts||[]),r)));o[i]=lt(lt({},c),{},{importantPosts:u})}return lt(lt({},t),{},{posts:a,classRooms:o});case"error":return lt({},t);default:return t}},pt=function(t,e){switch(e.status){case"started":return lt(lt({},t),{},{isUpdatingPost:!0,postIdsUpdating:Object($.a)({state:t,id:e.id})});case"success":return ft({state:t,importantPost:lt({important:!0},e.importantPost)});case"error":return lt(lt({},t),{},{isUpdatingPost:!1,postIdsUpdating:Object($.f)({state:t,id:e.id})});default:return lt(lt({},t),{},{isUpdatingPost:!1})}},ht=function(t,e){switch(e.status){case"started":return lt(lt({},t),{},{isUpdatingPost:!0,postIdsUpdating:Object($.a)({state:t,id:e.id})});case"success":return ft({state:t,importantPost:lt({important:!1},e.importantPost)});case"error":return lt(lt({},t),{},{isUpdatingPost:!1,postIdsUpdating:Object($.f)({state:t,id:e.id})});default:return lt(lt({},t),{},{isUpdatingPost:!1})}};function vt(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):vt(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var gt=function(t,e){switch(e.status){case"success":var n=e.scheduledPosts,r=[],a=bt({},t.posts);n.forEach((function(t){r.push(t.objectId),a[t.objectId]||(a[t.objectId]=bt(bt({},t),{},{comments:[],tags:[]}))}));var o=bt({},t.classRooms);if(n.length>0){var i=n[0].classRoom,c=o[i],u=M()(new L.a([].concat(M()(c.scheduledPosts),r))).map((function(t){return a[t]})).sort(Object($.b)(1)).map((function(t){return t.objectId}));o[i]=bt(bt({},c),{},{scheduledPosts:u})}return bt(bt({},t),{},{posts:a,classRooms:o});case"error":return bt({},t);default:return t}};function mt(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?mt(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):mt(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Ot=function(t,e){var n=e.classRoomUsers.filter((function(t){return!!t.classRoom&&!!t.user})).reduce((function(t,e){return T()(t,j()({},e.objectId,T()({},e,{classRoom:e.classRoom.objectId,user:e.user.objectId}))),t}),{});return yt(yt({},t.classRoomUsers),n)},Et=function(t,e){switch(e.status){case"success":return yt(yt({},t),{},{classRoomUsers:Ot(t,e)});default:return t}},jt=function(t,e){switch(e.status){case"started":return t;case"success":var n=T()({},t.classRoomUsers);return n[e.promotedClassRoomUser]=T()({},n[e.promotedClassRoomUser],{isInstructor:!0}),yt(yt({},t),{},{classRoomUsers:n});default:return t}},xt=function(t,e){switch(e.status){case"started":return t;case"success":var n=T()({},t.classRoomUsers);return n[e.unpromotedClassRoomUser]=T()({},n[e.unpromotedClassRoomUser],{isInstructor:!1}),yt(yt({},t),{},{classRoomUsers:n});default:return t}};function It(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function St(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):It(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var wt=function(t,e){if("success"!==e.status)return t;var n=e.user;return St(St({},t),{},{users:St(St({},t.users),{},j()({},n.id,n))})},Ct=n(118);function kt(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Rt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?kt(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):kt(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Tt=function(t,e){switch(e.status){case"started":return t;case"success":var n=e.payload,r=n.comments,a=n.entityId,o=n.entityType,i=r.reduce((function(t,e){return e.root?Rt(Rt({},t),{},j()({},e.root,[].concat(M()(t[e.root]||[]),[e]).sort())):t}),{}),c=r.reduce((function(t,e){return Rt(Rt({},t),{},j()({},e.id,Rt(Rt({},e),{},{user:e.user||{firstName:"Deleted user",lastName:""}})))}),{}),u=function(t,e){return new Date(t.createdAt)-new Date(e.createdAt)},s=l()(c).reduce((function(t,e){return Rt(Rt({},t),{},j()({},e,Rt(Rt({},c[e]),{},{replies:(i[e]||[]).sort(u).map((function(t){return t.id}))})))}),{}),f=Ct.a[o],d=Rt(Rt({},t[f][a]),{},{comments:l()(s).reduce((function(t,e){var n=s[e];return n.root?t:[].concat(M()(t),[n])}),[]).sort(u).map((function(t){return t.id}))});return Rt(Rt({},t),{},j()({comments:Rt(Rt({},t.comments),s)},f,Rt(Rt({},t[f]),{},j()({},a,d))));case"error":return Rt(Rt({},t),{},{isErrored:!0,error:e.error});default:return t}},At=function(t,e){switch(e.status){case"started":return t;case"success":var n=e.payload;if(t.comments[n.comment.id])return t;var r=Ct.a[n.comment.entityType],a=Rt(Rt({},n.comment),{},{local:!0,replies:[]}),o=Rt({},t[r][a.entityId]);if(!o||!l()(o).length)return t;o.comments=M()(new L.a([].concat(M()(o.comments?o.comments:[]),M()(a.root?[]:[a.id]))));var i={};if(a.root&&t.comments[a.root]){var c=t.comments[a.root];i[a.root]=Rt(Rt({},c),{},{replies:[].concat(M()(c.replies),[a.id])})}return Rt(Rt({},t),{},j()({comments:Rt(Rt(Rt({},t.comments),i),{},j()({},a.id,a))},r,Rt(Rt({},t[r]),{},j()({},a.entityId,o))));case"error":return Rt(Rt({},t),{},{error:e.error,commentData:e.commentData});default:return t}},Nt=function(t,e){switch(e.status){case"success":var n=e.comment,r=n.id;return Rt(Rt({},t),{},{comments:Rt(Rt({},t.comments),{},j()({},r,Rt(Rt({},t.comments[r]),n)))});default:return t}},Pt=function(t,e){switch(e.status){case"success":var n,r=e.comment,a=Ct.a[r.entityType],o=r.id,i=t.comments[o];if(!i)return t;var c=i.root,u=c?j()({},c,Rt(Rt({},t.comments[c]),{},{replies:t.comments[c].replies.filter((function(t){return t!==o}))})):{},s=Rt(Rt({},t.comments),u);delete s[o],i.replies.forEach((function(t){return delete s[t]}));var l=i.entityId,f=Rt({},t[a][l]);return f.comments=f.comments.filter((function(t){return t!==o})),Rt(Rt({},t),{},(n={},j()(n,a,Rt(Rt({},t[a]),{},j()({},l,f))),j()(n,"comments",s),n));default:return t}};function _t(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):_t(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Mt=function(t,e){switch(e.status){case"started":return t;case"success":var n=e.comments.reduce((function(t,e){return e.root?Dt(Dt({},t),{},j()({},e.root,[].concat(M()(t[e.root]||[]),[e]).sort())):t}),{}),r=e.comments.reduce((function(t,n){return Dt(Dt({},t),{},j()({},n.id,Dt(Dt({},n),{},{post:e.postId,user:n.user||{firstName:"Deleted user",lastName:""}})))}),{}),a=function(t,e){return new Date(t.createdAt)-new Date(e.createdAt)},o=l()(r).reduce((function(t,e){return Dt(Dt({},t),{},j()({},e,Dt(Dt({},r[e]),{},{replies:(n[e]||[]).sort(a).map((function(t){return t.id}))})))}),{}),i=Dt(Dt({},t.posts[e.postId]),{},{comments:l()(o).reduce((function(t,e){var n=o[e];return n.root?t:[].concat(M()(t),[n])}),[]).sort(a).map((function(t){return t.id}))});return Dt(Dt({},t),{},{comments:Dt(Dt({},t.comments),o),posts:Dt(Dt({},t.posts),{},j()({},e.postId,i))});case"error":return Dt(Dt({},t),{},{isErrored:!0,error:e.error});default:return t}},Ft={newPost:"post",newComment:"comment",newCommentOnCommentedPost:"commentOnCommentedPost",newCommentReply:"commentReply",newMessage:"message"};function Lt(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Lt(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Gt=function(t,e){switch(e.status){case"started":return Ut(Ut({},t),{},{isFetchingData:!0});case"success":var n=e.notifications.reduce((function(t,e){var n=e.notification.spaceId;return!0===e.read?t:Ut(Ut({},t),{},j()({},n,!0))}),{}),r=l()(t.classRooms).reduce((function(e,r){return Ut(Ut({},e),{},j()({},r,Ut(Ut({},t.classRooms[r]),{},{unread:n[r]||!1})))}),{});return Ut(Ut({},t),{},{notifications:e.notifications,classRooms:r,isFetchingData:!1});case"error":return Ut(Ut({},t),{},{isFetchingData:!1});default:return t}},zt=function(t,e){switch(e.status){case"success":var n=t.notifications.map((function(t){return e.notificationIds.includes(t.id)?Ut(Ut({},t),{},{liveRead:!0}):t}));return Ut(Ut({},t),{},{notifications:n});default:return t}},qt=function(t,e){switch(e.status){case"success":var n=e.classRoomId;t.classRooms[n]||(n=l()(t.classRooms)[0]);var r=t.classRooms[n].notifications.map((function(e){return t.notifications[e]})).filter((function(t){return Ft[t.notification.action]===e.notificationType})).map((function(t){return Ut(Ut({},t),{},{read:!0})})).reduce((function(t,e){return Ut(Ut({},t),{},j()({},e.objectId,e))}),Ut({},t.notifications));return Ut(Ut({},t),{},{notifications:r});default:return t}},Bt=n(908),Ht=n.n(Bt);function Wt(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wt(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Wt(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Kt=function(t,e){switch(e.status){case"success":var n=e.payload,r=n.tags,a=n.spaceId,o=[].concat(M()(l()(t.tags).map((function(e){return t.tags[e]}))),M()(r)).filter((function(t){return t.classRoom.objectId===a})),i=Ht()(o,"objectId");return Vt(Vt({},t),{},{tags:i});default:return t}},Yt=function(t,e){switch(e.status){case"success":var n=Vt({},t.posts),r={};return e.fetchedTagPosts.forEach((function(t){var e=r[t.post.objectId]||[];r[t.post.objectId]=M()(new L.a([].concat(M()(e),[{tagId:t.tag.objectId,tagPostId:t.objectId}])))})),l()(r).forEach((function(t){var e=n[t];e&&(n[t]=Vt(Vt({},e),{},{tags:r[t]}))})),Vt(Vt({},t),{},{posts:n});default:return t}},Xt=function(t,e){var n=e.status,r=e.tag;switch(n){case"success":var a=r.objectId;return Vt(Vt({},t),{},{tags:Vt(Vt({},t.tags),{},j()({},a,Vt({},r))),spaceTags:Vt(Vt({},t.spaceTags),{},j()({},a,Vt({},r)))});default:return t}},Qt=function(t,e){var n=e.status,r=e.tagPost;switch(n){case"success":var a=r.tag.objectId,o=r.post.objectId,i=t.posts[o],c=i.tags||[];if(-1!==c.findIndex((function(t){return t.tagId===a})))return t;var u=r.objectId;return Vt(Vt({},t),{},{posts:Vt(Vt({},t.posts),{},j()({},o,Vt(Vt({},i),{},{tags:[].concat(M()(c),[{tagId:a,tagPostId:u}])})))});default:return t}},Jt=function(t,e){switch(e.status){case"success":var n=e.payload,r=n.tagId,a=n.postId,o=t.posts[a];return Vt(Vt({},t),{},{posts:Vt(Vt({},t.posts),{},j()({},a,Vt(Vt({},o),{},{tags:o.tags.filter((function(t){return t.tagId!==r}))})))});default:return t}};function Zt(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zt(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Zt(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var te=function(t,e){switch(e.status){case"success":return $t($t({},t),{},{devices:e.devices.reduce((function(t,n){return $t($t({},t),{},j()({},n.objectId,$t($t({},n),{},{current:n.deviceId===e.deviceId})))}),{})});default:return t}};function ee(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ne(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ee(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):ee(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var re,ae=function(t,e){return t[e.objectId]=ne(ne({},e),{},{id:e.objectId}),t},oe=function(t,e){if("success"!==e.status)return t;var n=e.payload.users;return ne(ne({},t),n.reduce(ae,{}))};function ie(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):ie(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var ue=(re={hasInitialData:!1,isFetchingInitialData:!1,isFetchingData:!1,isFetchingNotifications:!1,isUpdatingPost:!1,postIdsUpdating:[],assignments:{assignments:[],submissions:{}},classRooms:{},classRoomUsers:{}},j()(re,Ct.a.post,{}),j()(re,"files",{}),j()(re,"comments",{}),j()(re,"notifications",[]),j()(re,"liveNotifications",{settings:{push:{messages:!1,posts:!1,comments:!1},email:{messages:!1,posts:!1,comments:!1}}}),j()(re,"reactions",{}),j()(re,"inboxv2",{conversations:{},messages:{},participants:{},drafts:{}}),j()(re,"groups",{sets:{},groups:{}}),j()(re,"features",{}),j()(re,"tags",{}),j()(re,"selectedTag",{}),j()(re,Ct.a.material,{}),j()(re,"devices",{}),j()(re,"users",{}),re),se=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return ce(ce({},t),{},{hasInitialData:!1,isFetchingInitialData:!0});case"success":return ce(ce({},t),{},{hasInitialData:!0,isFetchingInitialData:!1});case"error":return ce(ce({},t),{},{hasInitialData:!1,isFetchingInitialData:!1});default:return t}},le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.xb:return se(t,e);case x.h:return ut(t,e);case x.S:return dt(t,e);case x.vb:return pt(t,e);case x.Ab:return ht(t,e);case x.V:return gt(t,e);case x.l:return ce(ce({},t),{},{posts:ce({},ct(t,e).posts),classRooms:ce({},z(t,e).classRooms)});case x.e:return at(t,e);case x.g:return ot(t,e);case x.f:return it(t,e);case x.i:return ce(ce({},t),{},{classRooms:ce({},P(t,e).classRooms),classRoomUsers:ce({},Et(t,e).classRoomUsers)});case x.j:return ce(ce({},t),{},{classRooms:ce({},H(t,e).classRooms)});case x.k:return ce(ce({},t),{},{classRooms:ce({},W(t,e).classRooms)});case x.y:return V(t,e);case x.x:return ce(ce({},t),{},{classRoomUsers:ce({},jt(t,e).classRoomUsers)});case x.A:return ce(ce({},t),{},{classRoomUsers:xt(t,e).classRoomUsers});case x.d:return _(t,e);case x.Z:return Tt(t,e);case x.C:return At(t,e);case x.F:return Mt(t,e);case x.E:return Nt(t,e);case x.D:return Pt(t,e);case x.U:return ce(ce(ce({},t),Gt(t,e)),{},{isFetchingNotifications:"started"===e.status});case x.mb:return ce(ce({},t),{},{notifications:zt(t,e).notifications});case x.nb:return ce(ce({},t),{},{notifications:qt(t,e).notifications});case x.m:return ce(ce({},t),{},{tags:Kt(t,e).tags,classRooms:X(t,e).classRooms});case x.zb:return ce(ce({},t),{},{selectedTag:{}});case x.W:return Kt(t,e);case x.X:return Yt(t,e);case x.I:return ce(ce({},t),{},{tags:Xt(t,e).tags,classRooms:Q(t,e).classRooms});case x.J:return Qt(t,e);case x.K:return Jt(t,e);case x.Eb:return te(t,e);case x.Gb:return ce({},ue);case x.Fb:return wt(t,e);case x.Y:return ce(ce({},t),{},{users:oe(t.users,e)});default:return t}},fe=function(t){return function(e){return void 0===e?t:e}},de=function(t,e){var n=a()(e,2);return function(t,e,n){return t[e]=n,t}(t,n[0],n[1])},pe=function(t){var e=function(t,e){return Object(c.combineReducers)(i()(e).map((function(e){var n=a()(e,2),r=n[0],o=n[1];return[r,void 0!==t[r]?t[r]:fe(o)]})).reduce(de,{}))}(t,ue);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,n=arguments.length>1?arguments[1]:void 0;return e(le(t,n),n)}};function he(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):he(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var be={user:null,userId:null,isLoggingIn:!1,isLoggingOut:!1,isLogged:!1,isRegistering:!1,isUpdatingInfo:!1,isErrored:!1,isRequestingCodeLogin:!1,requestedCodeLogin:!1,changingAvatar:!1},ge=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return ve(ve({},t),{},{isRequestingCodeLogin:!0,requestedCodeLogin:!1});case"success":return ve(ve({},be),{},{isRequestingCodeLogin:!1,requestedCodeLogin:!0});case"error":return ve(ve({},t),{},{isErrored:!0,isRequestingCodeLogin:!1,requestedCodeLogin:!1});default:return t}},me=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return ve(ve({},t),{},{isLoggingIn:!0});case"success":return ve(ve({},be),{},{user:e.user,userId:e.user.id,isLogged:!0});case"error":return ve(ve({},t),{},{isErrored:!0,isLoggingIn:!1});default:return t}},ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return ve(ve({},t),{},{isLoggingOut:!0});case"success":return ve(ve({},be),{},{user:null,userId:"",isLogged:null});case"error":return ve(ve({},t),{},{isErrored:!0,isLoggingOut:!1});default:return t}},Oe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return ve(ve({},t),{},{changingAvatar:!0});case"success":return ve(ve({},t),{},{user:T()({},t.user,{avatar:e.url}),isErrored:!1,changingAvatar:!1});case"error":return ve(ve({},t),{},{isErrored:!0,changingAvatar:!1});default:return t}},Ee=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return ve(ve({},t),{},{changingStatus:!0});case"success":return ve(ve({},t),{},{user:T()({},t.user,{status:e.statusData.status}),isErrored:!1,changingStatus:!1});case"error":return ve(ve({},t),{},{isErrored:!0,changingStatus:!1});default:return t}},je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.sb:return ge(t,e);case x.Fb:return me(t,e);case x.Gb:return ye(t,e);case x.Db:return ve(ve({},t),{},{user:ve(ve({},t.user),e.user)});case x.Bb:return Oe(t,e);case x.Cb:return Ee(t,e);default:return t}};function xe(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ie(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?xe(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):xe(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Se={last:{message:void 0,from:void 0,error:void 0,visible:!1}},we=function(t,e){if(!t)return Ie({},Se);var n=t.message||"Sorry, trouble connecting to Aula";return{error:Ie({},t),message:n,from:e,visible:void 0===t.visible||t.visible}},Ce=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.M:return Ie(Ie({},t),{},{last:we(e.error,e.from)});case x.L:return Ie(Ie({},t),{},{last:Ie(Ie({},Se.last),{},{visible:!1})});default:return t}};function ke(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ke(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):ke(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Te={isCreatingComment:!1,isFetchingComment:!1,isFetchingComments:!1,isFetchingCommentsDone:!0,isErrored:!1},Ae=function(t,e){switch(e.status){case"started":return Re(Re({},t),{},{isFetchingComments:!0});case"success":return Re(Re({},t),{},{isFetchingComments:!1,isFetchingCommentsDone:0===e.comments.length});case"error":return Re(Re({},t),{},{isFetchingComments:!1,isErrored:!0});default:return t}},Ne=function(t,e){switch(e.status){case"started":return Re(Re({},t),{},{isCreatingComment:!0});case"success":case"error":return Re(Re({},t),{},{isCreatingComment:!1});default:return t}},Pe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x.F:return Ae(t,e);case x.C:return Ne(t,e);default:return t}};function _e(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function De(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_e(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):_e(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Me={isFetchingPosts:!1,isCreatingPost:!1,hasFetchedAllPosts:!1,schedulePostDialogOpenFor:null},Fe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return De(De({},t),{},{isFetchingPosts:!0,hasFetchedAllPosts:!1});case"success":return De(De({},t),{},{isFetchingPosts:!1,hasFetchedAllPosts:e.content.length<10});case"error":return De(De({},t),{},{isFetchingPosts:!1});default:return t}},Le=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return De(De({},t),{},{isCreatingPost:!0});case"success":case"error":return De(De({},t),{},{isCreatingPost:!1});default:return t}},Ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Me;case"success":default:return t}},Ge=function(t,e){return De(De({},t),{},{schedulePostDialogOpenFor:e.payload.schedulePostDialogOpenFor})},ze=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.h:return Fe(t,e);case x.e:return Le(t,e);case x.c:return Ue(t,e);case x.w:return Ge(t,e);default:return t}};function qe(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Be(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?qe(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):qe(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var He={current:void 0,isFetchingClassRooms:!1,isFetchingParticipants:!1,isFetchingParticipantsHistory:!1,hasFetchedAllParticipants:!1,hasFetchedAllParticipantsHistory:!1,searchingParticipantQuery:null,isActingOnParticipant:!1,isFetchingContent:!1,isFetchingImportantPosts:!1,hasFetchedAllImportantPosts:!1,isFetchingScheduledPosts:!1,hasFetchedAllScheduledPosts:!1,isChangingClassRoom:!1,isChangingAvatar:!1,isErrored:!1,filterTag:"",lastEventDate:"",isFetchingFilteredPosts:!1,shouldFetchMoreNotifications:!1,onlineUsers:[],hasAddParticipantError:!1,isAddingParticipantToSpace:!1},We=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isChangingClassRoom:!0,current:e.payload.id,onlineUsers:[]});case"success":var n=e.payload,r=n.id,a=n.tagId;return Be(Be({},t),{},{current:r,isChangingClassRoom:!1,hasFetchedAllParticipants:!1,hasFetchedAllParticipantsHistory:!1,filterTag:a||""});case"error":return Be(Be({},t),{},{isChangingClassRoom:!1,isErrored:!0});default:return t}},Ve=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isFetchingClassRooms:!0});case"success":return Be(Be({},t),{},{isFetchingClassRooms:!1,isErrored:!1});case"error":return Be(Be({},t),{},{isFetchingClassRooms:!1,isErrored:!0});default:return t}},Ke=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isFetchingParticipants:!0});case"success":return Be(Be({},t),{},{isErrored:!1,isFetchingParticipants:!1,hasFetchedAllParticipants:0===e.participants.length});case"error":return Be(Be({},t),{},{isErrored:!0,isFetchingParticipants:!1});default:return t}},Ye=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isFetchingParticipantsHistory:!0});case"success":return Be(Be({},t),{},{isErrored:!1,lastEventDate:e.lastEventDate,isFetchingParticipantsHistory:!1,hasFetchedAllParticipantsHistory:0===e.participantsHistoryCount});case"error":return Be(Be({},t),{},{isErrored:!0,isFetchingParticipantsHistory:!1});default:return t}},Xe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isAddingParticipantToSpace:!0});case"success":return Be(Be({},t),{},{hasAddParticipantError:!1,isAddingParticipantToSpace:!1});case"error":return Be(Be({},t),{},{hasAddParticipantError:!0,isAddingParticipantToSpace:!1});default:return t}},Qe=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;return Be(Be({},t),{},{searchingParticipantQuery:e.query})},Je=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isActingOnParticipant:!0});case"success":return Be(Be({},t),{},{isActingOnParticipant:!1});case"error":return Be(Be({},t),{},{isErrored:!0,isActingOnParticipant:!1});default:return t}},Ze=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isFetchingContent:!0});case"success":return Be(Be({},t),{},{isErrored:!1,isFetchingContent:!1});case"error":return Be(Be({},t),{},{isErrored:!0,isFetchingContent:!1});default:return t}},$e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isFetchingImportantPosts:!0});case"success":return Be(Be({},t),{},{isErrored:!1,isFetchingImportantPosts:!1,hasFetchedAllImportantPosts:0===e.importantPosts.length});case"error":return Be(Be({},t),{},{isErrored:!0,isFetchingImportantPosts:!1});default:return t}},tn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isFetchingScheduledPosts:!0});case"success":return Be(Be({},t),{},{isErrored:!1,isFetchingScheduledPosts:!1,hasFetchedAllScheduledPosts:0===e.scheduledPosts.length});case"error":return Be(Be({},t),{},{isErrored:!0,isFetchingScheduledPosts:!1});default:return t}},en=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be({},t);case"success":return Be(Be({},t),{},{isErrored:!1});case"error":return Be(Be({},t),{},{isErrored:!0});default:return t}},nn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isChangingAvatar:!0});case"success":return Be(Be({},t),{},{isErrored:!1,isChangingAvatar:!1});case"error":return Be(Be({},t),{},{isErrored:!0,isChangingAvatar:!1});default:return t}},rn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Be(Be({},t),{},{isFetchingFilteredPosts:!0});case"added":return Be(Be({},t),{},{filterTag:e.tagId,isFetchingFilteredPosts:!1});case"cleared":return Be(Be({},t),{},{filterTag:"",isFetchingFilteredPosts:!1});default:return t}},an=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.c:return We(t,e);case x.i:return Ve(t,e);case x.j:return Ke(t,e);case x.b:return Xe(t,e);case x.k:return Ye(t,e);case x.z:return Qe(t,e);case x.x:case x.A:case x.y:return Je(t,e);case x.h:return Ze(t,e);case x.e:return en(t,e);case x.S:return $e(t,e);case x.V:return tn(t,e);case x.d:return nn(t,e);case x.Gb:return Be({},He);case x.B:return Be(Be({},t),{},{onlineUsers:e.onlineUsers});case x.N:return rn(t,e);default:return t}};function on(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?on(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):on(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var un={isErrored:!1,self:[]},sn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return cn({},t);case"success":return cn(cn({},t),{},{self:e.classRoomUsers.filter((function(t){return!!t.classRoom})).map((function(t){return t.objectId})),isErrored:!1});case"error":return cn(cn({},t),{},{isErrored:!0});default:return t}},ln=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.i:return sn(t,e);case x.Gb:return cn({},un);default:return t}};function fn(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function dn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?fn(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):fn(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var pn={buttons:[],searchBar:null},hn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,e=arguments.length>1?arguments[1]:void 0;return dn(dn({},t),{},{buttons:e.buttons})},vn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,e=arguments.length>1?arguments[1]:void 0;return dn(dn({},t),{},{searchBar:e.searchBar})},bn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;return dn(dn({},t),{},{buttons:[]})},gn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn;return dn(dn({},t),{},{searchBar:null})},mn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.jb:return hn(t,e);case x.kb:return vn(t,e);case"@@router/LOCATION_CHANGE":return"search"!==e.payload.pathname.split("/")[3]&&dn({},gn(t)),dn({},bn(t));default:return t}};function yn(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function On(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yn(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):yn(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var En={isErrored:!1,isSearching:!1,indicesResult:{}},jn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return On(On({},t),{},{isSearching:!0});case"success":return On(On({},t),{},{indicesResult:On(On({},t.indicesResult),{},j()({},e.indexName,On({},e.results))),isSearching:!1,isErrored:!1});case"error":return On(On({},t),{},{isSearching:!1,isErrored:!0});default:return t}},xn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:En,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.tb:return jn(t,e);case x.ub:return On(On({},t),{},{indicesResult:{},isSearching:!1,isErrored:!1});default:return t}};function In(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?In(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):In(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var wn=function(t,e){return Sn(Sn({},t),{},{open:e.payload.open})},Cn=n(909),kn=n.n(Cn)()({all:0,posts:1,comments:2,messages:3,materials:4,files:5}),Rn=n(275);function Tn(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Tn(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Nn=function(t){return!(!t["user.firstName"]&&!t["user.lastName"])},Pn=function(t){var e=t.objectId,n=t.id;return e||n},_n=function(t){var e=t.entityType,n=t.entityId;return Object(Rn.a)({spaceId:t.classRoomId,entityId:n,entityType:e})},Dn=function(t,e){return e.map((function(e){var n=e._source,r=e.highlight,a=function(t){return t.blocks.hits.hits.reduce((function(t,e){return{keysHighlightMap:An(An({},t.keysHighlightMap),{},j()({},e._source.key,e.highlight["blocks.plainText"])),types:[].concat(M()(t.types),[e._source.type])}}),{keysHighlightMap:[],types:[]})}(e.inner_hits),o=a.keysHighlightMap,i=a.types;return An(An({id:Pn(n),createdAt:n.createdAt,content:n.content},function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=[];switch(n.has("file")&&(a=[5]),e.className){case"UBClassRoomPost":return{tabIndexes:[kn.all,kn.posts].concat(M()(a)),title:"".concat(e.user.firstName," ").concat(e.user.lastName),highlightTitle:Nn(r),avatar:e.user?e.user.avatar:void 0,footerPrefix:"Posted in",footerKey:e.classRoomId,redirectUrl:"dashboard/".concat(e.classRoomId,"/community/post/").concat(Pn(e))};case"UBComment":return{tabIndexes:[kn.all,kn.comments].concat(M()(a)),title:"".concat(e.user.firstName," ").concat(e.user.lastName),highlightTitle:Nn(r),avatar:e.user?e.user.avatar:void 0,footerPrefix:"Commented in",footerKey:e.classRoomId,redirectUrl:_n(e)};case"UBInboxMessage":return{tabIndexes:[kn.all,kn.messages].concat(M()(a)),title:"".concat(e.user.firstName," ").concat(e.user.lastName),highlightTitle:Nn(r),avatar:e.user?e.user.avatar:void 0,footerPrefix:"Sent in",footerKey:e.groupId,redirectQuery:{inbox:e.groupId,messageId:Pn(e)}};case"UBClassRoomMaterialModule":return{tabIndexes:[kn.all,kn.materials].concat(M()(a)),title:e.title,avatar:void 0,footerPrefix:"Created in",footerKey:e.classRoomId,redirectUrl:"dashboard/".concat(e.classRoomId,"/materials/").concat(Pn(e))};default:return{tabIndexes:[kn.all].concat(M()(a))}}}(t,n,new L.a(i),r)),{},{keysHighlightMap:o})}))},Mn=function(t,e,n,r){var a=function(t,e){return t.reduce((function(t,n){var r=n.id;return n.tabIndexes.reduce((function(t,n){return e[n].resultsSet.has(r)?t:[].concat(M()(t.slice(0,n)),[[].concat(M()(t[n]),[r])],M()(t.slice(n+1,t.length)))}),t)}),Array(e.length).fill([]))}(e,t);return t.map((function(t,e){if(0===r||r===e){var o=[].concat(M()(t.results),M()(a[e]));return An(An({},t),{},{results:o,resultsSet:new L.a(o),moreToLoad:r===e?o.length>t.results.length&&o.length>=n:t.moreToLoad})}return t}))},Fn=function(t,e){var n=e.status,r=e.payload;switch(n){case"started":return An(An({},t),{},{loading:!0,query:r.query});case"success":if(r.query===t.query){var a=Dn(t,r.results);return An(An({},t),{},{loading:!1,results:a.reduce((function(t,e){return An(An({},t),{},j()({},e.id,e))}),t.results||{}),tabs:Mn(t.tabs,a,r.pageSize,r.selectedTabIndex||kn.all)})}return An(An({},t),{},{loading:!1});case"error":return An(An({},t),{},{loading:!1,results:{}});default:return t}};function Ln(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Un(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ln(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Ln(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Gn,zn=function(t,e,n){return Un(Un({},t),{},{results:void 0,tabs:n.tabs,loading:e.payload.loading||!1})},qn={open:!1,loading:!1,results:void 0,tabs:[{id:"all",title:"All results",type:"content",results:[],resultsSet:new L.a,moreToLoad:!0},{id:"posts",title:"Posts",type:"posts",results:[],resultsSet:new L.a,moreToLoad:!0},{id:"comments",title:"Comments",type:"comments",results:[],resultsSet:new L.a,moreToLoad:!0},{id:"messages",title:"Direct Messages",type:"messages",results:[],resultsSet:new L.a,moreToLoad:!0},{id:"materials",title:"Materials",type:"materials",results:[],resultsSet:new L.a,moreToLoad:!0},{id:"files",title:"Files",type:"files",results:[],resultsSet:new L.a,moreToLoad:!0}],query:void 0},Bn=(Gn={},j()(Gn,x.rb,wn),j()(Gn,x.pb,wn),j()(Gn,x.qb,Fn),j()(Gn,x.ob,zn),Gn),Hn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qn,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=Bn[e.type];return n?n(t,e,qn):t};function Wn(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wn(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Wn(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Kn={isFetching:!1,fetched:!1,emojis:[],isErrored:!1},Yn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Vn(Vn({},t),{},{isFetching:!0});case"success":return Vn(Vn({},Kn),{},{emojis:e.emojis.map((function(t){return t.classRoom?Vn(Vn({},t),{},{classRoom:t.classRoom.objectId}):t})),isFetching:!1,fetched:!0});case"error":return Vn(Vn({},t),{},{isFetching:!1,fetched:!1,isErrored:!0});default:return t}},Xn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kn,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.R:return Yn(t,e);default:return t}};function Qn(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Jn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Qn(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Qn(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Zn={name:"Aula",fetched:!1,isFetching:!1,keys:{parse:{appId:void 0,javascriptKey:void 0,serverURL:void 0,websocketUrl:void 0,live:void 0},endpoints:{api:void 0,apiV2:void 0}},features:{},general:{},user:{isCheckingEmail:!1,email:"",institutions:[]}},$n=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Jn(Jn({},t),{},{isFetching:!0});case"success":var n="https://api.".concat(e.results.general.base_domain),r="https://apiv2.".concat(e.results.general.base_domain),a="https://services.".concat(e.results.general.base_domain),o={api:n,apiV2:r,services:a};return Jn(Jn({},t),{},{general:e.results.general,features:e.results.features,name:e.results.general.display_name,fetched:!0,isFetching:!1,keys:Jn(Jn({},t.keys),{},{endpoints:o,parse:e.results.parse,launchDarkly:e.results.launchDarkly})});case"error":return Jn({},t);default:return t}},tr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Jn(Jn({},t),{},{user:Jn(Jn({},t.user),{},{isCheckingEmail:!0})});case"success":return Jn(Jn({},t),{},{user:Jn(Jn({},t.user),{},{institutions:e.results,isCheckingEmail:!1,email:e.email})});case"error":return Jn({},t);default:return t}},er=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Zn,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.T:return $n(t,e);case x.a:return tr(t,e);default:return t}};function nr(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function rr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?nr(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):nr(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var ar=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;switch(n.type){case x.ab:return t={},n.clients.forEach((function(e){t[e.match(/:(.*)-/)[1]]=e})),t;case x.bb:return(t=rr({},e))[n.clientId]=n.clientId,t;case x.cb:return delete(t=rr({},e))[n.clientId],t;default:return e}},or=n(21);function ir(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function cr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ir(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):ir(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var ur="connected",sr="joining",lr="joined",fr={step:"disconnected",userId:null,serverAcknowledgedConnection:!1,conversations:null},dr=function(t){return cr(cr({},fr),{},{userId:t})},pr=function(t,e){var n=t.step,r=t.serverAcknowledgedConnection,a=e.status,o=e.payload;return n!==ur||"success"!==a?t:cr(cr({},t),{},{step:r?sr:t.step,conversations:o.conversations.map((function(t){return t.id}))})},hr=function(t,e){var n=t.step,r=t.conversations;return n!==ur||e.clientId!==t.userId?t:cr(cr({},t),{},{step:null!==r?sr:t.step})},vr=function(t,e){var n=e.status,r=e.user;return"success"!==n?t:cr(cr({},t),{},{userId:r.id})},br=function(t,e){var n=e.status;return t.step!==sr||"success"!==n?t:cr(cr({},t),{},{step:lr})},gr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fr,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x.Gb:return cr({},fr);case x.Db:case x.Fb:return vr(t,e);case x.eb:return cr(cr({},dr(t.userId)),{},{step:ur,serverAcknowledgedConnection:!0});case x.db:return dr(t.userId);case or.p:return pr(t,e);case x.bb:return hr(t,e);case x.hb:return br(t,e);default:return t}},mr=Object(c.combineReducers)({clients:ar,conversations:gr}),yr=n(160);function Or(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Er(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Or(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Or(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var jr={email:void 0,code:void 0},xr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jr,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case yr.d:return Er(Er({},t),{},{email:e.email});case yr.c:return Er(Er({},t),{},{code:e.code});default:return t}};function Ir(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ir(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Ir(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var wr={status:"idle",isErrored:!1,providers:[]},Cr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,e=arguments.length>1?arguments[1]:void 0;switch(e.status){case"started":return Sr(Sr({},t),{},{isErrored:!1,status:"loading"});case"success":return Sr(Sr({},t),{},{providers:e.providers,isErrored:!1,status:"success"});case"error":return Sr(Sr({},t),{},{isErrored:!0,status:"error"});default:return t}},kr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wr,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.ib:return Cr(t,e);default:return t}},Rr=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x.G:return!1;case x.H:return!0;default:return t}},Tr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{id:null},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x.db:return{id:null};case x.eb:return{id:e.socketId};default:return t}};function Ar(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ar(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Ar(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Pr={isFetching:!1,hasFetched:!1,isErrored:!1},_r=function(t,e){switch(e.status){case"started":return Nr(Nr({},t),{},{isFetching:!0});case"success":return Nr(Nr({},Pr),{},{isFetching:!1,hasFetched:!0});case"error":return Nr(Nr({},t),{},{isFetching:!1,hasFetched:!1,isErrored:!0});default:return t}},Dr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pr,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;switch(e.type){case x.Eb:return _r(t,e);default:return t}};function Mr(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Fr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Mr(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Mr(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Lr=["started","error","success"],Ur=function(t,e){if(!Lr.includes(e.status))return t;var n=e.status,r=e.payload.requestedUsers;if(!r.length)return t;var a,o=(a="started"===n,function(t,e){return t[e]=a,t});return Fr(Fr({},t),{},{fetchingUsers:r.reduce(o,t.fetchingUsers)})},Gr={fetchingUsers:{}},zr=j()({},x.Y,Ur),qr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Gr,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=zr[e.type];return n?n(t,e):t},Br=n(211),Hr=n.n(Br);function Wr(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Vr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Wr(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Wr(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Kr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case x.P:return Vr(Vr({},t),{},{isFetching:!0});case x.Q:return Vr(Vr({},t),{},j()({isFetching:!1},e.payload.spaceId,{token:e.payload.accessToken,expiry:Hr()()+828e5}));case x.O:return Vr(Vr({},t),{},j()({isFetching:!1},e.payload.spaceId,null));default:return t}};function Yr(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Yr(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var Qr={focused:!1},Jr=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qr,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;return n!==yr.b?t:Xr(Xr({},t),{},{focused:r.focused})};function Zr(t,e){var n=l()(t);if(d.a){var r=d()(t);e&&(r=r.filter((function(e){return h()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Zr(Object(n),!0).forEach((function(e){j()(t,e,n[e])})):b.a?m()(t,b()(n)):Zr(Object(n)).forEach((function(e){O()(t,e,h()(n,e))}))}return t}var ta={cookieTimestamp:void 0},ea=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,e=arguments.length>1?arguments[1]:void 0,n=e.type;return n===yr.a?$r($r({},t),{},{cookieTimestamp:new Date}):t},na=function(t){return i()(t).map((function(t){var e=a()(t,2);return[e[0],e[1].dataReducer]})).reduce((function(t,e){var n=a()(e,2);return function(t,e,n){return t[e]=n,t}(t,n[0],n[1])}),{})};e.default=function(t){return Object(c.combineReducers)({live:mr,data:pe(na(t)),ui:k(),user:je,errors:Ce,comment:Pe,posts:ze,materials:t.materials.appReducer,inboxv2:t.inboxv2.appReducer,groups:t.groups.appReducer,liveNotifications:t.liveNotifications.appReducer,toasts:t.toasts.appReducer,bbb:t.bbb.appReducer,reactions:t.reactions.appReducer,assignments:t.assignments.appReducer,classRoom:an,classRoomUser:ln,navigationBar:mn,search:xn,omniSearch:Hn,emojis:Xn,institution:er,signin:xr,lti:kr,connection:Rr,socket:Tr,devices:Dr,users:qr,accessTokens:Kr,routing:u.routerReducer,focus:Jr,signedCookie:ea})}},507:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return c}));var r=function(t){return t===Object(t)},a={_User:"data.users",User:"data.users",UBClassRoom:"data.classRooms",UBClassRoomUser:"data.classRoomUsers",UBClassRoomPost:"data.posts",UBPost:"data.posts",UBFile:"data.files",UBComment:"data.comments",UBNotification:"data.notifications",UBInboxGroup:"data.inboxGroups",UBInboxMessage:"data.inboxMessages"},o=function(t,e,n){var o=function(t,e){for(var n=t,a=e.replace(/\[(\w+)\]/g,".$1"),o=(a=a.replace(/^\./,"")).split("."),i=0,c=o.length;i<c;i+=1){var u=o[i];if(!r(n)||!(u in n))return null;n=n[u]}return n}(t,a[n]);return o?o[e]:null},i=function(t){return o(t,t.classRoom.current,"UBClassRoom")},c=function(t,e){return o(t,e,"UBPost")}},508:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(14),u=Object(c.b)("div",{target:"eob09c00"})("display:flex;flex-basis:0;align-items:center;"),s=Object(c.b)("div",{target:"eob09c01"})("margin-right:8px;"),l=function(t){var e=t.text,n=t.icon;return a.a.createElement(u,null,a.a.createElement(s,null,n),a.a.createElement("div",null,e))};l.propTypes={text:i.a.string.isRequired,icon:i.a.node};e.a=l},511:function(t,e,n){"use strict";var r=n(96);e.a=function(t){return function(e){return function(n){var a=e(n);return"desktop"!==r.b||window.onStateUpdate(t.getState(),n),a}}}},512:function(t,e,n){"use strict";var r=n(385);e.a=function(t){return function(e){return function(n){var a=t.getState().live.conversations.step;e(n);var o=t.getState().live.conversations,i=o.step,c=o.conversations;a===i||"joining"!==i||t.dispatch(r.a(c))}}}},513:function(t,e,n){"use strict";var r=n(192),a=n(25),o=n(13);e.a=function(t){var e=t.dispatch,n=t.getState;return function(t){return function(i){if(i.type===o.eb){var c=Object(a.currentClassRoomId)(n());e(Object(r.d)(c))}else if(i.type===o.c&&"started"===i.status){var u,s=null===(u=i.payload)||void 0===u?void 0:u.id;e(Object(r.d)(s))}return t(i)}}}},528:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(45),m=n.n(g),y=n(0),O=n(165),E=n(16),j=n(572),x=n(316),I=n(208);function S(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):S(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var C="Presentation:SessionStarted",k="Presentation:SessionUpdated",R="Presentation:SessionEnded",T="Presentation:ReactionsUpdated";e.a=function(t,e){var n,r,a=Object(y.useState)(Object(I.a)()),o=m()(a,2),i=o[0],c=o[1],u=Object(y.useState)(!1),s=m()(u,2),l=s[0],f=s[1],d=Object(O.useIsMutating)(),p=Object(O.useQueryClient)(),h=Object(y.useRef)(!0);Object(y.useEffect)((function(){t&&!d&&f(!0)}),[t,d]);var v="".concat(Object(E.U)(),"/").concat(t,"/presentations?live=true"),b=Object(j.a)({url:v},w(w({},e),{},{enabled:l})),g=b.data,S=b.refetch,A=b.isLoading,N=b.isError,P=b.isFetched,_=null==g?void 0:g[0],D=null==_?void 0:_.id,M=null==_||null===(n=_.sessions)||void 0===n?void 0:n.find((function(t){return!t.stoppedAt})),F=null==_||null===(r=_.files)||void 0===r?void 0:r.find((function(t){return"application/pdf"===t.mediaType})),L=Object(x.a)(k),U=Object(x.a)(C),G=Object(x.a)(R);Object(y.useEffect)((function(){h.current?h.current=!1:(L||U||G)&&(d||S())}),[l,L,U,G,S,d]);var z=Object(x.a)(T);return Object(y.useEffect)((function(){l&&z&&z.id===D&&p.setQueryData(v,[z])}),[l,z,p,v,D]),Object(y.useEffect)((function(){U&&c(U.correlationId)}),[U]),{isFetched:P,isError:N,isLoading:A,presentation:_,currentSession:M,documentUrl:null==F?void 0:F.src,slides:null==_?void 0:_.slides,currentSlide:null==M?void 0:M.currentSlide,revealStats:null==M?void 0:M.revealStats,revealCorrect:null==M?void 0:M.revealCorrect,correlationId:i,refetch:S}}},531:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(12),m=n.n(g),y=n(7),O=n.n(y),E=n(165),j=n(55);function x(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function I(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?x(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):x(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}e.a=function(t,e){return Object(E.useMutation)(function(){var e=m()(O.a.mark((function e(n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.a)(I(I({},t),{},{data:n}));case 2:if(!((r=e.sent).status>=400)){e.next=5;break}throw new Error(r.data);case 5:return e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e)}},532:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(0),m=n.n(g),y=n(1),O=n.n(y),E=n(14),j=n(15),x=Object(E.b)("span",{target:"e8uh2i60"})("border-radius:4px;font-size:14px;font-weight:500;color:",(function(t){return t.disabled?j.b.color.designSystem.blackOpacity38:j.b.color.designSystem.purple70}),";cursor:pointer;line-height:20px;padding:5px;transition:opacity 0.2s;:hover,:active{text-decoration:",(function(t){return t.disabled?"none":"underline"}),";}:focus{background-color:rgba(105,41,196,0.17);}"),I=n(85);function S(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):S(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var C=function(t){var e=t.label,n=t.onClick,r=t.disabled,a=t.containerStyles,o=t.buttonStyles;return m.a.createElement("div",{style:a},m.a.createElement(x,{disabled:r,role:"button",tabIndex:"0",style:w({},o),onClick:n,onKeyDown:function(t){t.keyCode===I.d&&n()}},e))};C.propTypes={label:O.a.string.isRequired,disabled:O.a.bool,onClick:O.a.func,containerStyles:O.a.shape({}),buttonStyles:O.a.shape({})},C.defaultProps={buttonStyles:{},disabled:!1,onClick:function(){},containerStyles:{}};e.a=C},533:function(t,e,n){"use strict";var r=n(26),a=n.n(r),o=n(43),i=n.n(o),c=n(50),u=n.n(c),s=n(53),l=n.n(s),f=n(52),d=n.n(f),p=n(58),h=n.n(p),v=n(60),b=n.n(v),g=n(42),m=n.n(g),y=n(0),O=n.n(y),E=n(520),j=n(6),x=n.n(j),I=n(3),S=n.n(I),w=n(4),C=n.n(w),k=n(5),R=n.n(k),T=n(9),A=n.n(T),N=n(8),P=n.n(N),_=n(2),D=n.n(_);function M(t,e){var n=x()(t);if(S.a){var r=S()(t);e&&(r=r.filter((function(e){return C()(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){D()(t,e,n[e])})):R.a?A()(t,R()(n)):M(Object(n)).forEach((function(e){P()(t,e,C()(n,e))}))}return t}var L={defaultErrorComponent:F(F({},n(114).a.regular),{},{padding:25,margin:"0 auto",marginTop:20,marginBottom:20,width:"calc(100% - 100px)",textAlign:"center",display:"flex",flexDirection:"column",zIndex:99999999999,borderRadius:5})},U=n(79),G=n(240),z=["wrappedRef","forwardedRef"];function q(t){var e=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m()(t);if(e){var o=m()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return b()(this,n)}}e.a=function(t,e){var n=e.message,r=void 0===n?null:n,a=e.FallbackComponent,o=void 0===a?null:a,c=e.onError,s=void 0===c?null:c,f=e.ignore,p=void 0!==f&&f,v=function(e){h()(a,e);var n=q(a);function a(t){var e;return l()(this,a),(e=n.call(this,t)).state={hasError:!1},e}return d()(a,[{key:"componentDidCatch",value:function(t,e){if(console.log(t),"function"==typeof s)try{s.call(this,t,e?e.componentStack:"")}catch(t){}G.a.captureException(t,{extra:e,tags:{context:"errorBoundary"}}),this.setState({hasError:!0,error:t,info:e})}},{key:"render",value:function(){var e=this.props,n=e.wrappedRef,a=e.forwardedRef,c=u()(e,z);return this.state.hasError&&!p?o?O.a.createElement(o,{error:r,info:this.state.info}):O.a.createElement(E.a,{style:L.defaultErrorComponent,elevation:2},r||U.o):O.a.createElement(t,i()({ref:n||a},c))}}]),a}(y.Component);return O.a.forwardRef((function(t,e){return O.a.createElement(v,i()({},t,{forwardedRef:e}))}))}},536:function(t,e,n){"use strict";var r=n(541);n.d(e,"a",(function(){return r.a}))},541:function(t,e,n){"use strict";var r=n(26),a=n.n(r),o=n(6),i=n.n(o),c=n(3),u=n.n(c),s=n(4),l=n.n(s),f=n(5),d=n.n(f),p=n(9),h=n.n(p),v=n(8),b=n.n(v),g=n(12),m=n.n(g),y=n(2),O=n.n(y),E=n(53),j=n.n(E),x=n(52),I=n.n(x),S=n(51),w=n.n(S),C=n(58),k=n.n(C),R=n(60),T=n.n(R),A=n(42),N=n.n(A),P=n(7),_=n.n(P),D=n(0),M=n.n(D),F=n(1),L=n.n(F),U=n(844),G=n.n(U),z=n(158),q=n.n(z),B=n(329),H=n(198),W=n(14),V=n(15),K=Object(W.b)("div",{target:"ep3ww5x0"})("flex:1 1 0;"),Y=Object(W.b)("div",{target:"ep3ww5x1"})("padding:0;margin:0;"),X=Object(W.b)("div",{target:"ep3ww5x2"})("display:flex;padding:",V.b.spacing.xLarge,";min-height:40px;"),Q=Object(W.b)("div",{target:"ep3ww5x3"})("margin:0 auto;"),J=Object(W.b)("div",{target:"ep3ww5x4"})("display:flex;justify-content:center;width:100%;");function Z(t,e){var n=i()(t);if(u.a){var r=u()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,r)}return n}function $(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):d.a?h()(t,d()(n)):Z(Object(n)).forEach((function(e){b()(t,e,l()(n,e))}))}return t}function tt(t){var e=function(){if("undefined"==typeof Reflect||!a.a)return!1;if(a.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(a()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N()(t);if(e){var o=N()(this).constructor;n=a()(r,arguments,o)}else n=r.apply(this,arguments);return T()(this,n)}}var et=M.a.memo((function(t){var e=t.loading;return M.a.createElement(X,{"data-testid":"top-level-progress"},e?M.a.createElement(Q,null,M.a.createElement(H.a,null)):null)}));et.propTypes={loading:L.a.bool.isRequired};var nt=function(t){k()(a,t);var e,n,r=tt(a);function a(t){var e;j()(this,a);var n=(e=r.call(this,t)).props.scrollDebounceMs;return e.state={loadingPrevious:!1,loadingNext:!1,scroll:{}},e.onScroll=e.onScroll.bind(w()(e)),e.checkAndAdjustScroll=e.checkAndAdjustScroll.bind(w()(e)),e.debouncedOnScroll=function(t,e){var n=e||0===e?e:75;return q()(t,n,{maxWait:500})}(e.onScroll,n),e.renderItem=e.renderItem.bind(w()(e)),e}return I()(a,[{key:"componentDidMount",value:function(){this.scrollbars&&this.setState({scroll:$({},this.scrollbars.getValues())})}},{key:"componentDidUpdate",value:function(t){this.checkAndAdjustScroll(t)}},{key:"onScroll",value:function(t){var e=this.props,n=e.hasPrevious,r=e.hasNext,a=e.onScroll,o=e.loading,i=this.state,c=i.loadingPrevious,u=i.loadingNext,s=i.scroll.scrollTop,l=t.scrollTop,f=t.clientHeight,d=t.scrollHeight;l<s&&l<100&&n&&!c&&!o&&this.loadPrevious(),l>s&&l+f>=d-100&&r&&!u&&!o&&this.loadNext(),this.setState({scroll:$({},t)}),a(t)}},{key:"getScrollValues",value:function(){return this.scrollbars.getValues()}},{key:"scrollToBottom",value:function(){this.scrollbars.scrollToBottom()}},{key:"scrollTop",value:function(t){this.scrollbars.scrollTop(t)}},{key:"loadPrevious",value:(n=m()(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.loadPrevious,this.setState({loadingPrevious:!0}),t.next=4,e();case 4:this.setState({loadingPrevious:!1});case 5:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"loadNext",value:(e=m()(_.a.mark((function t(){var e;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.props.loadNext,this.setState({loadingNext:!0}),t.next=4,e();case 4:this.setState({loadingNext:!1});case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"checkAndAdjustScroll",value:function(t){var e=this.props,n=e.items,r=e.keyExtractor,a=e.reversed,o=t.items,i=n.length,c=o.length;if(0!==i&&0!==c&&a&&n!==o){var u=this.state.scroll,s=u.scrollTop,l=u.scrollHeight;if(r(n[0])!==r(o[0])){var f=this.scrollbars.getValues().scrollHeight;this.scrollbars.scrollTop(s+f-l)}}}},{key:"renderItem",value:function(t,e){var n=this.props,r=n.renderItem,a=(0,n.keyExtractor)(t),o=r(t,e);return M.a.cloneElement(o,{key:a,id:a})}},{key:"render",value:function(){var t=this,e=this.props,n=e.hasPrevious,r=e.hasSidebar,a=e.hasNext,o=e.reversed,i=e.loading,c=e.items,u=e.renderEmptyList,s=e.renderListStart,l=e.renderFooter,f=e.renderSidebar,d=e.renderHeader,p=e.viewStyle,h=e.contentStyle,v=e.scrollBarStyle,b=e.attributes,g=e.resetScrollOnMount,m=e.animateItems,y=e.viewProps,O=this.state,E=O.loadingPrevious,j=O.loadingNext,x=0===c.length,I=c.map(this.renderItem),S=m?M.a.createElement(G.a,{enterAnimation:m.enter,leaveAnimation:m.leave},I):I,w=n||o&&i,C=E||i,k=x&&!i&&!j&&!E,R=j||i&&!w,T=function(){return M.a.createElement(Y,{style:h},d(),!n&&s(),w&&M.a.createElement(et,{loading:C}),k&&u(),S,a&&M.a.createElement(et,{loading:R}),l())};return M.a.createElement(B.a,{scrollBarRef:function(e){t.scrollbars=e},autoHide:!0,onScrollFrame:this.debouncedOnScroll,viewProps:$({style:$($({},p),{},{display:"flex",flexDirection:"column"})},y),resetScrollOnMount:g,attributes:b,style:v},r?M.a.createElement(J,null,T(),f()):M.a.createElement(M.a.Fragment,null,o&&M.a.createElement(K,null),T()))}}]),a}(M.a.Component);nt.propTypes={items:L.a.array.isRequired,renderItem:L.a.func.isRequired,keyExtractor:L.a.func.isRequired,hasPrevious:L.a.bool,hasSidebar:L.a.bool,hasNext:L.a.bool,loadPrevious:L.a.func,loadNext:L.a.func,loading:L.a.bool,reversed:L.a.bool,renderEmptyList:L.a.func,renderListStart:L.a.func,renderHeader:L.a.func,renderFooter:L.a.func,renderSidebar:L.a.func,viewStyle:L.a.shape({}),contentStyle:L.a.shape({}),scrollBarStyle:L.a.shape({}),attributes:L.a.object,resetScrollOnMount:L.a.bool,onScroll:L.a.func,animateItems:L.a.shape({enter:L.a.string,leave:L.a.string}),viewProps:L.a.object,scrollDebounceMs:L.a.number},nt.defaultProps={hasPrevious:!1,hasSidebar:!1,hasNext:!1,reversed:!1,loading:!1,renderEmptyList:function(){},renderListStart:function(){},renderHeader:function(){},renderFooter:function(){},renderSidebar:function(){},loadPrevious:function(){},loadNext:function(){},viewStyle:{},contentStyle:{},scrollBarStyle:{},attributes:{},resetScrollOnMount:!1,onScroll:function(){},animateItems:null,viewProps:{},scrollDebounceMs:void 0};e.a=nt},55:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(12),m=n.n(g),y=n(7),O=n.n(y),E=n(37),j=n.n(E),x=n(116),I=n(200);function S(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):S(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var C=function(){var t=m()(O.a.mark((function t(e){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j()(w(w({},e),{},{headers:w(w(w({"Content-Type":"application/json"},e.headers),(r=void 0,r=Object(x.a)(),{"x-user-id":r.id,"x-session-token":r.sessionToken})),Object(I.a)())}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}();e.a=C},553:function(t,e,n){"use strict";var r=n(13),a=n(254),o=n(46),i=n(25),c=n(44);e.a=function(t,e){return function(n,u){var s=u(),l=s.data.classRooms,f=Object(i.currentClassRoomId)(s);Object(o.c)(c.h,{tag:t,activeClassroom:f});var d=e||l[f];n({type:r.N,status:"started"}),n(Object(a.c)({classRoom:d,reset:!0,tagId:t})),n({type:r.N,status:"added",tagId:t})}}},554:function(t,e,n){"use strict";var r=n(47);e.a=function(t){var e=t.spaceId,n=t.assignmentId;return function(){return Object(r.a)("/dashboard/".concat(e,"/journey/quizzes/").concat(n))}}},555:function(t,e,n){"use strict";var r=n(47);e.a=function(t){return function(){return Object(r.a)({pathname:"/dashboard/".concat(t,"/community/feed"),query:{}})}}},556:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(557);e.a=Object(o.a)({svg:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement("path",{d:"M22.653 17.434c0.293-0.043 0.497 0.132 0.491 0.444-0.009 0.515-0.069 1.027-0.186 1.529-0.335 1.454-1.015 2.73-2.059 3.797-1.213 1.241-2.679 2.003-4.413 2.228-0.286 0.037-0.571 0.038-0.996 0.053-1.787-0.020-3.498-0.629-4.961-1.888-1.336-1.15-2.169-2.602-2.532-4.323-0.092-0.441-0.14-0.89-0.151-1.341-0.010-0.318 0.125-0.49 0.391-0.507l14.416 0.008z"}),a.a.createElement("path",{d:"M30.885 6.042h-4.047v-4.045h-1.618v4.045h-4.048v1.617h4.048v4.043h1.618v-4.043h4.047z"}),a.a.createElement("path",{d:"M13.665 13.512c0 1.060-0.861 1.922-1.925 1.922-1.061 0-1.923-0.861-1.923-1.922 0-1.062 0.863-1.923 1.923-1.923 1.063-0 1.925 0.861 1.925 1.923z"}),a.a.createElement("path",{d:"M21.172 13.512c0 1.060-0.86 1.922-1.923 1.922s-1.925-0.861-1.925-1.922c0-1.062 0.861-1.923 1.925-1.923s1.923 0.861 1.923 1.923z"}),a.a.createElement("path",{d:"M26.795 17.855c-0.062 6.183-5.097 11.177-11.3 11.177-6.241 0-11.302-5.057-11.302-11.292 0-6.236 5.061-11.293 11.302-11.293v-0.97c-6.778 0-12.272 5.492-12.272 12.264s5.494 12.263 12.272 12.263c6.74 0 12.208-5.43 12.271-12.148h-0.971z"}))},displayName:"AddReaction",viewBox:"0 0 32 32"})},557:function(t,e,n){"use strict";var r=n(43),a=n.n(r),o=n(50),i=n.n(o),c=n(0),u=n.n(c),s=n(519),l=n(1),f=n.n(l),d=["svgProps"],p=function(t){var e=t.svg,n=t.displayName,r=t.viewBox,o=function(t,o){var c=t.svgProps,l=i()(t,d);return u.a.createElement(s.a,a()({"data-testid":"".concat(n,"Icon"),viewBox:r,ref:o},l),u.a.createElement(e,c))};return u.a.memo(u.a.forwardRef(o))};p.propTypes={svg:f.a.node.isRequired,displayName:f.a.string.isRequired,viewBox:f.a.string.isRequired},e.a=p},558:function(t,e,n){"use strict";n.d(e,"e",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=n(1),a=n.n(r),o=a.a.shape({objectId:a.a.string.isRequired,avatar:a.a.string,firstName:a.a.string.isRequired,lastName:a.a.string.isRequired}),i=a.a.shape({id:a.a.string.isRequired,content:a.a.string.isRequired,createdAt:a.a.string.isRequired,writer:a.a.string.isRequired}),c=a.a.shape({text:a.a.string.isRequired,emojiName:a.a.string.isRequired}),u=(a.a.shape({author:a.a.string.isRequired,createdAt:a.a.string.isRequired,messages:a.a.arrayOf(a.a.string)}),a.a.shape({readUpTo:a.a.string})),s=a.a.shape({id:a.a.string.isRequired,createdAt:a.a.string.isRequired,isGroup:a.a.bool.isRequired,latestMessage:i,title:a.a.string,icon:a.a.string,participants:a.a.objectOf(u).isRequired}),l=(a.a.arrayOf(s),a.a.shape({pathname:a.a.string.isRequired,query:a.a.object}))},559:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(3),n(4),n(5),n(9),n(8),n(45),n(2),n(6),n(88),n(264);var r=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}}},56:function(t,e,n){"use strict";n.r(e),n.d(e,"inbox",(function(){return E})),n.d(e,"inboxData",(function(){return j})),n.d(e,"conversations",(function(){return x})),n.d(e,"messages",(function(){return I})),n.d(e,"drafts",(function(){return S})),n.d(e,"sortedConversations",(function(){return w})),n.d(e,"sortedConversationsIds",(function(){return C})),n.d(e,"conversation",(function(){return k})),n.d(e,"currentConversationId",(function(){return R})),n.d(e,"currentConversationMessageId",(function(){return T})),n.d(e,"currentConversation",(function(){return A})),n.d(e,"isGroupConversation",(function(){return N})),n.d(e,"isEducatorConversation",(function(){return P})),n.d(e,"conversationMessages",(function(){return _})),n.d(e,"conversationLatestMessage",(function(){return D})),n.d(e,"conversationLatestMessageDate",(function(){return M})),n.d(e,"conversationLatestMessageIsOwn",(function(){return F})),n.d(e,"conversationDraft",(function(){return L})),n.d(e,"otherParticipantsIdsInConversation",(function(){return U})),n.d(e,"recipientId",(function(){return G})),n.d(e,"fetchingMessagesForConversation",(function(){return z})),n.d(e,"fetchingMessageForConversation",(function(){return q})),n.d(e,"typersForConversation",(function(){return B})),n.d(e,"currentlyEditedMessageId",(function(){return H})),n.d(e,"currentlyEditedMessage",(function(){return W})),n.d(e,"message",(function(){return V})),n.d(e,"replyingToMessageId",(function(){return K})),n.d(e,"replyingToMessage",(function(){return Y})),n.d(e,"oldestLoadedMessage",(function(){return X})),n.d(e,"newestLoadedMessage",(function(){return Q})),n.d(e,"participationsForConversation",(function(){return J})),n.d(e,"participation",(function(){return Z})),n.d(e,"isParticipant",(function(){return $})),n.d(e,"isConversationUnreadBy",(function(){return tt})),n.d(e,"isConversationUnreadByEvenIfEmpty",(function(){return et})),n.d(e,"conversationTitle",(function(){return nt})),n.d(e,"highlightedMessage",(function(){return rt})),n.d(e,"isMessageHighlighted",(function(){return at})),n.d(e,"hasOlderMessages",(function(){return ot})),n.d(e,"hasNewerMessages",(function(){return it})),n.d(e,"isCreatingConversation",(function(){return ct})),n.d(e,"countUnreadConversations",(function(){return ut}));var r=n(3),a=n.n(r),o=n(4),i=n.n(o),c=n(5),u=n.n(c),s=n(9),l=n.n(s),f=n(8),d=n.n(f),p=n(2),h=n.n(p),v=n(88),b=n.n(v),g=n(6),m=n.n(g),y=n(24);function O(t,e){var n=m()(t);if(a.a){var r=a()(t);e&&(r=r.filter((function(e){return i()(t,e).enumerable}))),n.push.apply(n,r)}return n}var E=function(t){return t.inboxv2},j=function(t){return t.data.inboxv2},x=function(t){return j(t).conversations},I=function(t){return j(t).messages},S=function(t){return j(t).drafts},w=function(t,e){return b()(t).filter((function(t){return!!t.id})).sort(function(t){return function(e,n){var r=e.latestMessage&&e.latestMessage.createdAt||e.createdAt,a=n.latestMessage&&n.latestMessage.createdAt||n.createdAt,o=e.participants&&e.participants[t]&&e.participants[t].joinedAt||null;o&&r<o&&(r=o);var i=n.participants&&n.participants[t]&&n.participants[t].joinedAt||null;return i&&a<i&&(a=i),r===a?0:r<a?1:-1}}(e))},C=function(t,e){return w(t,e).map((function(t){return t.id}))},k=function(t,e){if(void 0!==e)return x(t)[e]||null},R=function(t){var e=t&&t.routing&&t.routing.locationBeforeTransitions&&t.routing.locationBeforeTransitions.query||{},n=t&&t.ui||{};return e.inbox||n.conversationId},T=function(t){var e=t&&t.routing&&t.routing.locationBeforeTransitions&&t.routing.locationBeforeTransitions.query||{},n=t&&t.ui||{};return e.messageId||n.messageId},A=function(t){return k(t,R(t))},N=function(t,e){return(k(t,e)||{}).isGroup},P=function(t,e){return(k(t,e)||{}).educatorOnly},_=function(t,e){return(k(t,e)||{}).messages},D=function(t,e){return(k(t,e)||{}).latestMessage},M=function(t,e){return(D(t,e)||{}).createdAt},F=function(t,e){var n=Object(y.currentUserId)(t);if(void 0!==n){var r=function(t,e){return(D(t,e)||{}).writer}(t,e);if(void 0!==r)return r===n}},L=function(t,e){return S(t)[e]},U=function(t,e){var n=k(t,e);if(n){var r=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):u.a?l()(t,u()(n)):O(Object(n)).forEach((function(e){d()(t,e,i()(n,e))}))}return t}({},n.participants);return delete r[Object(y.currentUserId)(t)],m()(r)}},G=function(t,e){var n=U(t,e);if(n&&!(n.length>1))return n.pop()},z=function(t,e){return!!function(t){return E(t).fetchingMessages}(t)[e]},q=function(t,e){return!!function(t){return E(t).fetchingMessage}(t)[e]},B=function(t,e){return function(t){return E(t).typingInConversations}(t)[e]||[]},H=function(t){return E(t).currentlyEditedMessageId},W=function(t){return I(t)[H(t)]},V=function(t,e){if(void 0!==e)return I(t)[e]||null},K=function(t){return E(t).replyingMessageId},Y=function(t){var e=K(t);return e&&V(t,e)},X=function(t,e){var n=_(t,e);if(n&&n.length){var r=n[0],a=V(t,r);return a?a.createdAt:void 0}},Q=function(t,e){var n=_(t,e);if(n&&n.length){var r=n[n.length-1],a=V(t,r);return a?a.createdAt:void 0}},J=function(t,e){return(k(t,e)||{}).participants},Z=function(t,e,n){return(J(t,e)||{})[n]},$=function(t,e,n){return!!Z(t,e,n)},tt=function(t,e,n){var r=Z(t,e,n);if(void 0!==r){var a=D(t,e);return void 0!==a&&(r.readUpTo||new Date(0).toISOString())<a.createdAt}},et=function(t,e,n){var r=Z(t,e,n);if(void 0===r)return!1;var a=D(t,e)||k(t,e);return(r.readUpTo||new Date(0).toISOString())<a.createdAt},nt=function(t,e){var n=k(t,e);return n&&n.title?n.title:"Conversation with yourself"},rt=function(t){return E(t).highlightedMessage},at=function(t,e){return rt(t)===e},ot=function(t,e){return!!E(t).conversationHasOlderMessages[e]},it=function(t,e){var n=M(t,e);if(!n)return!1;var r=Q(t,e);return!r||r<n},ct=function(t){return E(t).creatingConversation},ut=function(t,e,n){var r=b()(e).map((function(e){var r=e.latestMessage,a=e.id;return!(!r||F(t,a))&&tt(t,a,n)})).filter((function(t){return!!t})).length;return r||null}},560:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t,e){return!!function(t){return function(t){return t.live}(t).clients}(t)[e]}},567:function(t,e,n){"use strict";var r=function(t){return function(e){var n=t[e];return"string"==typeof n&&(n=n.replace("","-")),"string"==typeof n&&n.includes(",")?'"'.concat(n,'"'):n}},a=function(t,e){return t.map((function(t){return e[t]||t}))};e.a=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.reduce((function(e,n){var a=t.map(r(n)).join(",");return"".concat(e,"\r\n").concat(a)}),a(t,n).join(","))}},569:function(t,e,n){"use strict";var r=n(47);e.a=function(t){return function(){return Object(r.a)("/dashboard/".concat(t,"/people/groups"))}}},570:function(t,e,n){"use strict";var r=n(47);e.a=function(t){var e=t.spaceId,n=t.assignmentId,a=t.submissionId,o=t.reportType;return function(){return Object(r.a)("/dashboard/".concat(e,"/journey/reports/").concat(n,"/").concat(a,"/").concat(o))}}},571:function(t,e,n){"use strict";var r=n(47);e.a=function(t){var e=t.spaceId,n=t.assignmentId;return function(){return Object(r.a)("/dashboard/".concat(e,"/journey/assignments/").concat(n,"/submissions"))}}},572:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(12),m=n.n(g),y=n(7),O=n.n(y),E=n(49),j=n.n(E),x=n(37),I=n.n(x),S=n(165),w=n(55);function C(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function k(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?C(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):C(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}e.a=function(t,e){return Object(S.useQuery)(k({queryKey:t.url,queryFn:function(){var e=I.a.CancelToken.source(),n=new j.a(function(){var n=m()(O.a.mark((function n(r,a){var o;return O.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(w.a)(k(k({method:"GET"},t),{},{cancelToken:e.token}));case 3:(o=n.sent).status>=400&&a(new Error(o.data)),r(o.data),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),a(new Error("Request cancelled"));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t,e){return n.apply(this,arguments)}}());return n.cancel=function(){e.cancel("Query was cancelled by React Query")},n}},e))}},573:function(t,e,n){"use strict";var r=n(433);n.d(e,"b",(function(){return r.b})),n.d(e,"a",(function(){return r.a}))},574:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=function(t){return!1===t};e.a=function(t){return function(e){return function(n){return function(t,e){return-1===t.map((function(t){return e[t]})).findIndex(o)}(t,n)?a.a.createElement(e,n):null}}}},576:function(t,e,n){"use strict";n.d(e,"b",(function(){return q})),n.d(e,"c",(function(){return B}));var r={};n.r(r),n.d(r,"isFetchingJoinUrl",(function(){return U})),n.d(r,"description",(function(){return G}));var a=n(2),o=n.n(a),i="BBB_GET_JOIN_URL",c=n(6),u=n.n(c),s=n(3),l=n.n(s),f=n(4),d=n.n(f),p=n(5),h=n.n(p),v=n(9),b=n.n(v),g=n(8),m=n.n(g);function y(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):y(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var E=function(t,e){switch(e.status){case"started":return O(O({},t),{},{fetchingJoinUrl:!0});case"success":case"error":return O(O({},t),{},{fetchingJoinUrl:!1});default:return t}},j={fetchingJoinUrl:!1},x=o()({},i,E),I=n(12),S=n.n(I),w=n(7),C=n.n(w),k=n(55),R=n(16),T=function(){var t=S()(C.a.mark((function t(e){var n,r,a,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.id,r=e.context,t.next=3,Object(k.a)({url:Object(R.g)({id:n,context:r}),method:"get"});case 3:return a=t.sent,o=a.data.url,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();function A(t,e){var n=u()(t);if(l.a){var r=l()(t);e&&(r=r.filter((function(e){return d()(t,e).enumerable}))),n.push.apply(n,r)}return n}function N(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?A(Object(n),!0).forEach((function(e){o()(t,e,n[e])})):h.a?b()(t,h()(n)):A(Object(n)).forEach((function(e){m()(t,e,d()(n,e))}))}return t}var P=function(t){return{type:i,status:"started",payload:t}},_=function(t){return{type:i,status:"success",payload:t}},D=function(t){return{type:i,status:"error",payload:t}},M={fetchJoinUrl:function(t){var e=t.id,n=t.context;return function(){var t=S()(C.a.mark((function t(r){var a,o;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(P(a={id:e,context:n})),t.prev=2,t.next=5,T({id:e,context:n});case 5:return o=t.sent,r(_(N(N({},a),{},{url:o}))),t.abrupt("return",o);case 10:return t.prev=10,t.t0=t.catch(2),r(D(N(N({},a),{},{error:t.t0}))),t.abrupt("return",null);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}()}},F=n(25),L=n(56),U=function(t){return t.bbb.fetchingJoinUrl},G=function(t,e){var n=e.id;switch(e.context){case"spaces":var r=(Object(F.classRooms)(t)[n]||{}).name||"";return"Join the session for the ".concat(r," space");case"conversations":var a=Object(L.conversation)(t,n)||{},o=Object(L.conversationTitle)(t,n);return a.isGroup?"Join the session for the ".concat(o," group"):"Join a session with ".concat(o);default:return""}},z={appReducer:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,e=arguments.length>1?arguments[1]:void 0,n=x[e.type];return void 0===n?t:n(t,e)},dataReducer:function(t){return t},operations:M,selectors:r,registerLive:function(){}},q=z.operations,B=z.selectors;e.a=z},577:function(t,e,n){"use strict";var r=n(35),a=n(63),o=n(1),i=n.n(o),c=n(0),u=n.n(c),s=n(14),l=n(334),f=n.n(l),d=n(95),p=n(15),h=n(1544),v=Object(s.b)(h.a,{target:"e1tvhbj50"})("width:24px;height:24px;"),b=Object(s.b)(f.a,{target:"e1tvhbj51"})("color:",p.b.color.white,";width:20px;height:20px;"),g=Object(s.b)("div",{shouldForwardProp:function(t){return"title"!==t},target:"e1tvhbj52"})("width:24px;height:24px;background-color:",(function(t){return e=t.title,d.a.color.picker({seed:e,choices:[p.b.color.designSystem.purple60,p.b.color.designSystem.success,p.b.color.designSystem.error]});var e}),";display:flex;justify-content:center;align-items:center;border-radius:4px;"),m=n(560),y=a.c.conversation,O=a.c.recipientId,E=Object(r.b)((function(t,e){var n=y(t,e.conversationId),r=O(t,e.conversationId);return{name:n.title,src:n.icon,size:"small",online:Object(m.a)(t,r),colourSeed:r}}),(function(){return{}}))(v),j=n(519),x=Object(s.b)("div",{target:"eesybfh0"})("width:24px;height:24px;border-radius:4px;background-color:",p.b.color.avatarBlue,";color:white;"),I=function(t){return u.a.createElement(x,null,u.a.createElement(j.a,{viewBox:"-6 -4 30 30"},u.a.createElement("path",{d:"M7 16L3 12L4.41 10.59L7 13.17L13.59 6.58L15 8L7 16ZM9 0L0 4V10C0 15.55 3.84 20.74 9 22C14.16 20.74 18 15.55 18 10V4L9 0Z"})))},S=function(t){var e=t.className,n=t.conversationId,r=t.isGroup,a=t.educatorOnly,o=t.title;return a?u.a.createElement(I,null):r?u.a.createElement(g,{title:o},u.a.createElement(b,{className:e})):u.a.createElement(E,{className:e,conversationId:n})};S.propTypes={className:i.a.string,conversationId:i.a.string.isRequired,isGroup:i.a.bool,educatorOnly:i.a.bool,title:i.a.string},S.defaultProps={className:"",isGroup:!0,educatorOnly:!1,title:""};var w=S;e.a=Object(r.b)((function(t,e){return{isGroup:a.c.isGroupConversation(t,e.conversationId),title:a.c.conversationTitle(t,e.conversationId),educatorOnly:a.c.isEducatorConversation(t,e.conversationId)}}))(w)},580:function(t,e,n){"use strict";var r=n(43),a=n.n(r),o=n(50),i=n.n(o),c=n(0),u=n.n(c),s=n(1),l=n.n(s),f=n(420),d=n(272),p=n(393),h=n(14),v=n(390),b=Object(h.b)("div",{target:"e1lwy5td0"})(),g=Object(h.b)(v.a,{target:"e1lwy5td1"})("text-align:left;display:flex;align-items:left;justify-content:left;padding-left:24px;padding-right:24px;padding-bottom:16px;"),m=["id","open","onClose","maxWidth"],y=function(t){var e=t.dialogId,n=t.title,r=t.message,a=t.action,o=t.secondaryAction,i=t.onClose;return u.a.createElement(b,{onClick:function(t){return t.stopPropagation()}},u.a.createElement(d.a,{id:"".concat(e,"-dialogtitle"),onClose:i},n),u.a.createElement(g,null,r),u.a.createElement(p.a,{primary:a,secondary:o}))},O=l.a.shape({className:l.a.string,label:l.a.string.isRequired,onClick:l.a.func.isRequired,danger:l.a.bool,loading:l.a.bool});y.propTypes={dialogId:l.a.string.isRequired,title:l.a.string.isRequired,message:l.a.oneOfType([l.a.string,l.a.node]).isRequired,onClose:l.a.func.isRequired,action:O,secondaryAction:O},y.defaultProps={action:null,secondaryAction:null};var E=function(t){var e=t.id,n=t.open,r=t.onClose,o=t.maxWidth,c=i()(t,m);return u.a.createElement(f.a,{id:e,open:n,onClose:r,maxWidth:o,style:{zIndex:2500}},u.a.createElement(y,a()({dialogId:e,onClose:r},c)))};E.propTypes={id:l.a.string.isRequired,open:l.a.bool.isRequired,onClose:l.a.func.isRequired,maxWidth:l.a.string},E.defaultProps={maxWidth:"sm"};e.a=E},62:function(t,e,n){"use strict";n.r(e),n.d(e,"currentSectionId",(function(){return u})),n.d(e,"isDeletingSection",(function(){return s})),n.d(e,"editing",(function(){return l})),n.d(e,"isFetchingSections",(function(){return f})),n.d(e,"isLoadingContent",(function(){return d})),n.d(e,"isHidingMaterial",(function(){return p})),n.d(e,"isFetchingVersions",(function(){return h})),n.d(e,"isLoadingVersion",(function(){return v})),n.d(e,"isErrored",(function(){return b})),n.d(e,"isRevertingSection",(function(){return g})),n.d(e,"isSavingSection",(function(){return m})),n.d(e,"isImportingMaterials",(function(){return y})),n.d(e,"currentDeleteCandidate",(function(){return O})),n.d(e,"currentDeleteCandidateCheckNull",(function(){return E})),n.d(e,"selectedContent",(function(){return j})),n.d(e,"selectedVersion",(function(){return x})),n.d(e,"leaveDestinationPath",(function(){return I})),n.d(e,"hasDismissedGetStarted",(function(){return S})),n.d(e,"currentRevertCandidate",(function(){return w})),n.d(e,"hasFetchedSections",(function(){return C})),n.d(e,"shouldFetchSections",(function(){return k})),n.d(e,"isExpanded",(function(){return R})),n.d(e,"isMaterialEducatorOnlyExpanded",(function(){return T})),n.d(e,"renameFolderDialogOpenFor",(function(){return A})),n.d(e,"deleteFolderDialogOpenFor",(function(){return N})),n.d(e,"scheduleMaterialDialogOpenFor",(function(){return P})),n.d(e,"scheduleSectionDialogOpenFor",(function(){return _})),n.d(e,"isSavingFolder",(function(){return D})),n.d(e,"isDeletingFolder",(function(){return M})),n.d(e,"getMaterial",(function(){return F})),n.d(e,"isFolder",(function(){return L})),n.d(e,"currentSection",(function(){return U})),n.d(e,"currentSectionTitle",(function(){return G})),n.d(e,"sectionsByParent",(function(){return q})),n.d(e,"sectionIdsByParent",(function(){return B})),n.d(e,"topLevelMaterials",(function(){return H})),n.d(e,"topLevelMaterialIds",(function(){return W})),n.d(e,"topLevelMaterialEducatorOnlyIds",(function(){return V})),n.d(e,"getFirstMaterialId",(function(){return K})),n.d(e,"getFirstEducatorMaterialId",(function(){return Y})),n.d(e,"hasAtLeastOneChildSection",(function(){return X})),n.d(e,"fallbackSectionId",(function(){return Q}));var r=n(6),a=n.n(r),o=n(25),i=function(t){return t.materials},c=function(t){return t.data.materials},u=function(t){var e=t.routing;if(e){var n=e.locationBeforeTransitions.pathname,r=n.search("/materials/");if(-1!==r)return n.substring(r).replace("/materials/","");var a=n.search("/educatorArea/");if(-1!==a)return n.substring(a).replace("/educatorArea/","")}},s=function(t){return i(t).isDeletingSection},l=function(t){return i(t).editing},f=function(t){return i(t).isFetchingSections},d=function(t){return i(t).isLoadingContent},p=function(t){return i(t).isHidingMaterial},h=function(t){return i(t).isFetchingVersions},v=function(t){return i(t).isLoadingVersion},b=function(t){return i(t).isErrored},g=function(t){return i(t).isRevertingSection},m=function(t){return i(t).isSavingSection},y=function(t){return i(t).isImportingMaterials},O=function(t){return i(t).currentDeleteCandidate},E=function(t){return null!==O(t)},j=function(t){return i(t).selectedContent},x=function(t){return i(t).selectedVersion},I=function(t){return i(t).leaveDestinationPath},S=function(t){return i(t).hasDismissedGetStarted},w=function(t){return c(t)[i(t).currentRevertCandidate]},C=function(t){return i(t).hasFetchedSections},k=function(t){return!(C(t)||f(t)||b(t))},R=function(t,e){return!!i(t).expandedFolders[e]},T=function(t){return i(t).isMaterialEducatorOnlyExpanded},A=function(t){return i(t).renameFolderDialogOpenFor},N=function(t){return i(t).deleteFolderDialogOpenFor},P=function(t){return i(t).scheduleMaterialDialogOpenFor},_=function(t){return i(t).scheduleSectionDialogOpenFor},D=function(t){return i(t).isSavingFolder},M=function(t){return i(t).isDeletingFolder},F=function(t,e){return void 0===e?null:c(t)[e]},L=function(t,e){var n=F(t,e);return!(!n||!n.isFolder)},U=function(t){return F(t,u(t))},G=function(t){var e=U(t);return e?e.title:""},z=function(t,e){return t.order<e.order?-1:t.order>e.order?1:0},q=function(t,e){var n=Object(o.currentClassRoomId)(t),r=c(t),i=F(t,e),u=Object(o.isInstructor)(t),s=Object(o.accessingSpaceAsStaff)(t)(n);return a()(r).map((function(t){return r[t]})).filter((function(t){var r=t.space===n,a=e?t.parent===e:!t.parent,o=i&&i.hidden,c=t.hidden||o;return r&&a&&(u||s||!c)})).sort(z)},B=function(t,e,n){return q(t,e).filter((function(t){return n?t.educatorOnly:!t.educatorOnly})).map((function(t){return t.id}))},H=function(t){return q(t,void 0)},W=function(t){return B(t,void 0)},V=function(t){return B(t,void 0,!0)},K=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.educatorOnly,r=void 0!==n&&n,o=c(t);if(!o)return null;var i=q(t,void 0).filter((function(t){return Boolean(t.educatorOnly)===Boolean(r)}));if(0===i.length)return null;var u=i[0];if(!u.isFolder)return u.id;var s=a()(o).map((function(t){return o[t]})).filter((function(t){return Boolean(t.educatorOnly)===Boolean(r)})).filter((function(t){return t.parent===u.id})).sort(z);return 0===s.length?null:s[0].id},Y=function(t){return K(t,{educatorOnly:!0})},X=function(t){var e=c(t);return a()(e).filter((function(t){return!e[t].isFolder})).length>0},Q=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=U(t);if(!r)return null;if(r.id!==e&&r.parent!==e)return r.id;var a=F(t,e),o=q(t,a.parent).filter((function(t){return Boolean(t.educatorOnly)===Boolean(n)})),i=o.findIndex((function(t){return t.id===e})),c=function(t){return!t.isFolder},u=o.slice(i+1).find(c);if(u)return u.id;var s=o.slice(0,i).reverse().find(c);return s?s.id:K(t,{educatorOnly:n})}},63:function(t,e,n){"use strict";n.d(e,"b",(function(){return Jr})),n.d(e,"c",(function(){return Zr}));var r={};n.r(r),n.d(r,"addParticipants",(function(){return Ze})),n.d(r,"createConversation",(function(){return un})),n.d(r,"closeCreateGroup",(function(){return sn})),n.d(r,"closeEditMessage",(function(){return ln})),n.d(r,"closeLeaveGroup",(function(){return fn})),n.d(r,"closeRenameGroup",(function(){return dn})),n.d(r,"closeViewParticipants",(function(){return pn})),n.d(r,"editMessage",(function(){return yn})),n.d(r,"fetchConversation",(function(){return Sn})),n.d(r,"fetchConversations",(function(){return Rn})),n.d(r,"fetchMessage",(function(){return Dn})),n.d(r,"fetchMessages",(function(){return Mn.a})),n.d(r,"leaveConversation",(function(){return qn})),n.d(r,"onConversationReadUpTo",(function(){return Bn})),n.d(r,"onMessage",(function(){return Hn})),n.d(r,"onMessageEdited",(function(){return Wn})),n.d(r,"onReconnect",(function(){return er})),n.d(r,"onTyping",(function(){return cr})),n.d(r,"onParticipantAdded",(function(){return fr})),n.d(r,"onParticipantLeft",(function(){return dr})),n.d(r,"onTitleChanged",(function(){return pr})),n.d(r,"openCreateGroup",(function(){return hr})),n.d(r,"openEditMessage",(function(){return vr})),n.d(r,"openLeaveGroup",(function(){return br})),n.d(r,"openRenameGroup",(function(){return gr})),n.d(r,"openViewParticipants",(function(){return mr})),n.d(r,"removeParticipant",(function(){return Ir})),n.d(r,"renameConversation",(function(){return Tr})),n.d(r,"sendMessage",(function(){return Ar.b})),n.d(r,"consumeMessageQueue",(function(){return Ar.a})),n.d(r,"setConversationRead",(function(){return Fr})),n.d(r,"setConversationUnread",(function(){return Lr})),n.d(r,"updateMessageDraft",(function(){return Ur})),n.d(r,"replyToMessage",(function(){return Gr})),n.d(r,"dismissReplyToMessage",(function(){return zr.a})),n.d(r,"highlightMessage",(function(){return Br}));var a=n(6),o=n.n(a),i=n(3),c=n.n(i),u=n(4),s=n.n(u),l=n(5),f=n.n(l),d=n(9),p=n.n(d),h=n(8),v=n.n(h),b=n(2),g=n.n(b),m=n(21);function y(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):y(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var E=function(t,e){switch(e.status){case"started":return O(O({},t),{},{addingParticipants:!0});case"success":case"error":return O(O({},t),{},{addingParticipants:!1});default:return t}};function j(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):j(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var I=function(t,e){return x(x({},t),e.payload)};function S(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?S(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):S(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var C=function(t,e){var n=e.status,r=e.payload,a=r&&r.participantIds||[],i=t.creatingConversationWith||{};switch(n){case"started":return w(w({},t),{},{creatingConversation:!0,creatingConversationWith:a.reduce((function(t,e){return t[e]=!0,t}),w({},i))});case"success":case"error":return w(w({},t),{},{creatingConversation:!1,creatingConversationWith:o()(i).reduce((function(t,e){return a.includes(e)||(t[e]=!0),t}),{})});default:return t}};function k(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):k(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var T=["started","error","success"],A=function(t,e){var n=e.status;return T.includes(n)?R(R({},t),{},{editingMessage:"started"===n}):t};function N(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):N(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var _=function(t,e){switch(e.status){case"started":return P(P({},t),{},{fetchingConversations:!0});case"success":var n=e.payload.conversations;return P(P({},t),{},{fetchingConversations:!1,conversationHasOlderMessages:n.reduce((function(t,e){var n=e.id;return P(P({},t),{},g()({},n,!0))}),{})});case"error":return P(P({},t),{},{fetchingConversations:!1});default:return t}};function D(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?D(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):D(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var F=function(t,e){return M(M({},t),{},g()({},e,!0))},L=function(t,e){var n=M({},t);return delete n[e],n},U=function(t,e){var n=e.payload.conversationId,r=M({},t.fetchingMessage);switch(e.status){case"started":return M(M({},t),{},{fetchingMessage:F(r,n)});case"success":case"error":return M(M({},t),{},{fetchingMessage:L(r,n)});default:return t}};function G(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?G(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):G(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var q=function(t,e){return z(z({},t),{},g()({},e,!0))},B=function(t,e){var n=z({},t);return delete n[e],n},H=function(t,e){var n=e.payload,r=n.conversationId,a=n.replace,o=n.done;switch(e.status){case"started":return z(z({},t),{},{fetchingMessages:q(t.fetchingMessages,r),conversationHasOlderMessages:z(z({},t.conversationHasOlderMessages),{},g()({},r,!!a||t.conversationHasOlderMessages[r]))});case"success":return z(z({},t),{},{conversationHasOlderMessages:z(z({},t.conversationHasOlderMessages),{},g()({},r,!o)),fetchingMessages:B(t.fetchingMessages,r),initialFetchDone:z(z({},t.initialFetchDone),{},g()({},r,!0))});case"error":return z(z({},t),{},{fetchingMessages:B(t.fetchingMessages,r)});default:return t}};function W(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function V(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):W(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var K=function(t,e){var n=e.status,r=e.payload,a=r.filterValue,o=r.conversationIds;switch(n){case"started":return V(V({},t),{},{filtering:V(V({},t.filtering),{},{query:a})});case"success":return V(V({},t),{},{filtering:V(V({},t.filtering),{},{conversationIds:a?o:null})});default:return t}};function Y(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function X(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Y(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Q=function(t,e){switch(e.status){case"started":return X(X({},t),{},{leavingConversation:!0});case"success":case"error":return X(X({},t),{},{leavingConversation:!1});default:return t}},J=n(20),Z=n.n(J);function $(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):$(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var et=function(t,e,n){var r=t[e]||[];return-1!==r.indexOf(n)?t:tt(tt({},t),{},g()({},e,[].concat(Z()(r),[n])))},nt=function(t,e,n){var r=(t[e]||[]).filter(function(t){return function(e){return e!==t}}(n)),a=tt({},t);return r.length?a[e]=r:delete a[e],a},rt=function(t,e){var n=e.groupId,r=e.userId;switch(e.status){case"start":return tt(tt({},t),{},{typingInConversations:et(t.typingInConversations,n,r)});case"end":return tt(tt({},t),{},{typingInConversations:nt(t.typingInConversations,n,r)});default:return t}};function at(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?at(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):at(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var it=function(t,e){return ot(ot({},t),{},{currentlyEditedMessageId:e.payload.messageId})};function ct(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ct(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):ct(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var st=function(t,e){switch(e.status){case"started":return ut(ut({},t),{},{fetchingConversations:!0});case"error":return ut(ut({},t),{},{fetchingConversations:!1});case"success":var n=e.payload.resetConversationIds,r=void 0===n?[]:n,a=r.reduce((function(t,e){return ut(ut({},t),{},g()({},e,!0))}),t.conversationHasOlderMessages),o=function(t,e){for(var n=ut({},t),r=0;r<e.length;r+=1)delete n[e[r]];return n}(t.initialFetchDone,r);return ut(ut({},t),{},{fetchingConversations:!1,conversationHasOlderMessages:a,initialFetchDone:o});default:return t}};function lt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):lt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var dt=function(t,e){switch(e.status){case"started":return ft(ft({},t),{},{renamingConversation:!0});case"success":case"error":return ft(ft({},t),{},{renamingConversation:!1});default:return t}};function pt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ht(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?pt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):pt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var vt=function(t,e){switch(e.status){case"started":return ht(ht({},t),{},{removingParticipant:!0});case"success":case"error":return ht(ht({},t),{},{removingParticipant:!1});default:return t}};function bt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function gt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):bt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var mt=function(t,e){return gt(gt({},t),{},{replyingMessageId:e.payload.messageId})};function yt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):yt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Et,jt=function(t,e){var n=e.status,r=e.payload.messageId;return"success"!==n?t:Ot(Ot({},t),{},{highlightedMessage:r})},xt={addingParticipants:!1,addParticipantOpened:!1,conversationHasOlderMessages:{},createGroupOpened:!1,creatingConversation:!1,creatingConversationWith:{},currentlyEditedMessageId:void 0,replyingMessageId:void 0,editingMessage:!1,fetchingConversations:!0,fetchingMessage:{},fetchingMessages:{},filtering:{query:void 0,conversationIds:null},initialFetchDone:{},opened:!0,leaveGroupOpened:!1,leavingConversation:!1,removingParticipant:!1,renameGroupOpened:!1,renamingConversation:!1,typingInConversations:{},viewParticipantsOpened:!1,highlightedMessage:null},It=(Et={},g()(Et,m.a,E),g()(Et,m.b,C),g()(Et,m.c,A),g()(Et,m.d,_),g()(Et,m.e,_),g()(Et,m.f,U),g()(Et,m.g,H),g()(Et,m.h,K),g()(Et,m.w,rt),g()(Et,m.k,I),g()(Et,m.l,it),g()(Et,m.m,I),g()(Et,m.n,I),g()(Et,m.o,I),g()(Et,m.j,Q),g()(Et,m.p,st),g()(Et,m.q,vt),g()(Et,m.r,dt),g()(Et,m.s,mt),g()(Et,m.i,jt),Et),St=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,e=arguments.length>1?arguments[1]:void 0;if(!e)return t;var n=It[e.type];return n?n(t,e):t};function wt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?wt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):wt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var kt=function(t,e){return Ct(Ct({},t),e)},Rt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.reduce(kt,t)},Tt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.conversationId,a=n.participants,o=t.conversations[r];return o?Ct(Ct({},t),{},{conversations:Ct(Ct({},t.conversations),{},g()({},r,Ct(Ct({},o),{},{participants:Rt.apply(void 0,[o.participants].concat(Z()(a)))})))}):t};function At(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?At(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):At(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Pt=function(t,e){if("success"!==e.status)return t;var n=e.payload.conversation,r=t.conversations[n.id]||{};return Nt(Nt({},t),{},{conversations:Nt(Nt({},t.conversations),{},g()({},n.id,Nt(Nt({messages:[]},r),n)))})};function _t(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Dt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):_t(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Mt=["started","success","error"],Ft=function(t,e){if(!Mt.includes(e.status))return t;var n=e.payload,r=n.messageId,a=n.editedAt,o=n.previousContent,i=n.updatedContent;switch(e.status){case"started":case"success":return Dt(Dt({},t),{},{messages:Dt(Dt({},t.messages),{},g()({},r,Dt(Dt({},t.messages[r]),{},{content:i,editedAt:a})))});case"error":return Dt(Dt({},t),{},{messages:Dt(Dt({},t.messages),{},g()({},r,Dt(Dt({},t.messages[r]),{},{content:o,editedAt:a})))});default:return t}};function Lt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ut(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Lt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Lt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Gt=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.conversationId,a=n.conversation,o=t.conversations[r];return Ut(Ut({},t),{},{conversations:Ut(Ut({},t.conversations),{},g()({},r,Ut(Ut({messages:[]},o),a)))})};function zt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function qt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?zt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):zt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Bt=function(t,e){return t[e.id]=qt({messages:[]},e),t},Ht=function(t,e){if("success"!==e.status)return t;var n=e.payload.conversations;return qt(qt({},t),{},{conversations:n.reduce(Bt,{})})},Wt=n(65),Vt=n.n(Wt),Kt=function(t,e){return t.createdAt<e.createdAt?-1:t.createdAt>e.createdAt?1:0},Yt=function(t){return function(e){return t[e]}},Xt=function(t){return Z()(new Vt.a(t))},Qt=function(t,e){return[].concat(Z()(t),Z()(e)).sort(Kt,[])};function Jt(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Zt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Jt(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Jt(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var $t=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.conversationId,a=n.message,o=n.localId,i=n.hasNewerMessages,c=t.conversations[r];if(!c)return t;if(i)return Zt(Zt({},t),{},{conversations:Zt(Zt({},t.conversations),{},g()({},r,Zt(Zt({},c),{},{latestMessage:a})))});var u=(c.messages||[]).map(Yt(t.messages)),s=Qt(u,[a]).filter((function(t){return t.id!==o})),l=Xt(s.map((function(t){return t.id}))),f=s[s.length-1],d=Zt(Zt({},t.messages),{},g()({},a.id,a));return delete d[o],Zt(Zt({},t),{},{conversations:Zt(Zt({},t.conversations),{},g()({},r,Zt(Zt({},c),{},{latestMessage:f,messages:l}))),messages:d})},te=n(88),ee=n.n(te);function ne(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function re(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ne(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):ne(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var ae=function(t,e){return t[e.id]=e,t},oe=function(t,e){var n=e.payload,r=n.conversationId,a=n.messages,o=n.replace;switch(e.status){case"started":if(!o)return t;var i=t.conversations[r],c=re({},t.messages);i.messages.forEach((function(t){return delete c[t]}));var u=re(re({},i),{},{messages:[]});return re(re({},t),{},{messages:c,conversations:re(re({},t.conversations),{},g()({},r,u))});case"success":var s=t.conversations[r],l=(s.messages||[]).map(Yt(t.messages)),f=a.reduce(ae,{}),d=Qt(l,ee()(f)),p=d.map((function(t){return t.id})),h=Xt(p),v=d[d.length-1],b=s.latestMessage&&s.latestMessage.createdAt>v.createdAt?s.latestMessage:v,m=re(re({},s),{},{messages:h,latestMessage:b}),y=re(re({},t.messages),f);return re(re({},t),{},{conversations:re(re({},t.conversations),{},g()({},r,m)),messages:y});default:return t}};function ie(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ce(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ie(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):ie(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var ue=function(t,e){var n=ce({},t);return e.forEach((function(t){return delete n[t]})),n},se=function(t,e){if("success"!==e.status)return t;var n=e.payload.conversationId,r=t.conversations[n];return r?ce(ce({},t),{},{conversations:ue(t.conversations,[n]),messages:ue(t.messages,r.messages||[])}):t};function le(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?le(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):le(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var de=function(t){return t.id},pe=function(t,e){return t[e.id]=e,t};function he(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ve(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?he(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):he(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var be=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.conversationId,a=n.participantId,o=t.conversations[r];if(!o)return t;var i=ve({},o.participants);return delete i[a],ve(ve({},t),{},{conversations:ve(ve({},t.conversations),{},g()({},r,ve(ve({},o),{},{participants:i})))})};function ge(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function me(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ge(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):ge(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var ye=function(t,e){if("success"!==e.status)return t;var n=e.payload,r=n.conversationId,a=n.title,o=t.conversations[r];return me(me({},t),{},{conversations:me(me({},t.conversations),{},g()({},r,me(me({},o),{},{title:a})))})};function Oe(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ee(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Oe(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Oe(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var je=function(t,e){var n=e.map((function(e){return t[e]}));return Qt(n,[]).map((function(t){return t.id}))},xe=function(t,e,n,r){var a=t[n],o=je(e,[].concat(Z()(a.messages||[]),[r]));return Ee(Ee({},t),{},g()({},n,Ee(Ee({},a),{},{messages:o,latestMessage:e[o[o.length-1]]})))},Ie=function(t,e){return Ee(Ee({},t),{},g()({},e.id,e))},Se=function(t,e){var n=Ee({},t);return delete n[e.id],n},we=function(t,e){var n=e.payload,r=n.pendingMessage,a=n.message,o=n.conversation;switch(e.status){case"started":var i=Ie(t.messages,r),c=Se(t.drafts,o);return Ee(Ee({},t),{},{conversations:xe(t.conversations,i,o.id,r.id),messages:i,drafts:c});case"error":var u=Ee(Ee({},t.messages),{},g()({},r.id,Ee(Ee({},r),{},{failed:!0})));return Ee(Ee({},t),{},{messages:u});case"success":var s=Se(Ie(t.messages,a),r),l=function(t,e,n,r,a){var o=t[n],i=Z()(o.messages),c=i.indexOf(r);-1!==c&&(-1!==i.indexOf(a)?i.splice(c,1):i[c]=a);var u=je(e,i);return Ee(Ee({},t),{},g()({},n,Ee(Ee({},o),{},{messages:u,latestMessage:e[u[u.length-1]]})))}(t.conversations,s,o.id,r.id,a.id);return Ee(Ee({},t),{},{conversations:l,messages:s});default:return t}};function Ce(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ce(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Ce(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}function Re(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Te(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Re(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Re(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Ae,Ne=function(t,e){if("success"!==e.status)return t;var n=t.drafts,r=e.payload,a=r.conversationId,o=r.draft;return Te(Te({},t),{},{drafts:Te(Te({},n),{},g()({},a,o))})},Pe={conversations:{},messages:{},participants:{},drafts:{}},_e=(Ae={},g()(Ae,m.a,Tt),g()(Ae,m.b,Pt),g()(Ae,m.c,Ft),g()(Ae,m.d,Gt),g()(Ae,m.e,Ht),g()(Ae,m.f,$t),g()(Ae,m.g,oe),g()(Ae,m.j,se),g()(Ae,m.p,(function(t,e){if("success"!==e.status)return t;var n,r=e.payload,a=r.conversations,o=r.currentConversationId,i=r.resetConversationIds,c=r.currentConversationMessages,u=a.map((n=t.conversations,function(t){var e=(n[t.id]||{}).messages;return fe(fe({},t),{},{messages:e||[]})})).reduce(pe,{});if(o&&c&&c.length){var s=t.conversations[o],l=Qt(s.messages.map(function(t){return function(e){return t[e]}}(t.messages)),c);u[o].messages=Xt(l.map(de))}return i.forEach((function(t){u[t].messages=[]})),fe(fe({},t),{},{conversations:fe(fe({},t.conversations),u),messages:fe(fe({},t.messages),(c||[]).reduce(pe,{}))})})),g()(Ae,m.q,be),g()(Ae,m.r,ye),g()(Ae,m.t,we),g()(Ae,m.u,(function(t,e){if(!["started","error","success"].includes(e.status))return t;var n=e.payload,r=n.conversationId,a=n.userId,o=n.readUpTo,i=t.conversations,c=i[r],u=c.participants,s=(void 0===u?{}:u)[a]||{};return ke(ke({},t),{},{conversations:ke(ke({},i),{},g()({},r,ke(ke({},c),{},{participants:ke(ke({},c.participants),{},g()({},a,ke(ke({},s),{},{readUpTo:o})))})))})})),g()(Ae,m.v,Ne),Ae),De=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,e=arguments.length>1?arguments[1]:void 0,n=_e[e.type];return void 0===n?t:n(t,e)},Me=n(50),Fe=n.n(Me),Le=n(12),Ue=n.n(Le),Ge=n(49),ze=n.n(Ge),qe=n(7),Be=n.n(qe),He=n(82),We=n(56);function Ve(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ke(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ve(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Ve(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Ye=function(t){return{type:m.a,status:"started",payload:t}},Xe=function(t){return{type:m.a,status:"success",payload:t}},Qe=function(t){return{type:m.a,status:"error",payload:t}},Je=function(t){return function(){var e=Ue()(Be.a.mark((function e(n){var r;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.postParticipant(t,n);case 2:return r=e.sent,e.abrupt("return",g()({},n,r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ze=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){var a,o,i,c,u;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=We.currentConversationId(a),n(Ye(i={conversationId:o,requestedParticipantIds:t})),e.prev=4,c=Je(o),e.next=8,ze.a.all(t.map(c));case 8:u=e.sent,n(Xe(Ke(Ke({},i),{},{participants:u}))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),n(Qe(Ke(Ke({},i),{},{error:e.t0})));case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t,n){return e.apply(this,arguments)}}()},$e=n(337),tn=n(24);function en(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function nn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?en(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):en(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var rn=function(t){return t.objectId},an=function(t,e){return t({type:m.b,status:"started",payload:e})},on=function(t,e){return t({type:m.b,status:"success",payload:e})},cn=function(t,e){return t({type:m.b,status:"error",payload:e})},un=function(t){var e=t.spaceId,n=t.educatorOnly,r=t.title,a=t.users;return function(){var t=Ue()(Be.a.mark((function t(o,i){var c,u,s,l,f,d;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i(),u=tn.currentUser(c),s=u.objectId,l=a&&[s].concat(Z()(a.map(rn)))||[],an(o,f={title:r,participantIds:l,spaceId:e,educatorOnly:n}),t.prev=5,t.next=8,He.a.createConversation({spaceId:e,educatorOnly:Boolean(n),participantIds:l,title:r});case 8:return d=t.sent,a&&Object($e.c)(o,{requestedUsers:a.map(rn),users:a}),t.next=12,on(o,nn(nn({},f),{},{conversation:d}));case 12:return t.abrupt("return",{objectId:d.id});case 15:return t.prev=15,t.t0=t.catch(5),cn(o,nn(nn({},f),{},{error:t.t0})),t.abrupt("return",void 0);case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(e,n){return t.apply(this,arguments)}}()},sn=function(){return function(t){return t({type:m.k,payload:{createGroupOpened:!1}})}},ln=function(){return function(t){t({type:m.l,payload:{}})}},fn=function(){return function(t){return t({type:m.m,payload:{leaveGroupOpened:!1}})}},dn=function(){return function(t){return t({type:m.n,payload:{renameGroupOpened:!1}})}},pn=function(){return function(t){return t({type:m.o,payload:{addParticipantOpened:!1,viewParticipantsOpened:!1}})}};function hn(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function vn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hn(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):hn(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var bn=function(t,e){return t({type:m.c,status:"started",payload:e})},gn=function(t,e){return t({type:m.c,status:"success",payload:e})},mn=function(t,e){return t({type:m.c,status:"error",payload:e})},yn=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){var a,o,i,c,u,s,l,f;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=We.currentConversationId(a),i=We.currentlyEditedMessage(a),c=i.id,u=i.content,s={messageId:c,previousContent:u,updatedContent:t,editedAt:(new Date).toISOString()},bn(n,s),e.prev=5,e.next=8,He.a.editMessage({conversationId:o,messageId:c,content:t});case 8:l=e.sent,f=l.editedAt,gn(n,vn(vn({},s),{},{editedAt:f})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(5),mn(n,vn(vn({},s),{},{error:e.t0}));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}()};function On(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?On(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):On(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var jn=function(t,e){return t({type:m.d,status:"started",payload:e})},xn=function(t,e){return t({type:m.d,status:"success",payload:e})},In=function(t,e){return t({type:m.d,status:"error",payload:e})},Sn=function(t){return function(){var e=Ue()(Be.a.mark((function e(n){var r,a;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return jn(n,r={conversationId:t}),e.prev=2,e.next=5,He.a.fetchConversation(t);case 5:a=e.sent,xn(n,En(En({},r),{},{conversation:a})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),In(n,En(En({},r),{},{error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},wn=function(t,e){return t({type:m.e,status:"started",payload:e})},Cn=function(t,e){return t({type:m.e,status:"success",payload:e})},kn=function(t,e){return t({type:m.e,status:"error",payload:e})},Rn=function(){return function(){var t=Ue()(Be.a.mark((function t(e){var n;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return wn(e,{}),t.prev=1,t.next=4,He.a.fetchConversations();case 4:n=t.sent,Cn(e,{conversations:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),kn(e,{error:t.t0});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()};function Tn(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function An(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Tn(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Tn(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Nn=function(t,e){return t({type:m.f,status:"started",payload:e})},Pn=function(t,e){return t({type:m.f,status:"success",payload:e})},_n=function(t,e){return t({type:m.f,status:"error",payload:e})},Dn=function(t,e){return function(){var n=Ue()(Be.a.mark((function n(r,a){var o,i,c,u,s;return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=a(),i=tn.currentUser(o),c=i.objectId,Nn(r,u={currentUserId:c,conversationId:t,messageId:e}),n.prev=4,n.next=7,He.a.fetchMessage(t,e);case 7:s=n.sent,Pn(r,An(An({},u),{},{message:s})),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(4),_n(r,An(An({},u),{},{error:n.t0}));case 14:case"end":return n.stop()}}),n,null,[[4,11]])})));return function(t,e){return n.apply(this,arguments)}}()},Mn=n(386);function Fn(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Fn(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Fn(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Un=function(t,e){return t({type:m.j,status:"started",payload:e})},Gn=function(t,e){return t({type:m.j,status:"success",payload:e})},zn=function(t,e){return t({type:m.j,status:"error",payload:e})},qn=function(){return function(){var t=Ue()(Be.a.mark((function t(e,n){var r,a,o,i,c;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),a=We.currentConversationId(r),o=tn.currentUser(r),i=o.objectId,Un(e,c={conversationId:a}),t.prev=5,t.next=8,He.a.removeParticipant(a,i);case 8:Gn(e,c),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(5),zn(e,Ln(Ln({},c),{},{error:t.t0}));case 14:case"end":return t.stop()}}),t,null,[[5,11]])})));return function(e,n){return t.apply(this,arguments)}}()},Bn=function(t){return function(e,n){var r=t.conversation,a=t.participant,o=t.readUpTo,i=n(),c=tn.currentUser(i).objectId;if(c===a){var u=We.conversation(i,r);if(u){var s=(u.participants[c]||{}).readUpTo;s&&new Date(o)<=new Date(s)||e({type:m.u,status:"success",payload:{conversationId:r,readUpTo:o,userId:a}})}}}},Hn=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){var a,o,i,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.conversationId,o=t.message,i=t.localId,c=r(),!!!Object(We.message)(c,o.id)){e.next=5;break}return e.abrupt("return");case 5:n({type:m.f,status:"success",payload:{conversationId:a,message:o,localId:i,hasNewerMessages:Object(We.hasNewerMessages)(c,a)}});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Wn=function(t){return function(e){var n=t.conversationId,r=t.message;e({type:m.f,status:"success",payload:{conversationId:n,message:r}})}};function Vn(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vn(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Vn(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Yn=function(t){return t.id},Xn=function(t){return function(e){return e.id===t}},Qn=function(t){return function(e){return e!==t}},Jn=function(t,e){return e.filter(function(t){return function(e){var n=e.latestMessage&&e.latestMessage.id,r=t(e.id);return!!r&&n!==(r.latestMessage&&r.latestMessage.id)}}(t))},Zn=function(t,e){return t({type:m.p,status:"started",payload:e})},$n=function(t,e){return t({type:m.p,status:"error",payload:e})},tr=function(t,e){return t({type:m.p,status:"success",payload:e})},er=function(){return function(){var t=Ue()(Be.a.mark((function t(e,n){var r,a,o,i,c,u,s,l,f,d,p;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n(),a=We.currentConversationId(r),Zn(e,o={currentConversationId:a}),t.prev=4,t.next=7,He.a.fetchConversations();case 7:if(i=t.sent,c=Jn((function(t){return We.conversation(r,t)}),i),!a||!c.find(Xn(a))){t.next=18;break}return l=We.currentConversation(r),f=(l.latestMessage||l).createdAt,t.next=15,He.a.fetchMessages(a,{after:f});case 15:d=t.sent,u=d.messages,s=!d.done;case 18:p=[].concat(Z()(c.map(Yn).filter(Qn(a))),Z()(s?[a]:[])),tr(e,Kn(Kn({},o),{},{conversations:i,resetConversationIds:p,currentConversationMessages:u})),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(4),$n(e,Kn(Kn({},o),{},{error:t.t0}));case 25:case"end":return t.stop()}}),t,null,[[4,22]])})));return function(e,n){return t.apply(this,arguments)}}()},nr=function(t){return new ze.a((function(e){return setTimeout(e,t)}))},rr=function(t,e){return{type:m.w,status:"end",groupId:t,userId:e}},ar=function(t,e,n,r){var a=t[e]||{},o=a[n]||0;return a[n]=o+r,t[e]=a,a[n]},or=function(t,e,n){return ar(t,e,n,1)},ir=function(t,e,n){return ar(t,e,n,-1)},cr=function(){var t={};return function(e){return function(){var n=Ue()(Be.a.mark((function n(r,a){var o,i,c,u;return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=tn.currentUserId(a()),i=JSON.parse(e),c=i.group,(u=i.user)!==o){n.next=4;break}return n.abrupt("return");case 4:return or(t,c,u),r((s=c,l=u,{type:m.w,status:"start",groupId:s,userId:l})),n.next=8,nr(3e3);case 8:ir(t,c,u)||r(rr(c,u));case 10:case"end":return n.stop()}var s,l}),n)})));return function(t,e){return n.apply(this,arguments)}}()}},ur=n(327),sr=n(407),lr=function(){var t=Ue()(Be.a.mark((function t(e,n,r){var a;return Be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n[r]){t.next=2;break}return t.abrupt("return",n[r]);case 2:return t.next=4,Object(sr.a)({userIds:[r]});case 4:return a=t.sent[0],Object($e.c)(e,{requestedUsers:[r],users:[a]}),t.abrupt("return",a);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),fr=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){var a,o,i,c;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.conversation,o=t.participant,i=r(),!!!Object(We.isParticipant)(i,a.id,o)){e.next=5;break}return e.abrupt("return");case 5:if(o!==Object(tn.currentUserId)(i)){e.next=9;break}n({type:m.b,status:"success",payload:{conversation:a}}),e.next=13;break;case 9:return e.next=11,lr(n,Object(ur.d)(i),o);case 11:c=e.sent,n({type:m.a,status:"success",payload:{conversationId:a.id,participants:[g()({},o,c)]}});case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},dr=function(t){return function(e,n){var r=t.conversation,a=t.participant,o=n();e({type:a===Object(tn.currentUserId)(o)?m.j:m.q,status:"success",payload:{conversationId:r,participantId:a}})}},pr=function(t){return function(e){var n=t.conversation,r=t.title;e({type:m.r,status:"success",payload:{conversationId:n,title:r}})}},hr=function(){return function(t){return t({type:m.k,payload:{createGroupOpened:!0}})}},vr=function(t){return function(e){t&&e({type:m.l,payload:{messageId:t}})}},br=function(){return function(t){return t({type:m.m,payload:{leaveGroupOpened:!0}})}},gr=function(){return function(t){return t({type:m.n,payload:{renameGroupOpened:!0}})}},mr=function(t){return function(e){return e({type:m.o,payload:{addParticipantOpened:!!t,viewParticipantsOpened:!0}})}};function yr(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Or(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yr(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):yr(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Er=function(t,e){return t({type:m.q,status:"started",payload:e})},jr=function(t,e){return t({type:m.q,status:"success",payload:e})},xr=function(t,e){return t({type:m.q,status:"error",payload:e})},Ir=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){var a,o,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=We.currentConversationId(a),Er(n,i={conversationId:o,participantId:t}),e.prev=4,e.next=7,He.a.removeParticipant(o,t);case 7:jr(n,i),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),xr(n,Or(Or({},i),{},{error:e.t0}));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})));return function(t,n){return e.apply(this,arguments)}}()};function Sr(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Sr(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Sr(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Cr=function(t,e){return t({type:m.r,status:"started",payload:e})},kr=function(t,e){return t({type:m.r,status:"success",payload:e})},Rr=function(t,e){return t({type:m.r,status:"error",payload:e})},Tr=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){var a,o;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=We.currentConversationId(r()),o={conversationId:a,title:t},Cr(n,{conversationId:a,title:t}),e.prev=3,e.next=6,He.a.putConversation(a,t);case 6:kr(n,o),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),Rr(n,wr(wr({},o),{},{error:e.t0}));case 12:case"end":return e.stop()}}),e,null,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}()},Ar=n(315);function Nr(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Pr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Nr(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Nr(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var _r=function(t,e){return t({type:m.u,status:"started",payload:e})},Dr=function(t,e){return t({type:m.u,status:"success",payload:e})},Mr=function(t,e){return t({type:m.u,status:"error",payload:e})},Fr=function(t,e){return function(){var n=Ue()(Be.a.mark((function n(r,a){var o,i,c,u,s;return Be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=a(),i=tn.currentUser(o),c=i.objectId,u=e||We.currentConversationId(o),_r(r,s={userId:c,conversationId:u,readUpTo:t}),n.prev=5,n.next=8,He.a.patchParticipant(u,c,t);case 8:Dr(r,s),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(5),Mr(r,Pr(Pr({},s),{},{error:n.t0}));case 14:case"end":return n.stop()}}),n,null,[[5,11]])})));return function(t,e){return n.apply(this,arguments)}}()},Lr=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){var a,o,i;return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r(),o=We.conversationLatestMessageDate(a,t)||We.conversation(a,t).createdAt,i=new Date(new Date(o)-1).toISOString(),e.next=5,n(Fr(i,t));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Ur=function(t,e){return function(n){return n({type:m.v,status:"success",payload:{conversationId:t,draft:e}})}},Gr=function(t){return function(e){t&&e({type:m.s,payload:{messageId:t}})}},zr=n(387),qr=function(t){return new ze.a((function(e){return setTimeout(e,t)}))},Br=function(t){return function(){var e=Ue()(Be.a.mark((function e(n,r){return Be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:m.i,status:"success",payload:{messageId:t}}),e.next=3,qr(1500);case 3:Object(We.isMessageHighlighted)(r(),t)&&n({type:m.i,status:"success",payload:{messageId:null}});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Hr=n(323),Wr=["sendMessage","consumeMessageQueue"];function Vr(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Kr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Vr(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Vr(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}function Yr(t,e){var n=o()(t);if(c.a){var r=c()(t);e&&(r=r.filter((function(e){return s()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Xr(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Yr(Object(n),!0).forEach((function(e){g()(t,e,n[e])})):f.a?p()(t,f()(n)):Yr(Object(n)).forEach((function(e){v()(t,e,s()(n,e))}))}return t}var Qr=function(t){var e,n,a,o,i,c,u,s,l,f,d,p,h,v,b={appReducer:St,dataReducer:De,operations:(e=Ar.b,n=Ar.a,a=Fe()(r,Wr),o=e(Hr.a),i=n(Hr.a),Kr(Kr({},a),{},{sendMessage:o,consumeMessageQueue:i})),selectors:We};return Xr(Xr({},b),{},{registerLive:(c=b.operations,u=c.onReconnect,s=c.onConversationReadUpTo,l=c.onMessage,f=c.onMessageEdited,d=c.onParticipantAdded,p=c.onParticipantLeft,h=c.onTitleChanged,v=c.onTyping,function(t){return function(e){t.on("clients",(function(t){return e(u(t))})),t.on("Conversation:ReadUpTo",(function(t){return e(s(t))})),t.on("Conversation:MessageAdded",(function(t){return e(l(t))})),t.on("Conversation:MessageEdited",(function(t){return e(f(t))})),t.on("Conversation:ParticipantAdded",(function(t){return e(d(t))})),t.on("Conversation:ParticipantLeft",(function(t){return e(p(t))})),t.on("Conversation:ParticipantDismissed",(function(t){return e(p(t))})),t.on("Conversation:TitleChanged",(function(t){return e(h(t))}));var n=v();t.on("typing",(function(t){return e(n(t))}))}})})}({}),Jr=Qr.operations,Zr=Qr.selectors;e.a=Qr},69:function(t,e,n){"use strict";var r=n(241);e.a=function(t){return function(e){e({type:r.b,status:"success",payload:{toast:t}})}}},70:function(t,e,n){"use strict";n.d(e,"b",(function(){return E})),n.d(e,"a",(function(){return j}));var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(2),b=n.n(v),g=n(13),m=n(287);function y(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){b()(t,e,n[e])})):l.a?d()(t,l()(n)):y(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var E=function(t,e){var n={type:g.M,error:t,from:e};return m.a.captureException(t,{extra:O(O({errorCode:t.code},n),{},{level:"error"}),tags:{context:"actions"}}),n},j=function(){return{type:g.L}}},701:function(t,e,n){"use strict";var r=n(241);e.a=function(){return function(t){t({type:r.a,status:"success",payload:{}})}}},702:function(t,e,n){"use strict";n.d(e,"b",(function(){return g})),n.d(e,"a",(function(){return y}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(6),u=n.n(c),s=n(13),l=n(25),f=n(176),d=n(159),p=n(242),h=n(282),v=n(243),b=function(t){t({type:s.V,status:"started"})},g=function(t,e){t({type:s.V,status:"success",scheduledPosts:e})},m=function(t,e){t({type:s.V,status:"error",error:e})},y=function(t){return function(){var e=a()(i.a.mark((function e(n,r){var a,o,c,s,y,O,E,j,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(n),a=r(),o=Object(l.lastScheduledPost)(a),c=o?new Date(o.scheduledFor):new Date,e.prev=4,e.next=7,Object(v.a)({spaceId:t,after:c,scheduled:!0});case 7:s=e.sent,y=s.tagPosts,O=s.comments,E=s.reactions,j=s.posts,g(n,j),Object(f.d)(y,n),x=O.reduce(h.a,{}),u()(x).forEach((function(t){t&&Object(p.a)(t,x[t],n)})),n(Object(d.a)(E)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),m(n,e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t,n){return e.apply(this,arguments)}}()}},703:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a}));n(83);var r="https://general.aula.education",a=function(t){return Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).BASE_LEARNOSITY?Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).BASE_LEARNOSITY:"https://apiv2.".concat(t)}},71:function(t,e,n){"use strict";var r=n(0),a=n.n(r);e.a=function(t){return function(e){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement(a.a.Fragment,null)},a.a.createElement(t,e))}}},77:function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"b",(function(){return P})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return D})),n.d(e,"g",(function(){return F})),n.d(e,"f",(function(){return G})),n.d(e,"e",(function(){return z})),n.d(e,"h",(function(){return B})),n.d(e,"i",(function(){return H})),n.d(e,"k",(function(){return W})),n.d(e,"j",(function(){return V})),n.d(e,"l",(function(){return K}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(16),u=n(6),s=n.n(u),l=n(3),f=n.n(l),d=n(4),p=n.n(d),h=n(5),v=n.n(h),b=n(9),g=n.n(b),m=n(8),y=n.n(m),O=n(2),E=n.n(O),j=n(37),x=n.n(j),I=n(116),S=n(200);function w(t,e){var n=s()(t);if(f.a){var r=f()(t);e&&(r=r.filter((function(e){return p()(t,e).enumerable}))),n.push.apply(n,r)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){E()(t,e,n[e])})):v.a?g()(t,v()(n)):w(Object(n)).forEach((function(e){y()(t,e,p()(n,e))}))}return t}var k=function(t){return t.data},R=function(){var t=a()(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x()(C(C({},e),{},{headers:C(C(C({},e.headers),(r=void 0,r=Object(I.a)(),{"x-user-id":r.id,"x-session-token":r.sessionToken})),Object(S.a)())}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}var r}),t)})));return function(e){return t.apply(this,arguments)}}(),T=n(175),A=function(){var t=a()(i.a.mark((function t(e,n,r){var a,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(c.k)(e),t.next=3,R({method:"post",url:a,data:{folder:n,localId:r}}).then(k);case 3:return o=t.sent,u=Object(T.a)(o),t.abrupt("return",u);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),N=n(147),P=function(){var t=a()(i.a.mark((function t(e,n,r){var a,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(c.p)(e),t.next=3,R({method:"post",url:a,data:{section:n,localId:r}}).then(k);case 3:return o=t.sent,u=Object(N.a)(o),t.abrupt("return",u);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),_=function(){var t=a()(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(c.j)(e,n),t.next=3,R({method:"delete",url:r});case 3:return a=t.sent,t.abrupt("return",204===a.status);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),D=function(){var t=a()(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(c.l)(e,n),t.next=3,R({method:"delete",url:r});case 3:return a=t.sent,t.abrupt("return",204===a.status);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),M=n(190),F=Object(M.a)((function(t){return function(){var e=a()(i.a.mark((function e(n,r){var a,o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(c.l)(n,r),e.next=3,R({method:"GET",url:a,cancelToken:t});case 3:return o=e.sent,e.abrupt("return",Object(N.a)(o.data));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),L=n(20),U=n.n(L),G=function(){var t=a()(i.a.mark((function t(e){var n,r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(c.i)(e),t.next=3,R({method:"get",url:n}).then(k);case 3:return r=t.sent,a=r.sections,o=r.folders,t.abrupt("return",[].concat(U()(o.map(T.a)),U()(a.map(N.a))));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(c.h)(e,n),t.next=3,R({method:"get",url:r}).then(k);case 3:return a=t.sent,o=a.url,t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),q=function(t){return{id:t.version,title:t.title,content:t.content,editor:t.editor,updatedAt:t.updatedAt}},B=Object(M.a)((function(t){return function(){var e=a()(i.a.mark((function e(n,r,a){var o,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=Object(c.m)(n,r,a),e.next=3,R({method:"GET",url:o,cancelToken:t}).then(k);case 3:return u=e.sent,e.abrupt("return",q(u));case 5:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()})),H=function(){var t=a()(i.a.mark((function t(e,n){var r,a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=Object(c.o)(e,n),t.next=3,R({method:"get",url:r}).then(k);case 3:return a=t.sent,o=a.versions.map(q),t.abrupt("return",o);case 6:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),W=function(){var t=a()(i.a.mark((function t(e,n,r){var a,o,u;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(c.l)(e,n),t.next=3,R({method:"patch",url:a,data:{section:r}}).then(k);case 3:return o=t.sent,u=Object(N.a)(o),t.abrupt("return",u);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),V=function(){var t=a()(i.a.mark((function t(e,n,r){var a,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(c.j)(e,n),t.next=3,R({method:"patch",url:a,data:{folder:r}}).then(k);case 3:return o=t.sent,t.abrupt("return",Object(T.a)(o));case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),K=function(){var t=a()(i.a.mark((function t(e,n,r){var a,o,u,s;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(c.n)(e,n),o={version:r},t.next=4,R({method:"put",url:a,data:o}).then(k);case 4:return u=t.sent,s=Object(N.a)(u),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},78:function(t,e,n){"use strict";n.d(e,"g",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"e",(function(){return l})),n.d(e,"o",(function(){return f})),n.d(e,"l",(function(){return d})),n.d(e,"r",(function(){return p})),n.d(e,"n",(function(){return h})),n.d(e,"m",(function(){return v})),n.d(e,"j",(function(){return b})),n.d(e,"i",(function(){return g})),n.d(e,"k",(function(){return m})),n.d(e,"h",(function(){return y})),n.d(e,"q",(function(){return O})),n.d(e,"p",(function(){return E})),n.d(e,"s",(function(){return j}));var r="Oops! Something went wrong.",a={emoji:"",message:"Success! Group created."},o={emoji:"",message:r},i={emoji:"",message:r},c={emoji:"",message:"Oops! Something went wrong. Only some of the groups were created."},u={emoji:"",message:"Success! Groups created."},s={emoji:"",message:"Success! Set created."},l={emoji:"",message:r},f={emoji:"",message:"Success! Group updated."},d={emoji:"",message:r},p={emoji:"",message:"Success! Set hidden."},h={emoji:"",message:"Success! Set updated."},v={emoji:"",message:r},b={emoji:"",message:"Success! Set deleted."},g={emoji:"",message:r},m={emoji:"",message:"Success! Group deleted."},y={emoji:"",message:r},O={emoji:"",message:"Success! Groups created."},E={emoji:"",message:r},j={emoji:"",message:"The post has been pinned. It will remain at the top of the feed for 72 hours after it was created."}},79:function(t,e,n){"use strict";n.d(e,"p",(function(){return r})),n.d(e,"r",(function(){return a})),n.d(e,"q",(function(){return o})),n.d(e,"o",(function(){return i})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return u})),n.d(e,"k",(function(){return s})),n.d(e,"W",(function(){return l})),n.d(e,"Eb",(function(){return f})),n.d(e,"g",(function(){return d})),n.d(e,"d",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"e",(function(){return v})),n.d(e,"j",(function(){return b})),n.d(e,"D",(function(){return g})),n.d(e,"E",(function(){return m})),n.d(e,"F",(function(){return y})),n.d(e,"H",(function(){return O})),n.d(e,"J",(function(){return E})),n.d(e,"G",(function(){return j})),n.d(e,"I",(function(){return x})),n.d(e,"K",(function(){return I})),n.d(e,"M",(function(){return S})),n.d(e,"L",(function(){return w})),n.d(e,"P",(function(){return C})),n.d(e,"O",(function(){return k})),n.d(e,"N",(function(){return R})),n.d(e,"n",(function(){return T})),n.d(e,"Gb",(function(){return A})),n.d(e,"Q",(function(){return N})),n.d(e,"R",(function(){return P})),n.d(e,"S",(function(){return _})),n.d(e,"m",(function(){return D})),n.d(e,"Jb",(function(){return M})),n.d(e,"Hb",(function(){return F})),n.d(e,"Ib",(function(){return L})),n.d(e,"Db",(function(){return U})),n.d(e,"x",(function(){return G})),n.d(e,"c",(function(){return z})),n.d(e,"T",(function(){return q})),n.d(e,"Kb",(function(){return B})),n.d(e,"mb",(function(){return H})),n.d(e,"lb",(function(){return W})),n.d(e,"vb",(function(){return V})),n.d(e,"ub",(function(){return K})),n.d(e,"Z",(function(){return Y})),n.d(e,"gb",(function(){return X})),n.d(e,"jb",(function(){return Q})),n.d(e,"pb",(function(){return J})),n.d(e,"kb",(function(){return Z})),n.d(e,"nb",(function(){return $})),n.d(e,"ob",(function(){return tt})),n.d(e,"sb",(function(){return et})),n.d(e,"rb",(function(){return nt})),n.d(e,"xb",(function(){return rt})),n.d(e,"wb",(function(){return at})),n.d(e,"yb",(function(){return ot})),n.d(e,"zb",(function(){return it})),n.d(e,"qb",(function(){return ct})),n.d(e,"X",(function(){return ut})),n.d(e,"C",(function(){return st})),n.d(e,"s",(function(){return lt})),n.d(e,"ib",(function(){return ft})),n.d(e,"tb",(function(){return dt})),n.d(e,"bb",(function(){return pt})),n.d(e,"ab",(function(){return ht})),n.d(e,"fb",(function(){return vt})),n.d(e,"eb",(function(){return bt})),n.d(e,"cb",(function(){return gt})),n.d(e,"db",(function(){return mt})),n.d(e,"Y",(function(){return yt})),n.d(e,"hb",(function(){return Ot})),n.d(e,"l",(function(){return Et})),n.d(e,"Fb",(function(){return jt})),n.d(e,"Cb",(function(){return xt})),n.d(e,"Ab",(function(){return It})),n.d(e,"Bb",(function(){return St})),n.d(e,"y",(function(){return wt})),n.d(e,"z",(function(){return Ct})),n.d(e,"B",(function(){return kt})),n.d(e,"A",(function(){return Rt})),n.d(e,"t",(function(){return Tt})),n.d(e,"u",(function(){return At})),n.d(e,"v",(function(){return Nt})),n.d(e,"w",(function(){return Pt})),n.d(e,"a",(function(){return _t})),n.d(e,"b",(function(){return Dt})),n.d(e,"V",(function(){return Mt})),n.d(e,"U",(function(){return Ft}));var r="It seems like we can't load your feed right now. ",a="It seems like we can't load your post right now. ",o="It seems like we can't load your messages right now. ",i="It seems like something went wrong here. ",c="Log out",u="Privacy Policy",s="Terms of Service",l="Pin post",f="Unpin post",d="Cancel",p="Add",h=" Back",v="Add participants",b="Save",g="Beginning of your conversation",m="Add participants",y="Leave conversation",O="Rename conversation",E="View participants",j="Mute notifications",x="Unmute notifications",I="Edit message",S="Leave conversation.",w="Are you sure you want to leave this conversation?",C="View all participants",k="Start your conversation here ",R="Write your first message and press ENTER to send.",T="View educators in this space",A="Other posts",N="Conversation title",P="E.g. Study group 4...",_="New conversation name",D="Done",M="Are you sure that you want to delete this post?",F="Are you sure that you want to delete this assignment?",L="Students assigned to this extension will be reassigned to the main cohort.",U="New tag: ",G="Get help",z="Aula's Product Portal",q="Last edited",B="Title: A to Z",H="No materials have been created yet.",W="No materials have been created yet. You can use the + button on the left to start creating sections and pages.",V="Page name (E.g. Week 1 - The Big Bang)",K="Page options",Y="Delete page",X="Edit page",Q="Export page",J="Import page",Z="Find a previous version",$="Hide page",tt="Hide section",et="Revert to this version",nt="Publish now",rt="This page is currently hidden from students. Click to unhide.",at="This section and all its pages are hidden from students. Click to unhide.",ot="Versions",it="Seems like there is no previous versions for this page.",ct="More options",ut="Create section",st="Import material",lt="Export material",ft="Start writing or add a block...",dt="Schedule for later",pt="Delete this page?",ht="You will not be able to retrieve content from this page once it is deleted.",vt="Leave without saving?",bt="You'll lose your changes if you don't save first.",gt="Keep editing",mt="Leave without saving",yt=function(t){return"Current version by ".concat(t)},Ot=function(t,e){return"Edited by ".concat(t," - ").concat(e)},Et="Edit discussion",jt="No notifications yet.",xt="Hey! Youre on your shiny mobile phone.",It="Thats good news:",St="Aulas mobile apps are available on ",wt="Hey there!",Ct="Unfortunately, Aula is not supported on Internet Explorer.",kt=" (why not?)",Rt="To use Aula, please try:",Tt="Hide extension",At="This extension is currently visible to students assigned to it. Click to hide.",Nt="Unhide extension",Pt="This extension is currently hidden from students. Click to unhide.",_t="This main cohort assignment is visible to students",Dt="This main cohort assignment is hidden from students",Mt="Live class now",Ft="Join live class"},82:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={};n.r(r),n.d(r,"addMessage",(function(){return D})),n.d(r,"createConversation",(function(){return U})),n.d(r,"editMessage",(function(){return G})),n.d(r,"fetchConversation",(function(){return z})),n.d(r,"fetchConversations",(function(){return q})),n.d(r,"fetchMessage",(function(){return B})),n.d(r,"fetchMessages",(function(){return H})),n.d(r,"removeParticipant",(function(){return W})),n.d(r,"putConversation",(function(){return V})),n.d(r,"patchParticipant",(function(){return K})),n.d(r,"postParticipant",(function(){return Y}));var a=n(12),o=n.n(a),i=n(7),c=n.n(i),u=n(138),s=n.n(u),l=n(16),f=n(6),d=n.n(f),p=n(3),h=n.n(p),v=n(4),b=n.n(v),g=n(5),m=n.n(g),y=n(9),O=n.n(y),E=n(8),j=n.n(E),x=n(2),I=n.n(x),S=n(37),w=n.n(S),C=n(911),k=n(116),R=n(200);function T(t,e){var n=d()(t);if(h.a){var r=h()(t);e&&(r=r.filter((function(e){return b()(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){I()(t,e,n[e])})):m.a?O()(t,m()(n)):T(Object(n)).forEach((function(e){j()(t,e,b()(n,e))}))}return t}var N=function(t){return"ECONNABORTED"===t.code},P=function(){var t=w.a.create();return t.defaults={raxConfig:{instance:t,shouldRetry:N}},Object(C.attach)(t),t},_=function(){var t=o()(c.a.mark((function t(e){var n,r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=A(A(A({},e.headers),(o=void 0,{"x-user-id":(o=Object(k.a)()).id,"x-session-token":o.sessionToken})),Object(R.a)()),r=P(),t.next=4,r(A(A({},e),{},{headers:n}));case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}var o}),t)})));return function(e){return t.apply(this,arguments)}}(),D=function(){var t=o()(c.a.mark((function t(e,n,r){var a,o,i,u,f;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(l.H)(e),o=n.content,i=n.repliedMessageId,u={url:a,method:"post",data:{content:s()(o),repliedMessageId:i,localId:r}},t.next=5,_(u);case 5:return f=t.sent,t.abrupt("return",f.data.message);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}();function M(t,e){var n=d()(t);if(h.a){var r=h()(t);e&&(r=r.filter((function(e){return b()(t,e).enumerable}))),n.push.apply(n,r)}return n}function F(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){I()(t,e,n[e])})):m.a?O()(t,m()(n)):M(Object(n)).forEach((function(e){j()(t,e,b()(n,e))}))}return t}var L=function(t){var e=t.title,n=t.participantIds,r=t.spaceId,a=t.educatorOnly;if(a&&r)return{educatorOnly:a,spaceId:r,isGroup:!0};var o=n.reduce((function(t,e){return F(F({},t),{},I()({},e,{}))}),{});return n.length>2?{title:e,isGroup:!0,participants:o}:{isGroup:!1,participants:o}},U=function(){var t=o()(c.a.mark((function t(e){var n,r,a,o,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.participantIds,r=e.title,a=e.spaceId,o=e.educatorOnly,i={url:Object(l.G)(),method:"post",data:{conversation:L({title:r,participantIds:n,spaceId:a,educatorOnly:o})}},t.next=4,_(i);case 4:return u=t.sent,t.abrupt("return",u.data.conversation);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=o()(c.a.mark((function t(e){var n,r,a,o,i,u;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.conversationId,r=e.messageId,a=e.content,o=Object(l.I)(n,r),i={url:o,method:"put",data:{content:a}},t.next=5,_(i);case 5:return u=t.sent,t.abrupt("return",u.data.message);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),z=function(){var t=o()(c.a.mark((function t(e){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={url:Object(l.F)(e),method:"get"},t.next=3,_(n);case 3:return r=t.sent,t.abrupt("return",r.data.conversation);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),q=o()(c.a.mark((function t(){var e,n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e={method:"get",url:Object(l.G)()},t.next=3,_(e);case 3:return n=t.sent,t.abrupt("return",n.data.conversations);case 5:case"end":return t.stop()}}),t)}))),B=function(){var t=o()(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={method:"GET",url:Object(l.I)(e,n)},t.next=3,_(r);case 3:return a=t.sent,t.abrupt("return",a.data.message);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),H=function(){var t=o()(c.a.mark((function t(e){var n,r,a,o,i,u,s,f=arguments;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r={method:"get",url:Object(l.H)(e),params:n},t.next=4,_(r);case 4:return a=t.sent,o=a.data,i=o.messages,u=o.count,s=o.reactions,t.abrupt("return",{messages:i,done:i.length>=u,reactions:s});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(){var t=o()(c.a.mark((function t(e,n){var r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={url:Object(l.J)(e,n),method:"delete"},t.next=3,_(r);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),V=function(){var t=o()(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={url:Object(l.F)(e),method:"put",data:{conversation:{title:n}}},t.next=3,_(r);case 3:return a=t.sent,t.abrupt("return",a.data.conversation);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),K=function(){var t=o()(c.a.mark((function t(e,n,r){var a,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a={url:Object(l.J)(e,n),method:"patch",data:{participant:{readUpTo:r}}},t.next=3,_(a);case 3:return o=t.sent,t.abrupt("return",o.data.conversation);case 5:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),Y=function(){var t=o()(c.a.mark((function t(e,n){var r,a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={url:Object(l.J)(e,n),method:"post"},t.next=3,_(r);case 3:return a=t.sent,t.abrupt("return",a.data.conversation);case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},83:function(t,e,n){"use strict";(function(t,r){n.d(e,"b",(function(){return S})),n.d(e,"a",(function(){return w}));var a=n(515),o=n(54),i=n(170),c=n(127),u=n(903),s=n(904),l=n(905),f=n(906),d=n(506),p=n(511),h=n(512),v=n(513),b=n(910),g=n(16),m=n(47),y=n(945),O=t&&Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"})||{},E=Object(i.routerMiddleware)(o.e),j=null,x=O.LOCAL&&!O.DISABLE_REDUX_LOGGER?[a.a,E,Object(s.createLogger)({level:"log",collapsed:!0,duration:!0,diff:!1}),function(){return function(t){return function(e){return t(e)}}},h.a,v.a,p.a]:[a.a,E,h.a,v.a,p.a];j=O.REDUX_DEVTOOLS?Object(u.composeWithDevTools)(c.applyMiddleware.apply(void 0,x)):Object(c.compose)(c.applyMiddleware.apply(void 0,x));var I=null,S=function(){return I};window.getStore=S;var w=function(e){var a=Object(b.a)(),o=function(t){var e=Object(d.default)(t);return function(t,n){if("USER_LOGOUT"===n.type){var r=t.routing;return e({routing:r},n)}return e(t,n)}}(a);return I=Object(c.createStore)(o,e,j),Object(g.jb)(I),Object(m.b)(I),Object(f.a)(I),Object(l.a)(I),I.dispatch(y.a),t&&Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"})&&Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"}).LOCAL&&r.hot&&r.hot.accept("../reducers",(function(){return I.replaceReducer(n(506)(a))})),I}}).call(this,n(163),n(492)(t))},847:function(t,e,n){"use strict";var r=n(16),a=n(531);e.a=function(t,e,n){return Object(a.a)({url:"".concat(Object(r.U)(),"/").concat(t,"/presentations/").concat(e,"/stop"),method:"POST"},n)}},85:function(t,e,n){"use strict";n.d(e,"d",(function(){return r})),n.d(e,"g",(function(){return a})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"h",(function(){return c})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return l}));var r=13,a=9,o=27,i=32,c=38,u=40,s=8,l=46},853:function(t,e,n){"use strict";var r=n(342);e.a=function(t,e){var n=e.id,a=e.entityType,o=e.entityId,i=r.a.comments(a,o);t.setQueryData(i,(function(t){return{comments:((null==t?void 0:t.comments)||[]).filter((function(t){return t.id!==n})),reactions:(null==t?void 0:t.reactions)||[]}}))}},854:function(t,e,n){"use strict";var r=n(20),a=n.n(r),o=n(342);e.a=function(t,e){var n=e.entityType,r=e.entityId,i=o.a.comments(n,r);t.setQueryData(i,(function(t){return{comments:[].concat(a()((null==t?void 0:t.comments)||[]),[e]),reactions:(null==t?void 0:t.reactions)||[]}}))}},855:function(t,e,n){t.exports=n.p+"080e38d5fb14eb289266c39a8fafd1d5.eot"},856:function(t,e,n){t.exports=n.p+"cad41074459a3c813cd5a3e320e5c1e6.eot"},857:function(t,e,n){t.exports=n.p+"e77a3b7421b2b3106ec1e18216309de6.eot"},859:function(t,e,n){"use strict";n.d(e,"b",(function(){return vt})),n.d(e,"a",(function(){return Et}));var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(333),u=n.n(c),s=n(26),l=n.n(s),f=n(52),d=n.n(f),p=n(53),h=n.n(p),v=n(51),b=n.n(v),g=n(58),m=n.n(g),y=n(60),O=n.n(y),E=n(42),j=n.n(E),x=n(320),I=n.n(x);function S(t){var e=function(){if("undefined"==typeof Reflect||!l.a)return!1;if(l.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(l()(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=j()(t);if(e){var a=j()(this).constructor;n=l()(r,arguments,a)}else n=r.apply(this,arguments);return O()(this,n)}}var w=function(t){m()(n,t);var e=S(n);function n(){var t;h()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a)),Error.captureStackTrace(b()(t),n),t}return d()(n)}(I()(Error)),C=function(t){m()(n,t);var e=S(n);function n(){var t;h()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a)),Error.captureStackTrace(b()(t),n),t}return d()(n)}(I()(Error)),k=n(6),R=n.n(k),T=n(3),A=n.n(T),N=n(4),P=n.n(N),_=n(5),D=n.n(_),M=n(9),F=n.n(M),L=n(8),U=n.n(L),G=n(2),z=n.n(G),q=n(49),B=n.n(q),H=n(138),W=n.n(H);function V(t,e){var n=R()(t);if(A.a){var r=A()(t);e&&(r=r.filter((function(e){return P()(t,e).enumerable}))),n.push.apply(n,r)}return n}function K(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?V(Object(n),!0).forEach((function(e){z()(t,e,n[e])})):D.a?F()(t,D()(n)):V(Object(n)).forEach((function(e){U()(t,e,P()(n,e))}))}return t}var Y=function(t,e){var n=t.length?t[t.length-1]:B.a.resolve();return t.push(n.then(e)),t},X=function(t){return{title:t.title,content:t.content,hidden:t.hidden}},Q=function(t){return K(K({},t),{},{content:W()(t.content)})},J=function(t){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}}(X,Q,function(t){return function(e){return K(K({},e),{},{writer:t})}}(t))},Z=function(t,e,n){var r,a=n.map(J(e));return r=a.map(t),B.a.all(r.reduce(Y,[]))},$=n(45),tt=n.n($),et=n(20),nt=n.n(et),rt=n(912),at=n.n(rt);function ot(t,e){var n=R()(t);if(A.a){var r=A()(t);e&&(r=r.filter((function(e){return P()(t,e).enumerable}))),n.push.apply(n,r)}return n}function it(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ot(Object(n),!0).forEach((function(e){z()(t,e,n[e])})):D.a?F()(t,D()(n)):ot(Object(n)).forEach((function(e){U()(t,e,P()(n,e))}))}return t}var ct,ut=function(t,e){var n=t.length?t[t.length-1]:B.a.resolve();return t.push(n.then(e)),t},st=function(t){return B.a.all(t.reduce(ut,[]))},lt=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=Math.min.apply(Math,nt()(e.map((function(t){return t.length})))),a=nt()(Array(r).keys());return a.map((function(t){return e.map((function(e){return e[t]}))}))},ft=function(t){return it(it({},t),{},{content:W()(t.content)})},dt=function(t){var e=t.title,n=t.content,r=t.hidden,a=t.educatorOnly;return{title:e,content:n,hidden:Boolean(r),educatorOnly:Boolean(a)}},pt=function(t,e){return function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}}(dt,ft,function(t){return function(e){return it(it({},e),{},{writer:t})}}(t),function(t){return function(e){return it(it({},e),{},{parent:t})}}(e))},ht=function(t){var e=t.userId,n=t.save;return function(t,r){var a=function(t){var e=t.userId,n=t.parentId,r=t.save;return function(t){return r(pt(e,n)(t))}}({userId:e,parentId:t,save:n}),o=r.map(a);return st(o)}},vt=(ct={v1:Z,v2:function(){var t=a()(i.a.mark((function t(e,n,r){var a,o,c,u,s,l,f,d,p,h;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=r.material,c=ht({userId:n,save:e}),u=function(t){var e=tt()(t,2),n=e[0],r=e[1];return function(){return c(n,r)}},t.next=5,c(void 0,o);case 5:return s=t.sent,l=s.map((function(t){return t.id})),f=o.map((function(t){return t.pages||[]})),d=lt(l,f),p=(a=[]).concat.apply(a,nt()(d.map(u))),t.next=12,st(p);case 12:return h=t.sent,t.abrupt("return",at()([].concat(nt()(s),nt()(h))));case 14:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},function(t,e){return function(){var n=a()(i.a.mark((function n(r){var a,o,c,s;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.prev=0,a=JSON.parse(r),n.next=7;break;case 4:throw n.prev=4,n.t0=n.catch(0),new w;case 7:if(o=u()(a)?{version:"v1",material:a}:a,c=o.version,void 0!==(s=ct[c])){n.next=11;break}throw new C;case 11:return n.abrupt("return",s(t,e,a));case 12:case"end":return n.stop()}}),n,null,[[0,4]])})));return function(t){return n.apply(this,arguments)}}()}),bt=n(65),gt=n.n(bt),mt=n(62);new gt.a(["title","content","hidden","educatorOnly"]);function yt(t,e){var n=R()(t);if(A.a){var r=A()(t);e&&(r=r.filter((function(e){return P()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yt(Object(n),!0).forEach((function(e){z()(t,e,n[e])})):D.a?F()(t,D()(n)):yt(Object(n)).forEach((function(e){U()(t,e,P()(n,e))}))}return t}var Et=function(t){return{version:"v2",material:[Ot(Ot({},mt.currentSection(t)),{},{content:mt.selectedContent(t)})]}}},860:function(t,e,n){"use strict";n.d(e,"d",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return D})),n.d(e,"a",(function(){return M}));var r=n(13),a=n(25),o=n(46),i=n(44),c=function(t,e){return function(){!function(t,e){t({type:r.rb,payload:e})}(t,{open:!0}),Object(o.c)(i.J,{activeClassroom:Object(a.currentClassRoomId)(e())})}},u=function(t){return function(){return t(c)()}},s=function(t){return function(){return function(t,e){return t({type:r.pb,payload:e})}(t,{open:!1})}},l=n(6),f=n.n(l),d=n(3),p=n.n(d),h=n(4),v=n.n(h),b=n(5),g=n.n(b),m=n(9),y=n.n(m),O=n(8),E=n.n(O),j=n(2),x=n.n(j),I=n(12),S=n.n(I),w=n(7),C=n.n(w),k=n(37),R=n(340);function T(t,e){var n=f()(t);if(p.a){var r=p()(t);e&&(r=r.filter((function(e){return v()(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){x()(t,e,n[e])})):g.a?y()(t,g()(n)):T(Object(n)).forEach((function(e){E()(t,e,v()(n,e))}))}return t}var N=function(t,e){return t({type:r.qb,status:"started",payload:e})},P=function(t,e){return t({type:r.qb,status:"success",payload:e})},_=function(t,e){return t({type:r.qb,status:"error",payload:e})},D=function(t){return function(e){return t((r=(n=e).query,c=n.type,u=n.skip,s=n.pageSize,l=void 0===s?30:s,f=n.selectedTabIndex,function(){var t=S()(C.a.mark((function t(e,n){var s,d,p,h;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=n(),d=s.user.user.sessionToken,N(e,p={query:r,type:c,skip:u,pageSize:l,selectedTabIndex:f}),Object(o.c)(i.K,{activeClassroom:Object(a.currentClassRoomId)(s),query:r,searchType:c,selectedTabIndex:f,skip:u}),t.prev=5,t.next=8,Object(R.a)(A(A({},p),{},{sessionToken:d}));case 8:h=t.sent,P(e,A(A({},p),{},{results:h.data.hits})),t.next=17;break;case 12:if(t.prev=12,t.t0=t.catch(5),!Object(k.isCancel)(t.t0)){t.next=16;break}return t.abrupt("return");case 16:_(e,A(A({},p),{},{error:t.t0}));case 17:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}()));var n,r,c,u,s,l,f}},M=function(t){return function(e){var n=e.loading;return function(t,e){return t({type:r.ob,payload:{loading:e}})}(t,n)}}},864:function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return b}));var r=n(43),a=n.n(r),o=n(0),i=n.n(o),c=n(14),u=n(15),s=Object(c.b)("span",{target:"eb290010"})("display:inline-block;border-radius:",u.b.borderRadius.medium,";width:",(function(t){return t.width}),"px;height:",(function(t){return t.height}),"px;background-color:",u.b.color.grayDark,";opacity:",(function(t){return t.opacity||1}),";margin-right:",(function(t){var e=t.marginRight;return"".concat(e||0,"px")}),";"),l=Object(c.b)("span",{target:"eb290011"})("display:inline-block;flex-grow:1;"),f=Object(c.b)("div",{target:"eb290012"})("display:flex;flex-direction:row;align-items:center;background-color:rgba(0,0,0,0.04);height:64px;box-sizing:border-box;padding:12px;"),d=Object(c.b)("li",{target:"eb290013"})("padding:",(function(t){return t.title?"24px":"0"})," 12px 0 8px;box-sizing:border-box;height:",(function(t){return t.title?"66px":"32px"}),";vertical-align:middle;text-align:",(function(t){return t.alignRight?"right":"left"}),";"),p=function(){return i.a.createElement(f,null,i.a.createElement(s,{width:24,height:24,marginRight:8,opacity:.28}),i.a.createElement(s,{width:110,height:10,opacity:.72}),i.a.createElement(l,null))},h=function(t){return i.a.createElement(d,null,i.a.createElement(s,a()({height:10},t)))},v=function(){return i.a.createElement(d,{alignRight:!0},i.a.createElement(s,{height:16,width:16,opacity:.4}))},b=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(v,null),i.a.createElement(h,{width:140,opacity:.6}),i.a.createElement(h,{width:100,opacity:.5}),i.a.createElement(h,{width:106,opacity:.4}),i.a.createElement(h,{width:82,opacity:.3}))}},865:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(14),u=n(15),s=Object(c.b)("div",{target:"e1i6kk8y0"})("background-color:",u.b.color.white,";padding:",(function(t){return function(t){return t._dense?"0px":"".concat(u.b.spacing.xLarge," 0 ").concat(u.b.spacing.xLarge," 0")}(t)}),";flex:0 0 190px;box-sizing:border-box;overflow:",(function(t){return t.scrollable?"auto":"hidden"}),";.tabPanel__wrapper:focus{.tabPanel__tab{background-color:",u.b.color.grayLight,";}}"),l=Object(c.b)("div",{target:"e1i6kk8y1"})("font-size:",u.b.font.size.small,";color:",u.b.color.grey11,";padding:",(function(t){return void 0!==t.position?u.b.spacing.xxLarge:"0px"})," ",u.b.spacing.medium," ",u.b.spacing.small,";"),f=Object(c.b)("div",{target:"e1i6kk8y2"})("padding:",u.b.spacing.xSmall," ",u.b.spacing.medium,";width:100%;font-size:",u.b.font.size.copy,";font-weight:",(function(t){return t.selected?u.b.font.weight.medium:u.b.font.weight.regular}),";color:",(function(t){return t.selected?u.b.color.purple:t.disabled?u.b.color.grayDark:u.b.color.mediumBlue}),";background-color:",(function(t){return t.selected?"rgba(144,19,254,0.08)":u.b.color.white}),";box-sizing:border-box;transition:background-color ",u.b.transition.speed.xFast," ",u.b.transition.easing.easeOut,";cursor:",(function(t){return!t.canSelectDisabled&&t.disabled?"default":"pointer"}),";pointer-events:",(function(t){return!t.canSelectDisabled&&t.disabled?"none":"auto"}),";&:hover,&:focus{background-color:",u.b.color.grayLight,";}"),d=n(85),p=function(t){var e=t.tabs,n=t.title,o=t.titlePosition,i=t.selectedTabIndex,c=t.canSelectDisabled,u=t.onTabClick,p=t.dense,h=t.scrollable;return a.a.createElement(s,{className:"tabPanel",role:"tablist",scrollable:h,_dense:p},e.map((function(t,e){var s=t.TitleComponent,p=t.title,h=t.disabled,v=t.key;return a.a.createElement(r.Fragment,{key:v||"fr_".concat(p)},e===o?a.a.createElement(l,{position:o},n):null,a.a.createElement("span",{className:"tabPanel__wrapper",role:"tab",tabIndex:0,onKeyDown:function(t){return t.keyCode===d.d&&u(e)}},a.a.createElement(f,{className:"tabPanel__tab",key:p,onClick:function(){return u(e)},selected:i===e,disabled:h,canSelectDisabled:c},s?a.a.createElement(s,null):p)))})))};p.propTypes={title:i.a.string,titlePosition:i.a.number,tabs:i.a.arrayOf(i.a.shape({title:i.a.oneOfType([i.a.string,i.a.shape({})]),disabled:i.a.bool,TitleComponent:i.a.elementType})).isRequired,selectedTabIndex:i.a.number,canSelectDisabled:i.a.bool,onTabClick:i.a.func,dense:i.a.bool,scrollable:i.a.bool},p.defaultProps={title:"",titlePosition:0,selectedTabIndex:-1,canSelectDisabled:!1,onTabClick:function(){},dense:!1,scrollable:!1};e.a=p},866:function(t,e,n){"use strict";var r=n(0),a=n.n(r),o=n(1),i=n.n(o),c=n(1544),u=n(415),s=n.n(u),l=n(198),f=n(85),d=n(14),p=n(15),h=n(1573),v=n(403),b=n.n(v),g=Object(d.b)(h.a,{target:"e1esr5xs0"})("display:flex;align-items:center;margin-right:0;min-width:0;cursor:",(function(t){return t.uploadEnable?"pointer":"auto"}),";"),m=Object(d.a)("width:0;height:0;position:absolute;marginleft:-90px;"),y=(p.b.color.grayLight1,p.b.color.beige,Object(d.b)("div",{target:"e1esr5xs2"})("border-radius:4px;background-color:",p.b.color.beige,";padding:9px;")),O=function(){},E=function(t){var e=t.isLoading,n=t.name,o=t.url,i=t.onUpload,u=t.size,d=t.online,p=t.uploadEnable,h=t.inputId,v=Object(r.useRef)(null),b=Object(r.useCallback)((function(t){t.stopPropagation(),v.current&&v.current.click()}),[v]),E=p?a.a.createElement("input",{id:h,ref:v,className:m,onChange:function(t){var e=t.target.files[0];s()(e,"image/*")&&i(e)},onClick:function(t){t.stopPropagation()},type:"file",accept:"image/*",tabIndex:"-1"}):null,j=p?"0":"";return a.a.createElement(a.a.Fragment,null,a.a.createElement(g,{uploadEnable:p,onClick:p&&!e?b:O,onKeyDown:function(t){return t.keyCode===f.d&&b(t)},tabIndex:j},e?a.a.createElement(y,null,a.a.createElement(l.a,{size:20})):a.a.createElement(c.a,{size:u,online:d,name:n,src:o})),E)};E.propTypes={size:i.a.oneOf(["small","medium","large","xLarge"]),online:i.a.bool,isLoading:i.a.bool,name:i.a.string,url:i.a.string,onUpload:i.a.func.isRequired,uploadEnable:i.a.bool,inputId:i.a.string},E.defaultProps={isLoading:!1,size:"medium",online:!1,url:"",name:"",uploadEnable:!1,inputId:null};e.a=E},867:function(t,e,n){"use strict";var r=n(6),a=n.n(r),o=n(3),i=n.n(o),c=n(4),u=n.n(c),s=n(5),l=n.n(s),f=n(9),d=n.n(f),p=n(8),h=n.n(p),v=n(50),b=n.n(v),g=n(2),m=n.n(g),y=n(12),O=n.n(y),E=n(45),j=n.n(E),x=n(7),I=n.n(x),S=(n(1460),n(0)),w=n.n(S),C=n(35),k=n(851),R=n.n(k),T=n(158),A=n.n(T),N=n(852),P=n.n(N),_=n(1),D=n.n(_),M=n(15),F=n(1591),L=n(1594),U=n(14),G=Object(U.b)("span",{target:"ejpb98z0"})("float:left;"),z=Object(U.b)("span",{target:"ejpb98z1"})("height:30px;line-height:33px;color:black;font-size:14px;margin-left:10px;"),q=Object(U.b)("span",{target:"ejpb98z2"})("height:24px;width:24px;float:left;"),B=Object(U.b)("div",{target:"ejpb98z3"})("float:left;width:100%;margin-bottom:",(function(t){return t.margin?"10px":"0px"}),";margin-left:2px;"),H=Object(U.b)("div",{target:"ejpb98z4"})("float:left;margin-right:5px;margin-bottom:5px;:focus{outline:Highlight auto;outline:-webkit-focus-ring-color auto;outline-offset:1px;}"),W=Object(U.b)("span",{target:"ejpb98z5"})("color:",M.b.color.pink,";padding-left:7px;font-size:12px;"),V=Object(U.b)("span",{target:"ejpb98z6"})("color:",M.b.color.pink,";padding-right:4px;font-size:12px;"),K=Object(U.b)("div",{target:"ejpb98z7"})("display:table;color:",M.b.color.green,";padding:",M.b.spacing.medium,";margin:0px auto;"),Y=n(293),X=n(340),Q=n(292),J=n(85),Z=n(24),$=["addTag","ref"];function tt(t,e){var n=a()(t);if(i.a){var r=i()(t);e&&(r=r.filter((function(e){return u()(t,e).enumerable}))),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?tt(Object(n),!0).forEach((function(e){m()(t,e,n[e])})):l.a?d()(t,l()(n)):tt(Object(n)).forEach((function(e){h()(t,e,u()(n,e))}))}return t}var nt={container:{width:"100%"},input:{width:"100%"},suggestionsContainerOpen:{listStyleType:"none",padding:0,margin:0,width:"calc(100% - 5px)",marginBottom:5,maxHeight:250,overflow:"scroll"},suggestionsList:{listStyleType:"none",padding:0,margin:0},suggestion:{padding:10,marginTop:5,backgroundColor:M.b.color.grey0,width:"calc(100% - 20px)",cursor:"pointer"},suggestionHighlighted:{backgroundColor:M.b.color.grey3}},rt=function(t){var e=t.blockList,n=t.onChange,r=t.currentUserId,a=t.sessionToken,o=Object(S.useState)([]),i=j()(o,2),c=i[0],u=i[1],s=Object(S.useState)([]),l=j()(s,2),f=l[0],d=l[1],p=Object(S.useState)(!1),h=j()(p,2),v=h[0],g=h[1],m=Object(S.useState)(""),y=j()(m,2),E=y[0],x=y[1],C=Object(S.createRef)();Object(S.useEffect)((function(){C.current.input.input.focus()}),[]);var k=function(){var t=O()(I.a.mark((function t(e){var n,r;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.value,E!==n){t.next=3;break}return t.abrupt("return");case 3:return x(n),g(!0),d([]),t.next=8,Object(X.b)({query:n,sessionToken:a});case 8:r=t.sent,d(r.map((function(t){return et(et({},t),{},{fullName:"".concat(t.firstName," ").concat(t.lastName),objectId:t.id})}))),g(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),T=Object(S.useCallback)(A()(k,200),[E]),N=function(t){var e=t.containerProps,n=t.children;return w.a.createElement("div",e,v&&w.a.createElement(K,null,w.a.createElement(F.a,{style:{margin:"auto"}})),n)};return w.a.createElement(P.a,{ref:C,renderInput:function(t){var n=t.addTag,a=t.ref,o=b()(t,$),i=f.filter((function(t){return!c.find((function(e){return e.id===t.id}))&&(e?!e.includes(t.id)&&t.id!==r:t.id!==r)}));return w.a.createElement(R.a,{ref:a,suggestions:i,onSuggestionsClearRequested:function(){},shouldRenderSuggestions:function(t){return t&&t.trim().length>0},getSuggestionValue:function(t){return t.fullName},renderSuggestionsContainer:N,renderSuggestion:function(t){return w.a.createElement("div",{id:"autocomplete-suggestion-name-".concat(t.objectId)},w.a.createElement(G,null,w.a.createElement(Y.a,{user:t,size:30,isInstructor:Object(Q.b)(t.objectId)})),w.a.createElement(z,{"data-testid":"new-conversation-suggestion"},t.fullName,Object(Q.b)(t.objectId)&&w.a.createElement(W,null,"Educator")))},inputProps:o,onSuggestionsFetchRequested:T,onSuggestionSelected:function(t,e){var r=e.suggestion;n(r)},theme:nt})},renderTag:function(t){var e=t.tag,n=t.key,r=t.onRemove;return w.a.createElement(H,{key:n,tabIndex:"0",onKeyDown:function(t){t.keyCode!==J.d&&t.keyCode!==J.b||r(n)}},w.a.createElement(L.a,{deleteAction:function(){return r(n)},label:e.fullName,icon:function(){return w.a.createElement(q,null,w.a.createElement(Y.a,{indicatorStyle:{top:1,left:1,width:7,height:7,border:"1px solid #FFF"},user:e,size:24,isInstructor:Object(Q.b)(e.objectId)}))}},w.a.createElement("span",null,Object(Q.b)(e.objectId)&&w.a.createElement(V,null,"Educator"))))},renderLayout:function(t,e){return w.a.createElement("div",null,w.a.createElement(B,{margin:t.length,"data-testid":"new-conversation-selected-users-tags"},t),w.a.createElement("div",null,e))},value:c,onChange:function(t){t.find((function(t){return!t.objectId}))||(u(t),n&&n(t))},tagDisplayProp:"fullName",inputProps:{className:"react-tagsinput-input",placeholder:"Add one or more participants...","aria-label":"Add one or more participants"}})};rt.propTypes={sessionToken:D.a.string.isRequired,blockList:D.a.arrayOf(D.a.string),currentUserId:D.a.string,onChange:D.a.func},rt.defaultProps={blockList:[],currentUserId:"",onChange:function(){}};var at=Object(C.b)((function(t){return{currentUserId:Object(Z.currentUserId)(t),sessionToken:t.user.user.sessionToken}}))(rt);e.a=at},90:function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return i}));var r="FETCH_REACTIONS",a="CREATE_REACTION",o="REMOVE_REACTION",i="TOGGLE_REACTION"},905:function(t,e,n){"use strict";var r=n(47);e.a=function(t){var e=null,n=function(){var n=t.getState().errors,a=t.getState().routing.locationBeforeTransitions,o=t.getState().user.isLogged,i=t.getState().user.isLoggingOut;n!==e&&n&&n&&(e=n,n.last&&n.last.error&&209===n.last.error.code&&"/logout"!==a.pathname&&o&&!i&&Object(r.a)("/logout"))},a=t.subscribe(n);return n(),a}},906:function(t,e,n){"use strict";var r=n(3),a=n.n(r),o=n(4),i=n.n(o),c=n(5),u=n.n(c),s=n(9),l=n.n(s),f=n(8),d=n.n(f),p=n(2),h=n.n(p),v=n(6),b=n.n(v),g=n(46),m=n(44);function y(t,e){var n=b()(t);if(a.a){var r=a()(t);e&&(r=r.filter((function(e){return i()(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){h()(t,e,n[e])})):u.a?l()(t,u()(n)):y(Object(n)).forEach((function(e){d()(t,e,i()(n,e))}))}return t}var E={feed:m.u,settings:m.V};e.a=function(t){var e=null,n=function(){var n=e,r=t.getState().routing.locationBeforeTransitions;if(r){var a=!e||r.pathname!==e.pathname,o=(n||{}).query||{},i=(r||{}).query||{},c=function(t){var e=t.prevQuery,n=t.nextQuery;return b()(O(O({},e),n)).filter((function(t){return t&&e[t]!==n[t]}))}({prevQuery:o,nextQuery:i}),u=c.filter((function(t){return!!i[t]})),s=c.length;if(a||s){if(e=r,a&&r.pathname){var l=r.pathname.split("/"),f=function(t){return t[3]}(l),d=function(t){return t[4]}(l);if("dashboard"===l[1]&&l.length>3){var p=l[2],h=E[d],v={activeClassroom:p};if("settings"===f&&Object(g.c)(E.settings,v),!d)return;if("feed"!==p){if("assignments"===d){var y="submissions"===l[l.length-1],j=l[l.length-2];y&&j&&(h=m.Y)}h&&"materials"!==d&&"post"!==d&&Object(g.c)(h,v)}}}s&&(c.includes("inbox")&&i.inbox&&Object(g.c)(m.l,{itemId:i.inbox}),u.includes("notifications")&&Object(g.c)(m.I))}}},r=t.subscribe(n);return n(),r}},910:function(t,e,n){"use strict";var r=n(63),a=n(326),o=n(220),i=n(126),c=n(271),u=n(576),s=n(330),l=n(328);e.a=function(){return{inboxv2:r.a,groups:a.a,materials:o.a,liveNotifications:i.a,toasts:c.a,bbb:u.a,reactions:s.a,assignments:l.a}}},914:function(t,e,n){t.exports=n.p+"0f4da24f6a8efa25fd4e0305168a5129.png"},915:function(t,e,n){t.exports=n.p+"20d26350bd5750c909a6295d0fbdff62.svg"},916:function(t,e,n){t.exports=n.p+"dc09ab74bca28babcd3afaca67e6d998.png"},917:function(t,e,n){t.exports=n.p+"d1c9bdaa38481ec587f761ded61d137d.png"},918:function(t,e,n){t.exports=n.p+"62b043c27daea8dcd4aaa98d6f777396.png"},919:function(t,e,n){t.exports=n.p+"c1dba8625c978d998e7b38c89c729dc0.png"},92:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"s",(function(){return o})),n.d(e,"q",(function(){return i.a})),n.d(e,"b",(function(){return F})),n.d(e,"x",(function(){return H})),n.d(e,"w",(function(){return V})),n.d(e,"v",(function(){return J})),n.d(e,"c",(function(){return Z})),n.d(e,"l",(function(){return $})),n.d(e,"m",(function(){return tt.a})),n.d(e,"e",(function(){return et})),n.d(e,"f",(function(){return nt})),n.d(e,"j",(function(){return rt})),n.d(e,"k",(function(){return at})),n.d(e,"g",(function(){return ot.a})),n.d(e,"r",(function(){return ct})),n.d(e,"u",(function(){return st})),n.d(e,"t",(function(){return lt})),n.d(e,"h",(function(){return ft})),n.d(e,"i",(function(){return dt})),n.d(e,"n",(function(){return pt.a})),n.d(e,"p",(function(){return ht.a})),n.d(e,"o",(function(){return vt})),n.d(e,"d",(function(){return bt}));var r=n(47),a=function(t){return function(){return Object(r.a)("/dashboard/".concat(t,"/community/feed"))}},o=function(t){return function(){return Object(r.a)("/dashboard/".concat(t,"/people/participants"))}},i=n(569),c=n(3),u=n.n(c),s=n(4),l=n.n(s),f=n(5),d=n.n(f),p=n(9),h=n.n(p),v=n(8),b=n.n(v),g=n(12),m=n.n(g),y=n(2),O=n.n(y),E=n(7),j=n.n(E),x=n(65),I=n.n(x),S=n(6),w=n.n(S),C=n(49),k=n.n(C),R=n(923),T=n.n(R),A=n(419),N=n(137);function P(t,e){var n=w()(t);if(u.a){var r=u()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,r)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):d.a?h()(t,d()(n)):P(Object(n)).forEach((function(e){b()(t,e,l()(n,e))}))}return t}var D=new I.a(["inbox","tagId","user-profile"]),M=function(t){return w()(t).reduce((function(e,n){return D.has(n)?_(_({},e),{},O()({},n,t[n])):e}),{})},F=function(t,e){return function(){var n=m()(j.a.mark((function n(a,o){var i,c,u,s,l,f,d;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=o(),c=N.current(N.space(i)),u=M(T.a.parse(e)),s=u.tagId,l=t||c||N.initialSpaceId(i)){n.next=8;break}return Object(r.a)({pathname:"/nospaces",query:u}),n.abrupt("return");case 8:if(f=!1,d=!1,void 0!==t){n.next=14;break}Object(r.a)({pathname:"/dashboard/".concat(l,"/community/feed"),query:u}),n.next=16;break;case 14:return n.next=16,k.a.all([a(Object(A.a)(l,f,d,s))]);case 16:case"end":return n.stop()}}),n)})));return function(t,e){return n.apply(this,arguments)}}()},L=n(50),U=n.n(L),G=n(113),z=["user-profile"];function q(t,e){var n=w()(t);if(u.a){var r=u()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):d.a?h()(t,d()(n)):q(Object(n)).forEach((function(e){b()(t,e,l()(n,e))}))}return t}var H=function(){return function(t,e){var n=e(),a=G.d(n),o=a.query,i=o["user-profile"],c=U()(o,z),u=i?c:B(B({},c),{},{"user-profile":1});Object(r.a)(B(B({},a),{},{query:u}))}},W=n(860),V=function(){return function(t){Object(W.d)(t)()}},K=n(13),Y=["notifications"];function X(t,e){var n=w()(t);if(u.a){var r=u()(t);e&&(r=r.filter((function(e){return l()(t,e).enumerable}))),n.push.apply(n,r)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?X(Object(n),!0).forEach((function(e){O()(t,e,n[e])})):d.a?h()(t,d()(n)):X(Object(n)).forEach((function(e){b()(t,e,l()(n,e))}))}return t}var J=function(){return function(t,e){var n=e(),a=G.d(n),o=a.query;if(G.a(n)){o.notifications;var i=U()(o,Y);Object(r.a)(Q(Q({},a),{},{query:i})),t({type:K.lb,hasUnread:!1})}else{var c=Q(Q({},o),{},{notifications:!0});Object(r.a)(Q(Q({},a),{},{query:c}))}}},Z=function(t){return function(){return Object(r.a)("/dashboard/".concat(t,"/journey/assignments"))}},$=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{endOfPresentation:!1},a=n.endOfPresentation;return function(){return Object(r.a)("/dashboard/".concat(t,"/journey/presentation/").concat(e).concat(a?"?endOfPresentation=true":""))}},tt=n(554),et=function(t,e){return function(){var n=e?"/dashboard/".concat(t,"/journey/educatorArea/").concat(e):"/dashboard/".concat(t,"/journey/educatorArea");Object(r.a)(n)}},nt=function(t){return function(){return Object(r.a)("/dashboard/".concat(t,"/journey/engagement"))}},rt=function(t,e){return function(){var n=e?"/dashboard/".concat(t,"/journey/materials/").concat(e):"/dashboard/".concat(t,"/journey/materials");Object(r.a)(n)}},at=function(t,e){return function(){var n=e?"/dashboard/".concat(t,"/journey/materials/").concat(e):"/dashboard/".concat(t,"/journey/materials");Object(r.a)(n)}},ot=n(555),it=n(25),ct=function(){return function(t,e){return Object(r.a)("/dashboard/".concat(Object(it.currentClassRoomId)(e()),"/community/important"))}},ut=n(24),st=function(){return function(t,e){var n=e(),r=ut.currentUser(n),a=r.firstName,o=r.lastName,i=r.email;window.zE.identify({name:"".concat(a," ").concat(o),email:i}),window.zE.activate()}},lt=function(t){var e=t.spaceId,n=t.postId;return function(){return Object(r.a)("/dashboard/".concat(e,"/community/post/").concat(n))}},ft=function(t){return function(){return Object(r.a)("/dashboard/".concat(t,"/import-from-moodle"))}},dt=function(t){return function(){return Object(r.a)("/dashboard/".concat(t,"/journey/quizzes/item-bank"))}},pt=n(570),ht=n(571),vt=function(t){return function(){Object(r.a)("/dashboard/".concat(t,"/journey/slides"))}},bt=function(t,e,n){return function(){return Object(r.a)({pathname:"/dashboard/".concat(t,"/presentation/").concat(e,"/class"),state:{correlationId:n}})}}},920:function(t,e,n){t.exports=n.p+"8eced1685e1f60f9dafb8b9f3bf772ce.png"},924:function(t,e,n){t.exports=n.p+"62d6084868a61bc0a0a4110c158708c5.png"},928:function(t,e,n){t.exports=n.p+"39f3cfcd96d57d456f9f4d4245d5a7c1.svg"},945:function(t,e,n){"use strict";var r=n(13),a=n(254),o=n(315),i=n(323),c=n(25);e.a=function(t){window.addEventListener("online",(function(){t((function(t,e){var n=e();if(!n.connection){var u=Object(c.currentClassRoom)(n);t({type:r.H,status:"on"}),t(Object(a.c)({classRoom:u,reset:!0})),t(Object(o.a)(i.a)())}}))})),window.addEventListener("offline",(function(){t((function(t,e){e().connection&&t({type:r.G,status:"off"})}))}))}},96:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var r=!(!window||!window.isElectron),a=!(!t||!Object({NODE_ENV:"production",PLATFORM:"web",ENVIRONMENT:"production"})),o=r?"desktop":a?"web":"native",i=r||a;e.b=o}).call(this,n(163))},969:function(t,e,n){n(970),t.exports=n(1488)},97:function(t,e,n){"use strict";var r=n(12),a=n.n(r),o=n(7),i=n.n(o),c=n(392),u=n(24);e.a=function(t,e){return function(){var n=a()(i.a.mark((function n(r){var a,o,s,l;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=r.spaceId,o=r.sessionToken,s=e(),l=Object(u.needsToRefreshAccessToken)(s,a),n.abrupt("return",l?Object(c.a)(t)({spaceId:a,sessionToken:o}):Object(u.accessToken)(s,a));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}()}}});
//# sourceMappingURL=main.604f47f2f889a185231e.js.map