(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{1924:function(e,t,n){e.exports=n.p+"a435c848e0a429c2cfc0c23b5ba7ebde.png"},2003:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n.n(a),o=n(3),l=n.n(o),i=n(4),s=n.n(i),c=n(5),u=n.n(c),h=n(9),d=n.n(h),p=n(8),f=n.n(p),b=n(2),g=n.n(b),m=n(88),v=n.n(m),y=n(35),x=n(26),C=n.n(x),E=n(45),R=n.n(E),S=n(50),k=n.n(S),T=n(53),O=n.n(T),j=n(52),P=n.n(j),B=n(51),w=n.n(B),I=n(58),D=n.n(I),q=n(60),M=n.n(q),z=n(42),N=n.n(z),K=n(264),L=n.n(K),F=n(0),H=n.n(F),A=n(1),V=n.n(A),U=n(667),J=n(158),Q=n.n(J),W=n(1923),_=n.n(W),G=n(1616),X=n(1659),Y=n(47),Z=n(237),$=n(1605),ee=n(14),te=n(15),ne=Object(ee.b)("div",{target:"e1ryzqbs0"})("font-size:",te.b.font.size.small,";color:",te.b.color.grey11,";"),ae=Object(ee.b)("span",{target:"e1ryzqbs1"})("background-color:rgba(122,27,190,0.08);border-radius:",te.b.borderRadius.medium,";color:",te.b.color.purple,";display:inline-block;padding:2px 4px;"),re=function(e){var t=e.command,n=e.text;return H.a.createElement(ne,null,H.a.createElement("div",null,"Quick tip! ",t?H.a.createElement(ae,null,t):null,n))};re.propTypes={command:V.a.string,text:V.a.string.isRequired};var oe=re,le=n(1668),ie=Object(ee.b)("div",{target:"e1v0tzpv0"})(".RichEditor-editor{margin-bottom:0 !important;}.DraftEditor-root{width:100% !important;margin-left:0px !important;}"),se=Object(ee.b)("span",{target:"e1v0tzpv1"})("line-height:1.5;word-break:break-word;"),ce=n(43),ue=n.n(ce),he=n(1591),de=n(1593),pe=n(1978),fe=n(865),be=n(171),ge=n(253),me=n.n(ge),ve=Object(ee.b)("div",{target:"e6ijp260"})("display:flex;flex-direction:row;align-items:center;width:100%;"),ye=Object(ee.b)("input",{target:"e6ijp261"})("width:100%;position:relative;height:35px;overflow:hidden;margin-left:",te.b.spacing.xSmall,";margin-right:",te.b.spacing.xSmall,";border:none;outline-width:0;outline:none;font-size:",te.b.font.size.large,";"),xe=Object(ee.b)(me.a,{target:"e6ijp262"})("color:",te.b.color.grey11,";"),Ce=Object(ee.b)("button",{target:"e6ijp263"})("background:none;border:none;margin:0;padding:0;cursor:pointer;font-size:",te.b.font.size.small,";color:",te.b.color.grey11,";transition:all ",te.b.transition.speed.fast," linear;&:hover{opacity:0.4;}");function Ee(e,t){var n=r()(e);if(l.a){var a=l()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function Re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?d()(e,u()(n)):Ee(Object(n)).forEach((function(t){f()(e,t,s()(n,t))}))}return e}function Se(e){var t=function(){if("undefined"==typeof Reflect||!C.a)return!1;if(C.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(C()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=N()(e);if(t){var r=N()(this).constructor;n=C()(a,arguments,r)}else n=a.apply(this,arguments);return M()(this,n)}}var ke=function(e){D()(n,e);var t=Se(n);function n(e){var a;return O()(this,n),(a=t.call(this,e)).inputRef=void 0,a.state={isClearSearch:!1},a.handleInputChange=a.handleInputChange.bind(w()(a)),a.handleInputClear=a.handleInputClear.bind(w()(a)),a.handleInputRef=a.handleInputRef.bind(w()(a)),a}return P()(n,[{key:"componentDidMount",value:function(){(0,this.props.onMount)()}},{key:"handleInputChange",value:function(e){var t=this.props,n=t.onEnter,a=t.onChange;"Enter"!==e.key?(e.persist(),a(e)):n()}},{key:"handleInputClear",value:function(){(0,this.props.onClear)(),this.inputRef&&this.inputRef.focus(),this.setState({isClearSearch:!0})}},{key:"handleInputRef",value:function(e){var t=this.props.inputRef;this.inputRef=e,this.props&&t(e)}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.value,a=this.state.isClearSearch;return H.a.createElement(ve,null,H.a.createElement(xe,null),H.a.createElement(ye,{"aria-label":t,innerRef:this.handleInputRef,placeholder:t,value:n,onChange:this.handleInputChange}),n&&H.a.createElement(Ce,{role:"button","aria-label":"Clear search text",tabIndex:0,onClick:this.handleInputClear},"Clear"),H.a.createElement("p",{style:Re({},Object(be.a)()),"aria-live":"polite"},!n&&a?"Search text was cleared":""))}}]),n}(F.PureComponent);ke.propTypes={placeholder:V.a.string,value:V.a.string,onChange:V.a.func,onEnter:V.a.func,onClear:V.a.func,onMount:V.a.func,inputRef:V.a.func},ke.defaultProps={placeholder:"",value:"",onChange:function(){},onEnter:function(){},onClear:function(){},onMount:function(){},inputRef:function(){}};var Te=ke,Oe=n(1730),je=Object(ee.b)("div",{target:"e15r6af40"})("margin:",te.b.spacing.xSmall," ",te.b.spacing.small,";background-color:",te.b.color.white,";border:1px solid ",te.b.color.grayLight,";border-radius:",te.b.borderRadius.medium,";flex-shrink:0;cursor:pointer;transition:all ",te.b.transition.speed.fast," linear;&:hover{border-color:",te.b.color.grayLight,";}"),Pe=Object(ee.b)("div",{target:"e15r6af41"})("margin:",te.b.spacing.small,";"),Be=Object(ee.b)("div",{target:"e15r6af42"})("padding:",te.b.spacing.large," ",te.b.spacing.small,";font-size:",te.b.font.size.copy,";"),we=Object(ee.b)("div",{target:"e15r6af43"})("font-size:",te.b.font.size.small,";color:",te.b.color.grey11,";margin:",te.b.spacing.xSmall,";& span{font-weight:",te.b.font.weight.medium,";}"),Ie=function(e){var t=e.avatar,n=e.highlightUserName,a=e.userName,r=e.postDate,o=e.content,l=e.footer,i=e.onClick;return H.a.createElement(je,{onClick:i,onKeyDown:function(e){return 13===e.which&&i()},tabIndex:0,"aria-label":a},a&&H.a.createElement("span",null,H.a.createElement(Pe,null,H.a.createElement(Oe.a,{avatar:t,name:a,title:n?H.a.createElement("mark",null,a):a,subtitle:r,preventFocus:!0})),H.a.createElement(pe.a,null)),H.a.createElement(Be,null,o),H.a.createElement(pe.a,null),H.a.createElement(we,null,l))};Ie.propTypes={avatar:V.a.string,userName:V.a.string.isRequired,highlightUserName:V.a.bool,postDate:V.a.string.isRequired,content:V.a.node.isRequired,footer:V.a.node.isRequired,onClick:V.a.func},Ie.defaultProps={highlightUserName:!1};var De=Ie,qe=n(1699),Me=n.n(qe),ze=n(1811),Ne=Object(ee.b)("div",{target:"efafnhr0"})("position:absolute;top:",(function(e){return e.hasResults?"10%":"100px"}),";bottom:",(function(e){return e.hasResults?"10%":"inherit"}),";margin-left:-360px;left:50%;display:flex;flex-direction:column;align-items:center;width:720px;max-height:",(function(e){return 470+e.headerHeight}),"px;background-color:",te.b.color.white,";border-radius:",te.b.borderRadius.medium,";overflow:hidden;"),Ke=Object(ee.b)("div",{target:"efafnhr1"})("width:100%;box-sizing:border-box;display:flex;justify-content:flex-end;padding:",te.b.spacing.small," ",te.b.spacing.large,";"),Le=Object(ee.b)("div",{target:"efafnhr2"})("display:flex;flex-direction:row;align-items:center;padding:",te.b.spacing.medium,";width:100%;box-sizing:border-box;"),Fe=Object(ee.b)("div",{target:"efafnhr3"})("background-color:",te.b.color.beige,";display:flex;flex-direction:row;width:100%;height:",470,"px;transition:height 0.75s linear;"),He=Object(ee.b)(ze.a,{target:"efafnhr4"})("display:flex;flex-grow:1;flex-direction:column;height:100%;box-sizing:border-box;padding:",te.b.spacing.xxSmall," 0px;background-color:",te.b.color.beige,";"),Ae=Object(ee.b)("div",{target:"efafnhr5"})("margin:",te.b.spacing.small," ",te.b.spacing.xSmall," 0px ",te.b.spacing.small,";min-height:",te.b.spacing.large,";font-size:",te.b.font.size.small,";color:",te.b.color.grey11,";"),Ve=Object(ee.b)(Me.a,{target:"efafnhr6"})("color:",te.b.color.grey11,";cursor:pointer;transition:all ",te.b.transition.speed.fast," linear;&:hover{opacity:0.4;}"),Ue=Object(ee.b)("span",{target:"efafnhr7"})("margin:28px auto;color:",te.b.color.grey11,";font-size:",te.b.font.size.copy,";display:table;"),Je=Object(ee.b)("div",{target:"efafnhr8"})("display:flex;flex-direction:column;align-items:center;text-align:center;margin:",te.b.spacing.xxxLarge," auto ",te.b.spacing.xxxxLarge," auto;width:60%;"),Qe=Object(ee.b)("img",{target:"efafnhr9"})("width:220px;height:220px;"),We=Object(ee.b)("h3",{target:"efafnhr10"})("color:",te.b.color.mediumBlue,";font-size:",te.b.font.size.large,";font-weight:",te.b.font.weight.medium,";margin-top:",te.b.spacing.large,";margin-bottom:",te.b.spacing.xSmall,";display:inline-block;"),_e=Object(ee.b)("div",{target:"efafnhr11"})("display:table;color:",te.b.color.green,";padding:",te.b.spacing.medium,";margin:0px auto;"),Ge=Object(ee.b)("div",{target:"efafnhr12"})("margin-left:",te.b.spacing.small,";display:flex;justify-content:center;align-items:center;"),Xe=n(1924),Ye=n.n(Xe);function Ze(e){var t=function(){if("undefined"==typeof Reflect||!C.a)return!1;if(C.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(C()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=N()(e);if(t){var r=N()(this).constructor;n=C()(a,arguments,r)}else n=a.apply(this,arguments);return M()(this,n)}}var $e=function(e){D()(n,e);var t=Ze(n);function n(e){var a;return O()(this,n),(a=t.call(this,e)).containerRef=H.a.createRef(),a.emptyContentTitle=H.a.createRef(),a.resultsElement=H.a.createRef(),a.state={selectedTabIndex:void 0,searchBoxValue:void 0},a.resultsTable=void 0,a.searchInputElement=void 0,a.renderModal=a.renderModal.bind(w()(a)),a.renderEmptyContent=a.renderEmptyContent.bind(w()(a)),a.renderContent=a.renderContent.bind(w()(a)),a.handleSidePanelTabClicked=a.handleSidePanelTabClicked.bind(w()(a)),a.handleOnSearchBoxChange=a.handleOnSearchBoxChange.bind(w()(a)),a.handleOnSearchBoxClear=a.handleOnSearchBoxClear.bind(w()(a)),a.handleContentScroll=a.handleContentScroll.bind(w()(a)),a.handleClose=a.handleClose.bind(w()(a)),a.setResultsTable=a.setResultsTable.bind(w()(a)),a.handleContainerKeyDown=a.handleContainerKeyDown.bind(w()(a)),a}return P()(n,[{key:"componentDidUpdate",value:function(e){var t=this.searchInputElement&&this.searchInputElement===document.activeElement;!t&&this.resultsElement&&this.resultsElement.current&&this.resultsElement.current.focus(),!t&&this.emptyContentTitle&&this.emptyContentTitle.current&&this.emptyContentTitle.current.focus()}},{key:"setResultsTable",value:function(e){this.resultsTable=e}},{key:"handleOnSearchBoxClear",value:function(){this.props.onSearchBoxChange(""),this.setState({searchBoxValue:"",selectedTabIndex:void 0})}},{key:"handleOnSearchBoxChange",value:function(e){e.target.value?(this.props.onSearchBoxChange(e.target.value),this.setState({searchBoxValue:e.target.value})):this.handleOnSearchBoxClear()}},{key:"handleContainerKeyDown",value:function(e){this.props.onKeyDown(e,this.containerRef)}},{key:"handleSidePanelTabClicked",value:function(e){var t=this;this.resultsTable.scrollToTop(),this.state.selectedTabIndex!==e&&(this.props.onSidePanelTabClick(e),this.setState({selectedTabIndex:e},(function(){t.resultsTable.getScrollHeight()===t.resultsTable.getClientHeight()&&t.props.sidePanelTabs[e].moreToLoad&&t.props.onContentBottomScroll(e,t.state.searchBoxValue)})))}},{key:"handleContentScroll",value:function(e){e.target.scrollHeight-e.target.scrollTop===e.target.clientHeight&&this.props.sidePanelTabs[this.state.selectedTabIndex].moreToLoad&&this.props.onContentBottomScroll(this.state.selectedTabIndex,this.state.searchBoxValue)}},{key:"handleClose",value:function(e){this.searchInputElement&&this.searchInputElement.blur(),this.props.onClose(e)}},{key:"renderEmptyContent",value:function(){return H.a.createElement(Je,null,H.a.createElement(Qe,{src:Ye.a,alt:"No results!"}),H.a.createElement(We,{tabIndex:"-1",innerRef:this.emptyContentTitle,onFocus:function(e){return e.currentTarget.setAttribute("tabindex","0")},onBlur:function(e){return e.currentTarget.setAttribute("tabindex","-1")},"aria-live":"polite"},this.props.emptyTitle))}},{key:"renderContent",value:function(){var e=this;if(!this.state.searchBoxValue)return null;if(this.props.results&&r()(this.props.results).length){if(this.props.sidePanelTabs[this.state.selectedTabIndex].results){var t=this.props.sidePanelTabs[this.state.selectedTabIndex].results.map((function(t){return e.props.results[t]}));return H.a.createElement(Fe,null,H.a.createElement(fe.a,{title:this.props.sidePanelTitle,titlePosition:this.props.sidePanelTitlePosition,tabs:this.props.sidePanelTabs.map((function(e){return{title:e.title,disabled:e.disabled}})),selectedTabIndex:this.state.selectedTabIndex,onTabClick:this.handleSidePanelTabClicked,canSelectDisabled:!0,scrollable:!0}),H.a.createElement(He,{onScroll:this.handleContentScroll,scrollBarRef:this.setResultsTable},t.length?H.a.createElement(Ae,{tabIndex:-1,innerRef:this.resultsElement},"".concat(t.length," Result").concat(t.length>1?"s":"")):null,t.map((function(t){return H.a.createElement(De,ue()({key:t.id,onClick:function(){return e.props.onSearchResultClick(t.id)}},e.props.resultRenderingData?e.props.resultRenderingData(t):t))})),!this.props.sidePanelTabs[this.state.selectedTabIndex].moreToLoad&&t.length?H.a.createElement(Ue,null,"Looks like you've reached the end!"):null,this.props.loading&&H.a.createElement(_e,null,H.a.createElement(he.a,null)),!this.props.loading&&!t.length&&this.renderEmptyContent()))}}else{if(this.props.loading)return H.a.createElement(_e,null,H.a.createElement(he.a,null));if(this.props.results&&!r()(this.props.results).length)return this.renderEmptyContent()}return null}},{key:"renderModal",value:function(){var e=this;return H.a.createElement(de.a,{id:"omnisearch",container:function(){return document.getElementById("user-profile-container")},onClose:this.handleClose,open:this.props.open,fullscreen:!0},H.a.createElement(Ne,{hasResults:!!this.props.results,headerHeight:70,onKeyDown:this.handleContainerKeyDown,innerRef:this.containerRef},H.a.createElement(Le,{id:"omnisearch-dialogtitle"},H.a.createElement(Te,{inputRef:function(t){e.searchInputElement=t},placeholder:this.props.placeholder,value:this.state.searchBoxValue,onChange:this.handleOnSearchBoxChange,onClear:this.handleOnSearchBoxClear,onEnter:this.props.onSearchBoxEnter,onMount:function(){return e.searchInputElement&&e.searchInputElement.focus()}}),H.a.createElement(Ge,{tabIndex:0,role:"button","aria-label":"Close search modal",onClick:this.props.onClose,onKeyDown:function(t){return 13===t.which&&e.props.onClose()}},H.a.createElement(Ve,null))),H.a.createElement(pe.a,null),this.renderContent(),this.props.searchBoxFooter&&H.a.createElement(Ke,null,this.props.searchBoxFooter)))}},{key:"render",value:function(){return H.a.createElement("div",null,this.renderModal())}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.sidePanelTabs.length&&e.results&&r()(e.results).length&&!t.selectedTabIndex){var n=e.sidePanelTabs.findIndex((function(e){return e.results.length}));return e.onClickSidePanelTab&&e.onClickSidePanelTab(e.sidePanelTabs[n].id),{selectedTabIndex:n}}return null}}]),n}(F.PureComponent);$e.propTypes={open:V.a.bool.isRequired,loading:V.a.bool,sidePanelTitle:V.a.string,sidePanelTitlePosition:V.a.number,sidePanelTabs:V.a.arrayOf(V.a.shape({id:V.a.string.isRequired,title:V.a.string.isRequired,results:V.a.arrayOf(V.a.string).isRequired,moreToLoad:V.a.bool.isRequired,disabled:V.a.bool})),onSidePanelTabClick:V.a.func,onSearchBoxChange:V.a.func,onSearchBoxClear:V.a.func,onSearchBoxEnter:V.a.func,onSearchResultClick:V.a.func,results:V.a.objectOf(V.a.shape({id:V.a.string.isRequired,postDate:V.a.string,avatar:V.a.string,content:V.a.node,footer:V.a.node})),resultRenderingData:V.a.func,onContentBottomScroll:V.a.func,onClose:V.a.func,onKeyDown:V.a.func,placeholder:V.a.string,emptyTitle:V.a.string.isRequired,searchBoxFooter:V.a.node},$e.defaultProps={loading:!1,sidePanelTabs:[],sidePanelTitle:"",sidePanelTitlePosition:void 0,results:void 0,placeholder:"",searchBoxFooter:null,onSidePanelTabClick:function(){},onSearchBoxChange:function(){},onSearchBoxEnter:function(){},onSearchBoxClear:function(){},onClose:function(){},onKeyDown:function(){},onContentBottomScroll:function(){}};var et=$e,tt=["content"];function nt(e){var t=function(){if("undefined"==typeof Reflect||!C.a)return!1;if(C.a.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(C()(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=N()(e);if(t){var r=N()(this).constructor;n=C()(a,arguments,r)}else n=a.apply(this,arguments);return M()(this,n)}}function at(e,t){var n=r()(e);if(l.a){var a=l()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?at(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?d()(e,u()(n)):at(Object(n)).forEach((function(t){f()(e,t,s()(n,t))}))}return e}var ot={OPEN_SEARCH:"".concat(Object(Z.c)()?"command":"ctrl","+shift+f")},lt=function(e){var t=e.match(/<em>.*?<\/em>/g);return H.a.createElement(_.a,{searchWords:t||[],autoEscape:!0,textToHighlight:e,highlightTag:function(e){var t=e.children;return H.a.createElement("mark",{key:t},t.replace(/<em>/g,"").replace(/<\/em>/g,""))}})},it=function(e){var t=e.blocks[0];return t.text?"".concat(t.text.substring(0,150)," ..."):H.a.createElement(le.a,{key:t.key,rawEditorState:rt(rt({},e),{},{blocks:[t]})})},st=function(e){var t,n,a=e.value[0],r=null==a||null===(t=a.children)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text;return r?"".concat(r.substring(0,150)," ..."):H.a.createElement(le.a,{rawEditorState:rt(rt({},e),{},{value:[a]})})},ct=H.a.createElement(oe,{command:"".concat(Object(Z.c)()?"⌘":"Ctrl"," + ⇧ + F"),text:" to open search."}),ut=function(e){D()(n,e);var t=nt(n);function n(e){var a;return O()(this,n),(a=t.call(this,e)).state={searchValue:void 0},a.lastRequestSource=void 0,a.handleOpenSearch=a.handleOpenSearch.bind(w()(a)),a.handleSearchResultClicked=a.handleSearchResultClicked.bind(w()(a)),a.handleSearchBoxChange=a.handleSearchBoxChange.bind(w()(a)),a.handleLoadNextPage=a.handleLoadNextPage.bind(w()(a)),a.searchResultRenderingData=a.searchResultRenderingData.bind(w()(a)),a.renderAulaEditorSearchData=a.renderAulaEditorSearchData.bind(w()(a)),a.renderTh90EditorSearchData=a.renderTh90EditorSearchData.bind(w()(a)),a}return P()(n,[{key:"componentWillMount",value:function(){this.fetchResultsDebounced=Q()(this.handleFetchResults.bind(this),200)}},{key:"handleOpenSearch",value:function(e){e.preventDefault(),this.props.openModal()}},{key:"handleFetchResults",value:function(e,t,n,a){this.props.fetchResults({query:e,type:t,skip:n,selectedTabIndex:a})}},{key:"handleSearchBoxChange",value:function(e){if(this.props.results&&r()(this.props.results).length&&this.props.clearResults({loading:!!e}),this.setState({searchValue:e}),e){var t=this.props.tabs[0].type;this.fetchResultsDebounced(e,t,0)}}},{key:"handleLoadNextPage",value:function(e,t){if(!this.props.loading){var n=this.props.tabs[e],a=n.type,r=n.results;this.fetchResultsDebounced(t,a,r.length,e>0?e:void 0)}}},{key:"handleSearchResultClicked",value:function(e){var t=this.props.results[e],n=t.redirectUrl,a=t.redirectQuery;n?Object(Y.a)(n):Object(Y.a)({pathname:this.props.location.pathname,query:a}),this.props.closeModal()}},{key:"searchResultRenderingData",value:function(e){var t=e.content,n=k()(e,tt),a=JSON.parse(t);return Object(G.isAulaEditorState)(a)?this.renderAulaEditorSearchData(rt(rt({},n),{},{content:a})):this.renderTh90EditorSearchData(rt(rt({},n),{},{content:a}))}},{key:"renderAulaEditorSearchData",value:function(e){var t=e.createdAt,n=e.content,a=e.title,r=e.highlightTitle,o=e.avatar,l=e.footerPrefix,i=e.footerKey,s=e.keysHighlightMap,c=L()(s);return{userName:a,highlightUserName:!!r,avatar:o,postDate:Object($.a)(t),content:H.a.createElement(ie,null,c.length?c.map((function(e,t){var a=R()(e,2),r=a[0],o=a[1],l=n.value[r];return l.type?H.a.createElement(le.a,{rawEditorState:rt(rt({},n),{},{value:[l]})}):H.a.createElement(se,{key:r},lt("".concat(0===t?"...":""," ").concat(o.join("")," ...")))})):st(n)),footer:H.a.createElement("span",null,l," ",H.a.createElement("b",null,this.props.footerMap[i]))}}},{key:"renderTh90EditorSearchData",value:function(e){var t=e.createdAt,n=e.content,a=e.title,o=e.highlightTitle,l=e.avatar,i=e.footerPrefix,s=e.footerKey,c=e.keysHighlightMap;return{userName:a,highlightUserName:!!o,avatar:l,postDate:Object($.a)(t),content:H.a.createElement(ie,null,r()(c).length?n.blocks.filter((function(e){return e.key in c})).map((function(e,t){return e.text&&e.text.trim().length?H.a.createElement(se,{key:e.key},lt("".concat(0===t?"...":""," ").concat(c[e.key]," ..."))):H.a.createElement(le.a,{key:e.key,rawEditorState:rt(rt({},n),{},{blocks:[e]})})})):it(n)),footer:H.a.createElement("span",null,i," ",H.a.createElement("b",null,this.props.footerMap[s]))}}},{key:"render",value:function(){var e={OPEN_SEARCH:this.handleOpenSearch};return H.a.createElement(U.GlobalHotKeys,{keyMap:ot,handlers:e},H.a.createElement(et,{open:this.props.open,loading:this.props.loading,placeholder:"Search for posts, files, conversations, materials…",emptyTitle:"Oops! No results.",searchBoxFooter:this.state.searchValue?null:ct,results:this.props.results,resultRenderingData:this.searchResultRenderingData,sidePanelTitle:"Filter by",sidePanelTitlePosition:1,sidePanelTabs:this.props.tabs,onClose:this.props.closeModal,onSearchBoxChange:this.handleSearchBoxChange,onSearchResultClick:this.handleSearchResultClicked,onContentBottomScroll:this.handleLoadNextPage,onKeyDown:function(e,t){return Object(X.a)(e,t?t.current:null)}}))}}]),n}(H.a.Component);ut.propTypes={open:V.a.bool.isRequired,loading:V.a.bool.isRequired,results:V.a.objectOf(V.a.object),tabs:V.a.arrayOf(V.a.object).isRequired,openModal:V.a.func.isRequired,closeModal:V.a.func.isRequired,fetchResults:V.a.func.isRequired,clearResults:V.a.func.isRequired,footerMap:V.a.objectOf(V.a.string).isRequired,location:V.a.shape({pathname:V.a.string.isRequired}).isRequired},ut.defaultProps={results:void 0};var ht=ut,dt=n(860);function pt(e,t){var n=r()(e);if(l.a){var a=l()(e);t&&(a=a.filter((function(t){return s()(e,t).enumerable}))),n.push.apply(n,a)}return n}function ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pt(Object(n),!0).forEach((function(t){g()(e,t,n[t])})):u.a?d()(e,u()(n)):pt(Object(n)).forEach((function(t){f()(e,t,s()(n,t))}))}return e}t.default=Object(y.b)((function(e){var t=v()(e.data.classRooms).reduce((function(e,t){return ft(ft({},e),{},g()({},t.objectId,t.name))}),{}),n=v()(e.data.inboxv2.conversations).reduce((function(e,t){return ft(ft({},e),{},g()({},t.id,t.title))}),{});return{open:e.omniSearch.open,loading:e.omniSearch.loading,results:e.omniSearch.results,tabs:e.omniSearch.tabs,footerMap:ft(ft({},t),n),classId:e.classRoom.current}}),(function(e){return{openModal:Object(dt.d)(e),closeModal:Object(dt.b)(e),fetchResults:Object(dt.c)(e),clearResults:Object(dt.a)(e)}}))(ht)}}]);
//# sourceMappingURL=28.33e4ddfabb95d92d603e.js.map