(window.LearnosityAmd=window.LearnosityAmd||[]).push([[4],Array(133).concat([function(r,t,e){"use strict";t.name="matrix",t.factory=function factory(r,t,e,n){var i=n("matrix",{"":function(){return _create([])},string:function(r){return _create([],r)},"string, string":function(r,t){return _create([],r,t)},Array:function(r){return _create(r)},Matrix:function(r){return _create(r,r.storage())},"Array | Matrix, string":_create,"Array | Matrix, string, string":_create});return i.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},i;function _create(t,e,n){return new(r.Matrix.storage(e||"default"))(t,n)}}},,,function(r,t,e){"use strict";var n=e(139),i=e(189),a=e(147),o=e(250);t.size=function(r){for(var t=[];Array.isArray(r);)t.push(r.length),r=r[0];return t},t.validate=function(r,t){if(0==t.length){if(Array.isArray(r))throw new a(r.length,0)}else!function _validate(r,t,e){var n,i=r.length;if(i!=t[e])throw new a(i,t[e]);if(e<t.length-1){var o=e+1;for(n=0;n<i;n++){var s=r[n];if(!Array.isArray(s))throw new a(t.length-1,t.length,"<");_validate(r[n],t,o)}}else for(n=0;n<i;n++)if(Array.isArray(r[n]))throw new a(t.length+1,t.length,">")}(r,t,0)},t.validateIndex=function(r,t){if(!n.isNumber(r)||!n.isInteger(r))throw new TypeError("Index must be an integer (value: "+r+")");if(r<0||"number"==typeof t&&r>=t)throw new o(r,t)},t.resize=function(r,t,e){if(!Array.isArray(r)||!Array.isArray(t))throw new TypeError("Array expected");if(0===t.length)throw new Error("Resizing to scalar is not supported");return t.forEach((function(r){if(!n.isNumber(r)||!n.isInteger(r)||r<0)throw new TypeError("Invalid size, must contain positive integers (size: "+i.format(t)+")")})),function _resize(r,t,e,n){var i,a,o=r.length,s=t[e],u=Math.min(o,s);if(r.length=s,e<t.length-1){var f=e+1;for(i=0;i<u;i++)a=r[i],Array.isArray(a)||(a=[a],r[i]=a),_resize(a,t,f,n);for(i=u;i<s;i++)a=[],r[i]=a,_resize(a,t,f,n)}else{for(i=0;i<u;i++)for(;Array.isArray(r[i]);)r[i]=r[i][0];for(i=u;i<s;i++)r[i]=n}}(r,t,0,void 0!==e?e:0),r},t.reshape=function(r,e){var n,i=t.flatten(r),product=function(r){return r.reduce((function(r,t){return r*t}))};if(!Array.isArray(r)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new a(0,product(t.size(r)),"!=");try{n=function _reshape(r,t){var e,n=[];if(0===t.length){if(0===r.length)throw new a(null,null,"!=");return r.shift()}for(e=0;e<t[0];e+=1)n.push(_reshape(r,t.slice(1)));return n}(i,e)}catch(n){if(n instanceof a)throw new a(product(e),product(t.size(r)),"!=");throw n}if(i.length>0)throw new a(product(e),product(t.size(r)),"!=");return n},t.squeeze=function(r,e){for(var n=e||t.size(r);Array.isArray(r)&&1===r.length;)r=r[0],n.shift();for(var i=n.length;1===n[i-1];)i--;return i<n.length&&(r=function _squeeze(r,t,e){var n,i;if(e<t){var a=e+1;for(n=0,i=r.length;n<i;n++)r[n]=_squeeze(r[n],t,a)}else for(;Array.isArray(r);)r=r[0];return r}(r,i,0),n.length=i),r},t.unsqueeze=function(r,e,n,i){var a=i||t.size(r);if(n)for(var o=0;o<n;o++)r=[r],a.unshift(1);for(r=function _unsqueeze(r,t,e){var n,i;if(Array.isArray(r)){var a=e+1;for(n=0,i=r.length;n<i;n++)r[n]=_unsqueeze(r[n],t,a)}else for(var o=e;o<t;o++)r=[r];return r}(r,e,0);a.length<e;)a.push(1);return r},t.flatten=function(r){if(!Array.isArray(r))return r;var t=[];return r.forEach((function callback(r){Array.isArray(r)?r.forEach(callback):t.push(r)})),t},t.map=function(r,t){return Array.prototype.map.call(r,t)},t.forEach=function(r,t){Array.prototype.forEach.call(r,t)},t.filter=function(r,e){if(1!==t.size(r).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,e)},t.filterRegExp=function(r,e){if(1!==t.size(r).length)throw new Error("Only one dimensional matrices supported");return Array.prototype.filter.call(r,(function(r){return e.test(r)}))},t.join=function(r,t){return Array.prototype.join.call(r,t)},t.identify=function(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(0===r.length)return r;var t=[],e=0;t[0]={value:r[0],identifier:0};for(var n=1;n<r.length;n++)r[n]===r[n-1]?e++:e=0,t.push({value:r[n],identifier:e});return t},t.generalize=function(r){if(!Array.isArray(r))throw new TypeError("Array input expected");if(0===r.length)return r;for(var t=[],e=0;e<r.length;e++)t.push(r[e].value);return t},t.isArray=Array.isArray},function(r,t,e){"use strict";var n=e(248);t.clone=function clone(r){var e=typeof r;if("number"===e||"string"===e||"boolean"===e||null==r)return r;if("function"==typeof r.clone)return r.clone();if(Array.isArray(r))return r.map((function(r){return clone(r)}));if(r instanceof Number)return new Number(r.valueOf());if(r instanceof String)return new String(r.valueOf());if(r instanceof Boolean)return new Boolean(r.valueOf());if(r instanceof Date)return new Date(r.valueOf());if(n(r))return r;if(r instanceof RegExp)throw new TypeError("Cannot clone "+r);return t.map(r,clone)},t.map=function(r,e){var n={};for(var i in r)t.hasOwnProperty(r,i)&&(n[i]=e(r[i]));return n},t.extend=function(r,e){for(var n in e)t.hasOwnProperty(e,n)&&(r[n]=e[n]);return r},t.deepExtend=function deepExtend(r,e){if(Array.isArray(e))throw new TypeError("Arrays are not supported by deepExtend");for(var n in e)if(t.hasOwnProperty(e,n))if(e[n]&&e[n].constructor===Object)void 0===r[n]&&(r[n]={}),r[n].constructor===Object?deepExtend(r[n],e[n]):r[n]=e[n];else{if(Array.isArray(e[n]))throw new TypeError("Arrays are not supported by deepExtend");r[n]=e[n]}return r},t.deepEqual=function deepEqual(r,e){var n,i,a;if(Array.isArray(r)){if(!Array.isArray(e))return!1;if(r.length!=e.length)return!1;for(i=0,a=r.length;i<a;i++)if(!t.deepEqual(r[i],e[i]))return!1;return!0}if(r instanceof Object){if(Array.isArray(e)||!(e instanceof Object))return!1;for(n in r)if(!t.deepEqual(r[n],e[n]))return!1;for(n in e)if(!t.deepEqual(r[n],e[n]))return!1;return!0}return typeof r==typeof e&&r==e},t.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(r){}return!1},t.lazy=function(r,e,n){if(t.canDefineProperty()){var i,a=!0;Object.defineProperty(r,e,{get:function(){return a&&(i=n(),a=!1),i},set:function(r){i=r,a=!1},configurable:!0,enumerable:!0})}else r[e]=n()},t.traverse=function(r,t){var e=r;if(t)for(var n=t.split("."),i=0;i<n.length;i++){var a=n[i];a in e||(e[a]={}),e=e[a]}return e},t.hasOwnProperty=function(r,t){return r&&Object.hasOwnProperty.call(r,t)},t.isFactory=function(r){return r&&"function"==typeof r.factory}},,function(r,t,e){"use strict";var n=e(137);function zeros(r){for(var t=[],e=0;e<r;e++)t.push(0);return t}t.isNumber=function(r){return"number"==typeof r},t.isInteger=function(r){return!!isFinite(r)&&r==Math.round(r)},t.sign=Math.sign||function(r){return r>0?1:r<0?-1:0},t.format=function(r,e){if("function"==typeof e)return e(r);if(r===1/0)return"Infinity";if(r===-1/0)return"-Infinity";if(isNaN(r))return"NaN";var i="auto",a=void 0;switch(e&&(e.notation&&(i=e.notation),t.isNumber(e)?a=e:e.precision&&(a=e.precision)),i){case"fixed":return t.toFixed(r,a);case"exponential":return t.toExponential(r,a);case"engineering":return t.toEngineering(r,a);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var o=n.map(e,(function(r){return r}));return o.exponential=void 0,void 0!==e.exponential.lower&&(o.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(o.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(o)),t.toPrecision(r,a,o)}return t.toPrecision(r,a,e&&e).replace(/((\.\d*?)(0+))($|e)/,(function(){var r=arguments[2],t=arguments[4];return"."!==r?r+t:t}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},t.splitNumber=function(r){var t=String(r).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+r);var e=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=-1!==a?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,(function(r){return i-=r.length,""})).replace(/0*$/,"").split("").map((function(r){return parseInt(r)}));return 0===o.length&&(o.push(0),i++),{sign:e,coefficients:o,exponent:i}},t.toEngineering=function(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=t.roundDigits(t.splitNumber(r),e),i=n.exponent,a=n.coefficients,o=i%3==0?i:i<0?i-3-i%3:i-i%3,s=i>=0?i:Math.abs(o);a.length-1<s&&(a=a.concat(zeros(s-(a.length-1))));for(var u=Math.abs(i-o),f=1;--u>=0;)f++;var c=a.slice(f).join(""),p=c.match(/[1-9]/)?"."+c:"",l=a.slice(0,f).join("")+p+"e"+(i>=0?"+":"")+o.toString();return n.sign+l},t.toFixed=function(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=t.splitNumber(r),i="number"==typeof e?t.roundDigits(n,n.exponent+1+e):n,a=i.coefficients,o=i.exponent+1,s=o+(e||0);return a.length<s&&(a=a.concat(zeros(s-a.length))),o<0&&(a=zeros(1-o).concat(a),o=1),o<a.length&&a.splice(o,0,0===o?"0.":"."),i.sign+a.join("")},t.toExponential=function(r,e){if(isNaN(r)||!isFinite(r))return String(r);var n=t.splitNumber(r),i=e?t.roundDigits(n,e):n,a=i.coefficients,o=i.exponent;a.length<e&&(a=a.concat(zeros(e-a.length)));var s=a.shift();return i.sign+s+(a.length>0?"."+a.join(""):"")+"e"+(o>=0?"+":"")+o},t.toPrecision=function(r,e,n){if(isNaN(r)||!isFinite(r))return String(r);var i=n&&void 0!==n.lowerExp?n.lowerExp:-3,a=n&&void 0!==n.upperExp?n.upperExp:5,o=t.splitNumber(r);if(o.exponent<i||o.exponent>=a)return t.toExponential(r,e);var s=e?t.roundDigits(o,e):o,u=s.coefficients,f=s.exponent;u.length<e&&(u=u.concat(zeros(e-u.length))),u=u.concat(zeros(f-u.length+1+(u.length<e?e-u.length:0)));var c=f>0?f:0;return c<(u=zeros(-f).concat(u)).length-1&&u.splice(c+1,0,"."),s.sign+u.join("")},t.roundDigits=function(r,t){for(var e={sign:r.sign,coefficients:r.coefficients,exponent:r.exponent},n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t&&n.splice(t,n.length-t)[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),e.exponent++,i++),n[--i]++}return e},t.digits=function(r){return r.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},t.DBL_EPSILON=Number.EPSILON||2220446049250313e-31,t.nearlyEqual=function(r,e,n){if(null==n)return r==e;if(r==e)return!0;if(isNaN(r)||isNaN(e))return!1;if(isFinite(r)&&isFinite(e)){var i=Math.abs(r-e);return i<t.DBL_EPSILON||i<=Math.max(Math.abs(r),Math.abs(e))*n}return!1}},,,,,,,,function(r,t,e){"use strict";function DimensionError(r,t,e){if(!(this instanceof DimensionError))throw new SyntaxError("Constructor must be called with the new operator");this.actual=r,this.expected=t,this.relation=e,this.message="Dimension mismatch ("+(Array.isArray(r)?"["+r.join(", ")+"]":r)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=(new Error).stack}DimensionError.prototype=new RangeError,DimensionError.prototype.constructor=RangeError,DimensionError.prototype.name="DimensionError",DimensionError.prototype.isDimensionError=!0,r.exports=DimensionError},,,,,,,,,function(r,t,e){"use strict";var n=e(137).extend,i=e(136);t.name="multiply",t.factory=function factory(r,t,a,o){var s=e(176),u=a(e(133)),f=a(e(212)),c=a(e(228)),p=a(e(190)),l=a(e(291)),h=a(e(191)),m=r.DenseMatrix,y=r.SparseMatrix,g=o("multiply",n({"Array, Array":function(t,e){_validateMatrixDimensions(i.size(t),i.size(e));var n=g(u(t),u(e));return r.isMatrix(n)?n.valueOf():n},"Matrix, Matrix":function(r,t){var e=r.size(),n=t.size();return _validateMatrixDimensions(e,n),1===e.length?1===n.length?_multiplyVectorVector(r,t,e[0]):_multiplyVectorMatrix(r,t):1===n.length?v(r,t):d(r,t)},"Matrix, Array":function(r,t){return g(r,u(t))},"Array, Matrix":function(r,t){return g(u(r,t.storage()),t)},"SparseMatrix, any":function(r,t){return l(r,t,c,!1)},"DenseMatrix, any":function(r,t){return h(r,t,c,!1)},"any, SparseMatrix":function(r,t){return l(t,r,c,!0)},"any, DenseMatrix":function(r,t){return h(t,r,c,!0)},"Array, any":function(r,t){return h(u(r),t,c,!1).valueOf()},"any, Array":function(r,t){return h(u(t),r,c,!0).valueOf()},"any, any":c,"any, any, ...any":function(r,t,e){for(var n=g(r,t),i=0;i<e.length;i++)n=g(n,e[i]);return n}},c.signatures)),_validateMatrixDimensions=function(r,t){switch(r.length){case 1:switch(t.length){case 1:if(r[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(r[0]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+r[0]+") must match Matrix rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;case 2:switch(t.length){case 1:if(r[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+r[1]+") must match Vector length ("+t[0]+")");break;case 2:if(r[1]!==t[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+r[1]+") must match Matrix B rows ("+t[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+t.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+r.length+" dimensions)")}},_multiplyVectorVector=function(r,t,e){if(0===e)throw new Error("Cannot multiply two empty vectors");var n,i=r._data,a=r._datatype,s=t._data,u=t._datatype,p=f,l=c;a&&u&&a===u&&"string"==typeof a&&(n=a,p=o.find(f,[n,n]),l=o.find(c,[n,n]));for(var h=l(i[0],s[0]),m=1;m<e;m++)h=p(h,l(i[m],s[m]));return h},_multiplyVectorMatrix=function(r,t){if("dense"!==t.storage())throw new Error("Support for SparseMatrix not implemented");return _multiplyVectorDenseMatrix(r,t)},_multiplyVectorDenseMatrix=function(r,t){var e,n=r._data,i=r._size,a=r._datatype,s=t._data,u=t._size,p=t._datatype,l=i[0],h=u[1],y=f,g=c;a&&p&&a===p&&"string"==typeof a&&(e=a,y=o.find(f,[e,e]),g=o.find(c,[e,e]));for(var v=[],d=0;d<h;d++){for(var x=g(n[0],s[0][d]),w=1;w<l;w++)x=y(x,g(n[w],s[w][d]));v[d]=x}return new m({data:v,size:[h],datatype:e})},v=o("_multiplyMatrixVector",{"DenseMatrix, any":function _multiplyDenseMatrixVector(r,t){var e,n=r._data,i=r._size,a=r._datatype,s=t._data,u=t._datatype,p=i[0],l=i[1],h=f,y=c;a&&u&&a===u&&"string"==typeof a&&(e=a,h=o.find(f,[e,e]),y=o.find(c,[e,e]));for(var g=[],v=0;v<p;v++){for(var d=n[v],x=y(d[0],s[0]),w=1;w<l;w++)x=h(x,y(d[w],s[w]));g[v]=x}return new m({data:g,size:[p],datatype:e})},"SparseMatrix, any":function _multiplySparseMatrixVector(r,t){var e=r._values,n=r._index,i=r._ptr,a=r._datatype;if(!e)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,l=t._datatype,h=r._size[0],m=t._size[0],g=[],v=[],d=[],x=f,w=c,_=p,b=0;a&&l&&a===l&&"string"==typeof a&&(s=a,x=o.find(f,[s,s]),w=o.find(c,[s,s]),_=o.find(p,[s,s]),b=o.convert(0,s));var M=[],E=[];d[0]=0;for(var A=0;A<m;A++){var z=u[A];if(!_(z,b))for(var N=i[A],S=i[A+1],O=N;O<S;O++){var I=n[O];E[I]?M[I]=x(M[I],w(z,e[O])):(E[I]=!0,v.push(I),M[I]=w(z,e[O]))}}for(var T=v.length,D=0;D<T;D++){var C=v[D];g[D]=M[C]}return d[1]=v.length,new y({values:g,index:v,ptr:d,size:[h,1],datatype:s})}}),d=o("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":function _multiplyDenseMatrixDenseMatrix(r,t){var e,n=r._data,i=r._size,a=r._datatype,s=t._data,u=t._size,p=t._datatype,l=i[0],h=i[1],y=u[1],g=f,v=c;a&&p&&a===p&&"string"==typeof a&&(e=a,g=o.find(f,[e,e]),v=o.find(c,[e,e]));for(var d=[],x=0;x<l;x++){var w=n[x];d[x]=[];for(var _=0;_<y;_++){for(var b=v(w[0],s[0][_]),M=1;M<h;M++)b=g(b,v(w[M],s[M][_]));d[x][_]=b}}return new m({data:d,size:[l,y],datatype:e})},"DenseMatrix, SparseMatrix":function _multiplyDenseMatrixSparseMatrix(r,t){var e=r._data,n=r._size,i=r._datatype,a=t._values,s=t._index,u=t._ptr,l=t._size,h=t._datatype;if(!a)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var m,g=n[0],v=l[1],d=f,x=c,w=p,_=0;i&&h&&i===h&&"string"==typeof i&&(m=i,d=o.find(f,[m,m]),x=o.find(c,[m,m]),w=o.find(p,[m,m]),_=o.convert(0,m));for(var b=[],M=[],E=[],A=new y({values:b,index:M,ptr:E,size:[g,v],datatype:m}),z=0;z<v;z++){E[z]=M.length;var N=u[z],S=u[z+1];if(S>N)for(var O=0,I=0;I<g;I++){for(var T,D=I+1,C=N;C<S;C++){var B=s[C];O!==D?(T=x(e[I][B],a[C]),O=D):T=d(T,x(e[I][B],a[C]))}O!==D||w(T,_)||(M.push(I),b.push(T))}}return E[v]=M.length,A},"SparseMatrix, DenseMatrix":function _multiplySparseMatrixDenseMatrix(r,t){var e=r._values,n=r._index,i=r._ptr,a=r._datatype;if(!e)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var s,u=t._data,l=t._datatype,h=r._size[0],m=t._size[0],g=t._size[1],v=f,d=c,x=p,w=0;a&&l&&a===l&&"string"==typeof a&&(s=a,v=o.find(f,[s,s]),d=o.find(c,[s,s]),x=o.find(p,[s,s]),w=o.convert(0,s));for(var _=[],b=[],M=[],E=new y({values:_,index:b,ptr:M,size:[h,g],datatype:s}),A=[],z=[],N=0;N<g;N++){M[N]=b.length;for(var S=N+1,O=0;O<m;O++){var I=u[O][N];if(!x(I,w))for(var T=i[O],D=i[O+1],C=T;C<D;C++){var B=n[C];z[B]!==S?(z[B]=S,b.push(B),A[B]=d(I,e[C])):A[B]=v(A[B],d(I,e[C]))}}for(var R=M[N],P=b.length,k=R;k<P;k++){var F=b[k];_[k]=A[F]}}return M[g]=b.length,E},"SparseMatrix, SparseMatrix":function _multiplySparseMatrixSparseMatrix(r,t){var e,n=r._values,i=r._index,a=r._ptr,s=r._datatype,u=t._values,p=t._index,l=t._ptr,h=t._datatype,m=r._size[0],g=t._size[1],v=n&&u,d=f,x=c;s&&h&&s===h&&"string"==typeof s&&(e=s,d=o.find(f,[e,e]),x=o.find(c,[e,e]));for(var w,_,b,M,E,A,z,N,S=v?[]:void 0,O=[],I=[],T=new y({values:S,index:O,ptr:I,size:[m,g],datatype:e}),D=v?[]:void 0,C=[],B=0;B<g;B++){I[B]=O.length;var R=B+1;for(E=l[B],A=l[B+1],M=E;M<A;M++)if(N=p[M],v)for(_=a[N],b=a[N+1],w=_;w<b;w++)z=i[w],C[z]!==R?(C[z]=R,O.push(z),D[z]=x(u[M],n[w])):D[z]=d(D[z],x(u[M],n[w]));else for(_=a[N],b=a[N+1],w=_;w<b;w++)z=i[w],C[z]!==R&&(C[z]=R,O.push(z));if(v)for(var P=I[B],k=O.length,F=P;F<k;F++){var j=O[F];S[F]=D[j]}}return I[g]=O.length,T}});return g.toTex={2:"\\left(${args[0]}"+s.operators.multiply+"${args[1]}\\right)"},g}},,,,,,,,,,,,,,,,,,,,function(r,t,e){"use strict";var n=e(431);t.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},t.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},t.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var i={deg:"^\\circ"};t.escape=function(r){return n(r,{preserveFormatting:!0})},t.toSymbol=function(r,e){return(e=void 0!==e&&e)?i.hasOwnProperty(r)?i[r]:"\\mathrm{"+t.escape(r)+"}":t.symbols.hasOwnProperty(r)?t.symbols[r]:t.escape(r)}},,,,,function(r,t,e){"use strict";t.array=e(136),t.boolean=e(343),t.function=e(223),t.number=e(139),t.object=e(137),t.string=e(189),t.emitter=e(283)},,,,,,,,function(r,t,e){"use strict";var n=e(139).format,i=e(342).format,a=e(248);t.isString=function(r){return"string"==typeof r},t.endsWith=function(r,t){var e=r.length-t.length,n=r.length;return r.substring(e,n)===t},t.format=function(r,e){if("number"==typeof r)return n(r,e);if(a(r))return i(r,e);if(function looksLikeFraction(r){return r&&"object"==typeof r&&"number"==typeof r.s&&"number"==typeof r.n&&"number"==typeof r.d||!1}(r))return e&&"decimal"===e.fraction?r.toString():r.s*r.n+"/"+r.d;if(Array.isArray(r))return function formatArray(r,e){if(Array.isArray(r)){for(var n="[",i=r.length,a=0;a<i;a++)0!=a&&(n+=", "),n+=formatArray(r[a],e);return n+="]"}return t.format(r,e)}(r,e);if(t.isString(r))return'"'+r+'"';if("function"==typeof r)return r.syntax?String(r.syntax):"function";if(r&&"object"==typeof r){if("function"==typeof r.format)return r.format(e);if(r&&r.toString()!=={}.toString())return r.toString();var o=[];for(var s in r)r.hasOwnProperty(s)&&o.push('"'+s+'": '+t.format(r[s],e));return"{"+o.join(", ")+"}"}return String(r)},t.stringify=function(r){for(var t=String(r),e="",n=0;n<t.length;){var i=t.charAt(n);"\\"===i?(e+=i,n++,""!==(i=t.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(e+="\\"),e+=i):e+='"'===i?'\\"':i,n++}return'"'+e+'"'},t.escape=function(r){var t=String(r);return t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}},function(r,t,e){"use strict";var n=e(139).nearlyEqual,i=e(224);t.factory=function factory(r,t,e,a){var o=a("equalScalar",{"boolean, boolean":function(r,t){return r===t},"number, number":function(r,e){return r===e||n(r,e,t.epsilon)},"BigNumber, BigNumber":function(r,e){return r.eq(e)||i(r,e,t.epsilon)},"Fraction, Fraction":function(r,t){return r.equals(t)},"Complex, Complex":function(r,t){return r.equals(t)},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return o(r.value,t.value)}});return o}},function(r,t,e){"use strict";var n=e(137).clone;t.name="algorithm14",t.factory=function factory(r,t,e,i){var a=r.DenseMatrix,_iterate=function(r,t,e,n,i,a,o){var s=[];if(t===e.length-1)for(var u=0;u<n;u++)s[u]=o?r(a,i[u]):r(i[u],a);else for(var f=0;f<n;f++)s[f]=_iterate(r,t+1,e,e[t+1],i[f],a,o);return s};return function(r,t,e,o){var s,u=r._data,f=r._size,c=r._datatype,p=e;"string"==typeof c&&(s=c,t=i.convert(t,s),p=i.find(e,[s,s]));var l=f.length>0?_iterate(p,0,f,f[0],u,t,o):[];return new a({data:l,size:n(f),datatype:s})}}},,,,,,,,,,function(r,t,e){"use strict";var n=e(137).extend;t.name="add",t.factory=function factory(r,t,i,a){var o=i(e(133)),s=i(e(212)),u=e(176),f=i(e(286)),c=i(e(346)),p=i(e(287)),l=i(e(213)),h=i(e(191)),m=a("add",n({"DenseMatrix, DenseMatrix":function(r,t){return l(r,t,s)},"DenseMatrix, SparseMatrix":function(r,t){return f(r,t,s,!1)},"SparseMatrix, DenseMatrix":function(r,t){return f(t,r,s,!0)},"SparseMatrix, SparseMatrix":function(r,t){return c(r,t,s)},"Array, Array":function(r,t){return m(o(r),o(t)).valueOf()},"Array, Matrix":function(r,t){return m(o(r),t)},"Matrix, Array":function(r,t){return m(r,o(t))},"DenseMatrix, any":function(r,t){return h(r,t,s,!1)},"SparseMatrix, any":function(r,t){return p(r,t,s,!1)},"any, DenseMatrix":function(r,t){return h(t,r,s,!0)},"any, SparseMatrix":function(r,t){return p(t,r,s,!0)},"Array, any":function(r,t){return h(o(r),t,s,!1).valueOf()},"any, Array":function(r,t){return h(o(t),r,s,!0).valueOf()},"any, any":s,"any, any, ...any":function(r,t,e){for(var n=m(r,t),i=0;i<e.length;i++)n=m(n,e[i]);return n}},s.signatures));return m.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},m}},,,,,,,,,,,function(r,t,e){"use strict";t.factory=function factory(r,t,e,n){var i=n("add",{"number, number":function(r,t){return r+t},"Complex, Complex":function(r,t){return r.add(t)},"BigNumber, BigNumber":function(r,t){return r.plus(t)},"Fraction, Fraction":function(r,t){return r.add(t)},"Unit, Unit":function(r,t){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var e=r.clone();return e.value=i(e.value,t.value),e.fixPrefix=!1,e}});return i}},function(r,t,e){"use strict";var n=e(181),i=e(147);n.string.isString;t.name="algorithm13",t.factory=function factory(r,t,e,n){var a=r.DenseMatrix,_iterate=function(r,t,e,n,i,a){var o=[];if(t===e.length-1)for(var s=0;s<n;s++)o[s]=r(i[s],a[s]);else for(var u=0;u<n;u++)o[u]=_iterate(r,t+1,e,e[t+1],i[u],a[u]);return o};return function(r,t,e){var o,s=r._data,u=r._size,f=r._datatype,c=t._data,p=t._size,l=t._datatype,h=[];if(u.length!==p.length)throw new i(u.length,p.length);for(var m=0;m<u.length;m++){if(u[m]!==p[m])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");h[m]=u[m]}var y=e;"string"==typeof f&&f===l&&(o=f,t=n.convert(t,o),y=n.find(e,[o,o]));var g=h.length>0?_iterate(y,0,h,h[0],s,c):[];return new a({data:g,size:h,datatype:o})}}},,,function(r,t,e){"use strict";r.exports=function deepMap(r,t,e){return r&&"function"==typeof r.map?r.map((function(r){return deepMap(r,t,e)})):t(r)}},function(r,t,e){"use strict";var n=e(136),i=e(139).isInteger;t.name="eye",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=o("eye",{"":function(){return"Matrix"===t.matrix?s([]):[]},string:function(r){return s(r)},"number | BigNumber":function(r){return _eye(r,r,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, string":function(r,t){return _eye(r,r,t)},"number | BigNumber, number | BigNumber":function(r,e){return _eye(r,e,"Matrix"===t.matrix?"default":void 0)},"number | BigNumber, number | BigNumber, string":function(r,t,e){return _eye(r,t,e)},Array:function(r){return _eyeVector(r)},"Array, string":function(r,t){return _eyeVector(r,t)},Matrix:function(r){return _eyeVector(r.valueOf(),r.storage())},"Matrix, string":function(r,t){return _eyeVector(r.valueOf(),t)}});return u.toTex=void 0,u;function _eyeVector(r,t){switch(r.length){case 0:return t?s(t):[];case 1:return _eye(r[0],r[0],t);case 2:return _eye(r[0],r[1],t);default:throw new Error("Vector containing two values expected")}}function _eye(t,e,a){var o=r.isBigNumber(t)||r.isBigNumber(e)?r.BigNumber:null;if(r.isBigNumber(t)&&(t=t.toNumber()),r.isBigNumber(e)&&(e=e.toNumber()),!i(t)||t<1)throw new Error("Parameters in function eye must be positive integers");if(!i(e)||e<1)throw new Error("Parameters in function eye must be positive integers");var s=o?new r.BigNumber(1):1,u=o?new o(0):0,f=[t,e];if(a)return r.Matrix.storage(a).diagonal(f,s,0,u);for(var c=n.resize([],f,u),p=t<e?t:e,l=0;l<p;l++)c[l][l]=s;return c}}},,,,function(r,t,e){r.exports=e(337)},function(r,t,e){"use strict";r.exports=function isMatrix(r){return r&&r.constructor.prototype.isMatrix||!1}},function(r,t,e){"use strict";t.memoize=function(r,t){return function memoize(){"object"!=typeof memoize.cache&&(memoize.cache={});for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t?t(e):JSON.stringify(e);return i in memoize.cache?memoize.cache[i]:memoize.cache[i]=r.apply(r,e)}},t.maxArgumentCount=function(r){return Object.keys(r.signatures||{}).reduce((function(r,t){var e=(t.match(/,/g)||[]).length+1;return Math.max(r,e)}),-1)},t.callWithRightArgumentCount=function(r,t,e){return Object.keys(r.signatures||{}).reduce((function(r,t){var e=(t.match(/,/g)||[]).length+1;return Math.max(r,e)}),-1)}},function(r,t,e){"use strict";r.exports=function nearlyEqual(r,t,e){if(null==e)return r.eq(t);if(r.eq(t))return!0;if(r.isNaN()||t.isNaN())return!1;if(r.isFinite()&&t.isFinite()){var n=r.minus(t).abs();if(n.isZero())return!0;var i=r.constructor.max(r.abs(),t.abs());return n.lte(i.times(e))}return!1}},function(r,t,e){"use strict";var n=e(147);t.name="algorithm03",t.factory=function factory(r,t,e,i){var a=r.DenseMatrix;return function(r,t,e,o){var s=r._data,u=r._size,f=r._datatype,c=t._values,p=t._index,l=t._ptr,h=t._size,m=t._datatype;if(u.length!==h.length)throw new n(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,g=u[0],v=u[1],d=0,x=e;"string"==typeof f&&f===m&&(y=f,d=i.convert(0,y),x=i.find(e,[y,y]));for(var w=[],_=0;_<g;_++)w[_]=[];for(var b=[],M=[],E=0;E<v;E++){for(var A=E+1,z=l[E],N=l[E+1],S=z;S<N;S++){var O=p[S];b[O]=o?x(c[S],s[O][E]):x(s[O][E],c[S]),M[O]=A}for(var I=0;I<g;I++)M[I]===A?w[I][E]=b[I]:w[I][E]=o?x(d,s[I][E]):x(s[I][E],d)}return new a({data:w,size:[g,v],datatype:y})}}},function(r,t,e){"use strict";var n=e(147);function checkEqualDimensions(r,t){var e=r.size(),i=t.size();if(e.length!==i.length)throw new n(e.length,i.length)}t.name="subtract",t.factory=function factory(r,t,n,i){var a=e(176),o=n(e(133)),s=n(e(212)),u=n(e(227)),f=n(e(286)),c=n(e(225)),p=n(e(290)),l=n(e(287)),h=n(e(213)),m=n(e(191)),y=i("subtract",{"number, number":function(r,t){return r-t},"Complex, Complex":function(r,t){return r.sub(t)},"BigNumber, BigNumber":function(r,t){return r.minus(t)},"Fraction, Fraction":function(r,t){return r.sub(t)},"Unit, Unit":function(r,t){if(null==r.value)throw new Error("Parameter x contains a unit with undefined value");if(null==t.value)throw new Error("Parameter y contains a unit with undefined value");if(!r.equalBase(t))throw new Error("Units do not match");var e=r.clone();return e.value=y(e.value,t.value),e.fixPrefix=!1,e},"SparseMatrix, SparseMatrix":function(r,t){return checkEqualDimensions(r,t),p(r,t,y)},"SparseMatrix, DenseMatrix":function(r,t){return checkEqualDimensions(r,t),c(t,r,y,!0)},"DenseMatrix, SparseMatrix":function(r,t){return checkEqualDimensions(r,t),f(r,t,y,!1)},"DenseMatrix, DenseMatrix":function(r,t){return checkEqualDimensions(r,t),h(r,t,y)},"Array, Array":function(r,t){return y(o(r),o(t)).valueOf()},"Array, Matrix":function(r,t){return y(o(r),t)},"Matrix, Array":function(r,t){return y(r,o(t))},"SparseMatrix, any":function(r,t){return l(r,u(t),s)},"DenseMatrix, any":function(r,t){return m(r,t,y)},"any, SparseMatrix":function(r,t){return l(t,r,y,!0)},"any, DenseMatrix":function(r,t){return m(t,r,y,!0)},"Array, any":function(r,t){return m(o(r),t,y,!1).valueOf()},"any, Array":function(r,t){return m(o(t),r,y,!0).valueOf()}});return y.toTex={2:"\\left(${args[0]}"+a.operators.subtract+"${args[1]}\\right)"},y}},function(r,t,e){"use strict";var n=e(216);t.name="unaryMinus",t.factory=function factory(r,t,i,a){var o=e(176),s=a("unaryMinus",{number:function(r){return-r},Complex:function(r){return r.neg()},BigNumber:function(r){return r.neg()},Fraction:function(r){return r.neg()},Unit:function(r){var t=r.clone();return t.value=s(r.value),t},"Array | Matrix":function(r){return n(r,s,!0)}});return s.toTex={1:o.operators.unaryMinus+"\\left(${args[0]}\\right)"},s}},function(r,t,e){"use strict";t.factory=function factory(r,t,e,n){var i=n("multiplyScalar",{"number, number":function(r,t){return r*t},"Complex, Complex":function(r,t){return r.mul(t)},"BigNumber, BigNumber":function(r,t){return r.times(t)},"Fraction, Fraction":function(r,t){return r.mul(t)},"number | Fraction | BigNumber | Complex, Unit":function(r,t){var e=t.clone();return e.value=null===e.value?e._normalize(r):i(e.value,r),e},"Unit, number | Fraction | BigNumber | Complex":function(r,t){var e=r.clone();return e.value=null===e.value?e._normalize(t):i(e.value,t),e},"Unit, Unit":function(r,t){return r.multiply(t)}});return i}},function(r,t,e){"use strict";var n=e(216);t.name="abs",t.factory=function factory(r,t,e,i){var a=i("abs",{number:Math.abs,Complex:function(r){return r.abs()},BigNumber:function(r){return r.abs()},Fraction:function(r){return r.abs()},"Array | Matrix":function(r){return n(r,a,!0)},Unit:function(r){return r.abs()}});return a.toTex={1:"\\left|${args[0]}\\right|"},a}},function(r,t,e){"use strict";var n=e(181);t.name="inv",t.factory=function factory(r,t,i,a){var o=i(e(133)),s=i(e(253)),u=i(e(212)),f=i(e(156)),c=i(e(227)),p=i(e(292)),l=i(e(217)),h=i(e(229)),m=a("inv",{"Array | Matrix":function(t){var e=r.isMatrix(t)?t.size():n.array.size(t);switch(e.length){case 1:if(1==e[0])return r.isMatrix(t)?o([s(1,t.valueOf()[0])]):[s(1,t[0])];throw new RangeError("Matrix must be square (size: "+n.string.format(e)+")");case 2:var i=e[0],a=e[1];if(i==a)return r.isMatrix(t)?o(_inv(t.valueOf(),i,a),t.storage()):_inv(t,i,a);throw new RangeError("Matrix must be square (size: "+n.string.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+n.string.format(e)+")")}},any:function(r){return s(1,r)}});function _inv(r,t,e){var n,i,a,o,m;if(1==t){if(0==(o=r[0][0]))throw Error("Cannot calculate inverse, determinant is zero");return[[s(1,o)]]}if(2==t){var y=p(r);if(0==y)throw Error("Cannot calculate inverse, determinant is zero");return[[s(r[1][1],y),s(c(r[0][1]),y)],[s(c(r[1][0]),y),s(r[0][0],y)]]}var g=r.concat();for(n=0;n<t;n++)g[n]=g[n].concat();for(var v=l(t).valueOf(),d=0;d<e;d++){var x=h(g[d][d]),w=d;for(n=d+1;n<t;)h(g[n][d])>x&&(x=h(g[n][d]),w=n),n++;if(0==x)throw Error("Cannot calculate inverse, determinant is zero");(n=w)!=d&&(m=g[d],g[d]=g[n],g[n]=m,m=v[d],v[d]=v[n],v[n]=m);var _=g[d],b=v[d];for(n=0;n<t;n++){var M=g[n],E=v[n];if(n!=d){if(0!=M[d]){for(a=s(c(M[d]),_[d]),i=d;i<e;i++)M[i]=u(M[i],f(a,_[i]));for(i=0;i<e;i++)E[i]=u(E[i],f(a,b[i]))}}else{for(a=_[d],i=d;i<e;i++)M[i]=s(M[i],a);for(i=0;i<e;i++)E[i]=s(E[i],a)}}}return v}return m.toTex={1:"\\left(${args[0]}\\right)^{-1}"},m}},,,,,,,function(r,t,e){"use strict";r.exports=[e(249),e(285),e(344),e(345),e(347),e(348),e(349),e(350),e(351),e(133),e(352)]},function(r,t,e){"use strict";r.exports=[e(353),e(354),e(292),e(356),e(357),e(217),e(358),e(359),e(360),e(361),e(230),e(362),e(363),e(364),e(365),e(366),e(367),e(368),e(293),e(369),e(371),e(380),e(381),e(382),e(383),e(384)]},,,,,,,,,,function(r,t,e){"use strict";r.exports=function isBigNumber(r){return r&&r.constructor.prototype.isBigNumber||!1}},function(r,t,e){"use strict";var n=e(181).string.isString;t.name="Matrix",t.path="type",t.factory=function factory(r,t,e,i){function Matrix(){if(!(this instanceof Matrix))throw new SyntaxError("Constructor must be called with the new operator")}return Matrix.prototype.type="Matrix",Matrix.prototype.isMatrix=!0,Matrix.storage=function(r){if(!n(r))throw new TypeError("format must be a string value");var t=Matrix._storage[r];if(!t)throw new SyntaxError("Unsupported matrix storage format: "+r);return t},Matrix._storage={},Matrix.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},Matrix.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},Matrix.prototype.create=function(r,t){throw new Error("Cannot invoke create on a Matrix interface")},Matrix.prototype.subset=function(r,t,e){throw new Error("Cannot invoke subset on a Matrix interface")},Matrix.prototype.get=function(r){throw new Error("Cannot invoke get on a Matrix interface")},Matrix.prototype.set=function(r,t,e){throw new Error("Cannot invoke set on a Matrix interface")},Matrix.prototype.resize=function(r,t){throw new Error("Cannot invoke resize on a Matrix interface")},Matrix.prototype.reshape=function(r,t){throw new Error("Cannot invoke reshape on a Matrix interface")},Matrix.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},Matrix.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},Matrix.prototype.map=function(r,t){throw new Error("Cannot invoke map on a Matrix interface")},Matrix.prototype.forEach=function(r){throw new Error("Cannot invoke forEach on a Matrix interface")},Matrix.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},Matrix.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},Matrix.prototype.format=function(r){throw new Error("Cannot invoke format on a Matrix interface")},Matrix.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},Matrix}},function(r,t,e){"use strict";function IndexError(r,t,e){if(!(this instanceof IndexError))throw new SyntaxError("Constructor must be called with the new operator");this.index=r,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=e),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}IndexError.prototype=new RangeError,IndexError.prototype.constructor=RangeError,IndexError.prototype.name="IndexError",IndexError.prototype.isIndexError=!0,r.exports=IndexError},function(r,t,e){"use strict";t.name="algorithm12",t.factory=function factory(r,t,e,n){var i=r.DenseMatrix;return function(r,t,e,a){var o=r._values,s=r._index,u=r._ptr,f=r._size,c=r._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,l=f[0],h=f[1],m=e;"string"==typeof c&&(p=c,t=n.convert(t,p),m=n.find(e,[p,p]));for(var y=[],g=new i({data:y,size:[l,h],datatype:p}),v=[],d=[],x=0;x<h;x++){for(var w=x+1,_=u[x],b=u[x+1],M=_;M<b;M++){var E=s[M];v[E]=o[M],d[E]=w}for(var A=0;A<l;A++)0===x&&(y[A]=[]),d[A]===w?y[A][x]=a?m(t,v[A]):m(v[A],t):y[A][x]=a?m(t,0):m(0,t)}return g}}},function(r,t,e){"use strict";var n=e(139).nearlyEqual,i=e(224);t.name="larger",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=a(e(225)),f=a(e(289)),c=a(e(251)),p=a(e(213)),l=a(e(191)),h=e(176),m=o("larger",{"boolean, boolean":function(r,t){return r>t},"number, number":function(r,e){return r>e&&!n(r,e,t.epsilon)},"BigNumber, BigNumber":function(r,e){return r.gt(e)&&!i(r,e,t.epsilon)},"Fraction, Fraction":function(r,t){return 1===r.compare(t)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return m(r.value,t.value)},"SparseMatrix, SparseMatrix":function(r,t){return f(r,t,m)},"SparseMatrix, DenseMatrix":function(r,t){return u(t,r,m,!0)},"DenseMatrix, SparseMatrix":function(r,t){return u(r,t,m,!1)},"DenseMatrix, DenseMatrix":function(r,t){return p(r,t,m)},"Array, Array":function(r,t){return m(s(r),s(t)).valueOf()},"Array, Matrix":function(r,t){return m(s(r),t)},"Matrix, Array":function(r,t){return m(r,s(t))},"SparseMatrix, any":function(r,t){return c(r,t,m,!1)},"DenseMatrix, any":function(r,t){return l(r,t,m,!1)},"any, SparseMatrix":function(r,t){return c(t,r,m,!0)},"any, DenseMatrix":function(r,t){return l(t,r,m,!0)},"Array, any":function(r,t){return l(s(r),t,m,!1).valueOf()},"any, Array":function(r,t){return l(s(t),r,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+h.operators.larger+"${args[1]}\\right)"},m}},function(r,t,e){"use strict";t.factory=function factory(r,t,n,i){var a=n(e(228)),o=i("divide",{"number, number":function(r,t){return r/t},"Complex, Complex":function(r,t){return r.div(t)},"BigNumber, BigNumber":function(r,t){return r.div(t)},"Fraction, Fraction":function(r,t){return r.div(t)},"Unit, number | Fraction | BigNumber":function(r,t){var e=r.clone();return e.value=o(null===e.value?e._normalize(1):e.value,t),e},"number | Fraction | BigNumber, Unit":function(r,t){var e=t.pow(-1);return e.value=a(null===e.value?e._normalize(1):e.value,r),e},"Unit, Unit":function(r,t){return r.divide(t)}});return o}},function(r,t,e){"use strict";var n=e(139).nearlyEqual,i=e(224);t.name="compare",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=a(e(225)),f=a(e(290)),c=a(e(251)),p=a(e(213)),l=a(e(191)),h=o("compare",{"boolean, boolean":function(r,t){return r===t?0:r>t?1:-1},"number, number":function(r,e){return r===e||n(r,e,t.epsilon)?0:r>e?1:-1},"BigNumber, BigNumber":function(e,n){return e.eq(n)||i(e,n,t.epsilon)?new r.BigNumber(0):new r.BigNumber(e.cmp(n))},"Fraction, Fraction":function(t,e){return new r.Fraction(t.compare(e))},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return h(r.value,t.value)},"SparseMatrix, SparseMatrix":function(r,t){return f(r,t,h)},"SparseMatrix, DenseMatrix":function(r,t){return u(t,r,h,!0)},"DenseMatrix, SparseMatrix":function(r,t){return u(r,t,h,!1)},"DenseMatrix, DenseMatrix":function(r,t){return p(r,t,h)},"Array, Array":function(r,t){return h(s(r),s(t)).valueOf()},"Array, Matrix":function(r,t){return h(s(r),t)},"Matrix, Array":function(r,t){return h(r,s(t))},"SparseMatrix, any":function(r,t){return c(r,t,h,!1)},"DenseMatrix, any":function(r,t){return l(r,t,h,!1)},"any, SparseMatrix":function(r,t){return c(t,r,h,!0)},"any, DenseMatrix":function(r,t){return l(t,r,h,!0)},"Array, any":function(r,t){return l(s(r),t,h,!1).valueOf()},"any, Array":function(r,t){return l(s(t),r,h,!0).valueOf()}});return h.toTex=void 0,h}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,t,e){"use strict";var n=e(430);t.mixin=function(r){var t=new n;return r.on=t.on.bind(t),r.off=t.off.bind(t),r.once=t.once.bind(t),r.emit=t.emit.bind(t),r}},function(r,t,e){"use strict";function ArgumentsError(r,t,e,n){if(!(this instanceof ArgumentsError))throw new SyntaxError("Constructor must be called with the new operator");this.fn=r,this.count=t,this.min=e,this.max=n,this.message="Wrong number of arguments in function "+r+" ("+t+" provided, "+e+(null!=n?"-"+n:"")+" expected)",this.stack=(new Error).stack}ArgumentsError.prototype=new Error,ArgumentsError.prototype.constructor=Error,ArgumentsError.prototype.name="ArgumentsError",ArgumentsError.prototype.isArgumentsError=!0,r.exports=ArgumentsError},function(r,t,e){"use strict";var n=e(181),i=e(147),a=n.string,o=n.array,s=n.object,u=n.number,f=Array.isArray,c=u.isNumber,p=u.isInteger,l=a.isString,h=o.validateIndex;t.name="DenseMatrix",t.path="type",t.factory=function factory(r,t,u,m){var y=u(e(249));function DenseMatrix(t,e){if(!(this instanceof DenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!l(e))throw new Error("Invalid datatype: "+e);if(r.isMatrix(t))"DenseMatrix"===t.type?(this._data=s.clone(t._data),this._size=s.clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&f(t.data)&&f(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(f(t))this._data=function preprocess(r){for(var t=0,e=r.length;t<e;t++){var n=r[t];f(n)?r[t]=preprocess(n):n&&!0===n.isMatrix&&(r[t]=preprocess(n.valueOf()))}return r}(t),this._size=o.size(this._data),o.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+n.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function _get(t,e){if(!r.isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n=e.size();if(n.length!=t._size.length)throw new i(n.length,t._size.length);for(var a=e.min(),o=e.max(),s=0,u=t._size.length;s<u;s++)h(a[s],t._size[s]),h(o[s],t._size[s]);return new DenseMatrix(function _getSubmatrix(r,t,e,n){var i=n===e-1,a=t.dimension(n);return i?a.map((function(t){return h(t,r.length),r[t]})).valueOf():a.map((function(i){h(i,r.length);var a=r[i];return _getSubmatrix(a,t,e,n+1)})).valueOf()}(t._data,e,n.length,0),t._datatype)}function _set(t,e,n,a){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var u,f=e.size(),c=e.isScalar();if(r.isMatrix(n)?(u=n.size(),n=n.valueOf()):u=o.size(n),c){if(0!==u.length)throw new TypeError("Scalar expected");t.set(e.min(),n,a)}else{if(f.length<t._size.length)throw new i(f.length,t._size.length,"<");if(u.length<f.length){for(var p=0,l=0;1===f[p]&&1===u[p];)p++;for(;1===f[p];)l++,p++;n=o.unsqueeze(n,f.length,l,u)}if(!s.deepEqual(f,u))throw new i(f,u,">");_fit(t,e.max().map((function(r){return r+1})),a);var m=f.length;!function _setSubmatrix(r,t,e,n,i){var a=i===n-1,o=t.dimension(i);a?o.forEach((function(t,n){h(t),r[t]=e[n[0]]})):o.forEach((function(a,o){h(a),_setSubmatrix(r[a],t,e[o[0]],n,i+1)}))}(t._data,e,n,m,0)}return t}DenseMatrix.prototype=new y,DenseMatrix.prototype.type="DenseMatrix",DenseMatrix.prototype.isDenseMatrix=!0,DenseMatrix.prototype.storage=function(){return"dense"},DenseMatrix.prototype.datatype=function(){return this._datatype},DenseMatrix.prototype.create=function(r,t){return new DenseMatrix(r,t)},DenseMatrix.prototype.subset=function(r,t,e){switch(arguments.length){case 1:return _get(this,r);case 2:case 3:return _set(this,r,t,e);default:throw new SyntaxError("Wrong number of arguments")}},DenseMatrix.prototype.get=function(r){if(!f(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);for(var t=0;t<r.length;t++)h(r[t],this._size[t]);for(var e=this._data,n=0,a=r.length;n<a;n++){var o=r[n];h(o,e.length),e=e[o]}return e},DenseMatrix.prototype.set=function(r,t,e){if(!f(r))throw new TypeError("Array expected");if(r.length<this._size.length)throw new i(r.length,this._size.length,"<");var n,a,o;_fit(this,r.map((function(r){return r+1})),e);var s=this._data;for(n=0,a=r.length-1;n<a;n++)o=r[n],h(o,s.length),s=s[o];return o=r[r.length-1],h(o,s.length),s[o]=t,this},DenseMatrix.prototype.resize=function(r,t,e){if(!f(r))throw new TypeError("Array expected");var n=e?this.clone():this;return _resize(n,r,t)};var _resize=function(r,t,e){if(0===t.length){for(var n=r._data;f(n);)n=n[0];return n}return r._size=t.slice(0),r._data=o.resize(r._data,r._size,e),r};function _fit(r,t,e){for(var n=r._size.slice(0),i=!1;n.length<t.length;)n.push(0),i=!0;for(var a=0,o=t.length;a<o;a++)t[a]>n[a]&&(n[a]=t[a],i=!0);i&&_resize(r,n,e)}return DenseMatrix.prototype.reshape=function(r,t){var e=t?this.clone():this;return e._data=o.reshape(e._data,r),e._size=r.slice(0),e},DenseMatrix.prototype.clone=function(){return new DenseMatrix({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.size=function(){return this._size.slice(0)},DenseMatrix.prototype.map=function(r){var t=this,recurse=function(e,n){return f(e)?e.map((function(r,t){return recurse(r,n.concat(t))})):r(e,n,t)};return new DenseMatrix({data:recurse(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},DenseMatrix.prototype.forEach=function(r){var t=this,recurse=function(e,n){f(e)?e.forEach((function(r,t){recurse(r,n.concat(t))})):r(e,n,t)};recurse(this._data,[])},DenseMatrix.prototype.toArray=function(){return s.clone(this._data)},DenseMatrix.prototype.valueOf=function(){return this._data},DenseMatrix.prototype.format=function(r){return a.format(this._data,r)},DenseMatrix.prototype.toString=function(){return a.format(this._data)},DenseMatrix.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},DenseMatrix.prototype.diagonal=function(t){if(t){if(r.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],a=this._size[1],o=Math.min(i-n,a-e),s=[],u=0;u<o;u++)s[u]=this._data[u+n][u+e];return new DenseMatrix({data:s,size:[o],datatype:this._datatype})},DenseMatrix.diagonal=function(t,e,n,i,a){if(!f(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(r.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(r.isBigNumber(n)&&(n=n.toNumber()),!c(n)||!p(n))throw new TypeError("The parameter k must be an integer number")}else n=0;i&&l(a)&&(i=m.convert(i,a));var s,u=n>0?n:0,h=n<0?-n:0,y=t[0],g=t[1],v=Math.min(y-h,g-u);if(f(e)){if(e.length!==v)throw new Error("Invalid value array length");s=function(r){return e[r]}}else if(r.isMatrix(e)){var d=e.size();if(1!==d.length||d[0]!==v)throw new Error("Invalid matrix length");s=function(r){return e.get([r])}}else s=function(){return e};i||(i=r.isBigNumber(s(0))?new r.BigNumber(0):0);var x=[];if(t.length>0){x=o.resize(x,t,i);for(var w=0;w<v;w++)x[w+h][w+u]=s(w)}return new DenseMatrix({data:x,size:[y,g]})},DenseMatrix.fromJSON=function(r){return new DenseMatrix(r)},DenseMatrix.prototype.swapRows=function(r,t){if(!(c(r)&&p(r)&&c(t)&&p(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(r,this._size[0]),h(t,this._size[0]),DenseMatrix._swapRows(r,t,this._data),this},DenseMatrix._swapRows=function(r,t,e){var n=e[r];e[r]=e[t],e[t]=n},r.Matrix._storage.dense=DenseMatrix,r.Matrix._storage.default=DenseMatrix,DenseMatrix},t.lazy=!1},function(r,t,e){"use strict";var n=e(147);t.name="algorithm01",t.factory=function factory(r,t,e,i){var a=r.DenseMatrix;return function(r,t,e,o){var s=r._data,u=r._size,f=r._datatype,c=t._values,p=t._index,l=t._ptr,h=t._size,m=t._datatype;if(u.length!==h.length)throw new n(u.length,h.length);if(u[0]!==h[0]||u[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var y,g,v=u[0],d=u[1],x="string"==typeof f&&f===m?f:void 0,w=x?i.find(e,[x,x]):e,_=[];for(y=0;y<v;y++)_[y]=[];var b=[],M=[];for(g=0;g<d;g++){for(var E=g+1,A=l[g],z=l[g+1],N=A;N<z;N++)b[y=p[N]]=o?w(c[N],s[y][g]):w(s[y][g],c[N]),M[y]=E;for(y=0;y<v;y++)M[y]===E?_[y][g]=b[y]:_[y][g]=s[y][g]}return new a({data:_,size:[v,d],datatype:x})}}},function(r,t,e){"use strict";t.name="algorithm10",t.factory=function factory(r,t,e,n){var i=r.DenseMatrix;return function(r,t,e,a){var o=r._values,s=r._index,u=r._ptr,f=r._size,c=r._datatype;if(!o)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p,l=f[0],h=f[1],m=e;"string"==typeof c&&(p=c,t=n.convert(t,p),m=n.find(e,[p,p]));for(var y=[],g=new i({data:y,size:[l,h],datatype:p}),v=[],d=[],x=0;x<h;x++){for(var w=x+1,_=u[x],b=u[x+1],M=_;M<b;M++){var E=s[M];v[E]=o[M],d[E]=w}for(var A=0;A<l;A++)0===x&&(y[A]=[]),d[A]===w?y[A][x]=a?m(t,v[A]):m(v[A],t):y[A][x]=t}return g}}},function(r,t,e){"use strict";var n=e(139).nearlyEqual,i=e(224);t.name="smaller",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=a(e(225)),f=a(e(289)),c=a(e(251)),p=a(e(213)),l=a(e(191)),h=e(176),m=o("smaller",{"boolean, boolean":function(r,t){return r<t},"number, number":function(r,e){return r<e&&!n(r,e,t.epsilon)},"BigNumber, BigNumber":function(r,e){return r.lt(e)&&!i(r,e,t.epsilon)},"Fraction, Fraction":function(r,t){return-1===r.compare(t)},"Complex, Complex":function(r,t){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(r,t){if(!r.equalBase(t))throw new Error("Cannot compare units with different base");return m(r.value,t.value)},"SparseMatrix, SparseMatrix":function(r,t){return f(r,t,m)},"SparseMatrix, DenseMatrix":function(r,t){return u(t,r,m,!0)},"DenseMatrix, SparseMatrix":function(r,t){return u(r,t,m,!1)},"DenseMatrix, DenseMatrix":function(r,t){return p(r,t,m)},"Array, Array":function(r,t){return m(s(r),s(t)).valueOf()},"Array, Matrix":function(r,t){return m(s(r),t)},"Matrix, Array":function(r,t){return m(r,s(t))},"SparseMatrix, any":function(r,t){return c(r,t,m,!1)},"DenseMatrix, any":function(r,t){return l(r,t,m,!1)},"any, SparseMatrix":function(r,t){return c(t,r,m,!0)},"any, DenseMatrix":function(r,t){return l(t,r,m,!0)},"Array, any":function(r,t){return l(s(r),t,m,!1).valueOf()},"any, Array":function(r,t){return l(s(t),r,m,!0).valueOf()}});return m.toTex={2:"\\left(${args[0]}"+h.operators.smaller+"${args[1]}\\right)"},m}},function(r,t,e){"use strict";var n=e(147);t.name="algorithm07",t.factory=function factory(r,t,e,i){var a=r.DenseMatrix,_scatter=function(r,t,e,n,i){for(var a=r._values,o=r._index,s=r._ptr,u=s[t],f=s[t+1];u<f;u++){var c=o[u];e[c]=i,n[c]=a[u]}};return function(r,t,e){var o=r._size,s=r._datatype,u=t._size,f=t._datatype;if(o.length!==u.length)throw new n(o.length,u.length);if(o[0]!==u[0]||o[1]!==u[1])throw new RangeError("Dimension mismatch. Matrix A ("+o+") must match Matrix B ("+u+")");var c,p,l,h=o[0],m=o[1],y=0,g=e;"string"==typeof s&&s===f&&(c=s,y=i.convert(0,c),g=i.find(e,[c,c]));var v=[];for(p=0;p<h;p++)v[p]=[];var d=new a({data:v,size:[h,m],datatype:c}),x=[],w=[],_=[],b=[];for(l=0;l<m;l++){var M=l+1;for(_scatter(r,l,_,x,M),_scatter(t,l,b,w,M),p=0;p<h;p++){var E=_[p]===M?x[p]:y,A=b[p]===M?w[p]:y;v[p][l]=g(E,A)}}return d}}},function(r,t,e){"use strict";var n=e(147);t.name="algorithm05",t.factory=function factory(r,t,i,a){var o=i(e(190)),s=r.SparseMatrix;return function(r,t,e){var i=r._values,u=r._index,f=r._ptr,c=r._size,p=r._datatype,l=t._values,h=t._index,m=t._ptr,y=t._size,g=t._datatype;if(c.length!==y.length)throw new n(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");var v,d=c[0],x=c[1],w=o,_=0,b=e;"string"==typeof p&&p===g&&(v=p,w=a.find(o,[v,v]),_=a.convert(0,v),b=a.find(e,[v,v]));var M,E,A,z,N=i&&l?[]:void 0,S=[],O=[],I=new s({values:N,index:S,ptr:O,size:[d,x],datatype:v}),T=N?[]:void 0,D=N?[]:void 0,C=[],B=[];for(E=0;E<x;E++){O[E]=S.length;var R=E+1;for(A=f[E],z=f[E+1];A<z;A++)M=u[A],S.push(M),C[M]=R,T&&(T[M]=i[A]);for(A=m[E],z=m[E+1];A<z;A++)C[M=h[A]]!==R&&S.push(M),B[M]=R,D&&(D[M]=l[A]);if(N)for(A=O[E];A<S.length;){var P=C[M=S[A]],k=B[M];if(P===R||k===R){var F=b(P===R?T[M]:_,k===R?D[M]:_);w(F,_)?S.splice(A,1):(N.push(F),A++)}}}return O[x]=S.length,I}}},function(r,t,e){"use strict";t.name="algorithm11",t.factory=function factory(r,t,n,i){var a=n(e(190)),o=r.SparseMatrix;return function(r,t,e,n){var s=r._values,u=r._index,f=r._ptr,c=r._size,p=r._datatype;if(!s)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var l,h=c[0],m=c[1],y=a,g=0,v=e;"string"==typeof p&&(l=p,y=i.find(a,[l,l]),g=i.convert(0,l),t=i.convert(t,l),v=i.find(e,[l,l]));for(var d=[],x=[],w=[],_=new o({values:d,index:x,ptr:w,size:[h,m],datatype:l}),b=0;b<m;b++){w[b]=x.length;for(var M=f[b],E=f[b+1],A=M;A<E;A++){var z=u[A],N=n?v(t,s[A]):v(s[A],t);y(N,g)||(x.push(z),d.push(N))}}return w[m]=x.length,_}}},function(r,t,e){"use strict";var n=e(181),i=n.object,a=n.string;t.name="det",t.factory=function factory(r,t,n,o){var s=n(e(133)),u=(n(e(201)),n(e(226))),f=n(e(156)),c=n(e(227)),p=n(e(355)),l=o("det",{any:function(r){return i.clone(r)},"Array | Matrix":function det(t){var e;switch((e=r.isMatrix(t)?t.size():Array.isArray(t)?(t=s(t)).size():[]).length){case 0:return i.clone(t);case 1:if(1==e[0])return i.clone(t.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:var n=e[0],o=e[1];if(n==o)return function _det(r,t,e){if(1==t)return i.clone(r[0][0]);if(2==t)return u(f(r[0][0],r[1][1]),f(r[1][0],r[0][1]));for(var n=p(r),a=n.U[0][0],o=1;o<t;o++)a=f(a,n.U[o][o]);for(var s=0,l=(o=0,[]);;){for(;l[o];)o++;if(o>=t)break;for(var h=o,m=0;!l[n.p[h]];)l[n.p[h]]=!0,h=n.p[h],m++;m%2==0&&s++}return s%2==0?a:c(a)}(t.clone().valueOf(),n);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+a.format(e)+")")}}});return l.toTex={1:"\\det\\left(${args[0]}\\right)"},l}},function(r,t,e){"use strict";var n=e(136);t.name="size",t.factory=function factory(r,t,i,a){var o=i(e(133)),s=a("size",{Matrix:function(r){return o(r.size())},Array:n.size,string:function(r){return"Array"===t.matrix?[r.length]:o([r.length])},"number | Complex | BigNumber | Unit | boolean | null":function(r){return"Array"===t.matrix?[]:o([])}});return s.toTex=void 0,s}},function(r,t,e){"use strict";t.name="typeof",t.factory=function factory(r,t,e,n){var i=n("_typeof",{any:function(t){var e=typeof t;return"object"===e?null===t?"null":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":r.isBigNumber(t)?"BigNumber":r.isComplex(t)?"Complex":r.isFraction(t)?"Fraction":r.isMatrix(t)?"Matrix":r.isUnit(t)?"Unit":r.isIndex(t)?"Index":r.isRange(t)?"Range":r.isResultSet(t)?"ResultSet":r.isNode(t)?t.type:r.isChain(t)?"Chain":r.isHelp(t)?"Help":"Object":"function"===e?"Function":e}});return i.toTex=void 0,i}},function(r,t,e){"use strict";var n=e(137).hasOwnProperty;function isSafeProperty(r,t){return!(!r||"object"!=typeof r)&&(!!n(i,t)||!(t in Object.prototype)&&!(t in Function.prototype))}function isSafeMethod(r,t){return!(!r||"function"!=typeof r[t])&&(!(n(r,t)&&r.__proto__&&t in r.__proto__)&&(!!n(a,t)||!(t in Object.prototype)&&!(t in Function.prototype)))}function isPlainObject(r){return"object"==typeof r&&r&&r.constructor===Object}var i={length:!0,name:!0},a={toString:!0,valueOf:!0,toLocaleString:!0};t.getSafeProperty=function getSafeProperty(r,t){if(isPlainObject(r)&&isSafeProperty(r,t))return r[t];if("function"==typeof r[t]&&isSafeMethod(r,t))throw new Error('Cannot access method "'+t+'" as a property');throw new Error('No access to property "'+t+'"')},t.setSafeProperty=function setSafeProperty(r,t,e){if(isPlainObject(r)&&isSafeProperty(r,t))return r[t]=e;throw new Error('No access to property "'+t+'"')},t.isSafeProperty=isSafeProperty,t.validateSafeMethod=function validateSafeMethod(r,t){if(!isSafeMethod(r,t))throw new Error('No access to method "'+t+'"')},t.isSafeMethod=isSafeMethod,t.isPlainObject=isPlainObject},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(r,t,e){"use strict";var n=e(137).isFactory,i=e(338),a=e(283),o=e(340),s=e(341);t.create=function create(r){if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var t=[],e=[],u=a.mixin({});u.type={},u.expression={transform:{},mathWithTransform:{}},u.typed=i.create(u.type);var f={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function load(r){if(!n(r))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,a=t.indexOf(r);return-1===a?(i=!0===r.math?r.factory(u.type,f,load,u.typed,u):r.factory(u.type,f,load,u.typed),t.push(r),e.push(i)):i=e[a],i}return u.import=load(o),u.config=load(s),u.expression.mathWithTransform.config=u.config,r&&u.config(r),u}},function(r,t,e){"use strict";var n=e(339),i=e(139).digits,a=e(248),o=e(222),createTyped=function(){return createTyped=n.create,n};t.create=function create(r){r.isNumber=function(r){return"number"==typeof r},r.isComplex=function(t){return r.Complex&&t instanceof r.Complex||!1},r.isBigNumber=a,r.isFraction=function(t){return r.Fraction&&t instanceof r.Fraction||!1},r.isUnit=function(r){return r&&r.constructor.prototype.isUnit||!1},r.isString=function(r){return"string"==typeof r},r.isArray=Array.isArray,r.isMatrix=o,r.isDenseMatrix=function(r){return r&&r.isDenseMatrix&&r.constructor.prototype.isMatrix||!1},r.isSparseMatrix=function(r){return r&&r.isSparseMatrix&&r.constructor.prototype.isMatrix||!1},r.isRange=function(r){return r&&r.constructor.prototype.isRange||!1},r.isIndex=function(r){return r&&r.constructor.prototype.isIndex||!1},r.isBoolean=function(r){return"boolean"==typeof r},r.isResultSet=function(r){return r&&r.constructor.prototype.isResultSet||!1},r.isHelp=function(r){return r&&r.constructor.prototype.isHelp||!1},r.isFunction=function(r){return"function"==typeof r},r.isDate=function(r){return r instanceof Date},r.isRegExp=function(r){return r instanceof RegExp},r.isObject=function(t){return"object"==typeof t&&t.constructor===Object&&!r.isComplex(t)&&!r.isFraction(t)},r.isNull=function(r){return null===r},r.isUndefined=function(r){return void 0===r},r.isAccessorNode=function(r){return r&&r.isAccessorNode&&r.constructor.prototype.isNode||!1},r.isArrayNode=function(r){return r&&r.isArrayNode&&r.constructor.prototype.isNode||!1},r.isAssignmentNode=function(r){return r&&r.isAssignmentNode&&r.constructor.prototype.isNode||!1},r.isBlockNode=function(r){return r&&r.isBlockNode&&r.constructor.prototype.isNode||!1},r.isConditionalNode=function(r){return r&&r.isConditionalNode&&r.constructor.prototype.isNode||!1},r.isConstantNode=function(r){return r&&r.isConstantNode&&r.constructor.prototype.isNode||!1},r.isFunctionAssignmentNode=function(r){return r&&r.isFunctionAssignmentNode&&r.constructor.prototype.isNode||!1},r.isFunctionNode=function(r){return r&&r.isFunctionNode&&r.constructor.prototype.isNode||!1},r.isIndexNode=function(r){return r&&r.isIndexNode&&r.constructor.prototype.isNode||!1},r.isNode=function(r){return r&&r.isNode&&r.constructor.prototype.isNode||!1},r.isObjectNode=function(r){return r&&r.isObjectNode&&r.constructor.prototype.isNode||!1},r.isOperatorNode=function(r){return r&&r.isOperatorNode&&r.constructor.prototype.isNode||!1},r.isParenthesisNode=function(r){return r&&r.isParenthesisNode&&r.constructor.prototype.isNode||!1},r.isRangeNode=function(r){return r&&r.isRangeNode&&r.constructor.prototype.isNode||!1},r.isSymbolNode=function(r){return r&&r.isSymbolNode&&r.constructor.prototype.isNode||!1},r.isChain=function(r){return r&&r.constructor.prototype.isChain||!1};var t=createTyped();return t.types=[{name:"number",test:r.isNumber},{name:"Complex",test:r.isComplex},{name:"BigNumber",test:r.isBigNumber},{name:"Fraction",test:r.isFraction},{name:"Unit",test:r.isUnit},{name:"string",test:r.isString},{name:"Array",test:r.isArray},{name:"Matrix",test:r.isMatrix},{name:"DenseMatrix",test:r.isDenseMatrix},{name:"SparseMatrix",test:r.isSparseMatrix},{name:"Range",test:r.isRange},{name:"Index",test:r.isIndex},{name:"boolean",test:r.isBoolean},{name:"ResultSet",test:r.isResultSet},{name:"Help",test:r.isHelp},{name:"function",test:r.isFunction},{name:"Date",test:r.isDate},{name:"RegExp",test:r.isRegExp},{name:"null",test:r.isNull},{name:"undefined",test:r.isUndefined},{name:"OperatorNode",test:r.isOperatorNode},{name:"ConstantNode",test:r.isConstantNode},{name:"SymbolNode",test:r.isSymbolNode},{name:"ParenthesisNode",test:r.isParenthesisNode},{name:"FunctionNode",test:r.isFunctionNode},{name:"FunctionAssignmentNode",test:r.isFunctionAssignmentNode},{name:"ArrayNode",test:r.isArrayNode},{name:"AssignmentNode",test:r.isAssignmentNode},{name:"BlockNode",test:r.isBlockNode},{name:"ConditionalNode",test:r.isConditionalNode},{name:"IndexNode",test:r.isIndexNode},{name:"RangeNode",test:r.isRangeNode},{name:"Node",test:r.isNode},{name:"Object",test:r.isObject}],t.conversions=[{from:"number",to:"BigNumber",convert:function(t){if(i(t)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+t+"). Use function bignumber(x) to convert to BigNumber.");return new r.BigNumber(t)}},{from:"number",to:"Complex",convert:function(t){return new r.Complex(t,0)}},{from:"number",to:"string",convert:function(r){return r+""}},{from:"BigNumber",to:"Complex",convert:function(t){return new r.Complex(t.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(r){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(t){return new r.Complex(t.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(t){if(new r.Fraction(t).valueOf()!==t)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+t+"). Use function fraction(x) to convert to Fraction.");return new r.Fraction(t)}},{from:"string",to:"number",convert:function(r){var t=Number(r);if(isNaN(t))throw new Error('Cannot convert "'+r+'" to a number');return t}},{from:"string",to:"BigNumber",convert:function(t){try{return new r.BigNumber(t)}catch(r){throw new Error('Cannot convert "'+t+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(t){try{return new r.Fraction(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(t){try{return new r.Complex(t)}catch(r){throw new Error('Cannot convert "'+t+'" to Complex')}}},{from:"boolean",to:"number",convert:function(r){return+r}},{from:"boolean",to:"BigNumber",convert:function(t){return new r.BigNumber(+t)}},{from:"boolean",to:"Fraction",convert:function(t){return new r.Fraction(+t)}},{from:"boolean",to:"string",convert:function(r){return+r}},{from:"Array",to:"Matrix",convert:function(t){return new r.DenseMatrix(t)}},{from:"Matrix",to:"Array",convert:function(r){return r.valueOf()}}],t}},function(r,t,e){"use strict";var n,i,a;i=[],void 0===(a="function"==typeof(n=function(){function ok(){return!0}function notOk(){return!1}function undef(){}return function create(){var r=[{name:"number",test:function(r){return"number"==typeof r}},{name:"string",test:function(r){return"string"==typeof r}},{name:"boolean",test:function(r){return"boolean"==typeof r}},{name:"Function",test:function(r){return"function"==typeof r}},{name:"Array",test:Array.isArray},{name:"Date",test:function(r){return r instanceof Date}},{name:"RegExp",test:function(r){return r instanceof RegExp}},{name:"Object",test:function(r){return"object"==typeof r&&r.constructor===Object}},{name:"null",test:function(r){return null===r}},{name:"undefined",test:function(r){return void 0===r}}],t={name:"any",test:ok},e=[],n=[],i={types:r,conversions:n,ignore:e};function findTypeByName(r){var e=findInArray(i.types,(function(t){return t.name===r}));if(e)return e;if("any"===r)return t;var n=findInArray(i.types,(function(t){return t.name.toLowerCase()===r.toLowerCase()}));throw new TypeError('Unknown type "'+r+'"'+(n?'. Did you mean "'+n.name+'"?':""))}function findTypeIndex(r){return r===t?999:i.types.indexOf(r)}function findTypeName(r){var t=findInArray(i.types,(function(t){return t.test(r)}));if(t)return t.name;throw new TypeError("Value has unknown type. Value: "+r)}function stringifyParams(r){return r.map((function(r){var t=r.types.map(getTypeName);return(r.restParam?"...":"")+t.join("|")})).join(",")}function parseParam(r,t){var e=0===r.indexOf("..."),n=(e?r.length>3?r.slice(3):"any":r).split("|").map(trim).filter(notEmpty).filter(notIgnore),i=function filterConversions(r,t){var e={};return r.forEach((function(r){-1!==t.indexOf(r.from)||-1===t.indexOf(r.to)||e[r.from]||(e[r.from]=r)})),Object.keys(e).map((function(r){return e[r]}))}(t,n),a=n.map((function(r){var t=findTypeByName(r);return{name:r,typeIndex:findTypeIndex(t),test:t.test,conversion:null,conversionIndex:-1}})),o=i.map((function(r){var e=findTypeByName(r.from);return{name:r.from,typeIndex:findTypeIndex(e),test:e.test,conversion:r,conversionIndex:t.indexOf(r)}}));return{types:a.concat(o),restParam:e}}function hasRestParam(r){var t=last(r);return!!t&&t.restParam}function hasConversions(r){return r.types.some((function(r){return null!=r.conversion}))}function compileTest(r){if(r&&0!==r.types.length){if(1===r.types.length)return findTypeByName(r.types[0].name).test;if(2===r.types.length){var t=findTypeByName(r.types[0].name).test,e=findTypeByName(r.types[1].name).test;return function or(r){return t(r)||e(r)}}var n=r.types.map((function(r){return findTypeByName(r.name).test}));return function or(r){for(var t=0;t<n.length;t++)if(n[t](r))return!0;return!1}}return ok}function compileTests(r){var t,e,n;if(hasRestParam(r)){var i=(t=function initial(r){return r.slice(0,r.length-1)}(r).map(compileTest)).length,a=compileTest(last(r));return function testArgs(r){for(var e=0;e<t.length;e++)if(!t[e](r[e]))return!1;return function(r){for(var t=i;t<r.length;t++)if(!a(r[t]))return!1;return!0}(r)&&r.length>=i+1}}return 0===r.length?function testArgs(r){return 0===r.length}:1===r.length?(e=compileTest(r[0]),function testArgs(r){return e(r[0])&&1===r.length}):2===r.length?(e=compileTest(r[0]),n=compileTest(r[1]),function testArgs(r){return e(r[0])&&n(r[1])&&2===r.length}):(t=r.map(compileTest),function testArgs(r){for(var e=0;e<t.length;e++)if(!t[e](r[e]))return!1;return r.length===t.length})}function getParamAtIndex(r,t){return t<r.params.length?r.params[t]:hasRestParam(r.params)?last(r.params):null}function getExpectedTypeNames(r,t,e){var n=getParamAtIndex(r,t);return(n?e?n.types.filter(isExactType):n.types:[]).map(getTypeName)}function getTypeName(r){return r.name}function isExactType(r){return null===r.conversion||void 0===r.conversion}function mergeExpectedParams(r,t){var e=function uniq(r){for(var t={},e=0;e<r.length;e++)t[r[e]]=!0;return Object.keys(t)}(flatMap(r,(function(r){return getExpectedTypeNames(r,t,!1)})));return-1!==e.indexOf("any")?["any"]:e}function createError(r,t,e){var n,i,a,o=r||"unnamed",s=e;for(a=0;a<t.length;a++){var u=s.filter((function(r){var e=compileTest(getParamAtIndex(r,a));return(a<r.params.length||hasRestParam(r.params))&&e(t[a])}));if(0===u.length){if((i=mergeExpectedParams(s,a)).length>0){var f=findTypeName(t[a]);return(n=new TypeError("Unexpected type of argument in function "+o+" (expected: "+i.join(" or ")+", actual: "+f+", index: "+a+")")).data={category:"wrongType",fn:o,index:a,actual:f,expected:i},n}}else s=u}var c=s.map((function(r){return hasRestParam(r.params)?1/0:r.params.length}));if(t.length<Math.min.apply(null,c))return i=mergeExpectedParams(s,a),(n=new TypeError("Too few arguments in function "+o+" (expected: "+i.join(" or ")+", index: "+t.length+")")).data={category:"tooFewArgs",fn:o,index:t.length,expected:i},n;var p=Math.max.apply(null,c);return t.length>p?((n=new TypeError("Too many arguments in function "+o+" (expected: "+p+", actual: "+t.length+")")).data={category:"tooManyArgs",fn:o,index:t.length,expectedLength:p},n):((n=new TypeError('Arguments of type "'+t.join(", ")+'" do not match any of the defined signatures of function '+o+".")).data={category:"mismatch",actual:t.map(findTypeName)},n)}function getLowestTypeIndex(r){for(var t=999,e=0;e<r.types.length;e++)isExactType(r.types[e])&&(t=Math.min(t,r.types[e].typeIndex));return t}function getLowestConversionIndex(r){for(var t=999,e=0;e<r.types.length;e++)isExactType(r.types[e])||(t=Math.min(t,r.types[e].conversionIndex));return t}function compareParams(r,t){var e;return 0!=(e=r.restParam-t.restParam)||0!=(e=hasConversions(r)-hasConversions(t))||0!=(e=getLowestTypeIndex(r)-getLowestTypeIndex(t))?e:getLowestConversionIndex(r)-getLowestConversionIndex(t)}function compareSignatures(r,t){var e,n,i=Math.min(r.params.length,t.params.length);if(0!=(n=r.params.some(hasConversions)-t.params.some(hasConversions)))return n;for(e=0;e<i;e++)if(0!=(n=hasConversions(r.params[e])-hasConversions(t.params[e])))return n;for(e=0;e<i;e++)if(0!==(n=compareParams(r.params[e],t.params[e])))return n;return r.params.length-t.params.length}function compileArgConversion(r){var t,e,n,i,a=[],o=[];switch(r.types.forEach((function(r){r.conversion&&(a.push(findTypeByName(r.conversion.from).test),o.push(r.conversion.convert))})),o.length){case 0:return function convertArg(r){return r};case 1:return t=a[0],n=o[0],function convertArg(r){return t(r)?n(r):r};case 2:return t=a[0],e=a[1],n=o[0],i=o[1],function convertArg(r){return t(r)?n(r):e(r)?i(r):r};default:return function convertArg(r){for(var t=0;t<o.length;t++)if(a[t](r))return o[t](r);return r}}}function splitParams(r,t){return function _splitParams(r,e,n){if(e<r.length){var i,a=r[e],o=t?a.types.filter(isExactType):a.types;if(a.restParam){var s=o.filter(isExactType);i=s.length<o.length?[s,o]:[o]}else i=o.map((function(r){return[r]}));return flatMap(i,(function(t){return _splitParams(r,e+1,n.concat([t]))}))}return[n.map((function(t,e){return{types:t,restParam:e===r.length-1&&hasRestParam(r)}}))]}(r,0,[])}function createTypedFunction(r,t){if(0===Object.keys(t).length)throw new SyntaxError("No signatures provided");var e=[];Object.keys(t).map((function(r){return function parseSignature(r,t,e){var n=[];return""!==r.trim()&&(n=r.split(",").map(trim).map((function(r,t,n){var i=parseParam(r,e);if(i.restParam&&t!==n.length-1)throw new SyntaxError('Unexpected rest parameter "'+r+'": only allowed for the last parameter');return i}))),n.some(isInvalidParam)?null:{params:n,fn:t}}(r,t[r],i.conversions)})).filter(notNull).forEach((function(r){var t=findInArray(e,(function(t){return function hasConflictingParams(r,t){for(var e=Math.max(r.params.length,t.params.length),n=0;n<e;n++)if(!hasOverlap(getExpectedTypeNames(r,n,!0),getExpectedTypeNames(t,n,!0)))return!1;var i=r.params.length,a=t.params.length,o=hasRestParam(r.params),s=hasRestParam(t.params);return o?s?i===a:a>=i:s?i>=a:i===a}(t,r)}));if(t)throw new TypeError('Conflicting signatures "'+stringifyParams(t.params)+'" and "'+stringifyParams(r.params)+'".');e.push(r)}));var n=flatMap(e,(function(r){return(r?splitParams(r.params,!1):[]).map((function(t){return{params:t,fn:r.fn}}))})).filter(notNull);n.sort(compareSignatures);var a=n[0]&&n[0].params.length<=2&&!hasRestParam(n[0].params),o=n[1]&&n[1].params.length<=2&&!hasRestParam(n[1].params),s=n[2]&&n[2].params.length<=2&&!hasRestParam(n[2].params),u=n[3]&&n[3].params.length<=2&&!hasRestParam(n[3].params),f=n[4]&&n[4].params.length<=2&&!hasRestParam(n[4].params),c=n[5]&&n[5].params.length<=2&&!hasRestParam(n[5].params),p=a&&o&&s&&u&&f&&c,l=n.map((function(r){return compileTests(r.params)})),h=a?compileTest(n[0].params[0]):notOk,m=o?compileTest(n[1].params[0]):notOk,y=s?compileTest(n[2].params[0]):notOk,g=u?compileTest(n[3].params[0]):notOk,v=f?compileTest(n[4].params[0]):notOk,d=c?compileTest(n[5].params[0]):notOk,x=a?compileTest(n[0].params[1]):notOk,w=o?compileTest(n[1].params[1]):notOk,_=s?compileTest(n[2].params[1]):notOk,b=u?compileTest(n[3].params[1]):notOk,M=f?compileTest(n[4].params[1]):notOk,E=c?compileTest(n[5].params[1]):notOk,A=n.map((function(r){return function compileArgsPreprocessing(r,t){var e=t;if(r.some(hasConversions)){var n=hasRestParam(r),i=r.map(compileArgConversion);e=function convertArgs(){for(var r=[],e=n?arguments.length-1:arguments.length,a=0;a<e;a++)r[a]=i[a](arguments[a]);return n&&(r[e]=arguments[e].map(i[e])),t.apply(null,r)}}var a=e;if(hasRestParam(r)){var o=r.length-1;a=function preprocessRestParams(){return e.apply(null,slice(arguments,0,o).concat([slice(arguments,o)]))}}return a}(r.params,r.fn)})),z=a?A[0]:undef,N=o?A[1]:undef,S=s?A[2]:undef,O=u?A[3]:undef,I=f?A[4]:undef,T=c?A[5]:undef,D=a?n[0].params.length:-1,C=o?n[1].params.length:-1,B=s?n[2].params.length:-1,R=u?n[3].params.length:-1,P=f?n[4].params.length:-1,k=c?n[5].params.length:-1,F=p?6:0,j=n.length,q=function generic(){for(var t=F;t<j;t++)if(l[t](arguments))return A[t].apply(null,arguments);throw createError(r,arguments,n)},U=function fn(r,t){return arguments.length===D&&h(r)&&x(t)?z.apply(null,arguments):arguments.length===C&&m(r)&&w(t)?N.apply(null,arguments):arguments.length===B&&y(r)&&_(t)?S.apply(null,arguments):arguments.length===R&&g(r)&&b(t)?O.apply(null,arguments):arguments.length===P&&v(r)&&M(t)?I.apply(null,arguments):arguments.length===k&&d(r)&&E(t)?T.apply(null,arguments):q.apply(null,arguments)};try{Object.defineProperty(U,"name",{value:r})}catch(r){}return U.signatures=function createSignaturesMap(r){var t={};return r.forEach((function(r){r.params.some(hasConversions)||splitParams(r.params,!0).forEach((function(e){t[stringifyParams(e)]=r.fn}))})),t}(n),U}function notIgnore(r){return-1===i.ignore.indexOf(r)}function trim(r){return r.trim()}function notEmpty(r){return!!r}function notNull(r){return null!==r}function isInvalidParam(r){return 0===r.types.length}function last(r){return r[r.length-1]}function slice(r,t,e){return Array.prototype.slice.call(r,t,e)}function hasOverlap(r,t){for(var e=0;e<r.length;e++)if(n=t,i=r[e],-1!==n.indexOf(i))return!0;var n,i;return!1}function findInArray(r,t){for(var e=0;e<r.length;e++)if(t(r[e]))return r[e]}function flatMap(r,t){return Array.prototype.concat.apply([],r.map(t))}function getName(r){for(var t="",e=0;e<r.length;e++){var n=r[e];if(n.signatures&&""!==n.name)if(""===t)t=n.name;else if(t!==n.name){var i=new Error("Function names do not match (expected: "+t+", actual: "+n.name+")");throw i.data={actual:n.name,expected:t},i}}return t}return(i=createTypedFunction("typed",{"string, Object":createTypedFunction,Object:function(r){var t=[];for(var e in r)r.hasOwnProperty(e)&&t.push(r[e]);return createTypedFunction(getName(t),r)},"...Function":function(r){for(var t,e=getName(r),n={},i=0;i<r.length;i++){var a=r[i];if("object"!=typeof a.signatures)throw(t=new TypeError("Function is no typed-function (index: "+i+")")).data={index:i},t;for(var o in a.signatures)if(a.signatures.hasOwnProperty(o))if(n.hasOwnProperty(o)){if(a.signatures[o]!==n[o])throw(t=new Error('Signature "'+o+'" is defined twice')).data={signature:o},t}else n[o]=a.signatures[o]}return createTypedFunction(e,n)}})).create=create,i.types=r,i.conversions=n,i.ignore=e,i.convert=function convert(r,t){var e=findTypeName(r);if(t===e)return r;for(var n=0;n<i.conversions.length;n++){var a=i.conversions[n];if(a.from===e&&a.to===t)return a.convert(r)}throw new Error("Cannot convert from "+e+" to "+t)},i.find=function find(r,t){if(!r.signatures)throw new TypeError("Function is no typed-function");var e;if("string"==typeof t){e=t.split(",");for(var n=0;n<e.length;n++)e[n]=e[n].trim()}else{if(!Array.isArray(t))throw new TypeError("String array or a comma separated string expected");e=t}var i=e.join(","),a=r.signatures[i];if(a)return a;throw new TypeError("Signature not found (signature: "+(r.name||"unnamed")+"("+e.join(", ")+"))")},i.addType=function(r){if(!r||"string"!=typeof r.name||"function"!=typeof r.test)throw new TypeError("Object with properties {name: string, test: function} expected");i.types.push(r)},i.addConversion=function(r){if(!r||"string"!=typeof r.from||"string"!=typeof r.to||"function"!=typeof r.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");i.conversions.push(r)},i}()})?n.apply(t,i):n)||(r.exports=a)},function(r,t,e){"use strict";var n=e(137).lazy,i=e(137).isFactory,a=e(137).traverse,o=e(284);t.math=!0,t.name="import",t.factory=function factory(r,t,e,s,u){function _import(r,t,e){if(e.wrap&&"function"==typeof t&&(t=function _wrap(r){var t=function wrapper(){for(var t=[],e=0,n=arguments.length;e<n;e++){var i=arguments[e];t[e]=i&&i.valueOf()}return r.apply(u,t)};r.transform&&(t.transform=r.transform);return t}(t)),isTypedFunction(u[r])&&isTypedFunction(t))return t=e.override?s(r,t.signatures):s(u[r],t),u[r]=t,_importTransform(r,t),void u.emit("import",r,(function resolver(){return t}));if(void 0===u[r]||e.override)return u[r]=t,_importTransform(r,t),void u.emit("import",r,(function resolver(){return t}));if(!e.silent)throw new Error('Cannot import "'+r+'": already exists')}function _importTransform(r,t){t&&"function"==typeof t.transform?(u.expression.transform[r]=t.transform,allowedInExpressions(r)&&(u.expression.mathWithTransform[r]=t.transform)):(delete u.expression.transform[r],allowedInExpressions(r)&&(u.expression.mathWithTransform[r]=t))}function _importFactory(r,t){if("string"==typeof r.name){var i=r.name,o=i in u.expression.transform,f=r.path?a(u,r.path):u,c=f.hasOwnProperty(i)?f[i]:void 0,resolver=function(){var n=e(r);if(n&&"function"==typeof n.transform)throw new Error('Transforms cannot be attached to factory functions. Please create a separate function for it with exports.path="expression.transform"');if(isTypedFunction(c)&&isTypedFunction(n))return t.override||(n=s(c,n)),n;if(void 0===c||t.override)return n;if(!t.silent)throw new Error('Cannot import "'+i+'": already exists')};!1!==r.lazy?(n(f,i,resolver),o||("expression.transform"===r.path||factoryAllowedInExpressions(r))&&n(u.expression.mathWithTransform,i,resolver)):(f[i]=resolver(),o||("expression.transform"===r.path||factoryAllowedInExpressions(r))&&(u.expression.mathWithTransform[i]=resolver())),u.emit("import",i,resolver,r.path)}else e(r)}function isSupportedType(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&r.isUnit(t)||t&&r.isComplex(t)||t&&r.isBigNumber(t)||t&&r.isFraction(t)||t&&r.isMatrix(t)||t&&Array.isArray(t)}function isTypedFunction(r){return"function"==typeof r&&"object"==typeof r.signatures}function allowedInExpressions(r){return!f.hasOwnProperty(r)}function factoryAllowedInExpressions(r){return void 0===r.path&&!f.hasOwnProperty(r.name)}var f={expression:!0,type:!0,docs:!0,error:!0,json:!0,chain:!0};return(function math_import(r,t){var e=arguments.length;if(1!==e&&2!==e)throw new o("import",e,1,2);if(t||(t={}),i(r))_importFactory(r,t);else if(Array.isArray(r))r.forEach((function(r){math_import(r,t)}));else if("object"==typeof r){for(var n in r)if(r.hasOwnProperty(n)){var a=r[n];isSupportedType(a)?_import(n,a,t):i(r)?_importFactory(r,t):math_import(a,t)}}else if(!t.silent)throw new TypeError("Factory, Object, or Array expected")})},t.lazy=!0},function(r,t,e){"use strict";var n=e(137);function validateOption(r,t,e){if(void 0!==r[t]&&!function contains(r,t){return-1!==r.indexOf(t)}(e,r[t])){var n=function findIndex(r,t){return r.map((function(r){return r.toLowerCase()})).indexOf(t.toLowerCase())}(e,r[t]);-1!==n?(console.warn('Warning: Wrong casing for configuration option "'+t+'", should be "'+e[n]+'" instead of "'+r[t]+'".'),r[t]=e[n]):console.warn('Warning: Unknown value "'+r[t]+'" for configuration option "'+t+'". Available options: '+e.map(JSON.stringify).join(", ")+".")}}t.name="config",t.math=!0,t.factory=function factory(r,t,e,i,a){var o=["Matrix","Array"],s=["number","BigNumber","Fraction"];function _config(r){if(r){var e=n.map(t,n.clone);validateOption(r,"matrix",o),validateOption(r,"number",s),n.deepExtend(t,r);var i=n.map(t,n.clone),u=n.map(r,n.clone);return a.emit("config",i,e,u),i}return n.map(t,n.clone)}return _config.MATRIX=o,_config.NUMBER=s,_config}},function(r,t,e){"use strict";var n=e(137);t.format=function(r,e){if("function"==typeof e)return e(r);if(!r.isFinite())return r.isNaN()?"NaN":r.gt(0)?"Infinity":"-Infinity";var i="auto",a=void 0;switch(void 0!==e&&(e.notation&&(i=e.notation),"number"==typeof e?a=e:e.precision&&(a=e.precision)),i){case"fixed":return t.toFixed(r,a);case"exponential":return t.toExponential(r,a);case"auto":if(e&&e.exponential&&(void 0!==e.exponential.lower||void 0!==e.exponential.upper)){var o=n.map(e,(function(r){return r}));return o.exponential=void 0,void 0!==e.exponential.lower&&(o.lowerExp=Math.round(Math.log(e.exponential.lower)/Math.LN10)),void 0!==e.exponential.upper&&(o.upperExp=Math.round(Math.log(e.exponential.upper)/Math.LN10)),console.warn("Deprecation warning: Formatting options exponential.lower and exponential.upper (minimum and maximum value) are replaced with exponential.lowerExp and exponential.upperExp (minimum and maximum exponent) since version 4.0.0. Replace "+JSON.stringify(e)+" with "+JSON.stringify(o)),t.format(r,o)}var s=e&&void 0!==e.lowerExp?e.lowerExp:-3,u=e&&void 0!==e.upperExp?e.upperExp:5;if(r.isZero())return"0";var f=r.logarithm();return(f.gte(s)&&f.lt(u)?r.toSignificantDigits(a).toFixed():t.toExponential(r,a)).replace(/((\.\d*?)(0+))($|e)/,(function(){var r=arguments[2],t=arguments[4];return"."!==r?r+t:t}));default:throw new Error('Unknown notation "'+i+'". Choose "auto", "exponential", or "fixed".')}},t.toExponential=function(r,t){return void 0!==t?r.toExponential(t-1):r.toExponential()},t.toFixed=function(r,t){return r.toFixed(t)}},function(r,t,e){"use strict";t.isBoolean=function(r){return"boolean"==typeof r}},function(r,t,e){"use strict";var n=e(181),i=e(147),a=n.array,o=n.object,s=n.string,u=n.number,f=Array.isArray,c=u.isNumber,p=u.isInteger,l=s.isString,h=a.validateIndex;t.name="SparseMatrix",t.path="type",t.factory=function factory(r,t,m,y){var g=m(e(249)),v=m(e(190));function SparseMatrix(t,e){if(!(this instanceof SparseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!l(e))throw new Error("Invalid datatype: "+e);if(r.isMatrix(t))_createFromMatrix(this,t,e);else if(t&&f(t.index)&&f(t.ptr)&&f(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(f(t))_createFromArray(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+n.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var _createFromMatrix=function(r,t,e){"SparseMatrix"===t.type?(r._values=t._values?o.clone(t._values):void 0,r._index=o.clone(t._index),r._ptr=o.clone(t._ptr),r._size=o.clone(t._size),r._datatype=e||t._datatype):_createFromArray(r,t.valueOf(),e||t._datatype)},_createFromArray=function(r,t,e){r._values=[],r._index=[],r._ptr=[],r._datatype=e;var n=t.length,i=0,a=v,o=0;if(l(e)&&(a=y.find(v,[e,e])||v,o=y.convert(0,e)),n>0){var s=0;do{r._ptr.push(r._index.length);for(var u=0;u<n;u++){var c=t[u];if(f(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var p=c[s];a(p,o)||(r._values.push(p),r._index.push(u))}}else 0===s&&i<1&&(i=1),a(c,o)||(r._values.push(c),r._index.push(u))}s++}while(s<i)}r._ptr.push(r._index.length),r._size=[n,i]};SparseMatrix.prototype=new g,SparseMatrix.prototype.type="SparseMatrix",SparseMatrix.prototype.isSparseMatrix=!0,SparseMatrix.prototype.storage=function(){return"sparse"},SparseMatrix.prototype.datatype=function(){return this._datatype},SparseMatrix.prototype.create=function(r,t){return new SparseMatrix(r,t)},SparseMatrix.prototype.density=function(){var r=this._size[0],t=this._size[1];return 0!==r&&0!==t?this._index.length/(r*t):0},SparseMatrix.prototype.subset=function(r,t,e){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return _getsubset(this,r);case 2:case 3:return _setsubset(this,r,t,e);default:throw new SyntaxError("Wrong number of arguments")}};var _getsubset=function(t,e){if(!r.isIndex(e))throw new TypeError("Invalid index");if(e.isScalar())return t.get(e.min());var n,a,o,s,u=e.size();if(u.length!=t._size.length)throw new i(u.length,t._size.length);var f=e.min(),c=e.max();for(n=0,a=t._size.length;n<a;n++)h(f[n],t._size[n]),h(c[n],t._size[n]);var p=t._values,l=t._index,m=t._ptr,y=e.dimension(0),g=e.dimension(1),v=[],d=[];y.forEach((function(r,t){d[r]=t[0],v[r]=!0}));var x=p?[]:void 0,w=[],_=[];return g.forEach((function(r){for(_.push(w.length),o=m[r],s=m[r+1];o<s;o++)n=l[o],!0===v[n]&&(w.push(d[n]),x&&x.push(p[o]))})),_.push(w.length),new SparseMatrix({values:x,index:w,ptr:_,size:u,datatype:t._datatype})},_setsubset=function(t,e,n,s){if(!e||!0!==e.isIndex)throw new TypeError("Invalid index");var u,f=e.size(),c=e.isScalar();if(r.isMatrix(n)?(u=n.size(),n=n.toArray()):u=a.size(n),c){if(0!==u.length)throw new TypeError("Scalar expected");t.set(e.min(),n,s)}else{if(1!==f.length&&2!==f.length)throw new i(f.length,t._size.length,"<");if(u.length<f.length){for(var p=0,l=0;1===f[p]&&1===u[p];)p++;for(;1===f[p];)l++,p++;n=a.unsqueeze(n,f.length,l,u)}if(!o.deepEqual(f,u))throw new i(f,u,">");for(var h=e.min()[0],m=e.min()[1],y=u[0],g=u[1],v=0;v<y;v++)for(var d=0;d<g;d++){var x=n[v][d];t.set([v+h,d+m],x,s)}}return t};SparseMatrix.prototype.get=function(r){if(!f(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var t=r[0],e=r[1];h(t,this._size[0]),h(e,this._size[1]);var n=_getValueIndex(t,this._ptr[e],this._ptr[e+1],this._index);return n<this._ptr[e+1]&&this._index[n]===t?this._values[n]:0},SparseMatrix.prototype.set=function(r,t,e){if(!f(r))throw new TypeError("Array expected");if(r.length!=this._size.length)throw new i(r.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var n=r[0],a=r[1],o=this._size[0],s=this._size[1],u=v,c=0;l(this._datatype)&&(u=y.find(v,[this._datatype,this._datatype])||v,c=y.convert(0,this._datatype)),(n>o-1||a>s-1)&&(_resize(this,Math.max(n+1,o),Math.max(a+1,s),e),o=this._size[0],s=this._size[1]),h(n,o),h(a,s);var p=_getValueIndex(n,this._ptr[a],this._ptr[a+1],this._index);return p<this._ptr[a+1]&&this._index[p]===n?u(t,c)?_remove(p,a,this._values,this._index,this._ptr):this._values[p]=t:_insert(p,n,a,t,this._values,this._index,this._ptr),this};var _getValueIndex=function(r,t,e,n){if(e-t==0)return e;for(var i=t;i<e;i++)if(n[i]===r)return i;return t},_remove=function(r,t,e,n,i){e.splice(r,1),n.splice(r,1);for(var a=t+1;a<i.length;a++)i[a]--},_insert=function(r,t,e,n,i,a,o){i.splice(r,0,n),a.splice(r,0,t);for(var s=e+1;s<o.length;s++)o[s]++};SparseMatrix.prototype.resize=function(r,t,e){if(!f(r))throw new TypeError("Array expected");if(2!==r.length)throw new Error("Only two dimensions matrix are supported");r.forEach((function(t){if(!u.isNumber(t)||!u.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(r)+")")}));var n=e?this.clone():this;return _resize(n,r[0],r[1],t)};var _resize=function(r,t,e,n){var i=n||0,a=v,o=0;l(r._datatype)&&(a=y.find(v,[r._datatype,r._datatype])||v,o=y.convert(0,r._datatype),i=y.convert(i,r._datatype));var s,u,f,c=!a(i,o),p=r._size[0],h=r._size[1];if(e>h){for(u=h;u<e;u++)if(r._ptr[u]=r._values.length,c)for(s=0;s<p;s++)r._values.push(i),r._index.push(s);r._ptr[e]=r._values.length}else e<h&&(r._ptr.splice(e+1,h-e),r._values.splice(r._ptr[e],r._values.length),r._index.splice(r._ptr[e],r._index.length));if(h=e,t>p){if(c){var m=0;for(u=0;u<h;u++){r._ptr[u]=r._ptr[u]+m,f=r._ptr[u+1]+m;var g=0;for(s=p;s<t;s++,g++)r._values.splice(f+g,0,i),r._index.splice(f+g,0,s),m++}r._ptr[h]=r._values.length}}else if(t<p){var d=0;for(u=0;u<h;u++){r._ptr[u]=r._ptr[u]-d;var x=r._ptr[u],w=r._ptr[u+1]-d;for(f=x;f<w;f++)(s=r._index[f])>t-1&&(r._values.splice(f,1),r._index.splice(f,1),d++)}r._ptr[u]=r._values.length}return r._size[0]=t,r._size[1]=e,r};SparseMatrix.prototype.reshape=function(r,t){if(!f(r))throw new TypeError("Array expected");if(2!==r.length)throw new Error("Sparse matrices can only be reshaped in two dimensions");if(r.forEach((function(t){if(!u.isNumber(t)||!u.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(r)+")")})),this._size[0]*this._size[1]!=r[0]*r[1])throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var e=t?this.clone():this;if(this._size[0]===r[0]&&this._size[1]===r[1])return e;for(var n=[],i=0;i<e._ptr.length;i++)for(var a=0;a<e._ptr[i+1]-e._ptr[i];a++)n.push(i);var o=e._values.slice(),c=e._index.slice();for(i=0;i<e._index.length;i++){var p=c[i],l=n[i],h=p*e._size[1]+l;n[i]=h%r[1],c[i]=Math.floor(h/r[1])}e._values.length=0,e._index.length=0,e._ptr.length=r[1]+1,e._size=r.slice();for(i=0;i<e._ptr.length;i++)e._ptr[i]=0;for(var m=0;m<o.length;m++){i=c[m],a=n[m];var y=o[m],g=_getValueIndex(i,e._ptr[a],e._ptr[a+1],e._index);_insert(g,i,a,y,e._values,e._index,e._ptr)}return e},SparseMatrix.prototype.clone=function(){return new SparseMatrix({values:this._values?o.clone(this._values):void 0,index:o.clone(this._index),ptr:o.clone(this._ptr),size:o.clone(this._size),datatype:this._datatype})},SparseMatrix.prototype.size=function(){return this._size.slice(0)},SparseMatrix.prototype.map=function(r,t){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var e=this,n=this._size[0],i=this._size[1];return _map(this,0,n-1,0,i-1,(function(t,n,i){return r(t,[n,i],e)}),t)};var _map=function(r,t,e,n,i,a,o){var s=[],u=[],f=[],c=v,p=0;l(r._datatype)&&(c=y.find(v,[r._datatype,r._datatype])||v,p=y.convert(0,r._datatype));for(var invoke=function(r,t,e){r=a(r,t,e),c(r,p)||(s.push(r),u.push(t))},h=n;h<=i;h++){f.push(s.length);for(var m=r._ptr[h],g=r._ptr[h+1],d=t,x=m;x<g;x++){var w=r._index[x];if(w>=t&&w<=e){if(!o)for(var _=d;_<w;_++)invoke(0,_-t,h-n);invoke(r._values[x],w-t,h-n)}d=w+1}if(!o)for(var b=d;b<=e;b++)invoke(0,b-t,h-n)}return f.push(s.length),new SparseMatrix({values:s,index:u,ptr:f,size:[e-t+1,i-n+1]})};SparseMatrix.prototype.forEach=function(r,t){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var e=this._size[0],n=this._size[1],i=0;i<n;i++){for(var a=this._ptr[i],o=this._ptr[i+1],s=0,u=a;u<o;u++){var f=this._index[u];if(!t)for(var c=s;c<f;c++)r(0,[c,i],this);r(this._values[u],[f,i],this),s=f+1}if(!t)for(var p=s;p<e;p++)r(0,[p,i],this)}},SparseMatrix.prototype.toArray=function(){return _toArray(this._values,this._index,this._ptr,this._size,!0)},SparseMatrix.prototype.valueOf=function(){return _toArray(this._values,this._index,this._ptr,this._size,!1)};var _toArray=function(r,t,e,n,i){var a,s,u=n[0],f=n[1],c=[];for(a=0;a<u;a++)for(c[a]=[],s=0;s<f;s++)c[a][s]=0;for(s=0;s<f;s++)for(var p=e[s],l=e[s+1],h=p;h<l;h++)c[a=t[h]][s]=r?i?o.clone(r[h]):r[h]:1;return c};return SparseMatrix.prototype.format=function(r){for(var t=this._size[0],e=this._size[1],n=this.density(),i="Sparse Matrix ["+s.format(t,r)+" x "+s.format(e,r)+"] density: "+s.format(n,r)+"\n",a=0;a<e;a++)for(var o=this._ptr[a],u=this._ptr[a+1],f=o;f<u;f++){var c=this._index[f];i+="\n    ("+s.format(c,r)+", "+s.format(a,r)+") ==> "+(this._values?s.format(this._values[f],r):"X")}return i},SparseMatrix.prototype.toString=function(){return s.format(this.toArray())},SparseMatrix.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},SparseMatrix.prototype.diagonal=function(t){if(t){if(r.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!p(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,i=this._size[0],a=this._size[1],o=Math.min(i-n,a-e),s=[],u=[],f=[];f[0]=0;for(var l=e;l<a&&s.length<o;l++)for(var h=this._ptr[l],m=this._ptr[l+1],y=h;y<m;y++){var g=this._index[y];if(g===l-e+n){s.push(this._values[y]),u[s.length-1]=g-n;break}}return f.push(s.length),new SparseMatrix({values:s,index:u,ptr:f,size:[o,1]})},SparseMatrix.fromJSON=function(r){return new SparseMatrix(r)},SparseMatrix.diagonal=function(t,e,n,i,a){if(!f(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map((function(t){if(r.isBigNumber(t)&&(t=t.toNumber()),!c(t)||!p(t)||t<1)throw new Error("Size values must be positive integers");return t})),n){if(r.isBigNumber(n)&&(n=n.toNumber()),!c(n)||!p(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=v,s=0;l(a)&&(o=y.find(v,[a,a])||v,s=y.convert(0,a));var u,h=n>0?n:0,m=n<0?-n:0,g=t[0],d=t[1],x=Math.min(g-m,d-h);if(f(e)){if(e.length!==x)throw new Error("Invalid value array length");u=function(r){return e[r]}}else if(r.isMatrix(e)){var w=e.size();if(1!==w.length||w[0]!==x)throw new Error("Invalid matrix length");u=function(r){return e.get([r])}}else u=function(){return e};for(var _=[],b=[],M=[],E=0;E<d;E++){M.push(_.length);var A=E-h;if(A>=0&&A<x){var z=u(A);o(z,s)||(b.push(A+m),_.push(z))}}return M.push(_.length),new SparseMatrix({values:_,index:b,ptr:M,size:[g,d]})},SparseMatrix.prototype.swapRows=function(r,t){if(!(c(r)&&p(r)&&c(t)&&p(t)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return h(r,this._size[0]),h(t,this._size[0]),SparseMatrix._swapRows(r,t,this._size[1],this._values,this._index,this._ptr),this},SparseMatrix._forEachRow=function(r,t,e,n,i){for(var a=n[r],o=n[r+1],s=a;s<o;s++)i(e[s],t[s])},SparseMatrix._swapRows=function(r,t,e,n,i,a){for(var o=0;o<e;o++){var s=a[o],u=a[o+1],f=_getValueIndex(r,s,u,i),c=_getValueIndex(t,s,u,i);if(f<u&&c<u&&i[f]===r&&i[c]===t){if(n){var p=n[f];n[f]=n[c],n[c]=p}}else if(f<u&&i[f]===r&&(c>=u||i[c]!==t)){var l=n?n[f]:void 0;i.splice(c,0,t),n&&n.splice(c,0,l),i.splice(c<=f?f+1:f,1),n&&n.splice(c<=f?f+1:f,1)}else if(c<u&&i[c]===t&&(f>=u||i[f]!==r)){var h=n?n[c]:void 0;i.splice(f,0,r),n&&n.splice(f,0,h),i.splice(f<=c?c+1:c,1),n&&n.splice(f<=c?c+1:c,1)}}},r.Matrix._storage.sparse=SparseMatrix,SparseMatrix},t.lazy=!1},function(r,t,e){"use strict";t.name="Spa",t.path="type",t.factory=function factory(r,t,n){var i=n(e(201)),a=n(e(190));function Spa(){if(!(this instanceof Spa))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new r.FibonacciHeap}return Spa.prototype.type="Spa",Spa.prototype.isSpa=!0,Spa.prototype.set=function(r,t){if(this._values[r])this._values[r].value=t;else{var e=this._heap.insert(r,t);this._values[r]=e}},Spa.prototype.get=function(r){var t=this._values[r];return t?t.value:0},Spa.prototype.accumulate=function(r,t){var e=this._values[r];e?e.value=i(e.value,t):(e=this._heap.insert(r,t),this._values[r]=e)},Spa.prototype.forEach=function(r,t,e){var n=this._heap,i=this._values,o=[],s=n.extractMinimum();for(s&&o.push(s);s&&s.key<=t;)s.key>=r&&(a(s.value,0)||e(s.key,s.value,this)),(s=n.extractMinimum())&&o.push(s);for(var u=0;u<o.length;u++){var f=o[u];i[(s=n.insert(f.key,f.value)).key]=s}},Spa.prototype.swap=function(r,t){var e=this._values[r],n=this._values[t];if(!e&&n)e=this._heap.insert(r,n.value),this._heap.remove(n),this._values[r]=e,this._values[t]=void 0;else if(e&&!n)n=this._heap.insert(t,e.value),this._heap.remove(e),this._values[t]=n,this._values[r]=void 0;else if(e&&n){var i=e.value;e.value=n.value,n.value=i}},Spa}},function(r,t,e){"use strict";var n=e(147);t.name="algorithm04",t.factory=function factory(r,t,i,a){var o=i(e(190)),s=r.SparseMatrix;return function(r,t,e){var i=r._values,u=r._index,f=r._ptr,c=r._size,p=r._datatype,l=t._values,h=t._index,m=t._ptr,y=t._size,g=t._datatype;if(c.length!==y.length)throw new n(c.length,y.length);if(c[0]!==y[0]||c[1]!==y[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+y+")");var v,d=c[0],x=c[1],w=o,_=0,b=e;"string"==typeof p&&p===g&&(v=p,w=a.find(o,[v,v]),_=a.convert(0,v),b=a.find(e,[v,v]));var M,E,A,z,N,S=i&&l?[]:void 0,O=[],I=[],T=new s({values:S,index:O,ptr:I,size:[d,x],datatype:v}),D=i&&l?[]:void 0,C=i&&l?[]:void 0,B=[],R=[];for(E=0;E<x;E++){I[E]=O.length;var P=E+1;for(z=f[E],N=f[E+1],A=z;A<N;A++)M=u[A],O.push(M),B[M]=P,D&&(D[M]=i[A]);for(z=m[E],N=m[E+1],A=z;A<N;A++)if(B[M=h[A]]===P){if(D){var k=b(D[M],l[A]);w(k,_)?B[M]=null:D[M]=k}}else O.push(M),R[M]=P,C&&(C[M]=l[A]);if(D&&C)for(A=I[E];A<O.length;)B[M=O[A]]===P?(S[A]=D[M],A++):R[M]===P?(S[A]=C[M],A++):O.splice(A,1)}return I[x]=O.length,T}}},function(r,t,e){"use strict";t.name="FibonacciHeap",t.path="type",t.factory=function factory(r,t,n,i){var a=n(e(288)),o=n(e(252)),s=1/Math.log((1+Math.sqrt(5))/2);function FibonacciHeap(){if(!(this instanceof FibonacciHeap))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}FibonacciHeap.prototype.type="FibonacciHeap",FibonacciHeap.prototype.isFibonacciHeap=!0,FibonacciHeap.prototype.insert=function(r,t){var e={key:r,value:t,degree:0};if(this._minimum){var n=this._minimum;e.left=n,e.right=n.right,n.right=e,e.right.left=e,a(r,n.key)&&(this._minimum=e)}else e.left=e,e.right=e,this._minimum=e;return this._size++,e},FibonacciHeap.prototype.size=function(){return this._size},FibonacciHeap.prototype.clear=function(){this._minimum=null,this._size=0},FibonacciHeap.prototype.isEmpty=function(){return 0===this._size},FibonacciHeap.prototype.extractMinimum=function(){var r=this._minimum;if(null===r)return r;for(var t=this._minimum,e=r.degree,n=r.child;e>0;){var i=n.right;n.left.right=n.right,n.right.left=n.left,n.left=t,n.right=t.right,t.right=n,n.right.left=n,n.parent=null,n=i,e--}return r.left.right=r.right,r.right.left=r.left,r==r.right?t=null:(t=r.right,t=_findMinimumNode(t,this._size)),this._size--,this._minimum=t,r},FibonacciHeap.prototype.remove=function(r){this._minimum=_decreaseKey(this._minimum,r,-1),this.extractMinimum()};var _decreaseKey=function(r,t,e){t.key=e;var n=t.parent;return n&&a(t.key,n.key)&&(_cut(r,t,n),_cascadingCut(r,n)),a(t.key,r.key)&&(r=t),r},_cut=function(r,t,e){t.left.right=t.right,t.right.left=t.left,e.degree--,e.child==t&&(e.child=t.right),0===e.degree&&(e.child=null),t.left=r,t.right=r.right,r.right=t,t.right.left=t,t.parent=null,t.mark=!1},_cascadingCut=function(r,t){var e=t.parent;e&&(t.mark?(_cut(r,t,e),_cascadingCut(e)):t.mark=!0)},_findMinimumNode=function(r,t){var e,n,i,u=Math.floor(Math.log(t)*s)+1,f=new Array(u),c=0,p=r;if(p)for(c++,p=p.right;p!==r;)c++,p=p.right;for(;c>0;){for(var l=p.degree,h=p.right;e=f[l];){if(o(p.key,e.key)){var m=e;e=p,p=m}i=p,(n=e).left.right=n.right,n.right.left=n.left,n.parent=i,i.child?(n.left=i.child,n.right=i.child.right,i.child.right=n,n.right.left=n):(i.child=n,n.right=n,n.left=n),i.degree++,n.mark=!1,f[l]=null,l++}f[l]=p,p=h,c--}r=null;for(var y=0;y<u;y++)(e=f[y])&&(r?(e.left.right=e.right,e.right.left=e.left,e.left=r,e.right=r.right,r.right=e,e.right.left=e,a(e.key,r.key)&&(r=e)):r=e);return r};return FibonacciHeap}},function(r,t,e){"use strict";var n=e(181),i=n.string,a=n.object,o=Array.isArray,s=i.isString;t.name="ImmutableDenseMatrix",t.path="type",t.factory=function factory(r,t,i){var u=i(e(285)),f=i(e(288));function ImmutableDenseMatrix(t,e){if(!(this instanceof ImmutableDenseMatrix))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!s(e))throw new Error("Invalid datatype: "+e);if(r.isMatrix(t)||o(t)){var i=new u(t,e);this._data=i._data,this._size=i._size,this._datatype=i._datatype,this._min=null,this._max=null}else if(t&&o(t.data)&&o(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min=void 0!==t.min?t.min:null,this._max=void 0!==t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+n.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}return ImmutableDenseMatrix.prototype=new u,ImmutableDenseMatrix.prototype.type="ImmutableDenseMatrix",ImmutableDenseMatrix.prototype.isImmutableDenseMatrix=!0,ImmutableDenseMatrix.prototype.subset=function(t){switch(arguments.length){case 1:var e=u.prototype.subset.call(this,t);return r.isMatrix(e)?new ImmutableDenseMatrix({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},ImmutableDenseMatrix.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.clone=function(){return new ImmutableDenseMatrix({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype})},ImmutableDenseMatrix.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},ImmutableDenseMatrix.fromJSON=function(r){return new ImmutableDenseMatrix(r)},ImmutableDenseMatrix.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},ImmutableDenseMatrix.prototype.min=function(){if(null===this._min){var r=null;this.forEach((function(t){(null===r||f(t,r))&&(r=t)})),this._min=null!==r?r:void 0}return this._min},ImmutableDenseMatrix.prototype.max=function(){if(null===this._max){var r=null;this.forEach((function(t){(null===r||f(r,t))&&(r=t)})),this._max=null!==r?r:void 0}return this._max},ImmutableDenseMatrix}},function(r,t,e){"use strict";var n=e(137).clone,i=e(139).isInteger;t.name="Index",t.path="type",t.factory=function factory(r){function Index(t){if(!(this instanceof Index))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var e=0,n=arguments.length;e<n;e++){var i=arguments[e];if(r.isRange(i))this._dimensions.push(i),this._isScalar=!1;else if(Array.isArray(i)||r.isMatrix(i)){var a=_createImmutableMatrix(i.valueOf());this._dimensions.push(a);var o=a.size();1===o.length&&1===o[0]||(this._isScalar=!1)}else if("number"==typeof i)this._dimensions.push(_createImmutableMatrix([i]));else{if("string"!=typeof i)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(i)}}}function _createImmutableMatrix(t){for(var e=0,n=t.length;e<n;e++)if("number"!=typeof t[e]||!i(t[e]))throw new TypeError("Index parameters must be positive integer numbers");return new r.ImmutableDenseMatrix(t)}return Index.prototype.type="Index",Index.prototype.isIndex=!0,Index.prototype.clone=function(){var r=new Index;return r._dimensions=n(this._dimensions),r._isScalar=this._isScalar,r},Index.create=function(r){var t=new Index;return Index.apply(t,r),t},Index.prototype.size=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r[t]="string"==typeof n?1:n.size()[0]}return r},Index.prototype.max=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r[t]="string"==typeof n?n:n.max()}return r},Index.prototype.min=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r[t]="string"==typeof n?n:n.min()}return r},Index.prototype.forEach=function(r){for(var t=0,e=this._dimensions.length;t<e;t++)r(this._dimensions[t],t,this)},Index.prototype.dimension=function(r){return this._dimensions[r]||null},Index.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},Index.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},Index.prototype.isScalar=function(){return this._isScalar},Index.prototype.toArray=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];r.push("string"==typeof n?n:n.toArray())}return r},Index.prototype.valueOf=Index.prototype.toArray,Index.prototype.toString=function(){for(var r=[],t=0,e=this._dimensions.length;t<e;t++){var n=this._dimensions[t];"string"==typeof n?r.push(JSON.stringify(n)):r.push(n.toString())}return"["+r.join(", ")+"]"},Index.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},Index.fromJSON=function(r){return Index.create(r.dimensions)},Index}},function(r,t,e){"use strict";var n=e(139);t.name="Range",t.path="type",t.factory=function factory(r,t,e,i){function Range(t,e,n){if(!(this instanceof Range))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(r.isBigNumber(t))t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(r.isBigNumber(e))e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(r.isBigNumber(n))n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}return Range.prototype.type="Range",Range.prototype.isRange=!0,Range.parse=function(r){if("string"!=typeof r)return null;var t=r.split(":").map((function(r){return parseFloat(r)}));if(t.some((function(r){return isNaN(r)})))return null;switch(t.length){case 2:return new Range(t[0],t[1]);case 3:return new Range(t[0],t[2],t[1]);default:return null}},Range.prototype.clone=function(){return new Range(this.start,this.end,this.step)},Range.prototype.size=function(){var r=0,t=this.start,e=this.step,i=this.end-t;return n.sign(e)==n.sign(i)?r=Math.ceil(i/e):0==i&&(r=0),isNaN(r)&&(r=0),[r]},Range.prototype.min=function(){var r=this.size()[0];return r>0?this.step>0?this.start:this.start+(r-1)*this.step:void 0},Range.prototype.max=function(){var r=this.size()[0];return r>0?this.step>0?this.start+(r-1)*this.step:this.start:void 0},Range.prototype.forEach=function(r){var t=this.start,e=this.step,n=this.end,i=0;if(e>0)for(;t<n;)r(t,[i],this),t+=e,i++;else if(e<0)for(;t>n;)r(t,[i],this),t+=e,i++},Range.prototype.map=function(r){var t=[];return this.forEach((function(e,n,i){t[n[0]]=r(e,n,i)})),t},Range.prototype.toArray=function(){var r=[];return this.forEach((function(t,e){r[e[0]]=t})),r},Range.prototype.valueOf=function(){return this.toArray()},Range.prototype.format=function(r){var t=n.format(this.start,r);return 1!=this.step&&(t+=":"+n.format(this.step,r)),t+=":"+n.format(this.end,r)},Range.prototype.toString=function(){return this.format()},Range.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},Range.fromJSON=function(r){return new Range(r.start,r.end,r.step)},Range}},function(r,t,e){"use strict";t.name="index",t.factory=function factory(r,t,e,n){return n("index",{"...number | string | BigNumber | Range | Array | Matrix":function(t){var e=t.map((function(t){return r.isBigNumber(t)?t.toNumber():Array.isArray(t)||r.isMatrix(t)?t.map((function(t){return r.isBigNumber(t)?t.toNumber():t})):t})),n=new r.Index;return r.Index.apply(n,e),n}})}},function(r,t,e){"use strict";t.name="sparse",t.factory=function factory(r,t,e,n){var i=r.SparseMatrix,a=n("sparse",{"":function(){return new i([])},string:function(r){return new i([],r)},"Array | Matrix":function(r){return new i(r)},"Array | Matrix, string":function(r,t){return new i(r,t)}});return a.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},a}},function(r,t,e){"use strict";var n=e(137).clone,i=e(139).isInteger,a=e(136),o=e(250),s=e(147);function _concat(r,t,e,n){if(n<e){if(r.length!=t.length)throw new s(r.length,t.length);for(var i=[],a=0;a<r.length;a++)i[a]=_concat(r[a],t[a],e,n+1);return i}return r.concat(t)}t.name="concat",t.factory=function factory(r,t,u,f){var c=u(e(133)),p=f("concat",{"...Array | Matrix | number | BigNumber":function(t){var e,u,f=t.length,p=-1,l=!1,h=[];for(e=0;e<f;e++){var m=t[e];if(r.isMatrix(m)&&(l=!0),r.isNumber(m)||r.isBigNumber(m)){if(e!==f-1)throw new Error("Dimension must be specified as last argument");if(u=p,p=m.valueOf(),!i(p))throw new TypeError("Integer number expected for dimension");if(p<0||e>0&&p>u)throw new o(p,u+1)}else{var y=n(m).valueOf(),g=a.size(y);if(h[e]=y,u=p,p=g.length-1,e>0&&p!=u)throw new s(u+1,p+1)}}if(0==h.length)throw new SyntaxError("At least one matrix expected");for(var v=h.shift();h.length;)v=_concat(v,h.shift(),p,0);return l?c(v):v},"...string":function(r){return r.join("")}});return p.toTex=void 0,p}},function(r,t,e){"use strict";var n=e(136);t.name="cross",t.factory=function factory(r,t,i,a){var o=i(e(133)),s=i(e(226)),u=i(e(156)),f=a("cross",{"Matrix, Matrix":function(r,t){return o(_cross(r.toArray(),t.toArray()))},"Matrix, Array":function(r,t){return o(_cross(r.toArray(),t))},"Array, Matrix":function(r,t){return o(_cross(r,t.toArray()))},"Array, Array":_cross});return f.toTex={2:"\\left(${args[0]}\\right)\\times\\left(${args[1]}\\right)"},f;function _cross(r,t){var e=Math.max(n.size(r).length,n.size(t).length);r=n.squeeze(r),t=n.squeeze(t);var i=n.size(r),a=n.size(t);if(1!=i.length||1!=a.length||3!=i[0]||3!=a[0])throw new RangeError("Vectors with length 3 expected (Size A = ["+i.join(", ")+"], B = ["+a.join(", ")+"])");var o=[s(u(r[1],t[2]),u(r[2],t[1])),s(u(r[2],t[0]),u(r[0],t[2])),s(u(r[0],t[1]),u(r[1],t[0]))];return e>1?[o]:o}}},function(r,t,e){"use strict";var n=e(181).object;t.name="lup",t.factory=function factory(r,t,i,a){var o=i(e(133)),s=i(e(229)),u=i(e(212)),f=i(e(253)),c=i(e(228)),p=i(e(226)),l=i(e(252)),h=i(e(190)),m=i(e(227)),y=r.SparseMatrix,g=r.DenseMatrix,v=r.Spa,d=a("lup",{DenseMatrix:function(r){return _denseLUP(r)},SparseMatrix:function(r){return _sparseLUP(r)},Array:function(r){var t=o(r),e=_denseLUP(t);return{L:e.L.valueOf(),U:e.U.valueOf(),p:e.p}}}),_denseLUP=function(r){var t,e,i,a=r._size[0],o=r._size[1],m=Math.min(a,o),y=n.clone(r._data),v=[],d=[a,m],x=[],w=[m,o],_=[];for(t=0;t<a;t++)_[t]=t;for(e=0;e<o;e++){if(e>0)for(t=0;t<a;t++){var b=Math.min(t,e),M=0;for(i=0;i<b;i++)M=u(M,c(y[t][i],y[i][e]));y[t][e]=p(y[t][e],M)}var E=e,A=0,z=0;for(t=e;t<a;t++){var N=y[t][e],S=s(N);l(S,A)&&(E=t,A=S,z=N)}if(e!==E&&(_[e]=[_[E],_[E]=_[e]][0],g._swapRows(e,E,y)),e<a)for(t=e+1;t<a;t++){var O=y[t][e];h(O,0)||(y[t][e]=f(y[t][e],z))}}for(e=0;e<o;e++)for(t=0;t<a;t++)0===e&&(t<o&&(x[t]=[]),v[t]=[]),t<e?(t<o&&(x[t][e]=y[t][e]),e<a&&(v[t][e]=0)):t!==e?(t<o&&(x[t][e]=0),e<a&&(v[t][e]=y[t][e])):(t<o&&(x[t][e]=y[t][e]),e<a&&(v[t][e]=1));var I=new g({data:v,size:d}),T=new g({data:x,size:w}),D=[];for(t=0,m=_.length;t<m;t++)D[_[t]]=t;return{L:I,U:T,p:D,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}},_sparseLUP=function(r){var t,e,n,i=r._size[0],a=r._size[1],o=Math.min(i,a),u=r._values,p=r._index,g=r._ptr,d=[],x=[],w=[],_=[i,o],b=[],M=[],E=[],A=[o,a],z=[],N=[];for(t=0;t<i;t++)z[t]=t,N[t]=t;var S,O,I,T;for(e=0;e<a;e++){var D=new v;e<i&&(w.push(d.length),d.push(1),x.push(e)),E.push(b.length);var C=g[e],B=g[e+1];for(n=C;n<B;n++)t=p[n],D.set(z[t],u[n]);e>0&&D.forEach(0,e-1,(function(r,t){y._forEachRow(r,d,x,w,(function(e,n){e>r&&D.accumulate(e,m(c(n,t)))}))}));var R=e,P=D.get(e),k=s(P);D.forEach(e+1,i-1,(function(r,t){var e=s(t);l(e,k)&&(R=r,k=e,P=t)})),e!==R&&(y._swapRows(e,R,_[1],d,x,w),y._swapRows(e,R,A[1],b,M,E),D.swap(e,R),O=R,I=void 0,T=void 0,I=N[S=e],T=N[O],z[I]=O,z[T]=S,N[S]=T,N[O]=I),D.forEach(0,i-1,(function(r,t){r<=e?(b.push(t),M.push(r)):(t=f(t,P),h(t,0)||(d.push(t),x.push(r)))}))}return E.push(b.length),w.push(d.length),{L:new y({values:d,index:x,ptr:w,size:_}),U:new y({values:b,index:M,ptr:E,size:A}),p:z,toString:function(){return"L: "+this.L.toString()+"\nU: "+this.U.toString()+"\nP: "+this.p}}};return d}},function(r,t,e){"use strict";var n=e(136),i=(e(137).clone,e(139).isInteger);t.name="diag",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=o("diag",{Array:function(r){return _diag(r,0,n.size(r),null)},"Array, number":function(r,t){return _diag(r,t,n.size(r),null)},"Array, BigNumber":function(r,t){return _diag(r,t.toNumber(),n.size(r),null)},"Array, string":function(r,t){return _diag(r,0,n.size(r),t)},"Array, number, string":function(r,t,e){return _diag(r,t,n.size(r),e)},"Array, BigNumber, string":function(r,t,e){return _diag(r,t.toNumber(),n.size(r),e)},Matrix:function(r){return _diag(r,0,r.size(),r.storage())},"Matrix, number":function(r,t){return _diag(r,t,r.size(),r.storage())},"Matrix, BigNumber":function(r,t){return _diag(r,t.toNumber(),r.size(),r.storage())},"Matrix, string":function(r,t){return _diag(r,0,r.size(),t)},"Matrix, number, string":function(r,t,e){return _diag(r,t,r.size(),e)},"Matrix, BigNumber, string":function(r,t,e){return _diag(r,t.toNumber(),r.size(),e)}});return u.toTex=void 0,u;function _diag(t,e,n,a){if(!i(e))throw new TypeError("Second parameter in function diag must be an integer");var o=e>0?e:0,u=e<0?-e:0;switch(n.length){case 1:return function _createDiagonalMatrix(t,e,n,i,a,o){var s=[i+a,i+o],u=r.Matrix.storage(n||"dense").diagonal(s,t,e);return null!==n?u:u.valueOf()}(t,e,a,n[0],u,o);case 2:return function _getDiagonal(t,e,n,i,a,o){if(r.isMatrix(t)){var u=t.diagonal(e);return null!==n?n!==u.storage()?s(u,n):u:u.valueOf()}for(var f=Math.min(i[0]-a,i[1]-o),c=[],p=0;p<f;p++)c[p]=t[p+a][p+o];return null!==n?s(c):c}(t,e,a,n,u,o)}throw new RangeError("Matrix for function diag must be 2 dimensional")}}},function(r,t,e){"use strict";var n=e(136).size;t.name="dot",t.factory=function factory(r,t,i,a){var o=i(e(201)),s=i(e(156)),u=a("dot",{"Matrix, Matrix":function(r,t){return _dot(r.toArray(),t.toArray())},"Matrix, Array":function(r,t){return _dot(r.toArray(),t)},"Array, Matrix":function(r,t){return _dot(r,t.toArray())},"Array, Array":_dot});return u.toTex={2:"\\left(${args[0]}\\cdot${args[1]}\\right)"},u;function _dot(r,t){var e=n(r),i=n(t),a=e[0];if(1!==e.length||1!==i.length)throw new RangeError("Vector expected");if(e[0]!=i[0])throw new RangeError("Vectors must have equal length ("+e[0]+" != "+i[0]+")");if(0==a)throw new RangeError("Cannot calculate the dot product of empty vectors");for(var u=0,f=0;f<a;f++)u=o(u,s(r[f],t[f]));return u}}},function(r,t,e){"use strict";var n=e(189).format;t.name="expm",t.factory=function factory(r,t,i,a){var o=i(e(229)),s=i(e(201)),u=i(e(217)),f=i(e(230)),c=i(e(156)),p=r.SparseMatrix,l=a("expm",{Matrix:function(t){var e=t.size();if(2!==e.length||e[0]!==e[1])throw new RangeError("Matrix must be square (size: "+n(e)+")");for(var i=e[0],a=function findParams(r,t){for(var e=0;e<30;e++)for(var n=0;n<=e;n++){var i=e-n;if(errorEstimate(r,n,i)<t)return{q:n,j:i}}throw new Error("Could not find acceptable parameters to compute the matrix exponential (try increasing maxSearchSize in expm.js)")}(function infinityNorm(r){for(var t=r.size()[0],e=0,n=0;n<t;n++){for(var i=0,a=0;a<t;a++)i+=o(r.get([n,a]));e=Math.max(i,e)}return e}(t),1e-15),l=a.q,h=a.j,m=c(t,Math.pow(2,-h)),y=u(i),g=u(i),v=1,d=m,x=-1,w=1;w<=l;w++)w>1&&(d=c(d,m),x=-x),y=s(y,c(v=v*(l-w+1)/((2*l-w+1)*w),d)),g=s(g,c(v*x,d));var _=c(f(g),y);for(w=0;w<h;w++)_=c(_,_);return r.isSparseMatrix(t)?new p(_):_}});function errorEstimate(r,t,e){for(var n=1,i=2;i<=t;i++)n*=i;var a=n;for(i=t+1;i<=2*t;i++)a*=i;var o=a*(2*t+1);return 8*Math.pow(r/Math.pow(2,e),2*t)*n*n/(a*o)}return l.toTex={1:"\\exp\\left(${args[0]}\\right)"},l}},function(r,t,e){"use strict";var n=e(136).filter,i=e(136).filterRegExp,a=e(223).maxArgumentCount;function _filterCallback(r,t){var e=a(t);return n(r,(function(r,n,i){return 1===e?t(r):2===e?t(r,[n]):t(r,[n],i)}))}t.name="filter",t.factory=function factory(r,t,n,a){var o=n(e(133)),s=a("filter",{"Array, function":_filterCallback,"Matrix, function":function(r,t){return o(_filterCallback(r.toArray(),t))},"Array, RegExp":i,"Matrix, RegExp":function(r,t){return o(i(r.toArray(),t))}});return s.toTex=void 0,s}},function(r,t,e){"use strict";var n=e(137).clone,i=e(136).flatten;t.name="flatten",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=o("flatten",{Array:function(r){return i(n(r))},Matrix:function(r){var t=i(n(r.toArray()));return s(t)}});return u.toTex=void 0,u}},function(r,t,e){"use strict";var n=e(223).maxArgumentCount,i=e(136).forEach;function _forEach(r,t){var e=n(t),recurse=function(n,a){Array.isArray(n)?i(n,(function(r,t){recurse(r,a.concat(t))})):1===e?t(n):2===e?t(n,a):t(n,a,r)};recurse(r,[])}t.name="forEach",t.factory=function factory(r,t,e,n){var i=n("forEach",{"Array, function":_forEach,"Matrix, function":function(r,t){return r.forEach(t)}});return i.toTex=void 0,i}},function(r,t,e){"use strict";var n=e(136).size;t.name="kron",t.factory=function factory(r,t,i,a){var o=i(e(133)),s=i(e(228));return a("kron",{"Matrix, Matrix":function(r,t){return o(_kron(r.toArray(),t.toArray()))},"Matrix, Array":function(r,t){return o(_kron(r.toArray(),t))},"Array, Matrix":function(r,t){return o(_kron(r,t.toArray()))},"Array, Array":_kron});function _kron(r,t){if(1===n(r).length&&(r=[r]),1===n(t).length&&(t=[t]),n(r).length>2||n(t).length>2)throw new RangeError("Vectors with dimensions greater then 2 are not supported expected (Size x = "+JSON.stringify(r.length)+", y = "+JSON.stringify(t.length)+")");var e=[],i=[];return r.map((function(r){return t.map((function(t){return r.map((function(r){return t.map((function(t){return i.push(s(r,t))}))}),e.push(i=[]))}))}),e=[])&&e}}},function(r,t,e){"use strict";var n=e(223).maxArgumentCount;function _map(r,t){var e=n(t),recurse=function(n,i){return Array.isArray(n)?n.map((function(r,t){return recurse(r,i.concat(t))})):1===e?t(n):2===e?t(n,i):t(n,i,r)};return recurse(r,[])}t.name="map",t.factory=function factory(r,t,e,n){var i=n("map",{"Array, function":_map,"Matrix, function":function(r,t){return r.map(t)}});return i.toTex=void 0,i}},function(r,t,e){"use strict";var n=e(139).isInteger,i=e(136).resize;t.name="ones",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=o("ones",{"":function(){return"Array"===t.matrix?_ones([]):_ones([],"default")},"...number | BigNumber | string":function(r){if("string"==typeof r[r.length-1]){var e=r.pop();return _ones(r,e)}return"Array"===t.matrix?_ones(r):_ones(r,"default")},Array:_ones,Matrix:function(r){var t=r.storage();return _ones(r.valueOf(),t)},"Array | Matrix, string":function(r,t){return _ones(r.valueOf(),t)}});return u.toTex=void 0,u;function _ones(t,e){var a=function _normalize(t){var e=!1;return t.forEach((function(t,n,i){r.isBigNumber(t)&&(e=!0,i[n]=t.toNumber())})),e}(t)?new r.BigNumber(1):1;if(function _validate(r){r.forEach((function(r){if("number"!=typeof r||!n(r)||r<0)throw new Error("Parameters in function ones must be positive integers")}))}(t),e){var o=s(e);return t.length>0?o.resize(t,a):o}var u=[];return t.length>0?i(u,t,a):u}}},function(r,t,e){"use strict";var n=e(139).isInteger;t.name="partitionSelect",t.factory=function factory(r,t,i,a){var o=i(e(254));function desc(r,t){return-o(r,t)}return a("partitionSelect",{"Array | Matrix, number":function(r,t){return _partitionSelect(r,t,o)},"Array | Matrix, number, string":function(r,t,e){if("asc"===e)return _partitionSelect(r,t,o);if("desc"===e)return _partitionSelect(r,t,desc);throw new Error('Compare string must be "asc" or "desc"')},"Array | Matrix, number, function":_partitionSelect});function _partitionSelect(t,e,i){if(!n(e)||e<0)throw new Error("k must be a non-negative integer");if(r.isMatrix(t)){if(t.size().length>1)throw new Error("Only one dimensional matrices supported");return quickSelect(t.valueOf(),e,i)}if(Array.isArray(t))return quickSelect(t,e,i)}function quickSelect(r,t,e){if(t>=r.length)throw new Error("k out of bounds");for(var n=0,i=r.length-1;n<i;){for(var a=n,o=i,s=r[Math.floor(Math.random()*(i-n+1))+n];a<o;)if(e(r[a],s)>=0){var u=r[o];r[o]=r[a],r[a]=u,--o}else++a;e(r[a],s)>0&&--a,t<=a?i=a:n=a+1}return r[t]}}},function(r,t,e){"use strict";t.name="range",t.factory=function factory(r,t,n,i){var a=n(e(133)),o=new r.BigNumber(0),s=new r.BigNumber(1),u=i("range",{string:_strRange,"string, boolean":_strRange,"number, number":function(r,t){return _out(_rangeEx(r,t,1))},"number, number, number":function(r,t,e){return _out(_rangeEx(r,t,e))},"number, number, boolean":function(r,t,e){return _out(e?_rangeInc(r,t,1):_rangeEx(r,t,1))},"number, number, number, boolean":function(r,t,e,n){return _out(n?_rangeInc(r,t,e):_rangeEx(r,t,e))},"BigNumber, BigNumber":function(r,t){return _out(_bigRangeEx(r,t,s))},"BigNumber, BigNumber, BigNumber":function(r,t,e){return _out(_bigRangeEx(r,t,e))},"BigNumber, BigNumber, boolean":function(r,t,e){return _out(e?_bigRangeInc(r,t,s):_bigRangeEx(r,t,s))},"BigNumber, BigNumber, BigNumber, boolean":function(r,t,e,n){return _out(n?_bigRangeInc(r,t,e):_bigRangeEx(r,t,e))}});return u.toTex=void 0,u;function _out(r){return"Array"===t.matrix?r:a(r)}function _strRange(e,n){var i=function _parse(r){var t=r.split(":").map((function(r){return Number(r)}));if(t.some((function(r){return isNaN(r)})))return null;switch(t.length){case 2:return{start:t[0],end:t[1],step:1};case 3:return{start:t[0],end:t[2],step:t[1]};default:return null}}(e);if(!i)throw new SyntaxError('String "'+e+'" is no valid range');return"BigNumber"===t.number?_out((n?_bigRangeInc:_bigRangeEx)(new r.BigNumber(i.start),new r.BigNumber(i.end),new r.BigNumber(i.step))):_out((n?_rangeInc:_rangeEx)(i.start,i.end,i.step))}function _rangeEx(r,t,e){var n=[],i=r;if(e>0)for(;i<t;)n.push(i),i+=e;else if(e<0)for(;i>t;)n.push(i),i+=e;return n}function _rangeInc(r,t,e){var n=[],i=r;if(e>0)for(;i<=t;)n.push(i),i+=e;else if(e<0)for(;i>=t;)n.push(i),i+=e;return n}function _bigRangeEx(r,t,e){var n=[],i=r;if(e.gt(o))for(;i.lt(t);)n.push(i),i=i.plus(e);else if(e.lt(o))for(;i.gt(t);)n.push(i),i=i.plus(e);return n}function _bigRangeInc(r,t,e){var n=[],i=r;if(e.gt(o))for(;i.lte(t);)n.push(i),i=i.plus(e);else if(e.lt(o))for(;i.gte(t);)n.push(i),i=i.plus(e);return n}}},function(r,t,e){"use strict";e(147);var n=e(139).isInteger,i=e(136);t.name="reshape",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=o("reshape",{"Matrix, Array":function(r,t){return r.reshape?r.reshape(t):s(i.reshape(r.valueOf(),t))},"Array, Array":function(r,t){return t.forEach((function(r){if(!n(r))throw new TypeError("Invalid size for dimension: "+r)})),i.reshape(r,t)}});return u.toTex=void 0,u}},function(r,t,e){"use strict";var n=e(147),i=e(284),a=e(139).isInteger,o=e(189).format,s=e(137).clone,u=e(136);t.name="resize",t.factory=function factory(r,t,f,c){var p=f(e(133)),l=function resize(e,n,a){if(2!=arguments.length&&3!=arguments.length)throw new i("resize",arguments.length,2,3);if(r.isMatrix(n)&&(n=n.valueOf()),r.isBigNumber(n[0])&&(n=n.map((function(t){return r.isBigNumber(t)?t.toNumber():t}))),r.isMatrix(e))return e.resize(n,a,!0);if("string"==typeof e)return _resizeString(e,n,a);var o=!Array.isArray(e)&&"Array"!==t.matrix;if(0==n.length){for(;Array.isArray(e);)e=e[0];return s(e)}Array.isArray(e)||(e=[e]),e=s(e);var f=u.resize(e,n,a);return o?p(f):f};return l.toTex=void 0,l;function _resizeString(r,t,e){if(void 0!==e){if("string"!=typeof e||1!==e.length)throw new TypeError("Single character expected as defaultValue")}else e=" ";if(1!==t.length)throw new n(t.length,1);var i=t[0];if("number"!=typeof i||!a(i))throw new TypeError("Invalid size, must contain positive integers (size: "+o(t)+")");if(r.length>i)return r.substring(0,i);if(r.length<i){for(var s=r,u=0,f=i-r.length;u<f;u++)s+=e;return s}return r}}},function(r,t,e){"use strict";var n=e(136).size;t.name="sort",t.factory=function factory(r,t,i,a){var o=i(e(133)),s=i(e(254)),compareDesc=function(r,t){return-s(r,t)},u=i(e(370)),f=a("sort",{Array:function(r){return _arrayIsVector(r),r.sort(s)},Matrix:function(r){return _matrixIsVector(r),o(r.toArray().sort(s),r.storage())},"Array, function":function(r,t){return _arrayIsVector(r),r.sort(t)},"Matrix, function":function(r,t){return _matrixIsVector(r),o(r.toArray().sort(t),r.storage())},"Array, string":function(r,t){return _arrayIsVector(r),r.sort(_comparator(t))},"Matrix, string":function(r,t){return _matrixIsVector(r),o(r.toArray().sort(_comparator(t)),r.storage())}});function _comparator(r){if("asc"===r)return s;if("desc"===r)return compareDesc;if("natural"===r)return u;throw new Error('String "asc", "desc", or "natural" expected')}function _arrayIsVector(r){if(1!==n(r).length)throw new Error("One dimensional array expected")}function _matrixIsVector(r){if(1!==r.size().length)throw new Error("One dimensional matrix expected")}return f.toTex=void 0,f}},function(r,t,e){"use strict";var n=e(432);t.name="compareNatural",t.factory=function factory(r,t,i,a){var o=i(e(294)),s=i(e(254)),u=s.signatures["boolean,boolean"],f=a("compareNatural",{"any, any":function(t,e){var i,a=o(t),c=o(e);if(!("number"!==a&&"BigNumber"!==a&&"Fraction"!==a||"number"!==c&&"BigNumber"!==c&&"Fraction"!==c))return"0"!==(i=s(t,e)).toString()?i>0?1:-1:n(a,c);if("Array"===a||"Matrix"===a||"Array"===c||"Matrix"===c)return 0!==(i=function compareMatricesAndArrays(t,e){if(r.isSparseMatrix(t)&&r.isSparseMatrix(e))return compareArrays(t.toJSON().values,e.toJSON().values);if(r.isSparseMatrix(t))return compareMatricesAndArrays(t.toArray(),e);if(r.isSparseMatrix(e))return compareMatricesAndArrays(t,e.toArray());if(r.isDenseMatrix(t))return compareMatricesAndArrays(t.toJSON().data,e);if(r.isDenseMatrix(e))return compareMatricesAndArrays(t,e.toJSON().data);if(!Array.isArray(t))return compareMatricesAndArrays([t],e);if(!Array.isArray(e))return compareMatricesAndArrays(t,[e]);return compareArrays(t,e)}(t,e))?i:n(a,c);if(a!==c)return n(a,c);if("Complex"===a)return function compareComplexNumbers(r,t){if(r.re>t.re)return 1;if(r.re<t.re)return-1;if(r.im>t.im)return 1;if(r.im<t.im)return-1;return 0}(t,e);if("Unit"===a)return t.equalBase(e)?f(t.value,e.value):compareArrays(t.formatUnits(),e.formatUnits());if("boolean"===a)return u(t,e);if("string"===a)return n(t,e);if("Object"===a)return function compareObjects(r,t){var e=Object.keys(r),i=Object.keys(t);e.sort(n),i.sort(n);var a=compareArrays(e,i);if(0!==a)return a;for(var o=0;o<e.length;o++){var s=f(r[e[o]],t[i[o]]);if(0!==s)return s}return 0}(t,e);if("null"===a)return 0;if("undefined"===a)return 0;throw new TypeError('Unsupported type of value "'+a+'"')}});function compareArrays(r,t){for(var e=0,n=Math.min(r.length,t.length);e<n;e++){var i=f(r[e],t[e]);if(0!==i)return i}return r.length>t.length?1:r.length<t.length?-1:0}return f.toTex=void 0,f}},function(r,t,e){"use strict";var n=e(136),i=e(176),a=e(189);t.name="sqrtm",t.factory=function factory(r,t,o,s){o(e(133));var u=o(e(229)),f=o(e(201)),c=(o(e(372)),o(e(156))),p=o(e(373)),l=o(e(226)),h=o(e(230)),m=o(e(293)),y=o(e(374)),g=o(e(217)),v=s("sqrtm",{"Array | Matrix":function(t){var e=r.isMatrix(t)?t.size():n.size(t);switch(e.length){case 1:if(1==e[0])return p(t);throw new RangeError("Matrix must be square (size: "+a.format(e)+")");case 2:if(e[0]==e[1])return _denmanBeavers(t);throw new RangeError("Matrix must be square (size: "+a.format(e)+")")}}});function _denmanBeavers(r){var t,e=0,n=r,i=g(m(r));do{var a=n;if(n=c(.5,f(a,h(i))),i=c(.5,f(i,h(a))),(t=y(u(l(n,a))))>1e-6&&++e>1e3)throw new Error("computing square root of matrix: iterative method could not converge")}while(t>1e-6);return n}return v.toTex={1:"{${args[0]}}"+i.operators.pow+"{\\frac{1}{2}}"},v}},function(r,t,e){"use strict";var n=e(137).extend;t.name="divide",t.factory=function factory(r,t,i,a){var o=i(e(253)),s=i(e(156)),u=i(e(230)),f=i(e(133)),c=i(e(291)),p=i(e(191)),l=a("divide",n({"Array | Matrix, Array | Matrix":function(r,t){return s(r,u(t))},"DenseMatrix, any":function(r,t){return p(r,t,o,!1)},"SparseMatrix, any":function(r,t){return c(r,t,o,!1)},"Array, any":function(r,t){return p(f(r),t,o,!1).valueOf()},"any, Array | Matrix":function(r,t){return s(r,u(t))}},o.signatures));return l.toTex={2:"\\frac{${args[0]}}{${args[1]}}"},l}},function(r,t,e){"use strict";var n=e(216);t.name="sqrt",t.factory=function factory(r,t,e,i){var a=i("sqrt",{number:_sqrtNumber,Complex:function(r){return r.sqrt()},BigNumber:function(r){return!r.isNegative()||t.predictable?r.sqrt():_sqrtNumber(r.toNumber())},"Array | Matrix":function(r){return n(r,a,!0)},Unit:function(r){return r.pow(.5)}});function _sqrtNumber(e){return e>=0||t.predictable?Math.sqrt(e):new r.Complex(e,0).sqrt()}return a.toTex={1:"\\sqrt{${args[0]}}"},a}},function(r,t,e){"use strict";var n=e(375),i=e(376),a=e(377);t.name="max",t.factory=function factory(r,t,o,s){var u=o(e(252)),f=o(e(379)),c=s("max",{"Array | Matrix":_max,"Array | Matrix, number | BigNumber":function(r,t){return i(r,t.valueOf(),_largest)},"...":function(r){if(a(r))throw new TypeError("Scalar values expected in function max");return _max(r)}});return c.toTex="\\max\\left(${args}\\right)",c;function _largest(r,t){try{return u(r,t)?r:t}catch(r){throw f(r,"max",t)}}function _max(r){var t=void 0;if(n(r,(function(r){try{(void 0===t||u(r,t))&&(t=r)}catch(t){throw f(t,"max",r)}})),void 0===t)throw new Error("Cannot calculate max of an empty array");return t}}},function(r,t,e){"use strict";var n=e(222);r.exports=function deepForEach(r,t){n(r)&&(r=r.valueOf());for(var e=0,i=r.length;e<i;e++){var a=r[e];Array.isArray(a)?deepForEach(a,t):t(a)}}},function(r,t,e){"use strict";var n=e(136).size,i=e(222),a=e(250);function _reduce(r,t,e){var n,i,a,o;if(t<=0){if(Array.isArray(r[0])){for(o=function _switch(r){var t,e,n=r.length,i=r[0].length,a=[];for(e=0;e<i;e++){var o=[];for(t=0;t<n;t++)o.push(r[t][e]);a.push(o)}return a}(r),i=[],n=0;n<o.length;n++)i[n]=_reduce(o[n],t-1,e);return i}for(a=r[0],n=1;n<r.length;n++)a=e(a,r[n]);return a}for(i=[],n=0;n<r.length;n++)i[n]=_reduce(r[n],t-1,e);return i}r.exports=function(r,t,e){var o=Array.isArray(r)?n(r):r.size();if(t<0||t>=o.length)throw new a(t,o.length);return i(r)?r.create(_reduce(r.valueOf(),t,e)):_reduce(r,t,e)}},function(r,t,e){"use strict";var n=e(378);r.exports=function containsCollections(r){for(var t=0;t<r.length;t++)if(n(r[t]))return!0;return!1}},function(r,t,e){"use strict";var n=e(222);r.exports=function isCollection(r){return Array.isArray(r)||n(r)}},function(r,t,e){"use strict";t.factory=function factory(r,t,n,i){var a=n(e(294));return function improveErrorMessage(r,t,e){var n;return-1!==String(r).indexOf("Unexpected type")?(n=arguments.length>2?" (type: "+a(e)+", value: "+JSON.stringify(e)+")":" (type: "+r.data.actual+")",new TypeError("Cannot calculate "+t+", unexpected type of argument"+n)):-1!==String(r).indexOf("complex numbers")?(n=arguments.length>2?" (type: "+a(e)+", value: "+JSON.stringify(e)+")":"",new TypeError("Cannot calculate "+t+", no ordering relation is defined for complex numbers"+n)):r}}},function(r,t,e){"use strict";var n=e(137),i=e(136);t.name="squeeze",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=o("squeeze",{Array:function(r){return i.squeeze(n.clone(r))},Matrix:function(r){var t=i.squeeze(r.toArray());return Array.isArray(t)?s(t):t},any:function(r){return n.clone(r)}});return u.toTex=void 0,u}},function(r,t,e){"use strict";var n=e(137).clone,i=e(136).validateIndex,a=e(295).getSafeProperty,o=e(295).setSafeProperty,s=e(147);function _getObjectProperty(r,t){if(1!==t.size().length)throw new s(t.size(),1);var e=t.dimension(0);if("string"!=typeof e)throw new TypeError("String expected as index to retrieve an object property");return a(r,e)}function _setObjectProperty(r,t,e){if(1!==t.size().length)throw new s(t.size(),1);var i=t.dimension(0);if("string"!=typeof i)throw new TypeError("String expected as index to retrieve an object property");var a=n(r);return o(a,i,e),a}t.name="subset",t.factory=function factory(r,t,a,o){var u=a(e(133)),f=o("subset",{"Array, Index":function(r,t){var e=u(r).subset(t);return t.isScalar()?e:e.valueOf()},"Matrix, Index":function(r,t){return r.subset(t)},"Object, Index":_getObjectProperty,"string, Index":function _getSubstring(t,e){if(!r.isIndex(e))throw new TypeError("Index expected");if(1!=e.size().length)throw new s(e.size().length,1);var n=t.length;i(e.min()[0],n),i(e.max()[0],n);var a=e.dimension(0),o="";return a.forEach((function(r){o+=t.charAt(r)})),o},"Array, Index, any":function(r,t,e){return u(n(r)).subset(t,e,void 0).valueOf()},"Array, Index, any, any":function(r,t,e,i){return u(n(r)).subset(t,e,i).valueOf()},"Matrix, Index, any":function(r,t,e){return r.clone().subset(t,e)},"Matrix, Index, any, any":function(r,t,e,n){return r.clone().subset(t,e,n)},"string, Index, string":_setSubstring,"string, Index, string, string":_setSubstring,"Object, Index, any":_setObjectProperty});return f.toTex=void 0,f;function _setSubstring(r,t,e,n){if(!t||!0!==t.isIndex)throw new TypeError("Index expected");if(1!=t.size().length)throw new s(t.size().length,1);if(void 0!==n){if("string"!=typeof n||1!==n.length)throw new TypeError("Single character expected as defaultValue")}else n=" ";var a=t.dimension(0),o=a.size()[0];if(o!=e.length)throw new s(a.size()[0],e.length);var u=r.length;i(t.min()[0]),i(t.max()[0]);for(var f=[],c=0;c<u;c++)f[c]=r.charAt(c);if(a.forEach((function(r,t){f[r]=e.charAt(t[0])})),f.length>u)for(c=u-1,o=f.length;c<o;c++)f[c]||(f[c]=n);return f.join("")}}},function(r,t,e){"use strict";var n=e(137).clone,i=e(189).format;t.name="trace",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=a(e(201)),f=o("trace",{Array:function _arrayTrace(r){return _denseTrace(s(r))},SparseMatrix:function _sparseTrace(r){var t=r._values,e=r._index,n=r._ptr,a=r._size,o=a[0],s=a[1];if(o===s){var f=0;if(t.length>0)for(var c=0;c<s;c++)for(var p=n[c],l=n[c+1],h=p;h<l;h++){var m=e[h];if(m===c){f=u(f,t[h]);break}if(m>c)break}return f}throw new RangeError("Matrix must be square (size: "+i(a)+")")},DenseMatrix:_denseTrace,any:n});function _denseTrace(r){var t=r._size,e=r._data;switch(t.length){case 1:if(1===t[0])return n(e[0]);throw new RangeError("Matrix must be square (size: "+i(t)+")");case 2:var a=t[0];if(a===t[1]){for(var o=0,s=0;s<a;s++)o=u(o,e[s][s]);return o}throw new RangeError("Matrix must be square (size: "+i(t)+")");default:throw new RangeError("Matrix must be two dimensional (size: "+i(t)+")")}}return f.toTex={1:"\\mathrm{tr}\\left(${args[0]}\\right)"},f}},function(r,t,e){"use strict";var n=e(137).clone,i=e(189).format;t.name="transpose",t.factory=function factory(r,t,a,o){var s=e(176),u=a(e(133)),f=r.DenseMatrix,c=r.SparseMatrix,p=o("transpose",{Array:function(r){return p(u(r)).valueOf()},Matrix:function(r){var t,e=r.size();switch(e.length){case 1:t=r.clone();break;case 2:var n=e[0],a=e[1];if(0===a)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+i(e)+")");switch(r.storage()){case"dense":t=_denseTranspose(r,n,a);break;case"sparse":t=_sparseTranspose(r,n,a)}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+i(this._size)+")")}return t},any:function(r){return n(r)}}),_denseTranspose=function(r,t,e){for(var i,a=r._data,o=[],s=0;s<e;s++){i=o[s]=[];for(var u=0;u<t;u++)i[u]=n(a[u][s])}return new f({data:o,size:[e,t],datatype:r._datatype})},_sparseTranspose=function(r,t,e){for(var i,a,o,s=r._values,u=r._index,f=r._ptr,p=s?[]:void 0,l=[],h=[],m=[],y=0;y<t;y++)m[y]=0;for(i=0,a=u.length;i<a;i++)m[u[i]]++;for(var g=0,v=0;v<t;v++)h.push(g),g+=m[v],m[v]=h[v];for(h.push(g),o=0;o<e;o++)for(var d=f[o],x=f[o+1],w=d;w<x;w++){var _=m[u[w]]++;l[_]=o,s&&(p[_]=n(s[w]))}return new c({values:p,index:l,ptr:h,size:[e,t],datatype:r._datatype})};return p.toTex={1:"\\left(${args[0]}\\right)"+s.operators.transpose},p}},function(r,t,e){"use strict";var n=e(139).isInteger,i=e(136).resize;t.name="zeros",t.factory=function factory(r,t,a,o){var s=a(e(133)),u=o("zeros",{"":function(){return"Array"===t.matrix?_zeros([]):_zeros([],"default")},"...number | BigNumber | string":function(r){if("string"==typeof r[r.length-1]){var e=r.pop();return _zeros(r,e)}return"Array"===t.matrix?_zeros(r):_zeros(r,"default")},Array:_zeros,Matrix:function(r){var t=r.storage();return _zeros(r.valueOf(),t)},"Array | Matrix, string":function(r,t){return _zeros(r.valueOf(),t)}});return u.toTex=void 0,u;function _zeros(t,e){var a=function _normalize(t){var e=!1;return t.forEach((function(t,n,i){r.isBigNumber(t)&&(e=!0,i[n]=t.toNumber())})),e}(t)?new r.BigNumber(0):0;if(function _validate(r){r.forEach((function(r){if("number"!=typeof r||!n(r)||r<0)throw new Error("Parameters in function zeros must be positive integers")}))}(t),e){var o=s(e);return t.length>0?o.resize(t,a):o}var u=[];return t.length>0?i(u,t,a):u}}}])]);